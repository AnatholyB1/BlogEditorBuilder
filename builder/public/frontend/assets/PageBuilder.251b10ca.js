var Ur=Object.defineProperty,jr=Object.defineProperties;var Gr=Object.getOwnPropertyDescriptors;var Fi=Object.getOwnPropertySymbols;var Kr=Object.prototype.hasOwnProperty,Yr=Object.prototype.propertyIsEnumerable;var Bi=($,x,d)=>x in $?Ur($,x,{enumerable:!0,configurable:!0,writable:!0,value:d}):$[x]=d,Qt=($,x)=>{for(var d in x||(x={}))Kr.call(x,d)&&Bi($,d,x[d]);if(Fi)for(var d of Fi(x))Yr.call(x,d)&&Bi($,d,x[d]);return $},ni=($,x)=>jr($,Gr(x));var $t=($,x,d)=>new Promise((h,b)=>{var g=o=>{try{u(d.next(o))}catch(a){b(a)}},l=o=>{try{u(d.throw(o))}catch(a){b(a)}},u=o=>o.done?h(o.value):Promise.resolve(o.value).then(g,l);u((d=d.apply($,x)).next())});import{L as Xr,R as Zr,M as Qr,N as Jr,O as qr,Q as eo,S as to,V as no,W as io,X as ro,Y as oo,Z as so,$ as ao,a0 as lo,A as Wt,a1 as co,s as le,a2 as uo,a3 as ho,a4 as fo,a5 as po,a6 as nr,a7 as go,a8 as vo,a9 as mo,aa as yo,x as P,ab as bo,ac as wo,h as ze,n as xo,f as He,t as qe,ad as So,ae as Co,af as $o,ag as ko,F as Je,ah as Ao,ai as Eo,aj as Lo,ak as ir,al as To,am as Mo,an as Ro,ao as Io,ap as Oo,aq as Do,u as $e,c as me,p as ve,d as pe,b as Y,ar as Fo,as as Bo,at as Po,au as No,av as rr,l as Vt,j as se,aw as Wo,q as Ne,ax as Ho,ay as Vo,az as zo,aA as _o,aB as Uo,aC as jo,aD as Go,aE as Ko,aF as Yo,g as Xo,E as Zo,aG as Qo,aH as Jo,aI as qo,aJ as pn,aK as es,aL as ts,aM as ns,aN as is,aO as rs,aP as or,C as at,v as xi,aQ as sr,aR as ar,aS as os,aT as ss,aU as as,aV as Ft,aW as ls,aX as cs,aY as us,aZ as ds,a_ as hs,o as te,a$ as lr,b0 as cr,b1 as ur,b2 as fs,b3 as ps,e as st,a as on,r as it,b4 as gs,b5 as Tn,b6 as vs,b7 as ms,b8 as ys,b9 as bs,ba as ws,bb as xs,bc as Ss,bd as Cs,be as $s,bf as dr,bg as ks,bh as As,bi as Es,bj as Ls,bk as Ts,bl as Ms,bm as gt,bn as rn,bo as Rs,bp as Is,bq as Os,w as Te,br as Ds,bs as Ie,bt as Fs,bu as Bs,bv as Ps,bw as Ns,bx as Ws,by as Hs,bz as Vs,bA as zs,bB as _s,bC as Us,bD as js,bE as Gs,bF as Ks,bG as Ys,bH as Xs,bI as Zs,bJ as Qs,bK as Js,bL as qs,bM as Oe,k as Si,bN as Ve,bO as tn,bP as lt,bQ as ea,bR as ta,bS as na,bT as ia,bU as ra,D as hr,B as ft,bV as oa,bW as sa,bX as Pi,bY as aa,bZ as la,b_ as ca,b$ as Ci,c0 as $i,c1 as ki,c2 as ua,c3 as da,c4 as ha,c5 as fa,c6 as pa,c7 as ga,c8 as va,c9 as ma,ca as ya,cb as ba,I as wa,cc as xa,cd as Sa,ce as zn,cf as fr,cg as Ca,ch as $a,z as Ai,ci as ka,_ as pr,cj as gr,P as Ei,ck as Aa,cl as Ea,cm as Ni,cn as La,co as Wi,cp as Yt,cq as Ta,cr as gn,cs as Ma,ct as Ra,cu as Ia,cv as Oa,cw as Da,cx as Fa,H as Hi}from"./index.36b6a3dc.js";import{a as zt,u as Ze,f as Ba,B as _t,g as vr,P as On,s as Pa,b as vt,d as Yn,e as ei,h as Nt,i as mr,w as Lt,j as Na,k as Dt,l as yr,H as br,r as ii,m as Wa,v as wr,n as xr,o as Sr,p as Cr,q as Cn,t as Dn,x as Ha,y as Va,z as za}from"./store.1e709ca5.js";import{_ as Li}from"./PanelResizer.vue_vue_type_script_setup_true_lang.587d96f9.js";import{F as _a}from"./FileUploader.bf2bb465.js";import{_ as Ua}from"./builder_logo.41e4a9f2.js";import"./fileUploadHandler.7bd6d646.js";const ja=()=>{},Ga=Object.freeze(Object.defineProperty({__proto__:null,compile:ja,EffectScope:Xr,ReactiveEffect:Zr,customRef:Qr,effect:Jr,effectScope:qr,getCurrentScope:eo,isProxy:to,isReactive:no,isReadonly:io,isRef:ro,isShallow:oo,markRaw:so,onScopeDispose:ao,proxyRefs:lo,reactive:Wt,readonly:co,ref:le,shallowReactive:uo,shallowReadonly:ho,shallowRef:fo,stop:po,toRaw:nr,toRef:go,toRefs:vo,toValue:mo,triggerRef:yo,unref:P,camelize:bo,capitalize:wo,normalizeClass:ze,normalizeProps:xo,normalizeStyle:He,toDisplayString:qe,toHandlerKey:So,BaseTransition:Co,BaseTransitionPropsValidators:$o,Comment:ko,Fragment:Je,KeepAlive:Ao,Static:Eo,Suspense:Lo,Teleport:ir,Text:To,assertNumber:Mo,callWithAsyncErrorHandling:Ro,callWithErrorHandling:Io,cloneVNode:Oo,compatUtils:Do,computed:$e,createBlock:me,createCommentVNode:ve,createElementBlock:pe,createElementVNode:Y,createHydrationRenderer:Fo,createPropsRestProxy:Bo,createRenderer:Po,createSlots:No,createStaticVNode:rr,createTextVNode:Vt,createVNode:se,defineAsyncComponent:Wo,defineComponent:Ne,defineEmits:Ho,defineExpose:Vo,defineModel:zo,defineOptions:_o,defineProps:Uo,defineSlots:jo,get devtools(){return Go},getCurrentInstance:Ko,getTransitionRawChildren:Yo,guardReactiveProps:Xo,h:Zo,handleError:Qo,hasInjectionContext:Jo,initCustomFormatter:qo,inject:pn,isMemoSame:es,isRuntimeOnly:ts,isVNode:ns,mergeDefaults:is,mergeModels:rs,mergeProps:or,nextTick:at,onActivated:xi,onBeforeMount:sr,onBeforeUnmount:ar,onBeforeUpdate:os,onDeactivated:ss,onErrorCaptured:as,onMounted:Ft,onRenderTracked:ls,onRenderTriggered:cs,onServerPrefetch:us,onUnmounted:ds,onUpdated:hs,openBlock:te,popScopeId:lr,provide:cr,pushScopeId:ur,queuePostFlushCb:fs,registerRuntimeCompiler:ps,renderList:st,renderSlot:on,resolveComponent:it,resolveDirective:gs,resolveDynamicComponent:Tn,resolveFilter:vs,resolveTransitionHooks:ms,setBlockTracking:ys,setDevtoolsHook:bs,setTransitionHooks:ws,ssrContextKey:xs,ssrUtils:Ss,toHandlers:Cs,transformVNodeArgs:$s,useAttrs:dr,useModel:ks,useSSRContext:As,useSlots:Es,useTransitionState:Ls,version:Ts,warn:Ms,watch:gt,watchEffect:rn,watchPostEffect:Rs,watchSyncEffect:Is,withAsyncContext:Os,withCtx:Te,withDefaults:Ds,withDirectives:Ie,withMemo:Fs,withScopeId:Bs,Transition:Ps,TransitionGroup:Ns,VueElement:Ws,createApp:Hs,createSSRApp:Vs,defineCustomElement:zs,defineSSRCustomElement:_s,hydrate:Us,initDirectivesForSSR:js,render:Gs,useCssModule:Ks,useCssVars:Ys,vModelCheckbox:Xs,vModelDynamic:Zs,vModelRadio:Qs,vModelSelect:Js,vModelText:qs,vShow:Oe,withKeys:Si,withModifiers:Ve},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=zt("ArrowDownIcon",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=zt("ArrowUpIcon",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=zt("CopyPlusIcon",[["line",{x1:"15",x2:"15",y1:"12",y2:"18",key:"1p7wdc"}],["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=zt("ImageIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=zt("MinusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=zt("MoveLeftIcon",[["path",{d:"M6 8L2 12L6 16",key:"kyvwex"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=zt("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=zt("SlidersHorizontalIcon",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=zt("TrashIcon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);function tl($,x,d,h={min:.1,max:10}){const b=Wt(tn(x));let g=0,l=0,u=0,o=0,a=!1,t;const n=r=>{if(clearTimeout(t),r.ctrlKey){if($.scaling=!0,!a){b.update();const i=b.left+b.width/2,s=b.top+b.height/2;g=(r.clientX-i)/$.scale,l=(r.clientY-s)/$.scale,u=r.clientX,o=r.clientY,a=!0;let c=()=>{a=!1};d.addEventListener("mousemove",c,{once:!0})}let e=$.scale-r.deltaY*.008*$.scale;e=Math.min(Math.max(e,h.min),h.max),$.scale=e,at(()=>{b.update();const i=b.left+b.width/2,s=b.top+b.height/2,c=i+g*e,f=s+l*e,p=u-c,k=o-f;$.translateX+=p/e,$.translateY+=k/e})}else $.panning=!0,a=!1,$.translateX-=r.deltaX/$.scale,$.translateY-=r.deltaY/$.scale;t=setTimeout(()=>{$.scaling=!1,$.panning=!1},200)};d.addEventListener("wheel",r=>{r.preventDefault(),requestAnimationFrame(()=>n(r))},{passive:!1})}const nl=Ne({__name:"BlockSnapGuides",setup($){const x=Ze();return(d,h)=>(te(),pe("div",null,[P(x).guides.showX?(te(),pe("div",{key:0,class:"x fixed bottom-0 top-0 z-10 w-[1px] bg-pink-600",style:He({left:P(x).guides.x+"px"})},null,4)):ve("",!0),P(x).guides.showY?(te(),pe("div",{key:1,class:"y fixed left-0 right-0 z-10 h-[1px] bg-pink-600",style:He({top:P(x).guides.y+"px"})},null,4)):ve("",!0)]))}}),il=[{family:"Inter",variants:["100","100italic","200","200italic","300","300italic","400","400italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"]},{family:"Roboto",variants:["regular","italic","500","500italic","700","700italic"]},{family:"Open Sans",variants:["regular","italic","300","300italic","600","600italic","700","700italic","800","800italic"]},{family:"Lato",variants:["regular","italic","100","100italic","300","300italic","700","700italic","900","900italic"]},{family:"Montserrat",variants:["regular","italic","100","100italic","200","200italic","300","300italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"]},{family:"Raleway",variants:["regular","italic","100","100italic","200","200italic","300","300italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"]},{family:"Source Sans Pro",variants:["regular","italic","200","200italic","300","300italic","600","600italic","700","700italic","900","900italic"]},{family:"Oswald",variants:["regular","200","300","500","600","700"]},{family:"Poppins",variants:["regular","italic","200","200italic","300","300italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"]},{family:"Ubuntu",variants:["regular","italic","300","300italic","500","500italic","700","700italic"]},{family:"Playfair Display",variants:["regular","italic","700","700italic","900","900italic"]},{family:"Noto Sans",variants:["regular","italic","700","700italic"]},{family:"Quicksand",variants:["regular","italic","300","300italic","500","500italic","700","700italic"]},{family:"Merriweather",variants:["regular","italic","700","700italic","900","900italic"]},{family:"Lora",variants:["regular","italic","500","500italic","600","600italic","700","700italic"]},{family:"Pacifico",variants:["regular"]},{family:"Comfortaa",variants:["regular"]},{family:"Dosis",variants:["regular","200","300","500","600","700","800"]},{family:"Montserrat Alternates",variants:["regular","italic","500","500italic","600","600italic","700","700italic","800","800italic"]},{family:"Work Sans",variants:["regular","italic","100","100italic","200","200italic","300","300italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"]},{family:"Roboto Condensed",variants:["regular","italic","300","300italic","700","700italic"]},{family:"Josefin Sans",variants:["regular","italic","100","100italic","300","300italic","600","600italic","700","700italic"]},{family:"Indie Flower",variants:["regular"]},{family:"Dancing Script",variants:["regular","700"]},{family:"Archivo",variants:["regular","italic","500","500italic","600","600italic","700","700italic"]},{family:"Titillium Web",variants:["regular","italic","200","200italic","300","300italic","600","600italic","700","700italic","900","900italic"]},{family:"Exo",variants:["regular","italic","100","100italic","200","200italic","300","300italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"]},{family:"Cabin",variants:["regular","italic","500","500italic","600","600italic","700","700italic"]},{family:"Yanone Kaffeesatz",variants:["regular","200","300","700"]},{family:"Lobster",variants:["regular"]},{family:"Arvo",variants:["regular","italic","700","700italic"]},{family:"PT Sans",variants:["regular","italic","700","700italic"]},{family:"Fira Sans",variants:["regular","italic","300","300italic","500","500italic","700","700italic"]},{family:"Bitter",variants:["regular","italic","700"]},{family:"Lobster Two",variants:["regular","italic","700","700italic"]},{family:"Merriweather Sans",variants:["regular","italic","300","300italic","700","700italic","800","800italic"]},{family:"Cabin Condensed",variants:["regular","500","600","700"]},{family:"Lato Latin",variants:["100","100italic","300","300italic","regular","italic","700","700italic","900","900italic"]},{family:"Source Code Pro",variants:["regular","200","300","500","600","700","900"]},{family:"Inconsolata",variants:["regular","700"]},{family:"Nunito",variants:["regular","italic","200","200italic","300","300italic","600","600italic","700","700italic","800","800italic","900","900italic"]},{family:"PT Serif",variants:["regular","italic","700","700italic"]},{family:"Cabin Sketch",variants:["regular","700"]},{family:"Righteous",variants:["regular"]},{family:"Amatic SC",variants:["regular","700"]},{family:"Droid Sans",variants:["regular","700"]},{family:"Fira Mono",variants:["regular","500","700"]},{family:"Quattrocento",variants:["regular","700"]},{family:"Archivo Black",variants:["regular"]},{family:"PT Sans Narrow",variants:["regular","700"]},{family:"Pacifico Latin",variants:["regular"]}],kr={items:il};var Ar={exports:{}};(function($){(function(){function x(D,W,Q){return D.call.apply(D.bind,arguments)}function d(D,W,Q){if(!D)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(oe,J),D.apply(W,oe)}}return function(){return D.apply(W,arguments)}}function h(D,W,Q){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:d,h.apply(null,arguments)}var b=Date.now||function(){return+new Date};function g(D,W){this.a=D,this.o=W||D,this.c=this.o.document}var l=!!window.FontFace;function u(D,W,Q,J){if(W=D.c.createElement(W),Q)for(var oe in Q)Q.hasOwnProperty(oe)&&(oe=="style"?W.style.cssText=Q[oe]:W.setAttribute(oe,Q[oe]));return J&&W.appendChild(D.c.createTextNode(J)),W}function o(D,W,Q){D=D.c.getElementsByTagName(W)[0],D||(D=document.documentElement),D.insertBefore(Q,D.lastChild)}function a(D){D.parentNode&&D.parentNode.removeChild(D)}function t(D,W,Q){W=W||[],Q=Q||[];for(var J=D.className.split(/\s+/),oe=0;oe<W.length;oe+=1){for(var fe=!1,ce=0;ce<J.length;ce+=1)if(W[oe]===J[ce]){fe=!0;break}fe||J.push(W[oe])}for(W=[],oe=0;oe<J.length;oe+=1){for(fe=!1,ce=0;ce<Q.length;ce+=1)if(J[oe]===Q[ce]){fe=!0;break}fe||W.push(J[oe])}D.className=W.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function n(D,W){for(var Q=D.className.split(/\s+/),J=0,oe=Q.length;J<oe;J++)if(Q[J]==W)return!0;return!1}function r(D){return D.o.location.hostname||D.a.location.hostname}function e(D,W,Q){function J(){ue&&oe&&fe&&(ue(ce),ue=null)}W=u(D,"link",{rel:"stylesheet",href:W,media:"all"});var oe=!1,fe=!0,ce=null,ue=Q||null;l?(W.onload=function(){oe=!0,J()},W.onerror=function(){oe=!0,ce=Error("Stylesheet failed to load"),J()}):setTimeout(function(){oe=!0,J()},0),o(D,"head",W)}function i(D,W,Q,J){var oe=D.c.getElementsByTagName("head")[0];if(oe){var fe=u(D,"script",{src:W}),ce=!1;return fe.onload=fe.onreadystatechange=function(){ce||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(ce=!0,Q&&Q(null),fe.onload=fe.onreadystatechange=null,fe.parentNode.tagName=="HEAD"&&oe.removeChild(fe))},oe.appendChild(fe),setTimeout(function(){ce||(ce=!0,Q&&Q(Error("Script load timeout")))},J||5e3),fe}return null}function s(){this.a=0,this.c=null}function c(D){return D.a++,function(){D.a--,p(D)}}function f(D,W){D.c=W,p(D)}function p(D){D.a==0&&D.c&&(D.c(),D.c=null)}function k(D){this.a=D||"-"}k.prototype.c=function(D){for(var W=[],Q=0;Q<arguments.length;Q++)W.push(arguments[Q].replace(/[\W_]+/g,"").toLowerCase());return W.join(this.a)};function y(D,W){this.c=D,this.f=4,this.a="n";var Q=(W||"n4").match(/^([nio])([1-9])$/i);Q&&(this.a=Q[1],this.f=parseInt(Q[2],10))}function v(D){return T(D)+" "+(D.f+"00")+" 300px "+m(D.c)}function m(D){var W=[];D=D.split(/,\s*/);for(var Q=0;Q<D.length;Q++){var J=D[Q].replace(/['"]/g,"");J.indexOf(" ")!=-1||/^\d/.test(J)?W.push("'"+J+"'"):W.push(J)}return W.join(",")}function L(D){return D.a+D.f}function T(D){var W="normal";return D.a==="o"?W="oblique":D.a==="i"&&(W="italic"),W}function E(D){var W=4,Q="n",J=null;return D&&((J=D.match(/(normal|oblique|italic)/i))&&J[1]&&(Q=J[1].substr(0,1).toLowerCase()),(J=D.match(/([1-9]00|normal|bold)/i))&&J[1]&&(/bold/i.test(J[1])?W=7:/[1-9]00/.test(J[1])&&(W=parseInt(J[1].substr(0,1),10)))),Q+W}function C(D,W){this.c=D,this.f=D.o.document.documentElement,this.h=W,this.a=new k("-"),this.j=W.events!==!1,this.g=W.classes!==!1}function S(D){D.g&&t(D.f,[D.a.c("wf","loading")]),A(D,"loading")}function I(D){if(D.g){var W=n(D.f,D.a.c("wf","active")),Q=[],J=[D.a.c("wf","loading")];W||Q.push(D.a.c("wf","inactive")),t(D.f,Q,J)}A(D,"inactive")}function A(D,W,Q){D.j&&D.h[W]&&(Q?D.h[W](Q.c,L(Q)):D.h[W]())}function w(){this.c={}}function M(D,W,Q){var J=[],oe;for(oe in W)if(W.hasOwnProperty(oe)){var fe=D.c[oe];fe&&J.push(fe(W[oe],Q))}return J}function R(D,W){this.c=D,this.f=W,this.a=u(this.c,"span",{"aria-hidden":"true"},this.f)}function O(D){o(D.c,"body",D.a)}function F(D){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+m(D.c)+";"+("font-style:"+T(D)+";font-weight:"+(D.f+"00")+";")}function B(D,W,Q,J,oe,fe){this.g=D,this.j=W,this.a=J,this.c=Q,this.f=oe||3e3,this.h=fe||void 0}B.prototype.start=function(){var D=this.c.o.document,W=this,Q=b(),J=new Promise(function(ce,ue){function he(){b()-Q>=W.f?ue():D.fonts.load(v(W.a),W.h).then(function(we){1<=we.length?ce():setTimeout(he,25)},function(){ue()})}he()}),oe=null,fe=new Promise(function(ce,ue){oe=setTimeout(ue,W.f)});Promise.race([fe,J]).then(function(){oe&&(clearTimeout(oe),oe=null),W.g(W.a)},function(){W.j(W.a)})};function N(D,W,Q,J,oe,fe,ce){this.v=D,this.B=W,this.c=Q,this.a=J,this.s=ce||"BESbswy",this.f={},this.w=oe||3e3,this.u=fe||null,this.m=this.j=this.h=this.g=null,this.g=new R(this.c,this.s),this.h=new R(this.c,this.s),this.j=new R(this.c,this.s),this.m=new R(this.c,this.s),D=new y(this.a.c+",serif",L(this.a)),D=F(D),this.g.a.style.cssText=D,D=new y(this.a.c+",sans-serif",L(this.a)),D=F(D),this.h.a.style.cssText=D,D=new y("serif",L(this.a)),D=F(D),this.j.a.style.cssText=D,D=new y("sans-serif",L(this.a)),D=F(D),this.m.a.style.cssText=D,O(this.g),O(this.h),O(this.j),O(this.m)}var _={D:"serif",C:"sans-serif"},G=null;function H(){if(G===null){var D=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);G=!!D&&(536>parseInt(D[1],10)||parseInt(D[1],10)===536&&11>=parseInt(D[2],10))}return G}N.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=b(),j(this)};function z(D,W,Q){for(var J in _)if(_.hasOwnProperty(J)&&W===D.f[_[J]]&&Q===D.f[_[J]])return!0;return!1}function j(D){var W=D.g.a.offsetWidth,Q=D.h.a.offsetWidth,J;(J=W===D.f.serif&&Q===D.f["sans-serif"])||(J=H()&&z(D,W,Q)),J?b()-D.A>=D.w?H()&&z(D,W,Q)&&(D.u===null||D.u.hasOwnProperty(D.a.c))?ne(D,D.v):ne(D,D.B):q(D):ne(D,D.v)}function q(D){setTimeout(h(function(){j(this)},D),50)}function ne(D,W){setTimeout(h(function(){a(this.g.a),a(this.h.a),a(this.j.a),a(this.m.a),W(this.a)},D),0)}function X(D,W,Q){this.c=D,this.a=W,this.f=0,this.m=this.j=!1,this.s=Q}var ee=null;X.prototype.g=function(D){var W=this.a;W.g&&t(W.f,[W.a.c("wf",D.c,L(D).toString(),"active")],[W.a.c("wf",D.c,L(D).toString(),"loading"),W.a.c("wf",D.c,L(D).toString(),"inactive")]),A(W,"fontactive",D),this.m=!0,ae(this)},X.prototype.h=function(D){var W=this.a;if(W.g){var Q=n(W.f,W.a.c("wf",D.c,L(D).toString(),"active")),J=[],oe=[W.a.c("wf",D.c,L(D).toString(),"loading")];Q||J.push(W.a.c("wf",D.c,L(D).toString(),"inactive")),t(W.f,J,oe)}A(W,"fontinactive",D),ae(this)};function ae(D){--D.f==0&&D.j&&(D.m?(D=D.a,D.g&&t(D.f,[D.a.c("wf","active")],[D.a.c("wf","loading"),D.a.c("wf","inactive")]),A(D,"active")):I(D.a))}function re(D){this.j=D,this.a=new w,this.h=0,this.f=this.g=!0}re.prototype.load=function(D){this.c=new g(this.j,D.context||this.j),this.g=D.events!==!1,this.f=D.classes!==!1,xe(this,new C(this.c,D),D)};function ge(D,W,Q,J,oe){var fe=--D.h==0;(D.f||D.g)&&setTimeout(function(){var ce=oe||null,ue=J||null||{};if(Q.length===0&&fe)I(W.a);else{W.f+=Q.length,fe&&(W.j=fe);var he,we=[];for(he=0;he<Q.length;he++){var Se=Q[he],Ue=ue[Se.c],yt=W.a,jt=Se;if(yt.g&&t(yt.f,[yt.a.c("wf",jt.c,L(jt).toString(),"loading")]),A(yt,"fontloading",jt),yt=null,ee===null)if(window.FontFace){var jt=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),sn=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);ee=jt?42<parseInt(jt[1],10):!sn}else ee=!1;ee?yt=new B(h(W.g,W),h(W.h,W),W.c,Se,W.s,Ue):yt=new N(h(W.g,W),h(W.h,W),W.c,Se,W.s,ce,Ue),we.push(yt)}for(he=0;he<we.length;he++)we[he].start()}},0)}function xe(D,W,Q){var oe=[],J=Q.timeout;S(W);var oe=M(D.a,Q,D.c),fe=new X(D.c,W,J);for(D.h=oe.length,W=0,Q=oe.length;W<Q;W++)oe[W].load(function(ce,ue,he){ge(D,fe,ce,ue,he)})}function Ee(D,W){this.c=D,this.a=W}Ee.prototype.load=function(D){function W(){if(fe["__mti_fntLst"+J]){var ce=fe["__mti_fntLst"+J](),ue=[],he;if(ce)for(var we=0;we<ce.length;we++){var Se=ce[we].fontfamily;ce[we].fontStyle!=null&&ce[we].fontWeight!=null?(he=ce[we].fontStyle+ce[we].fontWeight,ue.push(new y(Se,he))):ue.push(new y(Se))}D(ue)}else setTimeout(function(){W()},50)}var Q=this,J=Q.a.projectId,oe=Q.a.version;if(J){var fe=Q.c.o;i(this.c,(Q.a.api||"https://fast.fonts.net/jsapi")+"/"+J+".js"+(oe?"?v="+oe:""),function(ce){ce?D([]):(fe["__MonotypeConfiguration__"+J]=function(){return Q.a},W())}).id="__MonotypeAPIScript__"+J}else D([])};function Re(D,W){this.c=D,this.a=W}Re.prototype.load=function(D){var W,Q,J=this.a.urls||[],oe=this.a.families||[],fe=this.a.testStrings||{},ce=new s;for(W=0,Q=J.length;W<Q;W++)e(this.c,J[W],c(ce));var ue=[];for(W=0,Q=oe.length;W<Q;W++)if(J=oe[W].split(":"),J[1])for(var he=J[1].split(","),we=0;we<he.length;we+=1)ue.push(new y(J[0],he[we]));else ue.push(new y(J[0]));f(ce,function(){D(ue,fe)})};function _e(D,W){D?this.c=D:this.c=ct,this.a=[],this.f=[],this.g=W||""}var ct="https://fonts.googleapis.com/css";function mt(D,W){for(var Q=W.length,J=0;J<Q;J++){var oe=W[J].split(":");oe.length==3&&D.f.push(oe.pop());var fe="";oe.length==2&&oe[1]!=""&&(fe=":"),D.a.push(oe.join(fe))}}function Ot(D){if(D.a.length==0)throw Error("No fonts to load!");if(D.c.indexOf("kit=")!=-1)return D.c;for(var W=D.a.length,Q=[],J=0;J<W;J++)Q.push(D.a[J].replace(/ /g,"+"));return W=D.c+"?family="+Q.join("%7C"),0<D.f.length&&(W+="&subset="+D.f.join(",")),0<D.g.length&&(W+="&text="+encodeURIComponent(D.g)),W}function ut(D){this.f=D,this.a=[],this.c={}}var Ct={latin:"BESbswy","latin-ext":"\xE7\xF6\xFC\u011F\u015F",cyrillic:"\u0439\u044F\u0416",greek:"\u03B1\u03B2\u03A3",khmer:"\u1780\u1781\u1782",Hanuman:"\u1780\u1781\u1782"},ie={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ye={i:"i",italic:"i",n:"n",normal:"n"},Ce=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function De(D){for(var W=D.f.length,Q=0;Q<W;Q++){var J=D.f[Q].split(":"),oe=J[0].replace(/\+/g," "),fe=["n4"];if(2<=J.length){var ce,ue=J[1];if(ce=[],ue)for(var ue=ue.split(","),he=ue.length,we=0;we<he;we++){var Se;if(Se=ue[we],Se.match(/^[\w-]+$/)){var Ue=Ce.exec(Se.toLowerCase());if(Ue==null)Se="";else{if(Se=Ue[2],Se=Se==null||Se==""?"n":ye[Se],Ue=Ue[1],Ue==null||Ue=="")Ue="4";else var yt=ie[Ue],Ue=yt||(isNaN(Ue)?"4":Ue.substr(0,1));Se=[Se,Ue].join("")}}else Se="";Se&&ce.push(Se)}0<ce.length&&(fe=ce),J.length==3&&(J=J[2],ce=[],J=J?J.split(","):ce,0<J.length&&(J=Ct[J[0]])&&(D.c[oe]=J))}for(D.c[oe]||(J=Ct[oe])&&(D.c[oe]=J),J=0;J<fe.length;J+=1)D.a.push(new y(oe,fe[J]))}}function We(D,W){this.c=D,this.a=W}var je={Arimo:!0,Cousine:!0,Tinos:!0};We.prototype.load=function(D){var W=new s,Q=this.c,J=new _e(this.a.api,this.a.text),oe=this.a.families;mt(J,oe);var fe=new ut(oe);De(fe),e(Q,Ot(J),c(W)),f(W,function(){D(fe.a,fe.c,je)})};function Ge(D,W){this.c=D,this.a=W}Ge.prototype.load=function(D){var W=this.a.id,Q=this.c.o;W?i(this.c,(this.a.api||"https://use.typekit.net")+"/"+W+".js",function(J){if(J)D([]);else if(Q.Typekit&&Q.Typekit.config&&Q.Typekit.config.fn){J=Q.Typekit.config.fn;for(var oe=[],fe=0;fe<J.length;fe+=2)for(var ce=J[fe],ue=J[fe+1],he=0;he<ue.length;he++)oe.push(new y(ce,ue[he]));try{Q.Typekit.load({events:!1,classes:!1,async:!0})}catch(we){}D(oe)}},2e3):D([])};function K(D,W){this.c=D,this.f=W,this.a=[]}K.prototype.load=function(D){var W=this.f.id,Q=this.c.o,J=this;W?(Q.__webfontfontdeckmodule__||(Q.__webfontfontdeckmodule__={}),Q.__webfontfontdeckmodule__[W]=function(oe,fe){for(var ce=0,ue=fe.fonts.length;ce<ue;++ce){var he=fe.fonts[ce];J.a.push(new y(he.name,E("font-weight:"+he.weight+";font-style:"+he.style)))}D(J.a)},i(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+r(this.c)+"/"+W+".js",function(oe){oe&&D([])})):D([])};var U=new re(window);U.a.c.custom=function(D,W){return new Re(W,D)},U.a.c.fontdeck=function(D,W){return new K(W,D)},U.a.c.monotype=function(D,W){return new Ee(W,D)},U.a.c.typekit=function(D,W){return new Ge(W,D)},U.a.c.google=function(D,W){return new We(W,D)};var Z={load:h(U.load,U)};$.exports?$.exports=Z:(window.WebFont=Z,window.WebFontConfig&&U.load(window.WebFontConfig))})()})(Ar);const rl=Ar.exports,ol=kr.items.filter($=>$.variants.length>=3).map($=>$.family),Er=new Set,sl=$=>Er.has($),al=$=>{Er.add($)},Ti=$=>new Promise(x=>{if(!$||sl($))return x($);al($),rl.load({google:{families:[$],crossOrigin:"anonymous"},active:x($)})}),ll=$=>{const x=[{value:"400",label:"Regular"}];if(!$)return x;const d=kr.items.find(h=>h.family===$);return d?d.variants.filter(h=>!h.includes("italic")).map(h=>{switch(h){case"regular":return{value:"400",label:"Regular"};case"100":return{value:"100",label:"Thin"};case"200":return{value:"200",label:"Extra Light"};case"300":return{value:"300",label:"Light"};case"400":return{value:"400",label:"Regular"};case"500":return{value:"500",label:"Medium"};case"600":return{value:"600",label:"Semi Bold"};case"700":return{value:"700",label:"Bold"};case"800":return{value:"800",label:"Extra Bold"};case"900":return{value:"900",label:"Black"};default:return{value:h,label:h}}}):x};function cl($){var d;const x=(d=$.match(/font-family: ([^;"]+)["|;]/g))==null?void 0:d.map(h=>h.replace(/font-family: ([^;"]+)["|;]/,"$1"));x&&x.forEach(h=>{Ti(h)})}const Fn=Ze();function ul($,x,d){let h=null;const b=n=>{var r;if((r=n.dataTransfer)==null||r.setData("draggingBlockId",$.blockId),h=x.cloneNode(!0),h.id="ghost",h.style.position="absolute",h.style.transform=`scale(${d.ghostScale||1})`,h.style.pointerEvents="none",h.style.zIndex="999999",document.body.appendChild(h),n.dataTransfer){n.dataTransfer.effectAllowed="move";const e=new Image;e.src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1' height='1'></svg>",n.dataTransfer.setDragImage(e,n.offsetX,n.offsetY)}n.stopPropagation()},g=n=>{console.log("dragging");const r=n.target;h=h,h.style.left=n.clientX-r.offsetWidth/2+"px",h.style.top=n.clientY-r.offsetHeight/2+"px",n.stopPropagation()},l=n=>{if(Fn.history.pause(),n.dataTransfer){const r=n.dataTransfer.getData("draggingBlockId"),e=Fn.findBlock(r),i=Ba(n);if(e){const s=$,c=e.getParentBlock();s.blockId===c.blockId?s.moveChild(e,i):s.canHaveChildren()&&s.isContainer()&&(c&&c.removeChild(e),s.addChild(e,i),Fn.selectBlock(e,n)),n.stopPropagation()}}Fn.history.resume()},u=n=>{h&&h.remove(),n.dataTransfer&&n.dataTransfer.getData("draggingBlockId")&&(n.dataTransfer.dropEffect="none",n.stopPropagation())},o=n=>{n.preventDefault(),n.stopPropagation()},a=n=>{n.preventDefault(),n.stopPropagation()},t=n=>{n.preventDefault(),n.stopPropagation()};lt(x,"dragstart",b),lt(x,"drag",g),lt(x,"drop",l),lt(x,"dragend",u),lt(x,"dragenter",o),lt(x,"dragover",a),lt(x,"dragleave",t)}const dl={class:"absolute top-0 -left-[40px] flex flex-col gap-[19px] items-center justify-center p-[6px]"},hl=Ne({__name:"LeftBlockAction",props:{targetBlock:{type:_t,required:!0},target:{type:Object,required:!0}},setup($){const x=$,d=Ze(),h=()=>{x.targetBlock.duplicateBlock()},b=()=>{d.deleteSection(x.targetBlock)},g=()=>{d.moveSectionUp(x.targetBlock)},l=()=>{d.moveSectionDown(x.targetBlock)};return(u,o)=>(te(),pe("div",dl,[se(P(Ya),{onClick:Ve(g,["stop"]),class:"w-[16px] h-[16px]"},null,8,["onClick"]),se(P(Ka),{onClick:Ve(l,["stop"]),class:"w-[16px] h-[16px]"},null,8,["onClick"]),se(P(Xa),{onClick:Ve(h,["stop"]),class:"w-[16px] h-[16px]"},null,8,["onClick"]),se(P(el),{onClick:Ve(b,["stop"]),class:"w-[16px] h-[16px]"},null,8,["onClick"])]))}}),ke=Ze(),St={clearSelection:()=>{ke.selectedBlocks=[]},getSelectedBlocks:()=>ke.selectedBlocks,isRoot(){return St.isBLockSelected()&&ke.selectedBlocks[0].isRoot()},isSection(){return St.isBLockSelected()&&ke.selectedBlocks[0].isSection()},setGradient:$=>{ke.selectedBlocks.forEach(x=>{x.setGradient($)})},setStyle:($,x)=>{!(x!=null&&x.toString().startsWith("#"))&&$==="background"&&ke.selectedBlocks.forEach(d=>{d.setGradient(vr(x))}),ke.selectedBlocks.forEach(d=>{d.setStyle($,x)})},setBaseStyle:($,x)=>{ke.selectedBlocks.forEach(d=>{d.setBaseStyle($,x)})},getStyle:$=>{let x="__initial__";return ke.selectedBlocks.forEach(d=>{x==="__initial__"?x=d.getStyle($):x!==d.getStyle($)&&(x="Mixed")}),x},isBLockSelected:()=>ke.selectedBlocks.length>0,multipleBlocksSelected:()=>ke.selectedBlocks.length>1,isText:()=>St.isBLockSelected()&&ke.selectedBlocks[0].isText(),isContainer:()=>St.isBLockSelected()&&ke.selectedBlocks[0].isContainer(),isImage:()=>St.isBLockSelected()&&ke.selectedBlocks[0].isImage(),isButton:()=>St.isBLockSelected()&&ke.selectedBlocks[0].isButton(),isLink:()=>St.isBLockSelected()&&ke.selectedBlocks[0].isLink(),isInput:()=>St.isBLockSelected()&&ke.selectedBlocks[0].isInput(),isNotInparent:()=>{if(ke.selectedBlocks.length===0||ke.selectedBlocks[0].isRoot()||ke.selectedBlocks[0].isSection())return!1;const $=ke.selectedBlocks[0],x=$.getRealSize(),d=$.getParentBlock();return On($.getPosition().y)+x.height<=0||On($.getPosition().x)+x.width<=0||On($.getPosition().y)>=d.getRealSize().height||On($.getPosition().x)>=d.getRealSize().width},ChangeParentToUpper:()=>{const $=ke.selectedBlocks[0],x=ke.selectedBlocks[0].getParentBlock();if(x.isRoot()||x===null)return;const d=x.getParentBlock();if(d.isRoot()||d===null)return;const{x:h,y:b}=Pa(x,ke.selectedBlocks[0]);d.addChild(ke.selectedBlocks[0],d.getChildren().length),setTimeout(()=>{x.removeChild($),document.querySelectorAll(`[data-block-id="${ke.selectedBlocks[0].blockId}"]`).forEach(l=>{const u=l;u&&(console.log(h,b,u.style.top,u.style.left),u.style.top=`${vt(b)}!important`,u.style.left=`${vt(h)}!important`,console.log(u instanceof HTMLElement),console.log(vt(h),vt(b)))})},0)},ChangeParentToLower:$=>{},getAttribute:$=>{let x="__initial__";return ke.selectedBlocks.forEach(d=>{x==="__initial__"?x=d.getAttribute($):x!==d.getAttribute($)&&(x="Mixed")}),x},setAttribute:($,x)=>{ke.selectedBlocks.forEach(d=>{d.setAttribute($,x)})},getKeyValue:$=>{let x="__initial__";return ke.selectedBlocks.forEach(d=>{x==="__initial__"?x=d[$]:x!==d[$]&&(x="Mixed")}),x},setKeyValue:($,x)=>{ke.selectedBlocks.forEach(d=>{d[$]=x})},getClasses:()=>{let $=[];return $=ke.selectedBlocks[0].getClasses(),$},setClasses:$=>{ke.selectedBlocks[0].classes=$},getRawStyles:()=>St.isBLockSelected()&&ke.selectedBlocks[0].rawStyles,setRawStyles:$=>{ke.selectedBlocks.forEach(x=>{x.rawStyles=$})},getParentBlock:()=>St.isBLockSelected()&&ke.selectedBlocks[0].getParentBlock(),setTextColor:$=>{ke.selectedBlocks.forEach(x=>{x.setTextColor($)})},getTextColor:()=>{let $="__initial__";return ke.selectedBlocks.forEach(x=>{$==="__initial__"?$=x.getTextColor():$!==x.getTextColor()&&($="Mixed")}),$},setFontFamily:$=>{ke.selectedBlocks.forEach(x=>{x.setFontFamily($)})},getFontFamily:()=>{let $="__initial__";return ke.selectedBlocks.forEach(x=>{$==="__initial__"?$=x.getFontFamily():$!==x.getFontFamily()&&($="Mixed")}),$},isHTML:()=>St.isBLockSelected()&&ke.selectedBlocks[0].isHTML(),getInnerHTML:()=>St.isBLockSelected()&&ke.selectedBlocks[0].getInnerHTML(),setInnerHTML:$=>{ke.selectedBlocks.forEach(x=>{x.setInnerHTML($)})},getTextContent:()=>ke.selectedBlocks[0].getTextContent(),setDataKey:($,x)=>{ke.selectedBlocks.forEach(d=>{d.setDataKey($,x)})},getDataKey:$=>ke.selectedBlocks[0].getDataKey($),isRepeater:()=>St.isBLockSelected()&&ke.selectedBlocks[0].isRepeater(),getPadding:()=>ke.selectedBlocks[0].getPadding(),setPadding:$=>{ke.selectedBlocks[0].setPadding($)},getMargin:()=>ke.selectedBlocks[0].getMargin(),setMargin:$=>{ke.selectedBlocks[0].setMargin($)}},V=St,ot=Ze(),Vi=[{point:0,strength:10},{point:.25,strength:2},{point:.5,strength:10},{point:.75,strength:2},{point:1,strength:10}];function Lr($,x){const h=$.closest(".canvas"),b=Wt(tn(h)),g=Wt(tn($)),l=Wt(tn($.parentElement));return{getFinalWidth:i=>{g.update(),b.update(),l.update();const{scale:s}=x,c=g.left+i*s;let f=i,p=!1;return Vi.forEach(k=>{const y=b.left+b.width*k.point,v=l.left+l.width*k.point;Math.abs(c-y)<k.strength?(f=(y-g.left)/s,ot.guides.x=y,p=!0):Math.abs(c-v)<k.strength&&(f=(v-g.left)/s,ot.guides.x=v,p=!0)}),p||(ot.guides.x=-1),Math.round(f)},getFinalHeight:i=>{g.update(),b.update(),l.update();const{scale:s}=x,c=g.top+i*s;let f=i,p=!1;return Vi.forEach(k=>{const y=b.top+b.height*k.point,v=l.top+l.height*k.point;Math.abs(c-y)<k.strength?(f=(y-g.top)/s,ot.guides.y=y,p=!0):Math.abs(c-v)<k.strength&&(f=(v-g.top)/s,ot.guides.y=v,p=!0)}),p||(ot.guides.y=-1),Math.round(f)},showX:()=>{ot.guides.x=-1,ot.guides.showX=!0},showY:()=>{ot.guides.y=-1,ot.guides.showY=!0},hideX:()=>{ot.guides.showX=!1},hideY:()=>{ot.guides.showY=!1},getPositionOffset:()=>{g.update(),b.update();let{scale:i}=x,s=0,c=0;const f=b.left+b.width/2;return Math.abs(g.left-b.left)<10&&(s=(b.left-g.left)/i,ot.guides.x=b.left),Math.abs(g.left-f)<10&&(s=(f-g.left)/i,ot.guides.x=f),Math.abs(g.left-b.right)<10&&(s=(b.right-g.left)/i,ot.guides.x=b.right),Math.abs(g.right-b.left)<10&&(c=(b.left-g.right)/i,ot.guides.x=b.left),Math.abs(g.right-f)<10&&(c=(f-g.right)/i,ot.guides.x=f),Math.abs(g.right-b.right)<10&&(c=(b.right-g.right)/i,ot.guides.x=b.right),(s&&c||!s&&!c)&&(ot.guides.x=-1),{leftOffset:Math.round(s),rightOffset:Math.round(c)}}}}window.observer=null;const zi=[];function fl($,x,d){const h=Wt(tn($)),b=$.closest(".canvas-container");if(zi.push(h.update),gt(d,()=>at(h.update),{deep:!0}),!window.observer){let g=()=>{at(()=>{zi.forEach(l=>{l()})})};window.observer=ea(b,g,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["style","class"],characterData:!0})}return rn(()=>{x.style.width=vt(h.width,!1),x.style.height=vt(h.height,!1),x.style.top=vt(h.top,!1),x.style.left=vt(h.left,!1)}),h.update}const pl=["onClick"],gl=Ne({__name:"ContextMenu",props:{posX:{type:Number,required:!0},posY:{type:Number,required:!0},options:Array},emits:{select:$=>$},setup($,{emit:x}){const d=$,h=le(null),b=$e(()=>{var t;const u=(t=h.value)==null?void 0:t.$el.clientWidth,a=window.innerWidth-(d.posX+u);return a<0?d.posX+a-10:d.posX}),g=$e(()=>{var t;const u=(t=h.value)==null?void 0:t.$el.clientHeight,a=window.innerHeight-(d.posY+u);return a<0?d.posY+a-10:d.posY}),l=u=>{x("select",u)};return(u,o)=>(te(),me(P(ia),{class:"fixed z-50 h-fit w-fit min-w-[120px] rounded-lg bg-white p-1 shadow-xl dark:bg-zinc-900",style:He({top:g.value+"px",left:b.value+"px"}),ref_key:"menu",ref:h},{default:Te(()=>[se(P(ta),{static:"",class:"text-sm"},{default:Te(()=>[(te(!0),pe(Je,null,st($.options,(a,t)=>Ie((te(),me(P(na),{class:"block cursor-pointer rounded-md px-3 py-1 dark:text-zinc-50"},{default:Te(({active:n,disabled:r})=>[Y("div",{onClick:Ve(e=>(!a.condition||a.condition())&&l(a.action),["prevent","stop"]),class:ze({"text-gray-900":!r,"bg-gray-200 dark:bg-zinc-700":n,"text-gray-400 dark:text-zinc-500":r})},qe(a.label),11,pl)]),_:2},1536)),[[Oe,!a.condition||a.condition()]])),256))]),_:1})]),_:1},8,["style"]))}}),vl={class:"mt-3"},Tr=Ne({__name:"BlockContextMenu",props:{block:{},editable:{type:Boolean}},setup($){const x=$,d=Ze(),h=le(!1),b=le(0),g=le(0),l=le(!1),u=le({componentName:"",isGlobalComponent:0}),o=s=>{x.block.isRoot()||x.editable||(h.value=!0,b.value=s.pageX,g.value=s.pageY,s.preventDefault(),s.stopPropagation())},a=s=>{s(),h.value=!1},t=()=>{d.copiedStyle={blockId:x.block.blockId,style:x.block.getStylesCopy()}},n=()=>{var s;x.block.updateStyles((s=d.copiedStyle)==null?void 0:s.style)},r=()=>{x.block.duplicateBlock()},e=({close:s})=>{var f;const c=d.getBlockCopy(x.block,!0);Yn.insert.submit({block:c,component_name:u.value.componentName,for_web_page:u.value.isGlobalComponent?null:(f=d.getActivePage())==null?void 0:f.name}).then(p=>$t(this,null,function*(){yield Yn.list.promise;const k=d.findBlock(x.block.blockId);!k||k.extendFromComponent(p.name)})),s()},i=[{label:"Copy",action:()=>document.execCommand("copy")},{label:"Copy Style",action:t},{label:"Paste Style",action:n,condition:()=>Boolean(d.copiedStyle&&d.copiedStyle.blockId!==x.block.blockId)},{label:"Duplicate",action:r},{label:"Wrap in Container",action:()=>{const s=ei("fit-container"),c=x.block.getParentBlock();if(!c)return;const f=d.selectedBlocks,p=Math.min(...f.map(c.getChildIndex.bind(c))),k=c==null?void 0:c.addChild(s,p);f.sort((y,v)=>c.getChildIndex(y)-c.getChildIndex(v)).forEach(y=>{c==null||c.removeChild(y),k==null||k.addChild(y)}),at(()=>{k&&k.selectBlock()})},condition:()=>{if(x.block.isRoot())return!1;if(d.selectedBlocks.length===1)return!0;const s=x.block.getParentBlock();return s?d.selectedBlocks.every(f=>f.getParentBlock()===s):!1}},{label:"Save as Component",action:()=>l.value=!0,condition:()=>!x.block.isExtendedFromComponent()},{label:"Convert To Repeater",action:()=>{x.block.convertToRepeater()},condition:()=>x.block.isContainer()&&!x.block.isExtendedFromComponent()&&!x.block.isRoot()},{label:"Reset Changes",condition:()=>Boolean(x.block.extendedFromComponent),action:()=>{x.block.resetChanges()}},{label:"Edit Component",action:()=>{d.editComponent(x.block)},condition:()=>Boolean(x.block.extendedFromComponent)},{label:"Convert to Link",action:()=>{V.getSelectedBlocks().forEach(s=>{s.convertToLink()})},condition:()=>(x.block.isContainer()||x.block.isText())&&!x.block.isExtendedFromComponent()&&!x.block.isRoot()}];return(s,c)=>{const f=it("Input");return te(),pe("div",null,[on(s.$slots,"default",{onContextMenu:o}),h.value?Ie((te(),me(gl,{key:0,"pos-x":b.value,"pos-y":g.value,options:i,onSelect:a},null,8,["pos-x","pos-y"])),[[P(ra),()=>h.value=!1]]):ve("",!0),se(P(hr),{style:{"z-index":"40"},options:{title:"New Component",size:"sm",actions:[{label:"Save",appearance:"primary",onClick:e},{label:"Cancel"}]},modelValue:l.value,"onUpdate:modelValue":c[2]||(c[2]=p=>l.value=p)},{"body-content":Te(()=>[se(f,{type:"text",modelValue:u.value.componentName,"onUpdate:modelValue":c[0]||(c[0]=p=>u.value.componentName=p),label:"Component Name",required:""},null,8,["modelValue"]),Y("div",vl,[se(f,{class:"text-sm [&>span]:!text-sm",type:"checkbox",modelValue:u.value.isGlobalComponent,"onUpdate:modelValue":c[1]||(c[1]=p=>u.value.isGlobalComponent=p),label:"Global Component"},null,8,["modelValue"])])]),_:1},8,["options","modelValue"])])}}}),ml=["onMousedown"],yl=Ne({__name:"BorderRadiusHandler",props:{targetBlock:{type:_t,required:!0},target:{type:Object,required:!0}},setup($){const x=$,d=x.targetBlock,h=x.target,b=le(parseInt(h.style.borderRadius,10)||0),g=le(!1),l=pn("canvasProps"),u=le(),o=le(10),a=le(10);let t=10,n=10;const r=y=>{const v=y.clientX,m=y.clientY,L=window.getComputedStyle(u.value),T=parseInt(L.height,10),E=parseInt(L.width,10);let C=v,S=m;g.value=!0;const I=A=>{A.preventDefault();const w=A.clientX-C,M=A.clientY-S,R=(w+M)/2*2;R<0&&(n=-(T/2),t=-(E/2));let O=Math.round(Nt(h.style.borderRadius)+R);O=Math.max(0,Math.min(O,p)),k(O),b.value=O,d.setStyle("borderRadius",`${O}px`),C=A.clientX,S=A.clientY};document.addEventListener("mousemove",I),document.addEventListener("mouseup",A=>{A.preventDefault(),Nt(d.getStyle("borderRadius"))<10&&(o.value=10,a.value=10),g.value=!1,document.removeEventListener("mousemove",I)},{once:!0})},e=window.getComputedStyle(h),i=parseInt(e.width,10),s=parseInt(e.height,10),c=h.getBoundingClientRect(),f=Math.min(c.height,c.width)/2,p=Math.min(s,i)/2,k=y=>{const v=window.getComputedStyle(u.value),m=parseInt(v.height,10),L=parseInt(v.width,10),T=y/p;o.value=Math.max(n,f*T-m/2),a.value=Math.max(t,f*T-L/2)};return Ft(()=>{k(b.value)}),(y,v)=>(te(),pe("div",{ref_key:"handler",ref:u,class:ze(["border-radius-resize pointer-events-auto absolute left-2 top-2 h-[10px] w-[10px] cursor-pointer rounded-full border-2 border-blue-400 bg-white",{hidden:P(l).scale<.4}]),style:He({top:o.value+"px",left:a.value+"px"}),onMousedown:Ve(r,["stop"])},[Ie(Y("div",{class:"absolute left-2 top-2 w-fit rounded-full bg-zinc-800 px-3 py-2 text-xs text-white opacity-60"},qe(b.value),513),[[Oe,g.value]])],46,ml))}}),bl={key:0,class:"resize-dimensions absolute bottom-[-40px] right-[-40px] flex h-8 w-20 items-center justify-center whitespace-nowrap rounded-full bg-gray-600 p-2 text-sm text-white opacity-80"},wl={key:1,class:"resize-dimensions absolute bottom-[-40px] right-[-40px] flex h-8 w-fit items-center justify-center whitespace-nowrap rounded-full bg-gray-600 p-2 text-sm text-white opacity-80"},xl=Y("div",{class:"left-handle ew-resize pointer-events-auto absolute bottom-0 left-[-2px] top-0 w-2 border-none bg-transparent"},null,-1),Sl=["onMousedown"],Cl=Y("div",{class:"top-handle ns-resize pointer-events-auto absolute left-0 right-0 top-[-2px] h-2 border-none bg-transparent"},null,-1),$l=["onMousedown"],kl=["onMousedown"],Al=Ne({__name:"BoxResizer",props:{targetBlock:{type:_t,default:null},target:{type:[HTMLElement,SVGElement],default:null}},emits:["resizing"],setup($,{emit:x}){const d=$,h=Ze(),b=d.targetBlock,g=d.target,l=le(!1);let u=null;const o=pn("canvasProps");Ft(()=>{u=Lr(g,o)}),rn(()=>{x("resizing",l.value),l.value?h.history.pause():h.history.resume()});const a=$e(()=>(b.getStyle("width"),Math.round(Nt(getComputedStyle(g).getPropertyValue("width"))))),t=$e(()=>(b.getStyle("height"),Math.round(Nt(getComputedStyle(g).getPropertyValue("height"))))),n=$e(()=>(b.getStyle("fontSize"),Math.round(Nt(getComputedStyle(g).getPropertyValue("font-size"))))),r=s=>{var m;const c=s.clientX,f=g.offsetWidth,p=((m=g.parentElement)==null?void 0:m.offsetWidth)||0,k=n.value,y=document.body.style.cursor;document.body.style.cursor=window.getComputedStyle(s.target).cursor,l.value=!0,u.showX();const v=L=>{const T=(L.clientX-c)/o.scale,E=Math.abs(u.getFinalWidth(f+T));if(b.isText()&&!L.shiftKey){const C=ft(Math.round(k+.5*T),10,150);return b.setStyle("fontSize",`${C}px`),L.preventDefault()}if(L.shiftKey){const C=T/p*100,S=f/p*100,I=Math.abs(Math.round(S+C));b.setStyle("width",`${I}%`)}else b.setStyle("width",`${E}px`);L.preventDefault()};document.addEventListener("mousemove",v),document.addEventListener("mouseup",L=>{document.body.style.cursor=y,document.removeEventListener("mousemove",v),L.preventDefault(),l.value=!1,u.hideX()},{once:!0})},e=s=>{const c=s.clientY,f=g.offsetHeight,p=n.value||0,k=document.body.style.cursor;document.body.style.cursor=window.getComputedStyle(s.target).cursor,l.value=!0,u.showY();const y=v=>{const m=(v.clientY-c)/o.scale;let L=Math.round(Math.abs(u.getFinalHeight(f+m)));if(b.isText()&&!v.shiftKey){const T=ft(Math.round(p+.5*m),10,300);return b.setStyle("fontSize",`${T}px`),v.preventDefault()}b.setStyle("height",`${L}px`),v.preventDefault()};document.addEventListener("mousemove",y),document.addEventListener("mouseup",v=>{document.body.style.cursor=k,document.removeEventListener("mousemove",y),v.preventDefault(),l.value=!1,u.hideY()},{once:!0})},i=s=>{const c=s.clientX,f=s.clientY,p=g.offsetHeight,k=g.offsetWidth,y=n.value||0,v=document.body.style.cursor;document.body.style.cursor=window.getComputedStyle(s.target).cursor,l.value=!0;const m=L=>{const T=(L.clientX-c)/o.scale,E=Math.round(k+T);if(b.isText()&&!L.shiftKey){const C=ft(Math.round(y+.5*T),10,300);return b.setStyle("fontSize",`${C}px`),L.preventDefault()}if(L.shiftKey)b.setStyle("width",`${E}px`),b.setStyle("height",`${E}px`);else{b.setStyle("width",`${E}px`);const C=(L.clientY-f)/o.scale,S=Math.round(p+C);b.setStyle("height",`${S}px`),L.preventDefault()}};document.addEventListener("mousemove",m),document.addEventListener("mouseup",L=>{document.body.style.cursor=v,document.removeEventListener("mousemove",m),L.preventDefault(),l.value=!1},{once:!0})};return(s,c)=>(te(),pe(Je,null,[l.value&&!P(b).isText()?(te(),pe("span",bl,qe(a.value)+" x "+qe(t.value),1)):ve("",!0),l.value&&P(b).isText()?(te(),pe("span",wl,qe(n.value),1)):ve("",!0),xl,Y("div",{class:ze(["right-handle pointer-events-auto absolute bottom-0 right-[-2px] top-0 w-2 border-none bg-transparent",{"cursor-ew-resize":!0}]),onMousedown:Ve(r,["stop"])},null,40,Sl),Cl,Y("div",{class:ze(["bottom-handle pointer-events-auto absolute bottom-[-2px] left-0 right-0 h-2 border-none bg-transparent",{"cursor-ns-resize":!0}]),onMousedown:Ve(e,["stop"])},null,40,$l),Y("div",{class:"pointer-events-auto absolute bottom-[-5px] right-[-5px] h-[12px] w-[12px] cursor-nwse-resize rounded-full border-[2.5px] border-blue-400 bg-white",onMousedown:Ve(i,["stop"])},null,40,kl)],64))}}),El=["onClick","onMousedown","onDrop","onContextmenu","data-block-id"],Ll=Y("span",{class:"text-[#FAFAFA] text-inter text-[14px] font-[600] leading-[20px]"},"Section",-1),Tl=Ne({__name:"BlockEditor",props:{block:{type:_t,required:!0},breakpoint:{type:String,default:"desktop"},target:{type:[HTMLElement,SVGElement],required:!0},editable:{type:Boolean,default:!1}},setup($,{expose:x}){const d=$,h=le(!1),b=pn("canvasProps"),g=$e(()=>!d.block.isRoot()&&!d.editable&&e.value&&!V.multipleBlocksSelected()&&!d.block.isSVG()&&!d.block.isHTML()),l=Ze(),u=le(null),o=le(()=>{}),a=le(!1),t=Lr(d.target,b),n=le(!1),r=le(!1);rn(()=>{d.block.getStyle("top"),d.block.getStyle("left"),d.block.getStyle("bottom"),d.block.getStyle("right"),d.block.getStyle("position");const y=d.block.getParentBlock();y==null||y.getStyle("display"),y==null||y.getStyle("justifyContent"),y==null||y.getStyle("alignItems"),y==null||y.getStyle("flexDirection"),l.builderLayout.leftPanelWidth,l.builderLayout.rightPanelWidth,l.showRightPanel,l.showLeftPanel,l.activeBreakpoint,l.deviceBreakpoints.map(v=>v.visible),at(()=>{o.value()})});const e=$e(()=>d.block.isSelected()&&d.breakpoint===l.activeBreakpoint),i=$e(()=>{const y=[];return s.value&&!d.block.isRoot()&&y.push("cursor-grab"),Boolean(d.block.extendedFromComponent)?y.push("ring-purple-400"):y.push("ring-[#9033E5]"),d.block.isSelected()&&d.breakpoint===l.activeBreakpoint&&!d.editable&&!d.block.isRoot()&&!d.block.isRepeater()&&(y.push("pointer-events-auto"),y.push("!z-[19]")),y});gt(l.builderState.blocks,()=>{at(()=>{o.value()})});const s=$e(()=>d.block.getStyle("position")==="absolute");Ft(()=>{o.value=fl(d.target,u.value,b)});const c=y=>{if(d.editable)return;if(r.value){r.value=!1;return}u.value.classList.add("pointer-events-none");let m=document.elementFromPoint(y.x,y.y);m.classList.contains("editor")&&(m.classList.remove("pointer-events-auto"),m.classList.add("pointer-events-none"),m=document.elementFromPoint(y.x,y.y)),m.classList.contains("__builder_component__")&&m.dispatchEvent(new MouseEvent("click",y))},f=y=>{if(d.editable)return;const v=new DragEvent("drop",y);d.target.dispatchEvent(v)},p=()=>{d.editable||(d.block.isText()||d.block.isButton()||d.block.isLink())&&(l.builderState.editableBlock=d.block)},k=y=>{if(l.mode==="text"&&(l.builderState.editableBlock=d.block),!s.value||d.block.isRoot())return;const v=y.target,m=y.clientX,L=y.clientY,T=d.target.offsetLeft,E=d.target.offsetTop;n.value=!0,t.showX();const C=document.body.style.cursor;document.body.style.cursor=window.getComputedStyle(v).cursor;const S=document.getElementById(l.activeBreakpoint);let I=null;function A(M,R){const{left:O,top:F,bottom:B,right:N}=S.getBoundingClientRect(),_=M-O,G=M-N,H=R-F,z=R-B;if(_<0||G>0||H<0||z>0){if(h.value)return;h.value=!0,d.block.setOut(!0);let j=document.querySelectorAll(`[data-block-id="${d.block.blockId}"]`),q=["width","height","position","zIndex","top","left"];const ne=[];for(let X of j[1].children)ne.push(X.cloneNode(!0));setTimeout(()=>{let X=document.getElementById(`${d.block.blockId}-overlay`);if(!X||j.length<2)return;function ee(){if(!X||j.length<2)return;let ae=window.getComputedStyle(j[0]),re=window.getComputedStyle(j[1]);for(let ge of re)X.style[ge]=re.getPropertyValue(ge);for(let ge of q)X.style[ge]=ae.getPropertyValue(ge);for(let ge of ne)X.appendChild(ge.cloneNode(!0))}I=new MutationObserver(ee),I.observe(j[1],{childList:!0,subtree:!0}),I.observe(j[0],{attributes:!0}),ee()},50)}else h.value&&(I&&(I.disconnect(),I=null),d.block.setOut(!1),h.value=!1)}const w=M=>$t(this,null,function*(){const R=b.scale,O=(M.clientX-m)/R,F=(M.clientY-L)/R;let B=T+O;d.block.setStyle("left",vt(B)),d.block.setStyle("top",vt(E+F)),yield at();const{leftOffset:N,rightOffset:_}=t.getPositionOffset();A(M.clientX,M.clientY),V.isNotInparent()&&V.ChangeParentToUpper(),N!==0&&d.block.setStyle("left",vt(B+N)),_!==0&&d.block.setStyle("left",vt(B+_)),M.preventDefault(),r.value=!0});document.addEventListener("mousemove",w),document.addEventListener("mouseup",M=>{n.value=!1,document.body.style.cursor=C,document.removeEventListener("mousemove",w),M.preventDefault(),t.hideX()},{once:!0})};return x({element:u}),(y,v)=>(te(),me(Tr,{block:$.block,editable:$.editable},{default:Te(({onContextMenu:m})=>{var L,T;return[Y("div",{class:ze(["editor pointer-events-none fixed z-[18] box-content select-none ring-2 ring-inset",i.value]),ref_key:"editor",ref:u,onClick:Ve(c,["stop"]),onDblclick:p,onMousedown:Ve(k,["prevent"]),onDrop:Ve(f,["prevent","stop"]),onContextmenu:m,"data-block-id":$.block.blockId},[e.value&&!$.block.isRoot()&&!$.block.isText()&&!$.block.isHTML()&&!$.block.isSVG()&&!$.editable&&!P(V).multipleBlocksSelected()?(te(),me(yl,{key:0,"target-block":$.block,target:$.target},null,8,["target-block","target"])):ve("",!0),e.value&&$.block.isSection()&&((L=$.block.getParentBlock())==null?void 0:L.isRoot())==!0&&!$.block.isRoot()&&!$.block.isText()&&!$.block.isHTML()&&!$.block.isSVG()&&!$.editable&&!P(V).multipleBlocksSelected()?(te(),me(hl,{key:1,"target-block":$.block,target:$.target},null,8,["target-block","target"])):ve("",!0),g.value?(te(),me(Al,{key:2,targetBlock:$.block,onResizing:v[0]||(v[0]=E=>a.value=E),target:$.target},null,8,["targetBlock","target"])):ve("",!0),$.block.getTag()==="section"&&((T=$.block.getParentBlock())==null?void 0:T.isRoot())==!0?(te(),pe("div",{key:3,onClick:v[1]||(v[1]=E=>P(l).newBlockSection($.block)),class:ze("rounded-md py-[8px]  !absolute hover:cursor-pointer !bottom-0 !z-[99999999] !left-1/2 !origin-center !-translate-x-1/2 !translate-y-1/2 !flex !flex-row  !gap-[8px] !items-center !justify-center !h-[38px] !px-[16px] !bg-[#9033E5] ")},[se(P($r),{class:"w-[16px] h-[16px] stroke-1 text-[#FAFAFA]"}),Ll])):ve("",!0)],42,El)]}),_:1},8,["block","editable"]))}}),Ml=["innerHTML"],Rl=Ne({__name:"BlockHTML",props:{block:{type:_t,required:!0}},setup($,{expose:x}){const d=le(null);return x({component:d}),(h,b)=>(te(),pe("div",{innerHTML:$.block.getInnerHTML(),ref_key:"component",ref:d},null,8,Ml))}}),Il={key:0,class:"pointer-events-none flex h-52 w-52 items-center justify-center font-semibold"},Ol=Ne({__name:"DataLoaderBlock",props:{block:{type:_t,required:!0},preview:{type:Boolean,default:!1},breakpoint:{type:String,default:"desktop"},data:{type:Object,default:null}},setup($,{expose:x}){const d=$,h=Ze(),b=le(null),g=$e(()=>{const l=d.data||h.pageData;return l&&d.block.getDataKey("key")?l[d.block.getDataKey("key")]:[{}]});return x({component:b}),(l,u)=>(te(),pe("div",{ref_key:"component",ref:b},[$.block.hasChildren()?(te(!0),pe(Je,{key:1},st(g.value,(o,a)=>(te(),me(Mi,{data:o,block:$.block.children[0],preview:a!==0||$.preview,breakpoint:$.breakpoint,isChildOfComponent:$.block.isExtendedFromComponent()},null,8,["data","block","preview","breakpoint","isChildOfComponent"]))),256)):(te(),pe("div",Il," Drop A Component "))],512))}}),Dl=oa.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:$=>{var x;return(x=$.style.fontFamily)===null||x===void 0?void 0:x.replace(/['"]+/g,"")},renderHTML:$=>$.fontFamily?{style:`font-family: ${$.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:$=>({chain:x})=>x().setMark("textStyle",{fontFamily:$}).run(),unsetFontFamily:()=>({chain:$})=>$().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}});function Fl($){return new $i({key:new ki("autolink"),appendTransaction:(x,d,h)=>{const b=x.some(a=>a.docChanged)&&!d.doc.eq(h.doc),g=x.some(a=>a.getMeta("preventAutolink"));if(!b||g)return;const{tr:l}=h,u=ua(d.doc,[...x]);if(da(u).forEach(({newRange:a})=>{const t=ha(h.doc,a,e=>e.isTextblock);let n,r;if(t.length>1?(n=t[0],r=h.doc.textBetween(n.pos,n.pos+n.node.nodeSize,void 0," ")):t.length&&h.doc.textBetween(a.from,a.to," "," ").endsWith(" ")&&(n=t[0],r=h.doc.textBetween(n.pos,a.to,void 0," ")),n&&r){const e=r.split(" ").filter(c=>c!=="");if(e.length<=0)return!1;const i=e[e.length-1],s=n.pos+r.lastIndexOf(i);if(!i)return!1;Ci(i).filter(c=>c.isLink).map(c=>ni(Qt({},c),{from:s+c.start+1,to:s+c.end+1})).filter(c=>h.schema.marks.code?!h.doc.rangeHasMark(c.from,c.to,h.schema.marks.code):!0).filter(c=>$.validate?$.validate(c.value):!0).forEach(c=>{fa(c.from,c.to,h.doc).some(f=>f.mark.type===$.type)||l.addMark(c.from,c.to,$.type.create({href:c.href}))})}}),!!l.steps.length)return l}})}function Bl($){return new $i({key:new ki("handleClickLink"),props:{handleClick:(x,d,h)=>{var b,g;if(h.button!==0||h.target.nodeName!=="A")return!1;const u=pa(x.state,$.type.name),o=h.target,a=(b=o==null?void 0:o.href)!==null&&b!==void 0?b:u.href,t=(g=o==null?void 0:o.target)!==null&&g!==void 0?g:u.target;return o&&a?(x.editable&&window.open(a,t),!0):!1}}})}function Pl($){return new $i({key:new ki("handlePasteLink"),props:{handlePaste:(x,d,h)=>{var b;const{state:g}=x,{selection:l}=g,{empty:u}=l;if(u)return!1;let o="";h.content.forEach(i=>{o+=i.textContent});const a=Ci(o).find(i=>i.isLink&&i.value===o);if(!o||!a)return!1;const t=(b=d.clipboardData)===null||b===void 0?void 0:b.getData("text/html"),n=/href="([^"]*)"/,r=t==null?void 0:t.match(n),e=r?r[1]:a.href;return $.editor.commands.setMark($.type,{href:e}),!0}}})}const Nl=sa.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach($=>{if(typeof $=="string"){Pi($);return}Pi($.scheme,$.optionalSlashes)})},onDestroy(){aa()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:$}){return["a",la(this.options.HTMLAttributes,$),0]},addCommands(){return{setLink:$=>({chain:x})=>x().setMark(this.name,$).setMeta("preventAutolink",!0).run(),toggleLink:$=>({chain:x})=>x().toggleMark(this.name,$,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:$})=>$().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ca({find:$=>Ci($).filter(x=>this.options.validate?this.options.validate(x.value):!0).filter(x=>x.isLink).map(x=>({text:x.value,index:x.start,data:x})),type:this.type,getAttributes:($,x)=>{var d,h;const b=(d=x==null?void 0:x.clipboardData)===null||d===void 0?void 0:d.getData("text/html"),g=/href="([^"]*)"/,l=b==null?void 0:b.match(g);return l?{href:l[1]}:{href:(h=$.data)===null||h===void 0?void 0:h.href}}})]},addProseMirrorPlugins(){const $=[];return this.options.autolink&&$.push(Fl({type:this.type,validate:this.options.validate})),this.options.openOnClick&&$.push(Bl({type:this.type})),this.options.linkOnPaste&&$.push(Pl({editor:this.editor,type:this.type})),$}}),Wl=["innerHTML"],Hl={key:0,class:"flex"},Vl={class:"flex gap-1"},zl=Y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 256 256"},[Y("path",{fill:"currentColor",d:"M224 128a8 8 0 0 1-8 8h-40.07c9.19 7.11 16.07 17.2 16.07 32c0 13.34-7 25.7-19.75 34.79C160.33 211.31 144.61 216 128 216s-32.33-4.69-44.25-13.21C71 193.7 64 181.34 64 168a8 8 0 0 1 16 0c0 17.35 22 32 48 32s48-14.65 48-32c0-14.85-10.54-23.58-38.77-32H40a8 8 0 0 1 0-16h176a8 8 0 0 1 8 8ZM76.33 104a8 8 0 0 0 7.61-10.49a17.3 17.3 0 0 1-.83-5.51c0-18.24 19.3-32 44.89-32c18.84 0 34.16 7.42 41 19.85a8 8 0 0 0 14-7.7C173.33 50.52 152.77 40 128 40c-34.71 0-60.89 20.63-60.89 48a33.73 33.73 0 0 0 1.62 10.49a8 8 0 0 0 7.6 5.51Z"})],-1),_l=[zl],Ul=Ne({__name:"TextBlock",props:{block:{type:_t,required:!0},preview:{type:Boolean,default:!1},data:{type:Object,default:()=>({})}},setup($,{expose:x}){const d=$,h=document.querySelector("#overlay"),b=Ze(),g=le(null),l=pn("canvasProps"),u=le(!1),o=le(""),a=le(null),t=p=>{var k,y;!p&&!o.value?(k=r.value)==null||k.chain().focus().unsetLink().run():((y=r.value)==null||y.chain().focus().setLink({href:p||o.value}).run(),o.value=""),u.value=!1},n=$e(()=>{let p=d.block.getInnerHTML();return d.data&&d.block.getDataKey("property")==="innerHTML"&&(p=mr(d.data,d.block.getDataKey("key"))||p),p});let r=le(null);const e=$e(()=>b.builderState.editableBlock===d.block),i=$e(()=>n.value&&!(d.block.isLink()&&d.block.hasChildren())),s=p=>{e.value&&p.stopPropagation()};gt(()=>e.value,p=>{var k,y;(k=r.value)==null||k.setEditable(p),p?(b.history.pause(),(y=r.value)==null||y.commands.focus("all")):b.history.resume()},{immediate:!0}),gt(()=>n.value,(p,k)=>{var v,m;p!==((v=r.value)==null?void 0:v.getHTML())&&((m=r.value)==null||m.commands.setContent(p||"",!1))}),d.preview||(gt(()=>d.block.isSelected(),()=>{var p,k;d.block.isSelected()&&!V.multipleBlocksSelected()?(r.value=new ga({content:n.value,extensions:[va,ma,ya,Dl,Nl.configure({openOnClick:!1})],onUpdate({editor:y}){const v=y.isEmpty?"":y.getHTML();d.block.getInnerHTML()!==v&&d.block.setInnerHTML(v)},onSelectionUpdate:({editor:y})=>{u.value=!1,o.value=""},autofocus:!1,injectCSS:!1}),d.block.getEditor=()=>r.value||null,(p=r.value)==null||p.setEditable(e.value)):((k=r.value)==null||k.destroy(),r.value=null)},{immediate:!0}),ar(()=>{var p;(p=r.value)==null||p.destroy()})),sr(()=>{let p=d.block.getInnerHTML()||"";cl(p)}),x({component:g});const c=p=>{p.key==="k"&&p.metaKey&&f()},f=()=>{u.value=!0,at(()=>{a.value&&document.querySelector(".link-input").focus()})};return(p,k)=>{const y=it("FeatherIcon"),v=it("Button");return te(),me(Tn($.block.getTag()),{ref_key:"component",ref:g,onClick:k[6]||(k[6]=Ve(()=>{},["stop"])),onDblclick:k[7]||(k[7]=Ve(()=>{},["stop"])),key:P(r)},{default:Te(()=>[Ie(Y("div",{innerHTML:n.value,onClick:s},null,8,Wl),[[Oe,!P(r)&&n.value]]),P(r)?(te(),me(P(ba),{key:0,ref:"menu",editor:P(r),"tippy-options":{appendTo:P(h),onCreate:m=>{gt(()=>P(l),()=>{P(l).panning||P(l).scaling?m.hide():m.show()},{deep:!0})}},class:"z-50 rounded-md border border-gray-300 bg-white p-1 text-lg"},{default:Te(()=>[u.value?(te(),pe("div",Hl,[se(P(wa),{modelValue:o.value,"onUpdate:modelValue":k[0]||(k[0]=m=>o.value=m),placeholder:"https://example.com",class:"link-input w-56 text-sm",onKeydown:k[1]||(k[1]=Si(()=>{var m;!a.value||t((m=a.value)==null?void 0:m.getInputValue())},["enter"])),ref_key:"linkInput",ref:a},null,8,["modelValue"]),se(v,{onClick:t,class:"ml-1"},{default:Te(()=>[se(y,{class:"h-3 w-3",name:"check"})]),_:1})])):ve("",!0),Ie(Y("div",Vl,[Y("button",{onClick:k[2]||(k[2]=m=>P(r).chain().focus().toggleBold().run()),class:ze(["rounded px-2 py-1 hover:bg-gray-100",{"bg-gray-200":P(r).isActive("bold")}])},[se(y,{class:"h-3 w-3",name:"bold"})],2),Y("button",{onClick:k[3]||(k[3]=m=>P(r).chain().focus().toggleItalic().run()),class:ze(["rounded px-2 py-1 hover:bg-gray-100",{"bg-gray-200":P(r).isActive("italic")}])},[se(y,{class:"h-3 w-3",name:"italic"})],2),Y("button",{onClick:k[4]||(k[4]=m=>P(r).chain().focus().toggleStrike().run()),class:ze(["rounded px-2 py-1 hover:bg-gray-100",{"bg-gray-200":P(r).isActive("strike")}])},_l,2),Y("button",{onClick:k[5]||(k[5]=()=>{!P(r)||(P(r).isActive("link")?P(r).chain().focus().unsetLink().run():f())}),class:ze(["rounded px-2 py-1 hover:bg-gray-100",{"bg-gray-200":P(r).isActive("link")}])},[se(y,{class:"h-3 w-3",name:"link"})],2)],512),[[Oe,!u.value]])]),_:1},8,["editor","tippy-options"])):ve("",!0),P(r)&&i.value?(te(),me(P(xa),{key:1,onClick:s,editor:P(r),class:"relative z-50",onKeydown:c},null,8,["editor"])):ve("",!0),on(p.$slots,"default")]),_:3},32)}}}),jl=["id"],Mi=Ne({__name:"BuilderBlock",props:{block:{type:_t,required:!0},isChildOfComponent:{type:Boolean,default:!1},breakpoint:{type:String,default:"desktop"},preview:{type:Boolean,default:!1},data:{type:Object,default:null}},emits:["mounted"],setup($,{emit:x}){const d=$,h=le(null),b=dr(),g=Ze(),l=le(null),u=$e(()=>!d.block.isRoot()&&!d.preview&&!1),o=v=>v.isRepeater()?Ol:v.isText()||v.isLink()||v.isButton()?Ul:v.isHTML()?Rl:v.getTag(),a=$e(()=>[b.class,"__builder_component__","outline-none","select-none",...d.block.getClasses()]),t=$e(()=>{const v=Qt(Qt({},d.block.getAttributes()),b);return(d.block.isText()||d.block.isHTML()||d.block.isLink()||d.block.isButton()||d.block.isRepeater())&&(v.block=d.block,v.preview=d.preview,v.breakpoint=d.breakpoint),v.data=d.data,d.data&&d.block.getDataKey("type")==="attribute"&&(v[d.block.getDataKey("property")]=mr(d.data,d.block.getDataKey("key"))||v[d.block.getDataKey("property")]),v}),n=d.preview?null:pn("canvasProps"),r=$e(()=>h.value?h.value instanceof HTMLElement||h.value instanceof SVGElement?h.value:h.value.component:null),e=$e(()=>Qt(Qt({},d.block.getStyles(d.breakpoint)),d.block.getEditorStyles())),i=$e(()=>!(n!=null&&n.scaling)&&!(n!=null&&n.panning)&&r.value&&d.block.getStyle("display")!=="none"&&(d.block.isSelected()&&d.breakpoint===g.activeBreakpoint||d.block.isHovered()&&g.hoveredBreakpoint===d.breakpoint));rn(()=>{Ti(d.block.getStyle("fontFamily"))}),Ft(()=>$t(this,null,function*(){yield at(),x("mounted",r.value),u.value&&ul(d.block,h.value,Wt({ghostScale:(n==null?void 0:n.scale)||1}))}));const s=$e(()=>g.builderState.editableBlock===d.block&&g.activeBreakpoint===d.breakpoint),c=v=>{g.builderState.editableBlock===d.block||g.mode!=="select"||d.preview||(g.selectBlock(d.block,v),g.activeBreakpoint=d.breakpoint,d.preview||(g.leftPanelActiveTab="layers",g.rightPanelActiveTab="Properties"))},f=v=>{d.block.isRoot()||s.value||(v.stopPropagation(),v.preventDefault(),c(v),at(()=>{var m;(m=l.value)==null||m.element.dispatchEvent(new MouseEvent("contextmenu",v))}))},p=v=>{s.value||(c(v),v.stopPropagation(),v.preventDefault())},k=v=>{if(s.value)return;g.builderState.editableBlock=null,(d.block.isText()||d.block.isLink()||d.block.isButton())&&(g.builderState.editableBlock=d.block,v.stopPropagation());let m=d.block.getChildren();if(d.block.isContainer())if(m.length)m.length===1&&m[0].isText()&&(m[0].makeBlockEditable(),v.stopPropagation());else{const L=ei("text");d.block.setBaseStyle("alignItems","center"),d.block.setBaseStyle("justifyContent","center"),d.block.addChild(L).makeBlockEditable(),v.stopPropagation()}},y=v=>{g.hoveredBlock===d.block.blockId&&(g.hoveredBlock=null,v.stopPropagation())};return(v,m)=>{var T;const L=it("BuilderBlock",!0);return te(),pe(Je,null,[(te(),me(Tn(o($.block)),or({class:["relative",a.value],onClick:p,onDblclick:k,onContextmenu:m[0]||(m[0]=E=>f(E)),onMouseleave:y,"data-block-id":$.block.blockId,draggable:u.value},t.value,{style:e.value,ref_key:"component",ref:h}),{default:Te(()=>[$.block.isOut()?ve("",!0):(te(!0),pe(Je,{key:0},st($.block.getChildren(),E=>(te(),me(L,{data:$.data,block:E,breakpoint:$.breakpoint,preview:$.preview,isChildOfComponent:$.block.isExtendedFromComponent()||$.isChildOfComponent,key:E.blockId},null,8,["data","block","breakpoint","preview","isChildOfComponent"]))),128))]),_:1},16,["data-block-id","draggable","class","style"])),((T=P(n))==null?void 0:T.overlayElement)&&!$.preview&&P(n)?(te(),me(ir,{key:0,to:"#overlay"},[$.block.isOut()?(te(),pe("div",{key:0,onClick:m[1]||(m[1]=Ve(()=>{d.block.selectBlock()},["stop"])),id:d.block.blockId+"-overlay"},null,8,jl)):ve("",!0),i.value?(te(),me(Tl,{key:1,ref_key:"editor",ref:l,block:$.block,breakpoint:$.breakpoint,editable:s.value,target:r.value},null,8,["block","breakpoint","editable","target"])):ve("",!0)])):ve("",!0)],64)}}}),Gl={key:0,class:"pointer-events-none absolute bottom-0 left-0 right-0 top-0 z-30 bg-cyan-300 opacity-20"},Kl=["id"],Yl={id:"moovable",class:"absolute hover:cursor-grab left-0 right-0 top-[-60px] w-full flex justify-between items-center rounded-md bg-[#E6E6E6] px-[10px] py-[8px]"},Xl={class:"flex flex-row gap-[10px] items-center"},Zl=["onClick"],Ql={class:"text-[#949494] text-[14px] font-[600] leading-[19.5px]"},Jl={class:"w-auto flex flex-row gap-[10px] items-center"},ql=Y("div",{class:"text-[#A9A9A9] text-right font-[600] leading-[19.5px]"},"Breakpoint",-1),ec=["onClick"],tc={class:"fixed bottom-12 left-[50%] z-40 flex translate-x-[-50%] items-center justify-center gap-2 rounded-lg bg-white px-3 py-2 text-center text-sm font-semibold text-gray-600 shadow-md dark:bg-zinc-900 dark:text-zinc-400"},nc=Y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24"},[Y("path",{fill:"currentColor",d:"M20 9V6h-3V4h3q.825 0 1.413.588T22 6v3h-2ZM2 9V6q0-.825.588-1.413T4 4h3v2H4v3H2Zm15 11v-2h3v-3h2v3q0 .825-.588 1.413T20 20h-3ZM4 20q-.825 0-1.413-.588T2 18v-3h2v3h3v2H4Zm12-4H8q-.825 0-1.413-.588T6 14v-4q0-.825.588-1.413T8 8h8q.825 0 1.413.588T18 10v4q0 .825-.588 1.413T16 16Zm-8-2h8v-4H8v4Zm0 0v-4v4Z"})],-1),ic=[nc],_i=Ne({__name:"BuilderCanvas",props:{block:{type:_t,default:!1},canvasProps:{type:Object,default:()=>({})},canvasStyles:{type:Object,default:()=>({})}},setup($,{expose:x}){const d=$,h=Ze(),b=le(null),g=le(null),l=le(!1),u=le(null),o=window.location.pathname,a=o.substring(o.lastIndexOf("/")+1),t=le(0),n=le(!1),r=[{idx:le(0),id:le("desktop"),div:le(null),initialX:le(0),initialY:le(0),offsetX:le(0),offsetY:le(0),ofsetFinalX:le(0),ofsetFinalY:le(0)},{idx:le(1),id:le("tablet"),div:le(null),initialX:le(0),initialY:le(0),offsetX:le(0),offsetY:le(0),ofsetFinalX:le(0),ofsetFinalY:le(0)},{idx:le(2),id:le("mobile"),div:le(null),initialX:le(0),initialY:le(0),offsetX:le(0),offsetY:le(0),ofsetFinalX:le(0),ofsetFinalY:le(0)}],e=()=>{h.deviceBreakpoints.forEach(O=>{O.visible=!0})},i=O=>{let F=O;for(;typeof r.find(B=>B.id.value===F.id)=="undefined";){if(F.parentElement===null)return null;F=F.parentElement}return F},s=({x:O,y:F,element:B})=>{const N=JSON.parse(k.value[0].canvas_position);N.find((G,H)=>G.element===B?(N[H]={x:O,y:F,element:B},!0):!1)||N.push({x:O,y:F,element:B}),Lt.setValue.submit({name:a,canvas_position:JSON.stringify(N)})},c=O=>{if(O.button!==0)return;const F=O.target;if(F.id!=="moovable")return;const B=i(F);if(B===null)return;h.clearSelection(),n.value=!0;const N=r.find(_=>_.id.value===B.id);N.initialX.value=O.screenX,N.initialY.value=O.screenY,N.div.value=B,r[N.idx.value]=N,t.value=N.idx.value};Ft(()=>{g&&g.value.addEventListener("mousedown",c)});const f=()=>{!n.value||(r[t.value].ofsetFinalX.value=r[t.value].offsetX.value,r[t.value].ofsetFinalY.value=r[t.value].offsetY.value,s({x:r[t.value].ofsetFinalX.value,y:r[t.value].ofsetFinalY.value,element:r[t.value].id.value}),n.value=!1)},p=O=>{!n.value||(r[t.value].offsetX.value=r[t.value].ofsetFinalX.value+(O.screenX-r[t.value].initialX.value)*1.75,r[t.value].offsetY.value=r[t.value].ofsetFinalY.value+(O.screenY-r[t.value].initialY.value)*1.75,r[t.value].div.value.style.transform=`translate(${r[t.value].offsetX.value}px, ${r[t.value].offsetY.value}px)`)};document.addEventListener("mousemove",O=>p(O)),document.addEventListener("mouseup",f);const k=$e(()=>(Lt.data||[]).filter(O=>a===O.name?(JSON.parse(O.canvas_position).forEach(B=>{const N=r.find(_=>_.id.value===B.element);N.ofsetFinalX.value=B.x,N.ofsetFinalY.value=B.y,r[N.idx.value]=N}),!0):!1));cr("canvasProps",d.canvasProps),Ft(()=>{d.canvasProps.overlayElement=u.value,m()});const{isOverDropZone:y}=Sa(b,{onDrop:(O,F)=>{var G;let B=document.elementFromPoint(F.x,F.y),N=d.block;B&&B.dataset.blockId&&(N=h.findBlock(B.dataset.blockId)||N);let _=(G=F.dataTransfer)==null?void 0:G.getData("componentName");if(_){const H=h.getBlockCopy(Yn.getRow(_).block,!0);for(H.extendFromComponent(_);N&&(N.isImage()||N.isSVG());)N=N.getParentBlock();if(!N)return;N.addChild(H),F.stopPropagation()}else O&&O.length&&h.uploadFile(O[0]).then(H=>{!N||(N.isImage()?(N.setAttribute("src",H.fileURL),N.setAttribute("alt",H.fileName)):N.isContainer()&&F.shiftKey?N.setStyle("background",`url(${H.fileURL})`):N.addChild(h.getImageBlock(H.fileURL,H.fileName)))})}}),v=$e(()=>h.deviceBreakpoints.filter(O=>O.visible||O.device==="desktop"));function m(){const O=document.body.querySelector(".canvas-container");lt(O,"mousedown",F=>{const B=F.clientX,N=F.clientY;if(h.mode!=="select"){h.history.pause(),F.stopPropagation();let _=document.elementFromPoint(F.x,F.y),G=h.getFirstBlock();_&&_.dataset.blockId&&(G=h.findBlock(_.dataset.blockId)||G);let H=h.getFirstBlock();if(_.dataset.blockId)for(H=h.findBlock(_.dataset.blockId)||H;H&&!H.canHaveChildren();)H=H.getParentBlock()||h.getFirstBlock();const z=ei(h.mode),j=document.body.querySelector(`.canvas [data-block-id="${H.blockId}"]`),q=H.getStyle("position");H.setBaseStyle("position",q||"absolute");const ne=j.getBoundingClientRect();let X=(F.x-ne.left)/d.canvasProps.scale,ee=(F.y-ne.top)/d.canvasProps.scale;const ae=Nt(getComputedStyle(j).width),re=Nt(getComputedStyle(j).height),ge=H.addChild(z);ge.setBaseStyle("position","absolute"),ge.setBaseStyle("top",vt(ee)),ge.setBaseStyle("left",vt(X));const xe=Ee=>{if(!(h.mode==="text"||h.mode==="html")){Ee.preventDefault();let Re=(Ee.clientX-B)/d.canvasProps.scale,_e=(Ee.clientY-N)/d.canvasProps.scale;Re=ft(Re,0,ae),_e=ft(_e,0,re),ge.setBaseStyle("width",vt(Re)),ge.setBaseStyle("height",vt(_e))}};lt(document,"mousemove",xe),lt(document,"mouseup",()=>{document.removeEventListener("mousemove",xe),ge.setBaseStyle("position","absolute"),(h.mode==="text"||h.mode==="html")&&h.history.resume(),Nt(ge.getStyle("width"))<100&&ge.setBaseStyle("width","100%"),Nt(ge.getStyle("height"))<100&&ge.setBaseStyle("height","200px"),setTimeout(()=>{h.mode="select"},50),h.history.resume()},{once:!0})}})}const L=Wt(tn(b)),T=Wt(tn(g)),E=()=>$t(this,null,function*(){document.readyState!=="complete"&&(yield new Promise(j=>{window.addEventListener("load",j)}));const O=300,F=400;yield at(),T.update();const B=L.width,N=L.height,_=T.width/d.canvasProps.scale,G=T.height/d.canvasProps.scale;d.canvasProps.scale=Math.min(B/(_+O*2),N/(G+F*2)),d.canvasProps.translateX=0,d.canvasProps.translateY=0,yield at();const H=d.canvasProps.scale;T.update();const z=L.top-T.top+F*H;z!==0&&(d.canvasProps.translateY=z/H),d.canvasProps.settingCanvas=!1});Ft(()=>{E();const O=b.value,F=g.value;tl(d.canvasProps,F,O),l.value=!0}),x({setScaleAndTranslate:E,resetZoom:()=>{d.canvasProps.scale=1,d.canvasProps.translateX=0,d.canvasProps.translateY=0},freemoveCanvas:(O,F)=>{d.canvasProps.translateX+=O,d.canvasProps.translateY+=F},moveCanvas:O=>{O==="up"?d.canvasProps.translateY-=20:O==="down"?d.canvasProps.translateY+=20:O==="right"?d.canvasProps.translateX+=20:O==="left"&&(d.canvasProps.translateX-=20)},zoomIn:()=>{d.canvasProps.scale+=.1},zoomOut:()=>{d.canvasProps.scale-=.1}}),rn(()=>{h.deviceBreakpoints.map(O=>O.visible),!d.canvasProps.settingCanvas&&E()}),rn(()=>{M(h.mode)});function M(O){if(!b.value)return;const F=b.value;O==="text"?F.style.cursor="text":["container","image","html"].includes(O)?F.style.cursor="crosshair":F.style.cursor="default"}const R=O=>{const F=document.elementFromPoint(O.clientX,O.clientY);F!=null&&F.classList.contains("canvas-container")&&h.clearSelection()};return xi(()=>{Lt.fetch()}),(O,F)=>(te(),pe("div",{ref_key:"canvasContainer",ref:b,onClick:R},[Y("div",{class:"overlay absolute",id:"overlay",ref_key:"overlay",ref:u},null,512),se(nl),P(y)?(te(),pe("div",Gl)):ve("",!0),Y("div",{class:"fixed flex gap-40",ref_key:"canvas",ref:g,style:He({transform:`scale(${$.canvasProps.scale}) translate(${$.canvasProps.translateX}px, ${$.canvasProps.translateY}px)`})},[k.value.length>0?(te(!0),pe(Je,{key:0},st(v.value,B=>{var N,_;return te(),pe("div",{class:"canvas relative flex h-full rounded-md bg-white shadow-2xl",style:He(ni(Qt({},$.canvasStyles),{background:$.canvasProps.background,width:`${B.width}px`,transform:`translate(${(N=r.find(G=>G.id.value==B.device))==null?void 0:N.ofsetFinalX.value}px, ${(_=r.find(G=>G.id.value==B.device))==null?void 0:_.ofsetFinalY.value}px)`})),id:B.device,key:B.device},[Y("div",Yl,[Y("div",Xl,[Ie(Y("div",{class:"w-[25px] grid place-items-center h-[25px] bg-[#A9A9A9] rounded-sm",onClick:Ve(G=>B.visible=!B.visible,["stop"])},[se(P(zn),{name:B.icon,class:"h-[16px] w-[16px] text-white"},null,8,["name"])],8,Zl),[[Oe,!$.canvasProps.scaling&&!$.canvasProps.panning]]),Y("div",Ql,qe(B.displayName)+" "+qe(B.width),1)]),Y("div",Jl,[ql,Y("div",{class:"grid place-items-center w-[25px] h-[25px] bg-[#A9A9A9] rounded-sm hover:cursor-pointer",onClick:Ve(()=>{B.device==="desktop"?e():B.visible=!B.visible},["stop"])},[Ie(se(P($r),{class:"w-[16px] h-[16px] text-white"},null,512),[[Oe,B.device=="desktop"]]),Ie(se(P(Qa),{class:"w-[16px] h-[16px] text-white"},null,512),[[Oe,B.device!="desktop"]])],8,ec)])]),l.value?(te(),me(Mi,{key:0,block:$.block,breakpoint:B.device,data:P(h).pageData},null,8,["block","breakpoint","data"])):ve("",!0)],12,Kl)}),128)):ve("",!0)],4),Ie(Y("div",tc,[Vt(qe(Math.round($.canvasProps.scale*100)+"%")+" ",1),Y("div",{class:"ml-2 cursor-pointer",onClick:E},ic)],512),[[Oe,!$.canvasProps.panning]])],512))}});function Mr($,x=!1){const d=$.indexOf("```");let h;if(d===-1)h=$;else{const l=$.lastIndexOf("```");h=$.substring(d+3,l)}const b=new DOMParser().parseFromString(h,"text/html"),{body:g}=b;return gi(g,x)}function gi($,x=!1){const d=$.tagName.toLowerCase(),h={element:d};if(d==="body"){if(x)return gi($.children[0]);h.originalElement="body",h.element="div"}if($.style.length){h.styles={};for(let b=0;b<$.style.length;b++){const g=$.style[b];h.styles[g]=$.style.getPropertyValue(g)}}if($.attributes.length){h.attributes={};for(let b=0;b<$.attributes.length;b++){const g=$.attributes[b];g.name!=="style"&&(h.attributes[g.name]=g.value)}}if($.classList.length){h.classes=[];for(let b=0;b<$.classList.length;b++)h.classes.push($.classList[b])}if($.hasChildNodes()){h.children=[];const{childNodes:b}=$;for(let g=0;g<b.length;g++){const l=b[g];l.nodeType===Node.ELEMENT_NODE?h.children.push(gi(l)):l.nodeType===Node.TEXT_NODE&&(h.innerHTML=(l.textContent||"").trim())}}return h}window.convertHTMLToBlocks=Mr;var Rr={exports:{}};const rc=fr(Ga);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Ui($,x){var d=Object.keys($);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols($);x&&(h=h.filter(function(b){return Object.getOwnPropertyDescriptor($,b).enumerable})),d.push.apply(d,h)}return d}function Pt($){for(var x=1;x<arguments.length;x++){var d=arguments[x]!=null?arguments[x]:{};x%2?Ui(Object(d),!0).forEach(function(h){oc($,h,d[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(d)):Ui(Object(d)).forEach(function(h){Object.defineProperty($,h,Object.getOwnPropertyDescriptor(d,h))})}return $}function _n($){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_n=function(x){return typeof x}:_n=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},_n($)}function oc($,x,d){return x in $?Object.defineProperty($,x,{value:d,enumerable:!0,configurable:!0,writable:!0}):$[x]=d,$}function Tt(){return Tt=Object.assign||function($){for(var x=1;x<arguments.length;x++){var d=arguments[x];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&($[h]=d[h])}return $},Tt.apply(this,arguments)}function sc($,x){if($==null)return{};var d={},h=Object.keys($),b,g;for(g=0;g<h.length;g++)b=h[g],!(x.indexOf(b)>=0)&&(d[b]=$[b]);return d}function ac($,x){if($==null)return{};var d=sc($,x),h,b;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols($);for(b=0;b<g.length;b++)h=g[b],!(x.indexOf(h)>=0)&&(!Object.prototype.propertyIsEnumerable.call($,h)||(d[h]=$[h]))}return d}function lc($){return cc($)||uc($)||dc($)||hc()}function cc($){if(Array.isArray($))return vi($)}function uc($){if(typeof Symbol!="undefined"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}function dc($,x){if(!!$){if(typeof $=="string")return vi($,x);var d=Object.prototype.toString.call($).slice(8,-1);if(d==="Object"&&$.constructor&&(d=$.constructor.name),d==="Map"||d==="Set")return Array.from($);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return vi($,x)}}function vi($,x){(x==null||x>$.length)&&(x=$.length);for(var d=0,h=new Array(x);d<x;d++)h[d]=$[d];return h}function hc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fc="1.14.0";function Ht($){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match($)}var Ut=Ht(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Rn=Ht(/Edge/i),ji=Ht(/firefox/i),$n=Ht(/safari/i)&&!Ht(/chrome/i)&&!Ht(/android/i),Ir=Ht(/iP(ad|od|hone)/i),pc=Ht(/chrome/i)&&Ht(/android/i),Or={capture:!1,passive:!1};function Pe($,x,d){$.addEventListener(x,d,!Ut&&Or)}function Fe($,x,d){$.removeEventListener(x,d,!Ut&&Or)}function Xn($,x){if(!!x){if(x[0]===">"&&(x=x.substring(1)),$)try{if($.matches)return $.matches(x);if($.msMatchesSelector)return $.msMatchesSelector(x);if($.webkitMatchesSelector)return $.webkitMatchesSelector(x)}catch(d){return!1}return!1}}function gc($){return $.host&&$!==document&&$.host.nodeType?$.host:$.parentNode}function It($,x,d,h){if($){d=d||document;do{if(x!=null&&(x[0]===">"?$.parentNode===d&&Xn($,x):Xn($,x))||h&&$===d)return $;if($===d)break}while($=gc($))}return null}var Gi=/\s+/g;function Qe($,x,d){if($&&x)if($.classList)$.classList[d?"add":"remove"](x);else{var h=(" "+$.className+" ").replace(Gi," ").replace(" "+x+" "," ");$.className=(h+(d?" "+x:"")).replace(Gi," ")}}function be($,x,d){var h=$&&$.style;if(h){if(d===void 0)return document.defaultView&&document.defaultView.getComputedStyle?d=document.defaultView.getComputedStyle($,""):$.currentStyle&&(d=$.currentStyle),x===void 0?d:d[x];!(x in h)&&x.indexOf("webkit")===-1&&(x="-webkit-"+x),h[x]=d+(typeof d=="string"?"":"px")}}function nn($,x){var d="";if(typeof $=="string")d=$;else do{var h=be($,"transform");h&&h!=="none"&&(d=h+" "+d)}while(!x&&($=$.parentNode));var b=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return b&&new b(d)}function Dr($,x,d){if($){var h=$.getElementsByTagName(x),b=0,g=h.length;if(d)for(;b<g;b++)d(h[b],b);return h}return[]}function Bt(){var $=document.scrollingElement;return $||document.documentElement}function Xe($,x,d,h,b){if(!(!$.getBoundingClientRect&&$!==window)){var g,l,u,o,a,t,n;if($!==window&&$.parentNode&&$!==Bt()?(g=$.getBoundingClientRect(),l=g.top,u=g.left,o=g.bottom,a=g.right,t=g.height,n=g.width):(l=0,u=0,o=window.innerHeight,a=window.innerWidth,t=window.innerHeight,n=window.innerWidth),(x||d)&&$!==window&&(b=b||$.parentNode,!Ut))do if(b&&b.getBoundingClientRect&&(be(b,"transform")!=="none"||d&&be(b,"position")!=="static")){var r=b.getBoundingClientRect();l-=r.top+parseInt(be(b,"border-top-width")),u-=r.left+parseInt(be(b,"border-left-width")),o=l+g.height,a=u+g.width;break}while(b=b.parentNode);if(h&&$!==window){var e=nn(b||$),i=e&&e.a,s=e&&e.d;e&&(l/=s,u/=i,n/=i,t/=s,o=l+t,a=u+n)}return{top:l,left:u,bottom:o,right:a,width:n,height:t}}}function Ki($,x,d){for(var h=Zt($,!0),b=Xe($)[x];h;){var g=Xe(h)[d],l=void 0;if(d==="top"||d==="left"?l=b>=g:l=b<=g,!l)return h;if(h===Bt())break;h=Zt(h,!1)}return!1}function fn($,x,d,h){for(var b=0,g=0,l=$.children;g<l.length;){if(l[g].style.display!=="none"&&l[g]!==Ae.ghost&&(h||l[g]!==Ae.dragged)&&It(l[g],d.draggable,$,!1)){if(b===x)return l[g];b++}g++}return null}function Ri($,x){for(var d=$.lastElementChild;d&&(d===Ae.ghost||be(d,"display")==="none"||x&&!Xn(d,x));)d=d.previousElementSibling;return d||null}function nt($,x){var d=0;if(!$||!$.parentNode)return-1;for(;$=$.previousElementSibling;)$.nodeName.toUpperCase()!=="TEMPLATE"&&$!==Ae.clone&&(!x||Xn($,x))&&d++;return d}function Yi($){var x=0,d=0,h=Bt();if($)do{var b=nn($),g=b.a,l=b.d;x+=$.scrollLeft*g,d+=$.scrollTop*l}while($!==h&&($=$.parentNode));return[x,d]}function vc($,x){for(var d in $)if(!!$.hasOwnProperty(d)){for(var h in x)if(x.hasOwnProperty(h)&&x[h]===$[d][h])return Number(d)}return-1}function Zt($,x){if(!$||!$.getBoundingClientRect)return Bt();var d=$,h=!1;do if(d.clientWidth<d.scrollWidth||d.clientHeight<d.scrollHeight){var b=be(d);if(d.clientWidth<d.scrollWidth&&(b.overflowX=="auto"||b.overflowX=="scroll")||d.clientHeight<d.scrollHeight&&(b.overflowY=="auto"||b.overflowY=="scroll")){if(!d.getBoundingClientRect||d===document.body)return Bt();if(h||x)return d;h=!0}}while(d=d.parentNode);return Bt()}function mc($,x){if($&&x)for(var d in x)x.hasOwnProperty(d)&&($[d]=x[d]);return $}function ri($,x){return Math.round($.top)===Math.round(x.top)&&Math.round($.left)===Math.round(x.left)&&Math.round($.height)===Math.round(x.height)&&Math.round($.width)===Math.round(x.width)}var kn;function Fr($,x){return function(){if(!kn){var d=arguments,h=this;d.length===1?$.call(h,d[0]):$.apply(h,d),kn=setTimeout(function(){kn=void 0},x)}}}function yc(){clearTimeout(kn),kn=void 0}function Br($,x,d){$.scrollLeft+=x,$.scrollTop+=d}function Ii($){var x=window.Polymer,d=window.jQuery||window.Zepto;return x&&x.dom?x.dom($).cloneNode(!0):d?d($).clone(!0)[0]:$.cloneNode(!0)}function Xi($,x){be($,"position","absolute"),be($,"top",x.top),be($,"left",x.left),be($,"width",x.width),be($,"height",x.height)}function oi($){be($,"position",""),be($,"top",""),be($,"left",""),be($,"width",""),be($,"height","")}var pt="Sortable"+new Date().getTime();function bc(){var $=[],x;return{captureAnimationState:function(){if($=[],!!this.options.animation){var h=[].slice.call(this.el.children);h.forEach(function(b){if(!(be(b,"display")==="none"||b===Ae.ghost)){$.push({target:b,rect:Xe(b)});var g=Pt({},$[$.length-1].rect);if(b.thisAnimationDuration){var l=nn(b,!0);l&&(g.top-=l.f,g.left-=l.e)}b.fromRect=g}})}},addAnimationState:function(h){$.push(h)},removeAnimationState:function(h){$.splice(vc($,{target:h}),1)},animateAll:function(h){var b=this;if(!this.options.animation){clearTimeout(x),typeof h=="function"&&h();return}var g=!1,l=0;$.forEach(function(u){var o=0,a=u.target,t=a.fromRect,n=Xe(a),r=a.prevFromRect,e=a.prevToRect,i=u.rect,s=nn(a,!0);s&&(n.top-=s.f,n.left-=s.e),a.toRect=n,a.thisAnimationDuration&&ri(r,n)&&!ri(t,n)&&(i.top-n.top)/(i.left-n.left)===(t.top-n.top)/(t.left-n.left)&&(o=xc(i,r,e,b.options)),ri(n,t)||(a.prevFromRect=t,a.prevToRect=n,o||(o=b.options.animation),b.animate(a,i,n,o)),o&&(g=!0,l=Math.max(l,o),clearTimeout(a.animationResetTimer),a.animationResetTimer=setTimeout(function(){a.animationTime=0,a.prevFromRect=null,a.fromRect=null,a.prevToRect=null,a.thisAnimationDuration=null},o),a.thisAnimationDuration=o)}),clearTimeout(x),g?x=setTimeout(function(){typeof h=="function"&&h()},l):typeof h=="function"&&h(),$=[]},animate:function(h,b,g,l){if(l){be(h,"transition",""),be(h,"transform","");var u=nn(this.el),o=u&&u.a,a=u&&u.d,t=(b.left-g.left)/(o||1),n=(b.top-g.top)/(a||1);h.animatingX=!!t,h.animatingY=!!n,be(h,"transform","translate3d("+t+"px,"+n+"px,0)"),this.forRepaintDummy=wc(h),be(h,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),be(h,"transform","translate3d(0,0,0)"),typeof h.animated=="number"&&clearTimeout(h.animated),h.animated=setTimeout(function(){be(h,"transition",""),be(h,"transform",""),h.animated=!1,h.animatingX=!1,h.animatingY=!1},l)}}}}function wc($){return $.offsetWidth}function xc($,x,d,h){return Math.sqrt(Math.pow(x.top-$.top,2)+Math.pow(x.left-$.left,2))/Math.sqrt(Math.pow(x.top-d.top,2)+Math.pow(x.left-d.left,2))*h.animation}var an=[],si={initializeByDefault:!0},In={mount:function(x){for(var d in si)si.hasOwnProperty(d)&&!(d in x)&&(x[d]=si[d]);an.forEach(function(h){if(h.pluginName===x.pluginName)throw"Sortable: Cannot mount plugin ".concat(x.pluginName," more than once")}),an.push(x)},pluginEvent:function(x,d,h){var b=this;this.eventCanceled=!1,h.cancel=function(){b.eventCanceled=!0};var g=x+"Global";an.forEach(function(l){!d[l.pluginName]||(d[l.pluginName][g]&&d[l.pluginName][g](Pt({sortable:d},h)),d.options[l.pluginName]&&d[l.pluginName][x]&&d[l.pluginName][x](Pt({sortable:d},h)))})},initializePlugins:function(x,d,h,b){an.forEach(function(u){var o=u.pluginName;if(!(!x.options[o]&&!u.initializeByDefault)){var a=new u(x,d,x.options);a.sortable=x,a.options=x.options,x[o]=a,Tt(h,a.defaults)}});for(var g in x.options)if(!!x.options.hasOwnProperty(g)){var l=this.modifyOption(x,g,x.options[g]);typeof l!="undefined"&&(x.options[g]=l)}},getEventProperties:function(x,d){var h={};return an.forEach(function(b){typeof b.eventProperties=="function"&&Tt(h,b.eventProperties.call(d[b.pluginName],x))}),h},modifyOption:function(x,d,h){var b;return an.forEach(function(g){!x[g.pluginName]||g.optionListeners&&typeof g.optionListeners[d]=="function"&&(b=g.optionListeners[d].call(x[g.pluginName],h))}),b}};function bn($){var x=$.sortable,d=$.rootEl,h=$.name,b=$.targetEl,g=$.cloneEl,l=$.toEl,u=$.fromEl,o=$.oldIndex,a=$.newIndex,t=$.oldDraggableIndex,n=$.newDraggableIndex,r=$.originalEvent,e=$.putSortable,i=$.extraEventProperties;if(x=x||d&&d[pt],!!x){var s,c=x.options,f="on"+h.charAt(0).toUpperCase()+h.substr(1);window.CustomEvent&&!Ut&&!Rn?s=new CustomEvent(h,{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent(h,!0,!0)),s.to=l||d,s.from=u||d,s.item=b||d,s.clone=g,s.oldIndex=o,s.newIndex=a,s.oldDraggableIndex=t,s.newDraggableIndex=n,s.originalEvent=r,s.pullMode=e?e.lastPutMode:void 0;var p=Pt(Pt({},i),In.getEventProperties(h,x));for(var k in p)s[k]=p[k];d&&d.dispatchEvent(s),c[f]&&c[f].call(x,s)}}var Sc=["evt"],wt=function(x,d){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=h.evt,g=ac(h,Sc);In.pluginEvent.bind(Ae)(x,d,Pt({dragEl:de,parentEl:et,ghostEl:Me,rootEl:Ye,nextEl:en,lastDownEl:Un,cloneEl:tt,cloneHidden:Xt,dragStarted:wn,putSortable:dt,activeSortable:Ae.active,originalEvent:b,oldIndex:hn,oldDraggableIndex:An,newIndex:At,newDraggableIndex:Kt,hideGhostForTarget:Hr,unhideGhostForTarget:Vr,cloneNowHidden:function(){Xt=!0},cloneNowShown:function(){Xt=!1},dispatchSortableEvent:function(u){bt({sortable:d,name:u,originalEvent:b})}},g))};function bt($){bn(Pt({putSortable:dt,cloneEl:tt,targetEl:de,rootEl:Ye,oldIndex:hn,oldDraggableIndex:An,newIndex:At,newDraggableIndex:Kt},$))}var de,et,Me,Ye,en,Un,tt,Xt,hn,At,An,Kt,Bn,dt,dn=!1,Zn=!1,Qn=[],Jt,Mt,ai,li,Zi,Qi,wn,ln,En,Ln=!1,Pn=!1,jn,ht,ci=[],mi=!1,Jn=[],ti=typeof document!="undefined",Nn=Ir,Ji=Rn||Ut?"cssFloat":"float",Cc=ti&&!pc&&!Ir&&"draggable"in document.createElement("div"),Pr=function(){if(!!ti){if(Ut)return!1;var $=document.createElement("x");return $.style.cssText="pointer-events:auto",$.style.pointerEvents==="auto"}}(),Nr=function(x,d){var h=be(x),b=parseInt(h.width)-parseInt(h.paddingLeft)-parseInt(h.paddingRight)-parseInt(h.borderLeftWidth)-parseInt(h.borderRightWidth),g=fn(x,0,d),l=fn(x,1,d),u=g&&be(g),o=l&&be(l),a=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+Xe(g).width,t=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+Xe(l).width;if(h.display==="flex")return h.flexDirection==="column"||h.flexDirection==="column-reverse"?"vertical":"horizontal";if(h.display==="grid")return h.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(g&&u.float&&u.float!=="none"){var n=u.float==="left"?"left":"right";return l&&(o.clear==="both"||o.clear===n)?"vertical":"horizontal"}return g&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||a>=b&&h[Ji]==="none"||l&&h[Ji]==="none"&&a+t>b)?"vertical":"horizontal"},$c=function(x,d,h){var b=h?x.left:x.top,g=h?x.right:x.bottom,l=h?x.width:x.height,u=h?d.left:d.top,o=h?d.right:d.bottom,a=h?d.width:d.height;return b===u||g===o||b+l/2===u+a/2},kc=function(x,d){var h;return Qn.some(function(b){var g=b[pt].options.emptyInsertThreshold;if(!(!g||Ri(b))){var l=Xe(b),u=x>=l.left-g&&x<=l.right+g,o=d>=l.top-g&&d<=l.bottom+g;if(u&&o)return h=b}}),h},Wr=function(x){function d(g,l){return function(u,o,a,t){var n=u.options.group.name&&o.options.group.name&&u.options.group.name===o.options.group.name;if(g==null&&(l||n))return!0;if(g==null||g===!1)return!1;if(l&&g==="clone")return g;if(typeof g=="function")return d(g(u,o,a,t),l)(u,o,a,t);var r=(l?u:o).options.group.name;return g===!0||typeof g=="string"&&g===r||g.join&&g.indexOf(r)>-1}}var h={},b=x.group;(!b||_n(b)!="object")&&(b={name:b}),h.name=b.name,h.checkPull=d(b.pull,!0),h.checkPut=d(b.put),h.revertClone=b.revertClone,x.group=h},Hr=function(){!Pr&&Me&&be(Me,"display","none")},Vr=function(){!Pr&&Me&&be(Me,"display","")};ti&&document.addEventListener("click",function($){if(Zn)return $.preventDefault(),$.stopPropagation&&$.stopPropagation(),$.stopImmediatePropagation&&$.stopImmediatePropagation(),Zn=!1,!1},!0);var qt=function(x){if(de){x=x.touches?x.touches[0]:x;var d=kc(x.clientX,x.clientY);if(d){var h={};for(var b in x)x.hasOwnProperty(b)&&(h[b]=x[b]);h.target=h.rootEl=d,h.preventDefault=void 0,h.stopPropagation=void 0,d[pt]._onDragOver(h)}}},Ac=function(x){de&&de.parentNode[pt]._isOutsideThisEl(x.target)};function Ae($,x){if(!($&&$.nodeType&&$.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call($));this.el=$,this.options=x=Tt({},x),$[pt]=this;var d={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test($.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Nr($,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,u){l.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Ae.supportPointer!==!1&&"PointerEvent"in window&&!$n,emptyInsertThreshold:5};In.initializePlugins(this,$,d);for(var h in d)!(h in x)&&(x[h]=d[h]);Wr(x);for(var b in this)b.charAt(0)==="_"&&typeof this[b]=="function"&&(this[b]=this[b].bind(this));this.nativeDraggable=x.forceFallback?!1:Cc,this.nativeDraggable&&(this.options.touchStartThreshold=1),x.supportPointer?Pe($,"pointerdown",this._onTapStart):(Pe($,"mousedown",this._onTapStart),Pe($,"touchstart",this._onTapStart)),this.nativeDraggable&&(Pe($,"dragover",this),Pe($,"dragenter",this)),Qn.push(this.el),x.store&&x.store.get&&this.sort(x.store.get(this)||[]),Tt(this,bc())}Ae.prototype={constructor:Ae,_isOutsideThisEl:function(x){!this.el.contains(x)&&x!==this.el&&(ln=null)},_getDirection:function(x,d){return typeof this.options.direction=="function"?this.options.direction.call(this,x,d,de):this.options.direction},_onTapStart:function(x){if(!!x.cancelable){var d=this,h=this.el,b=this.options,g=b.preventOnFilter,l=x.type,u=x.touches&&x.touches[0]||x.pointerType&&x.pointerType==="touch"&&x,o=(u||x).target,a=x.target.shadowRoot&&(x.path&&x.path[0]||x.composedPath&&x.composedPath()[0])||o,t=b.filter;if(Dc(h),!de&&!(/mousedown|pointerdown/.test(l)&&x.button!==0||b.disabled)&&!a.isContentEditable&&!(!this.nativeDraggable&&$n&&o&&o.tagName.toUpperCase()==="SELECT")&&(o=It(o,b.draggable,h,!1),!(o&&o.animated)&&Un!==o)){if(hn=nt(o),An=nt(o,b.draggable),typeof t=="function"){if(t.call(this,x,o,this)){bt({sortable:d,rootEl:a,name:"filter",targetEl:o,toEl:h,fromEl:h}),wt("filter",d,{evt:x}),g&&x.cancelable&&x.preventDefault();return}}else if(t&&(t=t.split(",").some(function(n){if(n=It(a,n.trim(),h,!1),n)return bt({sortable:d,rootEl:n,name:"filter",targetEl:o,fromEl:h,toEl:h}),wt("filter",d,{evt:x}),!0}),t)){g&&x.cancelable&&x.preventDefault();return}b.handle&&!It(a,b.handle,h,!1)||this._prepareDragStart(x,u,o)}}},_prepareDragStart:function(x,d,h){var b=this,g=b.el,l=b.options,u=g.ownerDocument,o;if(h&&!de&&h.parentNode===g){var a=Xe(h);if(Ye=g,de=h,et=de.parentNode,en=de.nextSibling,Un=h,Bn=l.group,Ae.dragged=de,Jt={target:de,clientX:(d||x).clientX,clientY:(d||x).clientY},Zi=Jt.clientX-a.left,Qi=Jt.clientY-a.top,this._lastX=(d||x).clientX,this._lastY=(d||x).clientY,de.style["will-change"]="all",o=function(){if(wt("delayEnded",b,{evt:x}),Ae.eventCanceled){b._onDrop();return}b._disableDelayedDragEvents(),!ji&&b.nativeDraggable&&(de.draggable=!0),b._triggerDragStart(x,d),bt({sortable:b,name:"choose",originalEvent:x}),Qe(de,l.chosenClass,!0)},l.ignore.split(",").forEach(function(t){Dr(de,t.trim(),ui)}),Pe(u,"dragover",qt),Pe(u,"mousemove",qt),Pe(u,"touchmove",qt),Pe(u,"mouseup",b._onDrop),Pe(u,"touchend",b._onDrop),Pe(u,"touchcancel",b._onDrop),ji&&this.nativeDraggable&&(this.options.touchStartThreshold=4,de.draggable=!0),wt("delayStart",this,{evt:x}),l.delay&&(!l.delayOnTouchOnly||d)&&(!this.nativeDraggable||!(Rn||Ut))){if(Ae.eventCanceled){this._onDrop();return}Pe(u,"mouseup",b._disableDelayedDrag),Pe(u,"touchend",b._disableDelayedDrag),Pe(u,"touchcancel",b._disableDelayedDrag),Pe(u,"mousemove",b._delayedDragTouchMoveHandler),Pe(u,"touchmove",b._delayedDragTouchMoveHandler),l.supportPointer&&Pe(u,"pointermove",b._delayedDragTouchMoveHandler),b._dragStartTimer=setTimeout(o,l.delay)}else o()}},_delayedDragTouchMoveHandler:function(x){var d=x.touches?x.touches[0]:x;Math.max(Math.abs(d.clientX-this._lastX),Math.abs(d.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){de&&ui(de),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var x=this.el.ownerDocument;Fe(x,"mouseup",this._disableDelayedDrag),Fe(x,"touchend",this._disableDelayedDrag),Fe(x,"touchcancel",this._disableDelayedDrag),Fe(x,"mousemove",this._delayedDragTouchMoveHandler),Fe(x,"touchmove",this._delayedDragTouchMoveHandler),Fe(x,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(x,d){d=d||x.pointerType=="touch"&&x,!this.nativeDraggable||d?this.options.supportPointer?Pe(document,"pointermove",this._onTouchMove):d?Pe(document,"touchmove",this._onTouchMove):Pe(document,"mousemove",this._onTouchMove):(Pe(de,"dragend",this),Pe(Ye,"dragstart",this._onDragStart));try{document.selection?Gn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(h){}},_dragStarted:function(x,d){if(dn=!1,Ye&&de){wt("dragStarted",this,{evt:d}),this.nativeDraggable&&Pe(document,"dragover",Ac);var h=this.options;!x&&Qe(de,h.dragClass,!1),Qe(de,h.ghostClass,!0),Ae.active=this,x&&this._appendGhost(),bt({sortable:this,name:"start",originalEvent:d})}else this._nulling()},_emulateDragOver:function(){if(Mt){this._lastX=Mt.clientX,this._lastY=Mt.clientY,Hr();for(var x=document.elementFromPoint(Mt.clientX,Mt.clientY),d=x;x&&x.shadowRoot&&(x=x.shadowRoot.elementFromPoint(Mt.clientX,Mt.clientY),x!==d);)d=x;if(de.parentNode[pt]._isOutsideThisEl(x),d)do{if(d[pt]){var h=void 0;if(h=d[pt]._onDragOver({clientX:Mt.clientX,clientY:Mt.clientY,target:x,rootEl:d}),h&&!this.options.dragoverBubble)break}x=d}while(d=d.parentNode);Vr()}},_onTouchMove:function(x){if(Jt){var d=this.options,h=d.fallbackTolerance,b=d.fallbackOffset,g=x.touches?x.touches[0]:x,l=Me&&nn(Me,!0),u=Me&&l&&l.a,o=Me&&l&&l.d,a=Nn&&ht&&Yi(ht),t=(g.clientX-Jt.clientX+b.x)/(u||1)+(a?a[0]-ci[0]:0)/(u||1),n=(g.clientY-Jt.clientY+b.y)/(o||1)+(a?a[1]-ci[1]:0)/(o||1);if(!Ae.active&&!dn){if(h&&Math.max(Math.abs(g.clientX-this._lastX),Math.abs(g.clientY-this._lastY))<h)return;this._onDragStart(x,!0)}if(Me){l?(l.e+=t-(ai||0),l.f+=n-(li||0)):l={a:1,b:0,c:0,d:1,e:t,f:n};var r="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");be(Me,"webkitTransform",r),be(Me,"mozTransform",r),be(Me,"msTransform",r),be(Me,"transform",r),ai=t,li=n,Mt=g}x.cancelable&&x.preventDefault()}},_appendGhost:function(){if(!Me){var x=this.options.fallbackOnBody?document.body:Ye,d=Xe(de,!0,Nn,!0,x),h=this.options;if(Nn){for(ht=x;be(ht,"position")==="static"&&be(ht,"transform")==="none"&&ht!==document;)ht=ht.parentNode;ht!==document.body&&ht!==document.documentElement?(ht===document&&(ht=Bt()),d.top+=ht.scrollTop,d.left+=ht.scrollLeft):ht=Bt(),ci=Yi(ht)}Me=de.cloneNode(!0),Qe(Me,h.ghostClass,!1),Qe(Me,h.fallbackClass,!0),Qe(Me,h.dragClass,!0),be(Me,"transition",""),be(Me,"transform",""),be(Me,"box-sizing","border-box"),be(Me,"margin",0),be(Me,"top",d.top),be(Me,"left",d.left),be(Me,"width",d.width),be(Me,"height",d.height),be(Me,"opacity","0.8"),be(Me,"position",Nn?"absolute":"fixed"),be(Me,"zIndex","100000"),be(Me,"pointerEvents","none"),Ae.ghost=Me,x.appendChild(Me),be(Me,"transform-origin",Zi/parseInt(Me.style.width)*100+"% "+Qi/parseInt(Me.style.height)*100+"%")}},_onDragStart:function(x,d){var h=this,b=x.dataTransfer,g=h.options;if(wt("dragStart",this,{evt:x}),Ae.eventCanceled){this._onDrop();return}wt("setupClone",this),Ae.eventCanceled||(tt=Ii(de),tt.draggable=!1,tt.style["will-change"]="",this._hideClone(),Qe(tt,this.options.chosenClass,!1),Ae.clone=tt),h.cloneId=Gn(function(){wt("clone",h),!Ae.eventCanceled&&(h.options.removeCloneOnHide||Ye.insertBefore(tt,de),h._hideClone(),bt({sortable:h,name:"clone"}))}),!d&&Qe(de,g.dragClass,!0),d?(Zn=!0,h._loopId=setInterval(h._emulateDragOver,50)):(Fe(document,"mouseup",h._onDrop),Fe(document,"touchend",h._onDrop),Fe(document,"touchcancel",h._onDrop),b&&(b.effectAllowed="move",g.setData&&g.setData.call(h,b,de)),Pe(document,"drop",h),be(de,"transform","translateZ(0)")),dn=!0,h._dragStartId=Gn(h._dragStarted.bind(h,d,x)),Pe(document,"selectstart",h),wn=!0,$n&&be(document.body,"user-select","none")},_onDragOver:function(x){var d=this.el,h=x.target,b,g,l,u=this.options,o=u.group,a=Ae.active,t=Bn===o,n=u.sort,r=dt||a,e,i=this,s=!1;if(mi)return;function c(F,B){wt(F,i,Pt({evt:x,isOwner:t,axis:e?"vertical":"horizontal",revert:l,dragRect:b,targetRect:g,canSort:n,fromSortable:r,target:h,completed:p,onMove:function(_,G){return Wn(Ye,d,de,b,_,Xe(_),x,G)},changed:k},B))}function f(){c("dragOverAnimationCapture"),i.captureAnimationState(),i!==r&&r.captureAnimationState()}function p(F){return c("dragOverCompleted",{insertion:F}),F&&(t?a._hideClone():a._showClone(i),i!==r&&(Qe(de,dt?dt.options.ghostClass:a.options.ghostClass,!1),Qe(de,u.ghostClass,!0)),dt!==i&&i!==Ae.active?dt=i:i===Ae.active&&dt&&(dt=null),r===i&&(i._ignoreWhileAnimating=h),i.animateAll(function(){c("dragOverAnimationComplete"),i._ignoreWhileAnimating=null}),i!==r&&(r.animateAll(),r._ignoreWhileAnimating=null)),(h===de&&!de.animated||h===d&&!h.animated)&&(ln=null),!u.dragoverBubble&&!x.rootEl&&h!==document&&(de.parentNode[pt]._isOutsideThisEl(x.target),!F&&qt(x)),!u.dragoverBubble&&x.stopPropagation&&x.stopPropagation(),s=!0}function k(){At=nt(de),Kt=nt(de,u.draggable),bt({sortable:i,name:"change",toEl:d,newIndex:At,newDraggableIndex:Kt,originalEvent:x})}if(x.preventDefault!==void 0&&x.cancelable&&x.preventDefault(),h=It(h,u.draggable,d,!0),c("dragOver"),Ae.eventCanceled)return s;if(de.contains(x.target)||h.animated&&h.animatingX&&h.animatingY||i._ignoreWhileAnimating===h)return p(!1);if(Zn=!1,a&&!u.disabled&&(t?n||(l=et!==Ye):dt===this||(this.lastPutMode=Bn.checkPull(this,a,de,x))&&o.checkPut(this,a,de,x))){if(e=this._getDirection(x,h)==="vertical",b=Xe(de),c("dragOverValid"),Ae.eventCanceled)return s;if(l)return et=Ye,f(),this._hideClone(),c("revert"),Ae.eventCanceled||(en?Ye.insertBefore(de,en):Ye.appendChild(de)),p(!0);var y=Ri(d,u.draggable);if(!y||Mc(x,e,this)&&!y.animated){if(y===de)return p(!1);if(y&&d===x.target&&(h=y),h&&(g=Xe(h)),Wn(Ye,d,de,b,h,g,x,!!h)!==!1)return f(),d.appendChild(de),et=d,k(),p(!0)}else if(y&&Tc(x,e,this)){var v=fn(d,0,u,!0);if(v===de)return p(!1);if(h=v,g=Xe(h),Wn(Ye,d,de,b,h,g,x,!1)!==!1)return f(),d.insertBefore(de,v),et=d,k(),p(!0)}else if(h.parentNode===d){g=Xe(h);var m=0,L,T=de.parentNode!==d,E=!$c(de.animated&&de.toRect||b,h.animated&&h.toRect||g,e),C=e?"top":"left",S=Ki(h,"top","top")||Ki(de,"top","top"),I=S?S.scrollTop:void 0;ln!==h&&(L=g[C],Ln=!1,Pn=!E&&u.invertSwap||T),m=Rc(x,h,g,e,E?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,Pn,ln===h);var A;if(m!==0){var w=nt(de);do w-=m,A=et.children[w];while(A&&(be(A,"display")==="none"||A===Me))}if(m===0||A===h)return p(!1);ln=h,En=m;var M=h.nextElementSibling,R=!1;R=m===1;var O=Wn(Ye,d,de,b,h,g,x,R);if(O!==!1)return(O===1||O===-1)&&(R=O===1),mi=!0,setTimeout(Lc,30),f(),R&&!M?d.appendChild(de):h.parentNode.insertBefore(de,R?M:h),S&&Br(S,0,I-S.scrollTop),et=de.parentNode,L!==void 0&&!Pn&&(jn=Math.abs(L-Xe(h)[C])),k(),p(!0)}if(d.contains(de))return p(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Fe(document,"mousemove",this._onTouchMove),Fe(document,"touchmove",this._onTouchMove),Fe(document,"pointermove",this._onTouchMove),Fe(document,"dragover",qt),Fe(document,"mousemove",qt),Fe(document,"touchmove",qt)},_offUpEvents:function(){var x=this.el.ownerDocument;Fe(x,"mouseup",this._onDrop),Fe(x,"touchend",this._onDrop),Fe(x,"pointerup",this._onDrop),Fe(x,"touchcancel",this._onDrop),Fe(document,"selectstart",this)},_onDrop:function(x){var d=this.el,h=this.options;if(At=nt(de),Kt=nt(de,h.draggable),wt("drop",this,{evt:x}),et=de&&de.parentNode,At=nt(de),Kt=nt(de,h.draggable),Ae.eventCanceled){this._nulling();return}dn=!1,Pn=!1,Ln=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),yi(this.cloneId),yi(this._dragStartId),this.nativeDraggable&&(Fe(document,"drop",this),Fe(d,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),$n&&be(document.body,"user-select",""),be(de,"transform",""),x&&(wn&&(x.cancelable&&x.preventDefault(),!h.dropBubble&&x.stopPropagation()),Me&&Me.parentNode&&Me.parentNode.removeChild(Me),(Ye===et||dt&&dt.lastPutMode!=="clone")&&tt&&tt.parentNode&&tt.parentNode.removeChild(tt),de&&(this.nativeDraggable&&Fe(de,"dragend",this),ui(de),de.style["will-change"]="",wn&&!dn&&Qe(de,dt?dt.options.ghostClass:this.options.ghostClass,!1),Qe(de,this.options.chosenClass,!1),bt({sortable:this,name:"unchoose",toEl:et,newIndex:null,newDraggableIndex:null,originalEvent:x}),Ye!==et?(At>=0&&(bt({rootEl:et,name:"add",toEl:et,fromEl:Ye,originalEvent:x}),bt({sortable:this,name:"remove",toEl:et,originalEvent:x}),bt({rootEl:et,name:"sort",toEl:et,fromEl:Ye,originalEvent:x}),bt({sortable:this,name:"sort",toEl:et,originalEvent:x})),dt&&dt.save()):At!==hn&&At>=0&&(bt({sortable:this,name:"update",toEl:et,originalEvent:x}),bt({sortable:this,name:"sort",toEl:et,originalEvent:x})),Ae.active&&((At==null||At===-1)&&(At=hn,Kt=An),bt({sortable:this,name:"end",toEl:et,originalEvent:x}),this.save()))),this._nulling()},_nulling:function(){wt("nulling",this),Ye=de=et=Me=en=tt=Un=Xt=Jt=Mt=wn=At=Kt=hn=An=ln=En=dt=Bn=Ae.dragged=Ae.ghost=Ae.clone=Ae.active=null,Jn.forEach(function(x){x.checked=!0}),Jn.length=ai=li=0},handleEvent:function(x){switch(x.type){case"drop":case"dragend":this._onDrop(x);break;case"dragenter":case"dragover":de&&(this._onDragOver(x),Ec(x));break;case"selectstart":x.preventDefault();break}},toArray:function(){for(var x=[],d,h=this.el.children,b=0,g=h.length,l=this.options;b<g;b++)d=h[b],It(d,l.draggable,this.el,!1)&&x.push(d.getAttribute(l.dataIdAttr)||Oc(d));return x},sort:function(x,d){var h={},b=this.el;this.toArray().forEach(function(g,l){var u=b.children[l];It(u,this.options.draggable,b,!1)&&(h[g]=u)},this),d&&this.captureAnimationState(),x.forEach(function(g){h[g]&&(b.removeChild(h[g]),b.appendChild(h[g]))}),d&&this.animateAll()},save:function(){var x=this.options.store;x&&x.set&&x.set(this)},closest:function(x,d){return It(x,d||this.options.draggable,this.el,!1)},option:function(x,d){var h=this.options;if(d===void 0)return h[x];var b=In.modifyOption(this,x,d);typeof b!="undefined"?h[x]=b:h[x]=d,x==="group"&&Wr(h)},destroy:function(){wt("destroy",this);var x=this.el;x[pt]=null,Fe(x,"mousedown",this._onTapStart),Fe(x,"touchstart",this._onTapStart),Fe(x,"pointerdown",this._onTapStart),this.nativeDraggable&&(Fe(x,"dragover",this),Fe(x,"dragenter",this)),Array.prototype.forEach.call(x.querySelectorAll("[draggable]"),function(d){d.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Qn.splice(Qn.indexOf(this.el),1),this.el=x=null},_hideClone:function(){if(!Xt){if(wt("hideClone",this),Ae.eventCanceled)return;be(tt,"display","none"),this.options.removeCloneOnHide&&tt.parentNode&&tt.parentNode.removeChild(tt),Xt=!0}},_showClone:function(x){if(x.lastPutMode!=="clone"){this._hideClone();return}if(Xt){if(wt("showClone",this),Ae.eventCanceled)return;de.parentNode==Ye&&!this.options.group.revertClone?Ye.insertBefore(tt,de):en?Ye.insertBefore(tt,en):Ye.appendChild(tt),this.options.group.revertClone&&this.animate(de,tt),be(tt,"display",""),Xt=!1}}};function Ec($){$.dataTransfer&&($.dataTransfer.dropEffect="move"),$.cancelable&&$.preventDefault()}function Wn($,x,d,h,b,g,l,u){var o,a=$[pt],t=a.options.onMove,n;return window.CustomEvent&&!Ut&&!Rn?o=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(o=document.createEvent("Event"),o.initEvent("move",!0,!0)),o.to=x,o.from=$,o.dragged=d,o.draggedRect=h,o.related=b||x,o.relatedRect=g||Xe(x),o.willInsertAfter=u,o.originalEvent=l,$.dispatchEvent(o),t&&(n=t.call(a,o,l)),n}function ui($){$.draggable=!1}function Lc(){mi=!1}function Tc($,x,d){var h=Xe(fn(d.el,0,d.options,!0)),b=10;return x?$.clientX<h.left-b||$.clientY<h.top&&$.clientX<h.right:$.clientY<h.top-b||$.clientY<h.bottom&&$.clientX<h.left}function Mc($,x,d){var h=Xe(Ri(d.el,d.options.draggable)),b=10;return x?$.clientX>h.right+b||$.clientX<=h.right&&$.clientY>h.bottom&&$.clientX>=h.left:$.clientX>h.right&&$.clientY>h.top||$.clientX<=h.right&&$.clientY>h.bottom+b}function Rc($,x,d,h,b,g,l,u){var o=h?$.clientY:$.clientX,a=h?d.height:d.width,t=h?d.top:d.left,n=h?d.bottom:d.right,r=!1;if(!l){if(u&&jn<a*b){if(!Ln&&(En===1?o>t+a*g/2:o<n-a*g/2)&&(Ln=!0),Ln)r=!0;else if(En===1?o<t+jn:o>n-jn)return-En}else if(o>t+a*(1-b)/2&&o<n-a*(1-b)/2)return Ic(x)}return r=r||l,r&&(o<t+a*g/2||o>n-a*g/2)?o>t+a/2?1:-1:0}function Ic($){return nt(de)<nt($)?1:-1}function Oc($){for(var x=$.tagName+$.className+$.src+$.href+$.textContent,d=x.length,h=0;d--;)h+=x.charCodeAt(d);return h.toString(36)}function Dc($){Jn.length=0;for(var x=$.getElementsByTagName("input"),d=x.length;d--;){var h=x[d];h.checked&&Jn.push(h)}}function Gn($){return setTimeout($,0)}function yi($){return clearTimeout($)}ti&&Pe(document,"touchmove",function($){(Ae.active||dn)&&$.cancelable&&$.preventDefault()});Ae.utils={on:Pe,off:Fe,css:be,find:Dr,is:function(x,d){return!!It(x,d,x,!1)},extend:mc,throttle:Fr,closest:It,toggleClass:Qe,clone:Ii,index:nt,nextTick:Gn,cancelNextTick:yi,detectDirection:Nr,getChild:fn};Ae.get=function($){return $[pt]};Ae.mount=function(){for(var $=arguments.length,x=new Array($),d=0;d<$;d++)x[d]=arguments[d];x[0].constructor===Array&&(x=x[0]),x.forEach(function(h){if(!h.prototype||!h.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(h));h.utils&&(Ae.utils=Pt(Pt({},Ae.utils),h.utils)),In.mount(h)})};Ae.create=function($,x){return new Ae($,x)};Ae.version=fc;var rt=[],xn,bi,wi=!1,di,hi,qn,Sn;function Fc(){function $(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var x in this)x.charAt(0)==="_"&&typeof this[x]=="function"&&(this[x]=this[x].bind(this))}return $.prototype={dragStarted:function(d){var h=d.originalEvent;this.sortable.nativeDraggable?Pe(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Pe(document,"pointermove",this._handleFallbackAutoScroll):h.touches?Pe(document,"touchmove",this._handleFallbackAutoScroll):Pe(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(d){var h=d.originalEvent;!this.options.dragOverBubble&&!h.rootEl&&this._handleAutoScroll(h)},drop:function(){this.sortable.nativeDraggable?Fe(document,"dragover",this._handleAutoScroll):(Fe(document,"pointermove",this._handleFallbackAutoScroll),Fe(document,"touchmove",this._handleFallbackAutoScroll),Fe(document,"mousemove",this._handleFallbackAutoScroll)),qi(),Kn(),yc()},nulling:function(){qn=bi=xn=wi=Sn=di=hi=null,rt.length=0},_handleFallbackAutoScroll:function(d){this._handleAutoScroll(d,!0)},_handleAutoScroll:function(d,h){var b=this,g=(d.touches?d.touches[0]:d).clientX,l=(d.touches?d.touches[0]:d).clientY,u=document.elementFromPoint(g,l);if(qn=d,h||this.options.forceAutoScrollFallback||Rn||Ut||$n){fi(d,this.options,u,h);var o=Zt(u,!0);wi&&(!Sn||g!==di||l!==hi)&&(Sn&&qi(),Sn=setInterval(function(){var a=Zt(document.elementFromPoint(g,l),!0);a!==o&&(o=a,Kn()),fi(d,b.options,a,h)},10),di=g,hi=l)}else{if(!this.options.bubbleScroll||Zt(u,!0)===Bt()){Kn();return}fi(d,this.options,Zt(u,!1),!1)}}},Tt($,{pluginName:"scroll",initializeByDefault:!0})}function Kn(){rt.forEach(function($){clearInterval($.pid)}),rt=[]}function qi(){clearInterval(Sn)}var fi=Fr(function($,x,d,h){if(!!x.scroll){var b=($.touches?$.touches[0]:$).clientX,g=($.touches?$.touches[0]:$).clientY,l=x.scrollSensitivity,u=x.scrollSpeed,o=Bt(),a=!1,t;bi!==d&&(bi=d,Kn(),xn=x.scroll,t=x.scrollFn,xn===!0&&(xn=Zt(d,!0)));var n=0,r=xn;do{var e=r,i=Xe(e),s=i.top,c=i.bottom,f=i.left,p=i.right,k=i.width,y=i.height,v=void 0,m=void 0,L=e.scrollWidth,T=e.scrollHeight,E=be(e),C=e.scrollLeft,S=e.scrollTop;e===o?(v=k<L&&(E.overflowX==="auto"||E.overflowX==="scroll"||E.overflowX==="visible"),m=y<T&&(E.overflowY==="auto"||E.overflowY==="scroll"||E.overflowY==="visible")):(v=k<L&&(E.overflowX==="auto"||E.overflowX==="scroll"),m=y<T&&(E.overflowY==="auto"||E.overflowY==="scroll"));var I=v&&(Math.abs(p-b)<=l&&C+k<L)-(Math.abs(f-b)<=l&&!!C),A=m&&(Math.abs(c-g)<=l&&S+y<T)-(Math.abs(s-g)<=l&&!!S);if(!rt[n])for(var w=0;w<=n;w++)rt[w]||(rt[w]={});(rt[n].vx!=I||rt[n].vy!=A||rt[n].el!==e)&&(rt[n].el=e,rt[n].vx=I,rt[n].vy=A,clearInterval(rt[n].pid),(I!=0||A!=0)&&(a=!0,rt[n].pid=setInterval(function(){h&&this.layer===0&&Ae.active._onTouchMove(qn);var M=rt[this.layer].vy?rt[this.layer].vy*u:0,R=rt[this.layer].vx?rt[this.layer].vx*u:0;typeof t=="function"&&t.call(Ae.dragged.parentNode[pt],R,M,$,qn,rt[this.layer].el)!=="continue"||Br(rt[this.layer].el,R,M)}.bind({layer:n}),24))),n++}while(x.bubbleScroll&&r!==o&&(r=Zt(r,!1)));wi=a}},30),zr=function(x){var d=x.originalEvent,h=x.putSortable,b=x.dragEl,g=x.activeSortable,l=x.dispatchSortableEvent,u=x.hideGhostForTarget,o=x.unhideGhostForTarget;if(!!d){var a=h||g;u();var t=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:d,n=document.elementFromPoint(t.clientX,t.clientY);o(),a&&!a.el.contains(n)&&(l("spill"),this.onSpill({dragEl:b,putSortable:h}))}};function Oi(){}Oi.prototype={startIndex:null,dragStart:function(x){var d=x.oldDraggableIndex;this.startIndex=d},onSpill:function(x){var d=x.dragEl,h=x.putSortable;this.sortable.captureAnimationState(),h&&h.captureAnimationState();var b=fn(this.sortable.el,this.startIndex,this.options);b?this.sortable.el.insertBefore(d,b):this.sortable.el.appendChild(d),this.sortable.animateAll(),h&&h.animateAll()},drop:zr};Tt(Oi,{pluginName:"revertOnSpill"});function Di(){}Di.prototype={onSpill:function(x){var d=x.dragEl,h=x.putSortable,b=h||this.sortable;b.captureAnimationState(),d.parentNode&&d.parentNode.removeChild(d),b.animateAll()},drop:zr};Tt(Di,{pluginName:"removeOnSpill"});var Et;function Bc(){function $(){this.defaults={swapClass:"sortable-swap-highlight"}}return $.prototype={dragStart:function(d){var h=d.dragEl;Et=h},dragOverValid:function(d){var h=d.completed,b=d.target,g=d.onMove,l=d.activeSortable,u=d.changed,o=d.cancel;if(!!l.options.swap){var a=this.sortable.el,t=this.options;if(b&&b!==a){var n=Et;g(b)!==!1?(Qe(b,t.swapClass,!0),Et=b):Et=null,n&&n!==Et&&Qe(n,t.swapClass,!1)}u(),h(!0),o()}},drop:function(d){var h=d.activeSortable,b=d.putSortable,g=d.dragEl,l=b||this.sortable,u=this.options;Et&&Qe(Et,u.swapClass,!1),Et&&(u.swap||b&&b.options.swap)&&g!==Et&&(l.captureAnimationState(),l!==h&&h.captureAnimationState(),Pc(g,Et),l.animateAll(),l!==h&&h.animateAll())},nulling:function(){Et=null}},Tt($,{pluginName:"swap",eventProperties:function(){return{swapItem:Et}}})}function Pc($,x){var d=$.parentNode,h=x.parentNode,b,g;!d||!h||d.isEqualNode(x)||h.isEqualNode($)||(b=nt($),g=nt(x),d.isEqualNode(h)&&b<g&&g++,d.insertBefore(x,d.children[b]),h.insertBefore($,h.children[g]))}var Le=[],kt=[],vn,Rt,mn=!1,xt=!1,cn=!1,Ke,yn,Hn;function Nc(){function $(x){for(var d in this)d.charAt(0)==="_"&&typeof this[d]=="function"&&(this[d]=this[d].bind(this));x.options.supportPointer?Pe(document,"pointerup",this._deselectMultiDrag):(Pe(document,"mouseup",this._deselectMultiDrag),Pe(document,"touchend",this._deselectMultiDrag)),Pe(document,"keydown",this._checkKeyDown),Pe(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(b,g){var l="";Le.length&&Rt===x?Le.forEach(function(u,o){l+=(o?", ":"")+u.textContent}):l=g.textContent,b.setData("Text",l)}}}return $.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(d){var h=d.dragEl;Ke=h},delayEnded:function(){this.isMultiDrag=~Le.indexOf(Ke)},setupClone:function(d){var h=d.sortable,b=d.cancel;if(!!this.isMultiDrag){for(var g=0;g<Le.length;g++)kt.push(Ii(Le[g])),kt[g].sortableIndex=Le[g].sortableIndex,kt[g].draggable=!1,kt[g].style["will-change"]="",Qe(kt[g],this.options.selectedClass,!1),Le[g]===Ke&&Qe(kt[g],this.options.chosenClass,!1);h._hideClone(),b()}},clone:function(d){var h=d.sortable,b=d.rootEl,g=d.dispatchSortableEvent,l=d.cancel;!this.isMultiDrag||this.options.removeCloneOnHide||Le.length&&Rt===h&&(er(!0,b),g("clone"),l())},showClone:function(d){var h=d.cloneNowShown,b=d.rootEl,g=d.cancel;!this.isMultiDrag||(er(!1,b),kt.forEach(function(l){be(l,"display","")}),h(),Hn=!1,g())},hideClone:function(d){var h=this;d.sortable;var b=d.cloneNowHidden,g=d.cancel;!this.isMultiDrag||(kt.forEach(function(l){be(l,"display","none"),h.options.removeCloneOnHide&&l.parentNode&&l.parentNode.removeChild(l)}),b(),Hn=!0,g())},dragStartGlobal:function(d){d.sortable,!this.isMultiDrag&&Rt&&Rt.multiDrag._deselectMultiDrag(),Le.forEach(function(h){h.sortableIndex=nt(h)}),Le=Le.sort(function(h,b){return h.sortableIndex-b.sortableIndex}),cn=!0},dragStarted:function(d){var h=this,b=d.sortable;if(!!this.isMultiDrag){if(this.options.sort&&(b.captureAnimationState(),this.options.animation)){Le.forEach(function(l){l!==Ke&&be(l,"position","absolute")});var g=Xe(Ke,!1,!0,!0);Le.forEach(function(l){l!==Ke&&Xi(l,g)}),xt=!0,mn=!0}b.animateAll(function(){xt=!1,mn=!1,h.options.animation&&Le.forEach(function(l){oi(l)}),h.options.sort&&Vn()})}},dragOver:function(d){var h=d.target,b=d.completed,g=d.cancel;xt&&~Le.indexOf(h)&&(b(!1),g())},revert:function(d){var h=d.fromSortable,b=d.rootEl,g=d.sortable,l=d.dragRect;Le.length>1&&(Le.forEach(function(u){g.addAnimationState({target:u,rect:xt?Xe(u):l}),oi(u),u.fromRect=l,h.removeAnimationState(u)}),xt=!1,Wc(!this.options.removeCloneOnHide,b))},dragOverCompleted:function(d){var h=d.sortable,b=d.isOwner,g=d.insertion,l=d.activeSortable,u=d.parentEl,o=d.putSortable,a=this.options;if(g){if(b&&l._hideClone(),mn=!1,a.animation&&Le.length>1&&(xt||!b&&!l.options.sort&&!o)){var t=Xe(Ke,!1,!0,!0);Le.forEach(function(r){r!==Ke&&(Xi(r,t),u.appendChild(r))}),xt=!0}if(!b)if(xt||Vn(),Le.length>1){var n=Hn;l._showClone(h),l.options.animation&&!Hn&&n&&kt.forEach(function(r){l.addAnimationState({target:r,rect:yn}),r.fromRect=yn,r.thisAnimationDuration=null})}else l._showClone(h)}},dragOverAnimationCapture:function(d){var h=d.dragRect,b=d.isOwner,g=d.activeSortable;if(Le.forEach(function(u){u.thisAnimationDuration=null}),g.options.animation&&!b&&g.multiDrag.isMultiDrag){yn=Tt({},h);var l=nn(Ke,!0);yn.top-=l.f,yn.left-=l.e}},dragOverAnimationComplete:function(){xt&&(xt=!1,Vn())},drop:function(d){var h=d.originalEvent,b=d.rootEl,g=d.parentEl,l=d.sortable,u=d.dispatchSortableEvent,o=d.oldIndex,a=d.putSortable,t=a||this.sortable;if(!!h){var n=this.options,r=g.children;if(!cn)if(n.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Qe(Ke,n.selectedClass,!~Le.indexOf(Ke)),~Le.indexOf(Ke))Le.splice(Le.indexOf(Ke),1),vn=null,bn({sortable:l,rootEl:b,name:"deselect",targetEl:Ke,originalEvt:h});else{if(Le.push(Ke),bn({sortable:l,rootEl:b,name:"select",targetEl:Ke,originalEvt:h}),h.shiftKey&&vn&&l.el.contains(vn)){var e=nt(vn),i=nt(Ke);if(~e&&~i&&e!==i){var s,c;for(i>e?(c=e,s=i):(c=i,s=e+1);c<s;c++)~Le.indexOf(r[c])||(Qe(r[c],n.selectedClass,!0),Le.push(r[c]),bn({sortable:l,rootEl:b,name:"select",targetEl:r[c],originalEvt:h}))}}else vn=Ke;Rt=t}if(cn&&this.isMultiDrag){if(xt=!1,(g[pt].options.sort||g!==b)&&Le.length>1){var f=Xe(Ke),p=nt(Ke,":not(."+this.options.selectedClass+")");if(!mn&&n.animation&&(Ke.thisAnimationDuration=null),t.captureAnimationState(),!mn&&(n.animation&&(Ke.fromRect=f,Le.forEach(function(y){if(y.thisAnimationDuration=null,y!==Ke){var v=xt?Xe(y):f;y.fromRect=v,t.addAnimationState({target:y,rect:v})}})),Vn(),Le.forEach(function(y){r[p]?g.insertBefore(y,r[p]):g.appendChild(y),p++}),o===nt(Ke))){var k=!1;Le.forEach(function(y){if(y.sortableIndex!==nt(y)){k=!0;return}}),k&&u("update")}Le.forEach(function(y){oi(y)}),t.animateAll()}Rt=t}(b===g||a&&a.lastPutMode!=="clone")&&kt.forEach(function(y){y.parentNode&&y.parentNode.removeChild(y)})}},nullingGlobal:function(){this.isMultiDrag=cn=!1,kt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Fe(document,"pointerup",this._deselectMultiDrag),Fe(document,"mouseup",this._deselectMultiDrag),Fe(document,"touchend",this._deselectMultiDrag),Fe(document,"keydown",this._checkKeyDown),Fe(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(d){if(!(typeof cn!="undefined"&&cn)&&Rt===this.sortable&&!(d&&It(d.target,this.options.draggable,this.sortable.el,!1))&&!(d&&d.button!==0))for(;Le.length;){var h=Le[0];Qe(h,this.options.selectedClass,!1),Le.shift(),bn({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:h,originalEvt:d})}},_checkKeyDown:function(d){d.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(d){d.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Tt($,{pluginName:"multiDrag",utils:{select:function(d){var h=d.parentNode[pt];!h||!h.options.multiDrag||~Le.indexOf(d)||(Rt&&Rt!==h&&(Rt.multiDrag._deselectMultiDrag(),Rt=h),Qe(d,h.options.selectedClass,!0),Le.push(d))},deselect:function(d){var h=d.parentNode[pt],b=Le.indexOf(d);!h||!h.options.multiDrag||!~b||(Qe(d,h.options.selectedClass,!1),Le.splice(b,1))}},eventProperties:function(){var d=this,h=[],b=[];return Le.forEach(function(g){h.push({multiDragElement:g,index:g.sortableIndex});var l;xt&&g!==Ke?l=-1:xt?l=nt(g,":not(."+d.options.selectedClass+")"):l=nt(g),b.push({multiDragElement:g,index:l})}),{items:lc(Le),clones:[].concat(kt),oldIndicies:h,newIndicies:b}},optionListeners:{multiDragKey:function(d){return d=d.toLowerCase(),d==="ctrl"?d="Control":d.length>1&&(d=d.charAt(0).toUpperCase()+d.substr(1)),d}}})}function Wc($,x){Le.forEach(function(d,h){var b=x.children[d.sortableIndex+($?Number(h):0)];b?x.insertBefore(d,b):x.appendChild(d)})}function er($,x){kt.forEach(function(d,h){var b=x.children[d.sortableIndex+($?Number(h):0)];b?x.insertBefore(d,b):x.appendChild(d)})}function Vn(){Le.forEach(function($){$!==Ke&&$.parentNode&&$.parentNode.removeChild($)})}Ae.mount(new Fc);Ae.mount(Di,Oi);const Hc=Object.freeze(Object.defineProperty({__proto__:null,default:Ae,MultiDrag:Nc,Sortable:Ae,Swap:Bc},Symbol.toStringTag,{value:"Module"})),Vc=fr(Hc);(function($,x){(function(h,b){$.exports=b(rc,Vc)})(typeof self!="undefined"?self:Ca,function(d,h){return function(b){var g={};function l(u){if(g[u])return g[u].exports;var o=g[u]={i:u,l:!1,exports:{}};return b[u].call(o.exports,o,o.exports,l),o.l=!0,o.exports}return l.m=b,l.c=g,l.d=function(u,o,a){l.o(u,o)||Object.defineProperty(u,o,{enumerable:!0,get:a})},l.r=function(u){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},l.t=function(u,o){if(o&1&&(u=l(u)),o&8||o&4&&typeof u=="object"&&u&&u.__esModule)return u;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:u}),o&2&&typeof u!="string")for(var t in u)l.d(a,t,function(n){return u[n]}.bind(null,t));return a},l.n=function(u){var o=u&&u.__esModule?function(){return u.default}:function(){return u};return l.d(o,"a",o),o},l.o=function(u,o){return Object.prototype.hasOwnProperty.call(u,o)},l.p="",l(l.s="fb15")}({"00ee":function(b,g,l){var u=l("b622"),o=u("toStringTag"),a={};a[o]="z",b.exports=String(a)==="[object z]"},"0366":function(b,g,l){var u=l("1c0b");b.exports=function(o,a,t){if(u(o),a===void 0)return o;switch(t){case 0:return function(){return o.call(a)};case 1:return function(n){return o.call(a,n)};case 2:return function(n,r){return o.call(a,n,r)};case 3:return function(n,r,e){return o.call(a,n,r,e)}}return function(){return o.apply(a,arguments)}}},"057f":function(b,g,l){var u=l("fc6a"),o=l("241c").f,a={}.toString,t=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],n=function(r){try{return o(r)}catch(e){return t.slice()}};b.exports.f=function(e){return t&&a.call(e)=="[object Window]"?n(e):o(u(e))}},"06cf":function(b,g,l){var u=l("83ab"),o=l("d1e7"),a=l("5c6c"),t=l("fc6a"),n=l("c04e"),r=l("5135"),e=l("0cfb"),i=Object.getOwnPropertyDescriptor;g.f=u?i:function(c,f){if(c=t(c),f=n(f,!0),e)try{return i(c,f)}catch(p){}if(r(c,f))return a(!o.f.call(c,f),c[f])}},"0cfb":function(b,g,l){var u=l("83ab"),o=l("d039"),a=l("cc12");b.exports=!u&&!o(function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(b,g,l){var u=l("23e7"),o=l("d58f").left,a=l("a640"),t=l("ae40"),n=a("reduce"),r=t("reduce",{1:0});u({target:"Array",proto:!0,forced:!n||!r},{reduce:function(i){return o(this,i,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(b,g,l){var u=l("c6b6"),o=l("9263");b.exports=function(a,t){var n=a.exec;if(typeof n=="function"){var r=n.call(a,t);if(typeof r!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return r}if(u(a)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return o.call(a,t)}},"159b":function(b,g,l){var u=l("da84"),o=l("fdbc"),a=l("17c2"),t=l("9112");for(var n in o){var r=u[n],e=r&&r.prototype;if(e&&e.forEach!==a)try{t(e,"forEach",a)}catch(i){e.forEach=a}}},"17c2":function(b,g,l){var u=l("b727").forEach,o=l("a640"),a=l("ae40"),t=o("forEach"),n=a("forEach");b.exports=!t||!n?function(e){return u(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(b,g,l){var u=l("d066");b.exports=u("document","documentElement")},"1c0b":function(b,g){b.exports=function(l){if(typeof l!="function")throw TypeError(String(l)+" is not a function");return l}},"1c7e":function(b,g,l){var u=l("b622"),o=u("iterator"),a=!1;try{var t=0,n={next:function(){return{done:!!t++}},return:function(){a=!0}};n[o]=function(){return this},Array.from(n,function(){throw 2})}catch(r){}b.exports=function(r,e){if(!e&&!a)return!1;var i=!1;try{var s={};s[o]=function(){return{next:function(){return{done:i=!0}}}},r(s)}catch(c){}return i}},"1d80":function(b,g){b.exports=function(l){if(l==null)throw TypeError("Can't call method on "+l);return l}},"1dde":function(b,g,l){var u=l("d039"),o=l("b622"),a=l("2d00"),t=o("species");b.exports=function(n){return a>=51||!u(function(){var r=[],e=r.constructor={};return e[t]=function(){return{foo:1}},r[n](Boolean).foo!==1})}},"23cb":function(b,g,l){var u=l("a691"),o=Math.max,a=Math.min;b.exports=function(t,n){var r=u(t);return r<0?o(r+n,0):a(r,n)}},"23e7":function(b,g,l){var u=l("da84"),o=l("06cf").f,a=l("9112"),t=l("6eeb"),n=l("ce4e"),r=l("e893"),e=l("94ca");b.exports=function(i,s){var c=i.target,f=i.global,p=i.stat,k,y,v,m,L,T;if(f?y=u:p?y=u[c]||n(c,{}):y=(u[c]||{}).prototype,y)for(v in s){if(L=s[v],i.noTargetGet?(T=o(y,v),m=T&&T.value):m=y[v],k=e(f?v:c+(p?".":"#")+v,i.forced),!k&&m!==void 0){if(typeof L==typeof m)continue;r(L,m)}(i.sham||m&&m.sham)&&a(L,"sham",!0),t(y,v,L,i)}}},"241c":function(b,g,l){var u=l("ca84"),o=l("7839"),a=o.concat("length","prototype");g.f=Object.getOwnPropertyNames||function(n){return u(n,a)}},"25f0":function(b,g,l){var u=l("6eeb"),o=l("825a"),a=l("d039"),t=l("ad6d"),n="toString",r=RegExp.prototype,e=r[n],i=a(function(){return e.call({source:"a",flags:"b"})!="/a/b"}),s=e.name!=n;(i||s)&&u(RegExp.prototype,n,function(){var f=o(this),p=String(f.source),k=f.flags,y=String(k===void 0&&f instanceof RegExp&&!("flags"in r)?t.call(f):k);return"/"+p+"/"+y},{unsafe:!0})},"2ca0":function(b,g,l){var u=l("23e7"),o=l("06cf").f,a=l("50c4"),t=l("5a34"),n=l("1d80"),r=l("ab13"),e=l("c430"),i="".startsWith,s=Math.min,c=r("startsWith"),f=!e&&!c&&!!function(){var p=o(String.prototype,"startsWith");return p&&!p.writable}();u({target:"String",proto:!0,forced:!f&&!c},{startsWith:function(k){var y=String(n(this));t(k);var v=a(s(arguments.length>1?arguments[1]:void 0,y.length)),m=String(k);return i?i.call(y,m,v):y.slice(v,v+m.length)===m}})},"2d00":function(b,g,l){var u=l("da84"),o=l("342f"),a=u.process,t=a&&a.versions,n=t&&t.v8,r,e;n?(r=n.split("."),e=r[0]+r[1]):o&&(r=o.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/),r&&(e=r[1]))),b.exports=e&&+e},"342f":function(b,g,l){var u=l("d066");b.exports=u("navigator","userAgent")||""},"35a1":function(b,g,l){var u=l("f5df"),o=l("3f8c"),a=l("b622"),t=a("iterator");b.exports=function(n){if(n!=null)return n[t]||n["@@iterator"]||o[u(n)]}},"37e8":function(b,g,l){var u=l("83ab"),o=l("9bf2"),a=l("825a"),t=l("df75");b.exports=u?Object.defineProperties:function(r,e){a(r);for(var i=t(e),s=i.length,c=0,f;s>c;)o.f(r,f=i[c++],e[f]);return r}},"3bbe":function(b,g,l){var u=l("861d");b.exports=function(o){if(!u(o)&&o!==null)throw TypeError("Can't set "+String(o)+" as a prototype");return o}},"3ca3":function(b,g,l){var u=l("6547").charAt,o=l("69f3"),a=l("7dd0"),t="String Iterator",n=o.set,r=o.getterFor(t);a(String,"String",function(e){n(this,{type:t,string:String(e),index:0})},function(){var i=r(this),s=i.string,c=i.index,f;return c>=s.length?{value:void 0,done:!0}:(f=u(s,c),i.index+=f.length,{value:f,done:!1})})},"3f8c":function(b,g){b.exports={}},4160:function(b,g,l){var u=l("23e7"),o=l("17c2");u({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"428f":function(b,g,l){var u=l("da84");b.exports=u},"44ad":function(b,g,l){var u=l("d039"),o=l("c6b6"),a="".split;b.exports=u(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return o(t)=="String"?a.call(t,""):Object(t)}:Object},"44d2":function(b,g,l){var u=l("b622"),o=l("7c73"),a=l("9bf2"),t=u("unscopables"),n=Array.prototype;n[t]==null&&a.f(n,t,{configurable:!0,value:o(null)}),b.exports=function(r){n[t][r]=!0}},"44e7":function(b,g,l){var u=l("861d"),o=l("c6b6"),a=l("b622"),t=a("match");b.exports=function(n){var r;return u(n)&&((r=n[t])!==void 0?!!r:o(n)=="RegExp")}},4930:function(b,g,l){var u=l("d039");b.exports=!!Object.getOwnPropertySymbols&&!u(function(){return!String(Symbol())})},"4d64":function(b,g,l){var u=l("fc6a"),o=l("50c4"),a=l("23cb"),t=function(n){return function(r,e,i){var s=u(r),c=o(s.length),f=a(i,c),p;if(n&&e!=e){for(;c>f;)if(p=s[f++],p!=p)return!0}else for(;c>f;f++)if((n||f in s)&&s[f]===e)return n||f||0;return!n&&-1}};b.exports={includes:t(!0),indexOf:t(!1)}},"4de4":function(b,g,l){var u=l("23e7"),o=l("b727").filter,a=l("1dde"),t=l("ae40"),n=a("filter"),r=t("filter");u({target:"Array",proto:!0,forced:!n||!r},{filter:function(i){return o(this,i,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(b,g,l){var u=l("0366"),o=l("7b0b"),a=l("9bdd"),t=l("e95a"),n=l("50c4"),r=l("8418"),e=l("35a1");b.exports=function(s){var c=o(s),f=typeof this=="function"?this:Array,p=arguments.length,k=p>1?arguments[1]:void 0,y=k!==void 0,v=e(c),m=0,L,T,E,C,S,I;if(y&&(k=u(k,p>2?arguments[2]:void 0,2)),v!=null&&!(f==Array&&t(v)))for(C=v.call(c),S=C.next,T=new f;!(E=S.call(C)).done;m++)I=y?a(C,k,[E.value,m],!0):E.value,r(T,m,I);else for(L=n(c.length),T=new f(L);L>m;m++)I=y?k(c[m],m):c[m],r(T,m,I);return T.length=m,T}},"4fad":function(b,g,l){var u=l("23e7"),o=l("6f53").entries;u({target:"Object",stat:!0},{entries:function(t){return o(t)}})},"50c4":function(b,g,l){var u=l("a691"),o=Math.min;b.exports=function(a){return a>0?o(u(a),9007199254740991):0}},5135:function(b,g){var l={}.hasOwnProperty;b.exports=function(u,o){return l.call(u,o)}},5319:function(b,g,l){var u=l("d784"),o=l("825a"),a=l("7b0b"),t=l("50c4"),n=l("a691"),r=l("1d80"),e=l("8aa5"),i=l("14c3"),s=Math.max,c=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,k=/\$([$&'`]|\d\d?)/g,y=function(v){return v===void 0?v:String(v)};u("replace",2,function(v,m,L,T){var E=T.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,C=T.REPLACE_KEEPS_$0,S=E?"$":"$0";return[function(w,M){var R=r(this),O=w==null?void 0:w[v];return O!==void 0?O.call(w,R,M):m.call(String(R),w,M)},function(A,w){if(!E&&C||typeof w=="string"&&w.indexOf(S)===-1){var M=L(m,A,this,w);if(M.done)return M.value}var R=o(A),O=String(this),F=typeof w=="function";F||(w=String(w));var B=R.global;if(B){var N=R.unicode;R.lastIndex=0}for(var _=[];;){var G=i(R,O);if(G===null||(_.push(G),!B))break;var H=String(G[0]);H===""&&(R.lastIndex=e(O,t(R.lastIndex),N))}for(var z="",j=0,q=0;q<_.length;q++){G=_[q];for(var ne=String(G[0]),X=s(c(n(G.index),O.length),0),ee=[],ae=1;ae<G.length;ae++)ee.push(y(G[ae]));var re=G.groups;if(F){var ge=[ne].concat(ee,X,O);re!==void 0&&ge.push(re);var xe=String(w.apply(void 0,ge))}else xe=I(ne,O,X,ee,re,w);X>=j&&(z+=O.slice(j,X)+xe,j=X+ne.length)}return z+O.slice(j)}];function I(A,w,M,R,O,F){var B=M+A.length,N=R.length,_=k;return O!==void 0&&(O=a(O),_=p),m.call(F,_,function(G,H){var z;switch(H.charAt(0)){case"$":return"$";case"&":return A;case"`":return w.slice(0,M);case"'":return w.slice(B);case"<":z=O[H.slice(1,-1)];break;default:var j=+H;if(j===0)return G;if(j>N){var q=f(j/10);return q===0?G:q<=N?R[q-1]===void 0?H.charAt(1):R[q-1]+H.charAt(1):G}z=R[j-1]}return z===void 0?"":z})}})},5692:function(b,g,l){var u=l("c430"),o=l("c6cd");(b.exports=function(a,t){return o[a]||(o[a]=t!==void 0?t:{})})("versions",[]).push({version:"3.6.5",mode:u?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(b,g,l){var u=l("d066"),o=l("241c"),a=l("7418"),t=l("825a");b.exports=u("Reflect","ownKeys")||function(r){var e=o.f(t(r)),i=a.f;return i?e.concat(i(r)):e}},"5a34":function(b,g,l){var u=l("44e7");b.exports=function(o){if(u(o))throw TypeError("The method doesn't accept regular expressions");return o}},"5c6c":function(b,g){b.exports=function(l,u){return{enumerable:!(l&1),configurable:!(l&2),writable:!(l&4),value:u}}},"5db7":function(b,g,l){var u=l("23e7"),o=l("a2bf"),a=l("7b0b"),t=l("50c4"),n=l("1c0b"),r=l("65f0");u({target:"Array",proto:!0},{flatMap:function(i){var s=a(this),c=t(s.length),f;return n(i),f=r(s,0),f.length=o(f,s,s,c,0,1,i,arguments.length>1?arguments[1]:void 0),f}})},6547:function(b,g,l){var u=l("a691"),o=l("1d80"),a=function(t){return function(n,r){var e=String(o(n)),i=u(r),s=e.length,c,f;return i<0||i>=s?t?"":void 0:(c=e.charCodeAt(i),c<55296||c>56319||i+1===s||(f=e.charCodeAt(i+1))<56320||f>57343?t?e.charAt(i):c:t?e.slice(i,i+2):(c-55296<<10)+(f-56320)+65536)}};b.exports={codeAt:a(!1),charAt:a(!0)}},"65f0":function(b,g,l){var u=l("861d"),o=l("e8b5"),a=l("b622"),t=a("species");b.exports=function(n,r){var e;return o(n)&&(e=n.constructor,typeof e=="function"&&(e===Array||o(e.prototype))?e=void 0:u(e)&&(e=e[t],e===null&&(e=void 0))),new(e===void 0?Array:e)(r===0?0:r)}},"69f3":function(b,g,l){var u=l("7f9a"),o=l("da84"),a=l("861d"),t=l("9112"),n=l("5135"),r=l("f772"),e=l("d012"),i=o.WeakMap,s,c,f,p=function(E){return f(E)?c(E):s(E,{})},k=function(E){return function(C){var S;if(!a(C)||(S=c(C)).type!==E)throw TypeError("Incompatible receiver, "+E+" required");return S}};if(u){var y=new i,v=y.get,m=y.has,L=y.set;s=function(E,C){return L.call(y,E,C),C},c=function(E){return v.call(y,E)||{}},f=function(E){return m.call(y,E)}}else{var T=r("state");e[T]=!0,s=function(E,C){return t(E,T,C),C},c=function(E){return n(E,T)?E[T]:{}},f=function(E){return n(E,T)}}b.exports={set:s,get:c,has:f,enforce:p,getterFor:k}},"6eeb":function(b,g,l){var u=l("da84"),o=l("9112"),a=l("5135"),t=l("ce4e"),n=l("8925"),r=l("69f3"),e=r.get,i=r.enforce,s=String(String).split("String");(b.exports=function(c,f,p,k){var y=k?!!k.unsafe:!1,v=k?!!k.enumerable:!1,m=k?!!k.noTargetGet:!1;if(typeof p=="function"&&(typeof f=="string"&&!a(p,"name")&&o(p,"name",f),i(p).source=s.join(typeof f=="string"?f:"")),c===u){v?c[f]=p:t(f,p);return}else y?!m&&c[f]&&(v=!0):delete c[f];v?c[f]=p:o(c,f,p)})(Function.prototype,"toString",function(){return typeof this=="function"&&e(this).source||n(this)})},"6f53":function(b,g,l){var u=l("83ab"),o=l("df75"),a=l("fc6a"),t=l("d1e7").f,n=function(r){return function(e){for(var i=a(e),s=o(i),c=s.length,f=0,p=[],k;c>f;)k=s[f++],(!u||t.call(i,k))&&p.push(r?[k,i[k]]:i[k]);return p}};b.exports={entries:n(!0),values:n(!1)}},"73d9":function(b,g,l){var u=l("44d2");u("flatMap")},7418:function(b,g){g.f=Object.getOwnPropertySymbols},"746f":function(b,g,l){var u=l("428f"),o=l("5135"),a=l("e538"),t=l("9bf2").f;b.exports=function(n){var r=u.Symbol||(u.Symbol={});o(r,n)||t(r,n,{value:a.f(n)})}},7839:function(b,g){b.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(b,g,l){var u=l("1d80");b.exports=function(o){return Object(u(o))}},"7c73":function(b,g,l){var u=l("825a"),o=l("37e8"),a=l("7839"),t=l("d012"),n=l("1be4"),r=l("cc12"),e=l("f772"),i=">",s="<",c="prototype",f="script",p=e("IE_PROTO"),k=function(){},y=function(E){return s+f+i+E+s+"/"+f+i},v=function(E){E.write(y("")),E.close();var C=E.parentWindow.Object;return E=null,C},m=function(){var E=r("iframe"),C="java"+f+":",S;return E.style.display="none",n.appendChild(E),E.src=String(C),S=E.contentWindow.document,S.open(),S.write(y("document.F=Object")),S.close(),S.F},L,T=function(){try{L=document.domain&&new ActiveXObject("htmlfile")}catch(C){}T=L?v(L):m();for(var E=a.length;E--;)delete T[c][a[E]];return T()};t[p]=!0,b.exports=Object.create||function(C,S){var I;return C!==null?(k[c]=u(C),I=new k,k[c]=null,I[p]=C):I=T(),S===void 0?I:o(I,S)}},"7dd0":function(b,g,l){var u=l("23e7"),o=l("9ed3"),a=l("e163"),t=l("d2bb"),n=l("d44e"),r=l("9112"),e=l("6eeb"),i=l("b622"),s=l("c430"),c=l("3f8c"),f=l("ae93"),p=f.IteratorPrototype,k=f.BUGGY_SAFARI_ITERATORS,y=i("iterator"),v="keys",m="values",L="entries",T=function(){return this};b.exports=function(E,C,S,I,A,w,M){o(S,C,I);var R=function(q){if(q===A&&_)return _;if(!k&&q in B)return B[q];switch(q){case v:return function(){return new S(this,q)};case m:return function(){return new S(this,q)};case L:return function(){return new S(this,q)}}return function(){return new S(this)}},O=C+" Iterator",F=!1,B=E.prototype,N=B[y]||B["@@iterator"]||A&&B[A],_=!k&&N||R(A),G=C=="Array"&&B.entries||N,H,z,j;if(G&&(H=a(G.call(new E)),p!==Object.prototype&&H.next&&(!s&&a(H)!==p&&(t?t(H,p):typeof H[y]!="function"&&r(H,y,T)),n(H,O,!0,!0),s&&(c[O]=T))),A==m&&N&&N.name!==m&&(F=!0,_=function(){return N.call(this)}),(!s||M)&&B[y]!==_&&r(B,y,_),c[C]=_,A)if(z={values:R(m),keys:w?_:R(v),entries:R(L)},M)for(j in z)(k||F||!(j in B))&&e(B,j,z[j]);else u({target:C,proto:!0,forced:k||F},z);return z}},"7f9a":function(b,g,l){var u=l("da84"),o=l("8925"),a=u.WeakMap;b.exports=typeof a=="function"&&/native code/.test(o(a))},"825a":function(b,g,l){var u=l("861d");b.exports=function(o){if(!u(o))throw TypeError(String(o)+" is not an object");return o}},"83ab":function(b,g,l){var u=l("d039");b.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(b,g,l){var u=l("c04e"),o=l("9bf2"),a=l("5c6c");b.exports=function(t,n,r){var e=u(n);e in t?o.f(t,e,a(0,r)):t[e]=r}},"861d":function(b,g){b.exports=function(l){return typeof l=="object"?l!==null:typeof l=="function"}},8875:function(b,g,l){var u,o,a;(function(t,n){o=[],u=n,a=typeof u=="function"?u.apply(g,o):u,a!==void 0&&(b.exports=a)})(typeof self!="undefined"?self:this,function(){function t(){var n=Object.getOwnPropertyDescriptor(document,"currentScript");if(!n&&"currentScript"in document&&document.currentScript||n&&n.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(L){var r=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,e=/@([^@]*):(\d+):(\d+)\s*$/ig,i=r.exec(L.stack)||e.exec(L.stack),s=i&&i[1]||!1,c=i&&i[2]||!1,f=document.location.href.replace(document.location.hash,""),p,k,y,v=document.getElementsByTagName("script");s===f&&(p=document.documentElement.outerHTML,k=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),y=p.replace(k,"$1").trim());for(var m=0;m<v.length;m++)if(v[m].readyState==="interactive"||v[m].src===s||s===f&&v[m].innerHTML&&v[m].innerHTML.trim()===y)return v[m];return null}}return t})},8925:function(b,g,l){var u=l("c6cd"),o=Function.toString;typeof u.inspectSource!="function"&&(u.inspectSource=function(a){return o.call(a)}),b.exports=u.inspectSource},"8aa5":function(b,g,l){var u=l("6547").charAt;b.exports=function(o,a,t){return a+(t?u(o,a).length:1)}},"8bbf":function(b,g){b.exports=d},"90e3":function(b,g){var l=0,u=Math.random();b.exports=function(o){return"Symbol("+String(o===void 0?"":o)+")_"+(++l+u).toString(36)}},9112:function(b,g,l){var u=l("83ab"),o=l("9bf2"),a=l("5c6c");b.exports=u?function(t,n,r){return o.f(t,n,a(1,r))}:function(t,n,r){return t[n]=r,t}},9263:function(b,g,l){var u=l("ad6d"),o=l("9f7f"),a=RegExp.prototype.exec,t=String.prototype.replace,n=a,r=function(){var c=/a/,f=/b*/g;return a.call(c,"a"),a.call(f,"a"),c.lastIndex!==0||f.lastIndex!==0}(),e=o.UNSUPPORTED_Y||o.BROKEN_CARET,i=/()??/.exec("")[1]!==void 0,s=r||i||e;s&&(n=function(f){var p=this,k,y,v,m,L=e&&p.sticky,T=u.call(p),E=p.source,C=0,S=f;return L&&(T=T.replace("y",""),T.indexOf("g")===-1&&(T+="g"),S=String(f).slice(p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&f[p.lastIndex-1]!==`
`)&&(E="(?: "+E+")",S=" "+S,C++),y=new RegExp("^(?:"+E+")",T)),i&&(y=new RegExp("^"+E+"$(?!\\s)",T)),r&&(k=p.lastIndex),v=a.call(L?y:p,S),L?v?(v.input=v.input.slice(C),v[0]=v[0].slice(C),v.index=p.lastIndex,p.lastIndex+=v[0].length):p.lastIndex=0:r&&v&&(p.lastIndex=p.global?v.index+v[0].length:k),i&&v&&v.length>1&&t.call(v[0],y,function(){for(m=1;m<arguments.length-2;m++)arguments[m]===void 0&&(v[m]=void 0)}),v}),b.exports=n},"94ca":function(b,g,l){var u=l("d039"),o=/#|\.prototype\./,a=function(i,s){var c=n[t(i)];return c==e?!0:c==r?!1:typeof s=="function"?u(s):!!s},t=a.normalize=function(i){return String(i).replace(o,".").toLowerCase()},n=a.data={},r=a.NATIVE="N",e=a.POLYFILL="P";b.exports=a},"99af":function(b,g,l){var u=l("23e7"),o=l("d039"),a=l("e8b5"),t=l("861d"),n=l("7b0b"),r=l("50c4"),e=l("8418"),i=l("65f0"),s=l("1dde"),c=l("b622"),f=l("2d00"),p=c("isConcatSpreadable"),k=9007199254740991,y="Maximum allowed index exceeded",v=f>=51||!o(function(){var E=[];return E[p]=!1,E.concat()[0]!==E}),m=s("concat"),L=function(E){if(!t(E))return!1;var C=E[p];return C!==void 0?!!C:a(E)},T=!v||!m;u({target:"Array",proto:!0,forced:T},{concat:function(C){var S=n(this),I=i(S,0),A=0,w,M,R,O,F;for(w=-1,R=arguments.length;w<R;w++)if(F=w===-1?S:arguments[w],L(F)){if(O=r(F.length),A+O>k)throw TypeError(y);for(M=0;M<O;M++,A++)M in F&&e(I,A,F[M])}else{if(A>=k)throw TypeError(y);e(I,A++,F)}return I.length=A,I}})},"9bdd":function(b,g,l){var u=l("825a");b.exports=function(o,a,t,n){try{return n?a(u(t)[0],t[1]):a(t)}catch(e){var r=o.return;throw r!==void 0&&u(r.call(o)),e}}},"9bf2":function(b,g,l){var u=l("83ab"),o=l("0cfb"),a=l("825a"),t=l("c04e"),n=Object.defineProperty;g.f=u?n:function(e,i,s){if(a(e),i=t(i,!0),a(s),o)try{return n(e,i,s)}catch(c){}if("get"in s||"set"in s)throw TypeError("Accessors not supported");return"value"in s&&(e[i]=s.value),e}},"9ed3":function(b,g,l){var u=l("ae93").IteratorPrototype,o=l("7c73"),a=l("5c6c"),t=l("d44e"),n=l("3f8c"),r=function(){return this};b.exports=function(e,i,s){var c=i+" Iterator";return e.prototype=o(u,{next:a(1,s)}),t(e,c,!1,!0),n[c]=r,e}},"9f7f":function(b,g,l){var u=l("d039");function o(a,t){return RegExp(a,t)}g.UNSUPPORTED_Y=u(function(){var a=o("a","y");return a.lastIndex=2,a.exec("abcd")!=null}),g.BROKEN_CARET=u(function(){var a=o("^r","gy");return a.lastIndex=2,a.exec("str")!=null})},a2bf:function(b,g,l){var u=l("e8b5"),o=l("50c4"),a=l("0366"),t=function(n,r,e,i,s,c,f,p){for(var k=s,y=0,v=f?a(f,p,3):!1,m;y<i;){if(y in e){if(m=v?v(e[y],y,r):e[y],c>0&&u(m))k=t(n,r,m,o(m.length),k,c-1)-1;else{if(k>=9007199254740991)throw TypeError("Exceed the acceptable array length");n[k]=m}k++}y++}return k};b.exports=t},a352:function(b,g){b.exports=h},a434:function(b,g,l){var u=l("23e7"),o=l("23cb"),a=l("a691"),t=l("50c4"),n=l("7b0b"),r=l("65f0"),e=l("8418"),i=l("1dde"),s=l("ae40"),c=i("splice"),f=s("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,k=Math.min,y=9007199254740991,v="Maximum allowed length exceeded";u({target:"Array",proto:!0,forced:!c||!f},{splice:function(L,T){var E=n(this),C=t(E.length),S=o(L,C),I=arguments.length,A,w,M,R,O,F;if(I===0?A=w=0:I===1?(A=0,w=C-S):(A=I-2,w=k(p(a(T),0),C-S)),C+A-w>y)throw TypeError(v);for(M=r(E,w),R=0;R<w;R++)O=S+R,O in E&&e(M,R,E[O]);if(M.length=w,A<w){for(R=S;R<C-w;R++)O=R+w,F=R+A,O in E?E[F]=E[O]:delete E[F];for(R=C;R>C-w+A;R--)delete E[R-1]}else if(A>w)for(R=C-w;R>S;R--)O=R+w-1,F=R+A-1,O in E?E[F]=E[O]:delete E[F];for(R=0;R<A;R++)E[R+S]=arguments[R+2];return E.length=C-w+A,M}})},a4d3:function(b,g,l){var u=l("23e7"),o=l("da84"),a=l("d066"),t=l("c430"),n=l("83ab"),r=l("4930"),e=l("fdbf"),i=l("d039"),s=l("5135"),c=l("e8b5"),f=l("861d"),p=l("825a"),k=l("7b0b"),y=l("fc6a"),v=l("c04e"),m=l("5c6c"),L=l("7c73"),T=l("df75"),E=l("241c"),C=l("057f"),S=l("7418"),I=l("06cf"),A=l("9bf2"),w=l("d1e7"),M=l("9112"),R=l("6eeb"),O=l("5692"),F=l("f772"),B=l("d012"),N=l("90e3"),_=l("b622"),G=l("e538"),H=l("746f"),z=l("d44e"),j=l("69f3"),q=l("b727").forEach,ne=F("hidden"),X="Symbol",ee="prototype",ae=_("toPrimitive"),re=j.set,ge=j.getterFor(X),xe=Object[ee],Ee=o.Symbol,Re=a("JSON","stringify"),_e=I.f,ct=A.f,mt=C.f,Ot=w.f,ut=O("symbols"),Ct=O("op-symbols"),ie=O("string-to-symbol-registry"),ye=O("symbol-to-string-registry"),Ce=O("wks"),De=o.QObject,We=!De||!De[ee]||!De[ee].findChild,je=n&&i(function(){return L(ct({},"a",{get:function(){return ct(this,"a",{value:7}).a}})).a!=7})?function(ce,ue,he){var we=_e(xe,ue);we&&delete xe[ue],ct(ce,ue,he),we&&ce!==xe&&ct(xe,ue,we)}:ct,Ge=function(ce,ue){var he=ut[ce]=L(Ee[ee]);return re(he,{type:X,tag:ce,description:ue}),n||(he.description=ue),he},K=e?function(ce){return typeof ce=="symbol"}:function(ce){return Object(ce)instanceof Ee},U=function(ue,he,we){ue===xe&&U(Ct,he,we),p(ue);var Se=v(he,!0);return p(we),s(ut,Se)?(we.enumerable?(s(ue,ne)&&ue[ne][Se]&&(ue[ne][Se]=!1),we=L(we,{enumerable:m(0,!1)})):(s(ue,ne)||ct(ue,ne,m(1,{})),ue[ne][Se]=!0),je(ue,Se,we)):ct(ue,Se,we)},Z=function(ue,he){p(ue);var we=y(he),Se=T(we).concat(oe(we));return q(Se,function(Ue){(!n||W.call(we,Ue))&&U(ue,Ue,we[Ue])}),ue},D=function(ue,he){return he===void 0?L(ue):Z(L(ue),he)},W=function(ue){var he=v(ue,!0),we=Ot.call(this,he);return this===xe&&s(ut,he)&&!s(Ct,he)?!1:we||!s(this,he)||!s(ut,he)||s(this,ne)&&this[ne][he]?we:!0},Q=function(ue,he){var we=y(ue),Se=v(he,!0);if(!(we===xe&&s(ut,Se)&&!s(Ct,Se))){var Ue=_e(we,Se);return Ue&&s(ut,Se)&&!(s(we,ne)&&we[ne][Se])&&(Ue.enumerable=!0),Ue}},J=function(ue){var he=mt(y(ue)),we=[];return q(he,function(Se){!s(ut,Se)&&!s(B,Se)&&we.push(Se)}),we},oe=function(ue){var he=ue===xe,we=mt(he?Ct:y(ue)),Se=[];return q(we,function(Ue){s(ut,Ue)&&(!he||s(xe,Ue))&&Se.push(ut[Ue])}),Se};if(r||(Ee=function(){if(this instanceof Ee)throw TypeError("Symbol is not a constructor");var ue=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),he=N(ue),we=function(Se){this===xe&&we.call(Ct,Se),s(this,ne)&&s(this[ne],he)&&(this[ne][he]=!1),je(this,he,m(1,Se))};return n&&We&&je(xe,he,{configurable:!0,set:we}),Ge(he,ue)},R(Ee[ee],"toString",function(){return ge(this).tag}),R(Ee,"withoutSetter",function(ce){return Ge(N(ce),ce)}),w.f=W,A.f=U,I.f=Q,E.f=C.f=J,S.f=oe,G.f=function(ce){return Ge(_(ce),ce)},n&&(ct(Ee[ee],"description",{configurable:!0,get:function(){return ge(this).description}}),t||R(xe,"propertyIsEnumerable",W,{unsafe:!0}))),u({global:!0,wrap:!0,forced:!r,sham:!r},{Symbol:Ee}),q(T(Ce),function(ce){H(ce)}),u({target:X,stat:!0,forced:!r},{for:function(ce){var ue=String(ce);if(s(ie,ue))return ie[ue];var he=Ee(ue);return ie[ue]=he,ye[he]=ue,he},keyFor:function(ue){if(!K(ue))throw TypeError(ue+" is not a symbol");if(s(ye,ue))return ye[ue]},useSetter:function(){We=!0},useSimple:function(){We=!1}}),u({target:"Object",stat:!0,forced:!r,sham:!n},{create:D,defineProperty:U,defineProperties:Z,getOwnPropertyDescriptor:Q}),u({target:"Object",stat:!0,forced:!r},{getOwnPropertyNames:J,getOwnPropertySymbols:oe}),u({target:"Object",stat:!0,forced:i(function(){S.f(1)})},{getOwnPropertySymbols:function(ue){return S.f(k(ue))}}),Re){var fe=!r||i(function(){var ce=Ee();return Re([ce])!="[null]"||Re({a:ce})!="{}"||Re(Object(ce))!="{}"});u({target:"JSON",stat:!0,forced:fe},{stringify:function(ue,he,we){for(var Se=[ue],Ue=1,yt;arguments.length>Ue;)Se.push(arguments[Ue++]);if(yt=he,!(!f(he)&&ue===void 0||K(ue)))return c(he)||(he=function(jt,sn){if(typeof yt=="function"&&(sn=yt.call(this,jt,sn)),!K(sn))return sn}),Se[1]=he,Re.apply(null,Se)}})}Ee[ee][ae]||M(Ee[ee],ae,Ee[ee].valueOf),z(Ee,X),B[ne]=!0},a630:function(b,g,l){var u=l("23e7"),o=l("4df4"),a=l("1c7e"),t=!a(function(n){Array.from(n)});u({target:"Array",stat:!0,forced:t},{from:o})},a640:function(b,g,l){var u=l("d039");b.exports=function(o,a){var t=[][o];return!!t&&u(function(){t.call(null,a||function(){throw 1},1)})}},a691:function(b,g){var l=Math.ceil,u=Math.floor;b.exports=function(o){return isNaN(o=+o)?0:(o>0?u:l)(o)}},ab13:function(b,g,l){var u=l("b622"),o=u("match");b.exports=function(a){var t=/./;try{"/./"[a](t)}catch(n){try{return t[o]=!1,"/./"[a](t)}catch(r){}}return!1}},ac1f:function(b,g,l){var u=l("23e7"),o=l("9263");u({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},ad6d:function(b,g,l){var u=l("825a");b.exports=function(){var o=u(this),a="";return o.global&&(a+="g"),o.ignoreCase&&(a+="i"),o.multiline&&(a+="m"),o.dotAll&&(a+="s"),o.unicode&&(a+="u"),o.sticky&&(a+="y"),a}},ae40:function(b,g,l){var u=l("83ab"),o=l("d039"),a=l("5135"),t=Object.defineProperty,n={},r=function(e){throw e};b.exports=function(e,i){if(a(n,e))return n[e];i||(i={});var s=[][e],c=a(i,"ACCESSORS")?i.ACCESSORS:!1,f=a(i,0)?i[0]:r,p=a(i,1)?i[1]:void 0;return n[e]=!!s&&!o(function(){if(c&&!u)return!0;var k={length:-1};c?t(k,1,{enumerable:!0,get:r}):k[1]=1,s.call(k,f,p)})}},ae93:function(b,g,l){var u=l("e163"),o=l("9112"),a=l("5135"),t=l("b622"),n=l("c430"),r=t("iterator"),e=!1,i=function(){return this},s,c,f;[].keys&&(f=[].keys(),"next"in f?(c=u(u(f)),c!==Object.prototype&&(s=c)):e=!0),s==null&&(s={}),!n&&!a(s,r)&&o(s,r,i),b.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:e}},b041:function(b,g,l){var u=l("00ee"),o=l("f5df");b.exports=u?{}.toString:function(){return"[object "+o(this)+"]"}},b0c0:function(b,g,l){var u=l("83ab"),o=l("9bf2").f,a=Function.prototype,t=a.toString,n=/^\s*function ([^ (]*)/,r="name";u&&!(r in a)&&o(a,r,{configurable:!0,get:function(){try{return t.call(this).match(n)[1]}catch(e){return""}}})},b622:function(b,g,l){var u=l("da84"),o=l("5692"),a=l("5135"),t=l("90e3"),n=l("4930"),r=l("fdbf"),e=o("wks"),i=u.Symbol,s=r?i:i&&i.withoutSetter||t;b.exports=function(c){return a(e,c)||(n&&a(i,c)?e[c]=i[c]:e[c]=s("Symbol."+c)),e[c]}},b64b:function(b,g,l){var u=l("23e7"),o=l("7b0b"),a=l("df75"),t=l("d039"),n=t(function(){a(1)});u({target:"Object",stat:!0,forced:n},{keys:function(e){return a(o(e))}})},b727:function(b,g,l){var u=l("0366"),o=l("44ad"),a=l("7b0b"),t=l("50c4"),n=l("65f0"),r=[].push,e=function(i){var s=i==1,c=i==2,f=i==3,p=i==4,k=i==6,y=i==5||k;return function(v,m,L,T){for(var E=a(v),C=o(E),S=u(m,L,3),I=t(C.length),A=0,w=T||n,M=s?w(v,I):c?w(v,0):void 0,R,O;I>A;A++)if((y||A in C)&&(R=C[A],O=S(R,A,E),i)){if(s)M[A]=O;else if(O)switch(i){case 3:return!0;case 5:return R;case 6:return A;case 2:r.call(M,R)}else if(p)return!1}return k?-1:f||p?p:M}};b.exports={forEach:e(0),map:e(1),filter:e(2),some:e(3),every:e(4),find:e(5),findIndex:e(6)}},c04e:function(b,g,l){var u=l("861d");b.exports=function(o,a){if(!u(o))return o;var t,n;if(a&&typeof(t=o.toString)=="function"&&!u(n=t.call(o))||typeof(t=o.valueOf)=="function"&&!u(n=t.call(o))||!a&&typeof(t=o.toString)=="function"&&!u(n=t.call(o)))return n;throw TypeError("Can't convert object to primitive value")}},c430:function(b,g){b.exports=!1},c6b6:function(b,g){var l={}.toString;b.exports=function(u){return l.call(u).slice(8,-1)}},c6cd:function(b,g,l){var u=l("da84"),o=l("ce4e"),a="__core-js_shared__",t=u[a]||o(a,{});b.exports=t},c740:function(b,g,l){var u=l("23e7"),o=l("b727").findIndex,a=l("44d2"),t=l("ae40"),n="findIndex",r=!0,e=t(n);n in[]&&Array(1)[n](function(){r=!1}),u({target:"Array",proto:!0,forced:r||!e},{findIndex:function(s){return o(this,s,arguments.length>1?arguments[1]:void 0)}}),a(n)},c8ba:function(b,g){var l;l=function(){return this}();try{l=l||new Function("return this")()}catch(u){typeof window=="object"&&(l=window)}b.exports=l},c975:function(b,g,l){var u=l("23e7"),o=l("4d64").indexOf,a=l("a640"),t=l("ae40"),n=[].indexOf,r=!!n&&1/[1].indexOf(1,-0)<0,e=a("indexOf"),i=t("indexOf",{ACCESSORS:!0,1:0});u({target:"Array",proto:!0,forced:r||!e||!i},{indexOf:function(c){return r?n.apply(this,arguments)||0:o(this,c,arguments.length>1?arguments[1]:void 0)}})},ca84:function(b,g,l){var u=l("5135"),o=l("fc6a"),a=l("4d64").indexOf,t=l("d012");b.exports=function(n,r){var e=o(n),i=0,s=[],c;for(c in e)!u(t,c)&&u(e,c)&&s.push(c);for(;r.length>i;)u(e,c=r[i++])&&(~a(s,c)||s.push(c));return s}},caad:function(b,g,l){var u=l("23e7"),o=l("4d64").includes,a=l("44d2"),t=l("ae40"),n=t("indexOf",{ACCESSORS:!0,1:0});u({target:"Array",proto:!0,forced:!n},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},cc12:function(b,g,l){var u=l("da84"),o=l("861d"),a=u.document,t=o(a)&&o(a.createElement);b.exports=function(n){return t?a.createElement(n):{}}},ce4e:function(b,g,l){var u=l("da84"),o=l("9112");b.exports=function(a,t){try{o(u,a,t)}catch(n){u[a]=t}return t}},d012:function(b,g){b.exports={}},d039:function(b,g){b.exports=function(l){try{return!!l()}catch(u){return!0}}},d066:function(b,g,l){var u=l("428f"),o=l("da84"),a=function(t){return typeof t=="function"?t:void 0};b.exports=function(t,n){return arguments.length<2?a(u[t])||a(o[t]):u[t]&&u[t][n]||o[t]&&o[t][n]}},d1e7:function(b,g,l){var u={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,a=o&&!u.call({1:2},1);g.f=a?function(n){var r=o(this,n);return!!r&&r.enumerable}:u},d28b:function(b,g,l){var u=l("746f");u("iterator")},d2bb:function(b,g,l){var u=l("825a"),o=l("3bbe");b.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var a=!1,t={},n;try{n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,n.call(t,[]),a=t instanceof Array}catch(r){}return function(e,i){return u(e),o(i),a?n.call(e,i):e.__proto__=i,e}}():void 0)},d3b7:function(b,g,l){var u=l("00ee"),o=l("6eeb"),a=l("b041");u||o(Object.prototype,"toString",a,{unsafe:!0})},d44e:function(b,g,l){var u=l("9bf2").f,o=l("5135"),a=l("b622"),t=a("toStringTag");b.exports=function(n,r,e){n&&!o(n=e?n:n.prototype,t)&&u(n,t,{configurable:!0,value:r})}},d58f:function(b,g,l){var u=l("1c0b"),o=l("7b0b"),a=l("44ad"),t=l("50c4"),n=function(r){return function(e,i,s,c){u(i);var f=o(e),p=a(f),k=t(f.length),y=r?k-1:0,v=r?-1:1;if(s<2)for(;;){if(y in p){c=p[y],y+=v;break}if(y+=v,r?y<0:k<=y)throw TypeError("Reduce of empty array with no initial value")}for(;r?y>=0:k>y;y+=v)y in p&&(c=i(c,p[y],y,f));return c}};b.exports={left:n(!1),right:n(!0)}},d784:function(b,g,l){l("ac1f");var u=l("6eeb"),o=l("d039"),a=l("b622"),t=l("9263"),n=l("9112"),r=a("species"),e=!o(function(){var p=/./;return p.exec=function(){var k=[];return k.groups={a:"7"},k},"".replace(p,"$<a>")!=="7"}),i=function(){return"a".replace(/./,"$0")==="$0"}(),s=a("replace"),c=function(){return/./[s]?/./[s]("a","$0")==="":!1}(),f=!o(function(){var p=/(?:)/,k=p.exec;p.exec=function(){return k.apply(this,arguments)};var y="ab".split(p);return y.length!==2||y[0]!=="a"||y[1]!=="b"});b.exports=function(p,k,y,v){var m=a(p),L=!o(function(){var A={};return A[m]=function(){return 7},""[p](A)!=7}),T=L&&!o(function(){var A=!1,w=/a/;return p==="split"&&(w={},w.constructor={},w.constructor[r]=function(){return w},w.flags="",w[m]=/./[m]),w.exec=function(){return A=!0,null},w[m](""),!A});if(!L||!T||p==="replace"&&!(e&&i&&!c)||p==="split"&&!f){var E=/./[m],C=y(m,""[p],function(A,w,M,R,O){return w.exec===t?L&&!O?{done:!0,value:E.call(w,M,R)}:{done:!0,value:A.call(M,w,R)}:{done:!1}},{REPLACE_KEEPS_$0:i,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:c}),S=C[0],I=C[1];u(String.prototype,p,S),u(RegExp.prototype,m,k==2?function(A,w){return I.call(A,this,w)}:function(A){return I.call(A,this)})}v&&n(RegExp.prototype[m],"sham",!0)}},d81d:function(b,g,l){var u=l("23e7"),o=l("b727").map,a=l("1dde"),t=l("ae40"),n=a("map"),r=t("map");u({target:"Array",proto:!0,forced:!n||!r},{map:function(i){return o(this,i,arguments.length>1?arguments[1]:void 0)}})},da84:function(b,g,l){(function(u){var o=function(a){return a&&a.Math==Math&&a};b.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof u=="object"&&u)||Function("return this")()}).call(this,l("c8ba"))},dbb4:function(b,g,l){var u=l("23e7"),o=l("83ab"),a=l("56ef"),t=l("fc6a"),n=l("06cf"),r=l("8418");u({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(i){for(var s=t(i),c=n.f,f=a(s),p={},k=0,y,v;f.length>k;)v=c(s,y=f[k++]),v!==void 0&&r(p,y,v);return p}})},dbf1:function(b,g,l){(function(u){l.d(g,"a",function(){return a});function o(){return typeof window!="undefined"?window.console:u.console}var a=o()}).call(this,l("c8ba"))},ddb0:function(b,g,l){var u=l("da84"),o=l("fdbc"),a=l("e260"),t=l("9112"),n=l("b622"),r=n("iterator"),e=n("toStringTag"),i=a.values;for(var s in o){var c=u[s],f=c&&c.prototype;if(f){if(f[r]!==i)try{t(f,r,i)}catch(k){f[r]=i}if(f[e]||t(f,e,s),o[s]){for(var p in a)if(f[p]!==a[p])try{t(f,p,a[p])}catch(k){f[p]=a[p]}}}}},df75:function(b,g,l){var u=l("ca84"),o=l("7839");b.exports=Object.keys||function(t){return u(t,o)}},e01a:function(b,g,l){var u=l("23e7"),o=l("83ab"),a=l("da84"),t=l("5135"),n=l("861d"),r=l("9bf2").f,e=l("e893"),i=a.Symbol;if(o&&typeof i=="function"&&(!("description"in i.prototype)||i().description!==void 0)){var s={},c=function(){var m=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),L=this instanceof c?new i(m):m===void 0?i():i(m);return m===""&&(s[L]=!0),L};e(c,i);var f=c.prototype=i.prototype;f.constructor=c;var p=f.toString,k=String(i("test"))=="Symbol(test)",y=/^Symbol\((.*)\)[^)]+$/;r(f,"description",{configurable:!0,get:function(){var m=n(this)?this.valueOf():this,L=p.call(m);if(t(s,m))return"";var T=k?L.slice(7,-1):L.replace(y,"$1");return T===""?void 0:T}}),u({global:!0,forced:!0},{Symbol:c})}},e163:function(b,g,l){var u=l("5135"),o=l("7b0b"),a=l("f772"),t=l("e177"),n=a("IE_PROTO"),r=Object.prototype;b.exports=t?Object.getPrototypeOf:function(e){return e=o(e),u(e,n)?e[n]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?r:null}},e177:function(b,g,l){var u=l("d039");b.exports=!u(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},e260:function(b,g,l){var u=l("fc6a"),o=l("44d2"),a=l("3f8c"),t=l("69f3"),n=l("7dd0"),r="Array Iterator",e=t.set,i=t.getterFor(r);b.exports=n(Array,"Array",function(s,c){e(this,{type:r,target:u(s),index:0,kind:c})},function(){var s=i(this),c=s.target,f=s.kind,p=s.index++;return!c||p>=c.length?(s.target=void 0,{value:void 0,done:!0}):f=="keys"?{value:p,done:!1}:f=="values"?{value:c[p],done:!1}:{value:[p,c[p]],done:!1}},"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")},e439:function(b,g,l){var u=l("23e7"),o=l("d039"),a=l("fc6a"),t=l("06cf").f,n=l("83ab"),r=o(function(){t(1)}),e=!n||r;u({target:"Object",stat:!0,forced:e,sham:!n},{getOwnPropertyDescriptor:function(s,c){return t(a(s),c)}})},e538:function(b,g,l){var u=l("b622");g.f=u},e893:function(b,g,l){var u=l("5135"),o=l("56ef"),a=l("06cf"),t=l("9bf2");b.exports=function(n,r){for(var e=o(r),i=t.f,s=a.f,c=0;c<e.length;c++){var f=e[c];u(n,f)||i(n,f,s(r,f))}}},e8b5:function(b,g,l){var u=l("c6b6");b.exports=Array.isArray||function(a){return u(a)=="Array"}},e95a:function(b,g,l){var u=l("b622"),o=l("3f8c"),a=u("iterator"),t=Array.prototype;b.exports=function(n){return n!==void 0&&(o.Array===n||t[a]===n)}},f5df:function(b,g,l){var u=l("00ee"),o=l("c6b6"),a=l("b622"),t=a("toStringTag"),n=o(function(){return arguments}())=="Arguments",r=function(e,i){try{return e[i]}catch(s){}};b.exports=u?o:function(e){var i,s,c;return e===void 0?"Undefined":e===null?"Null":typeof(s=r(i=Object(e),t))=="string"?s:n?o(i):(c=o(i))=="Object"&&typeof i.callee=="function"?"Arguments":c}},f772:function(b,g,l){var u=l("5692"),o=l("90e3"),a=u("keys");b.exports=function(t){return a[t]||(a[t]=o(t))}},fb15:function(b,g,l){if(l.r(g),typeof window!="undefined"){var u=window.document.currentScript;{var o=l("8875");u=o(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:o})}var a=u&&u.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(l.p=a[1])}l("99af"),l("4de4"),l("4160"),l("c975"),l("d81d"),l("a434"),l("159b"),l("a4d3"),l("e439"),l("dbb4"),l("b64b");function t(K,U,Z){return U in K?Object.defineProperty(K,U,{value:Z,enumerable:!0,configurable:!0,writable:!0}):K[U]=Z,K}function n(K,U){var Z=Object.keys(K);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(K);U&&(D=D.filter(function(W){return Object.getOwnPropertyDescriptor(K,W).enumerable})),Z.push.apply(Z,D)}return Z}function r(K){for(var U=1;U<arguments.length;U++){var Z=arguments[U]!=null?arguments[U]:{};U%2?n(Object(Z),!0).forEach(function(D){t(K,D,Z[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(Z)):n(Object(Z)).forEach(function(D){Object.defineProperty(K,D,Object.getOwnPropertyDescriptor(Z,D))})}return K}function e(K){if(Array.isArray(K))return K}l("e01a"),l("d28b"),l("e260"),l("d3b7"),l("3ca3"),l("ddb0");function i(K,U){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(K)))){var Z=[],D=!0,W=!1,Q=void 0;try{for(var J=K[Symbol.iterator](),oe;!(D=(oe=J.next()).done)&&(Z.push(oe.value),!(U&&Z.length===U));D=!0);}catch(fe){W=!0,Q=fe}finally{try{!D&&J.return!=null&&J.return()}finally{if(W)throw Q}}return Z}}l("a630"),l("fb6a"),l("b0c0"),l("25f0");function s(K,U){(U==null||U>K.length)&&(U=K.length);for(var Z=0,D=new Array(U);Z<U;Z++)D[Z]=K[Z];return D}function c(K,U){if(!!K){if(typeof K=="string")return s(K,U);var Z=Object.prototype.toString.call(K).slice(8,-1);if(Z==="Object"&&K.constructor&&(Z=K.constructor.name),Z==="Map"||Z==="Set")return Array.from(K);if(Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return s(K,U)}}function f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(K,U){return e(K)||i(K,U)||c(K,U)||f()}function k(K){if(Array.isArray(K))return s(K)}function y(K){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(K))return Array.from(K)}function v(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(K){return k(K)||y(K)||c(K)||v()}var L=l("a352"),T=l.n(L);function E(K){K.parentElement!==null&&K.parentElement.removeChild(K)}function C(K,U,Z){var D=Z===0?K.children[0]:K.children[Z-1].nextSibling;K.insertBefore(U,D)}var S=l("dbf1");l("13d5"),l("4fad"),l("ac1f"),l("5319");function I(K){var U=Object.create(null);return function(D){var W=U[D];return W||(U[D]=K(D))}}var A=/-(\w)/g,w=I(function(K){return K.replace(A,function(U,Z){return Z.toUpperCase()})});l("5db7"),l("73d9");var M=["Start","Add","Remove","Update","End"],R=["Choose","Unchoose","Sort","Filter","Clone"],O=["Move"],F=[O,M,R].flatMap(function(K){return K}).map(function(K){return"on".concat(K)}),B={manage:O,manageAndEmit:M,emit:R};function N(K){return F.indexOf(K)!==-1}l("caad"),l("2ca0");var _=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function G(K){return _.includes(K)}function H(K){return["transition-group","TransitionGroup"].includes(K)}function z(K){return["id","class","role","style"].includes(K)||K.startsWith("data-")||K.startsWith("aria-")||K.startsWith("on")}function j(K){return K.reduce(function(U,Z){var D=p(Z,2),W=D[0],Q=D[1];return U[W]=Q,U},{})}function q(K){var U=K.$attrs,Z=K.componentData,D=Z===void 0?{}:Z,W=j(Object.entries(U).filter(function(Q){var J=p(Q,2),oe=J[0];return J[1],z(oe)}));return r(r({},W),D)}function ne(K){var U=K.$attrs,Z=K.callBackBuilder,D=j(X(U));Object.entries(Z).forEach(function(Q){var J=p(Q,2),oe=J[0],fe=J[1];B[oe].forEach(function(ce){D["on".concat(ce)]=fe(ce)})});var W="[data-draggable]".concat(D.draggable||"");return r(r({},D),{},{draggable:W})}function X(K){return Object.entries(K).filter(function(U){var Z=p(U,2),D=Z[0];return Z[1],!z(D)}).map(function(U){var Z=p(U,2),D=Z[0],W=Z[1];return[w(D),W]}).filter(function(U){var Z=p(U,2),D=Z[0];return Z[1],!N(D)})}l("c740");function ee(K,U){if(!(K instanceof U))throw new TypeError("Cannot call a class as a function")}function ae(K,U){for(var Z=0;Z<U.length;Z++){var D=U[Z];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(K,D.key,D)}}function re(K,U,Z){return U&&ae(K.prototype,U),Z&&ae(K,Z),K}var ge=function(U){var Z=U.el;return Z},xe=function(U,Z){return U.__draggable_context=Z},Ee=function(U){return U.__draggable_context},Re=function(){function K(U){var Z=U.nodes,D=Z.header,W=Z.default,Q=Z.footer,J=U.root,oe=U.realList;ee(this,K),this.defaultNodes=W,this.children=[].concat(m(D),m(W),m(Q)),this.externalComponent=J.externalComponent,this.rootTransition=J.transition,this.tag=J.tag,this.realList=oe}return re(K,[{key:"render",value:function(Z,D){var W=this.tag,Q=this.children,J=this._isRootComponent,oe=J?{default:function(){return Q}}:Q;return Z(W,D,oe)}},{key:"updated",value:function(){var Z=this.defaultNodes,D=this.realList;Z.forEach(function(W,Q){xe(ge(W),{element:D[Q],index:Q})})}},{key:"getUnderlyingVm",value:function(Z){return Ee(Z)}},{key:"getVmIndexFromDomIndex",value:function(Z,D){var W=this.defaultNodes,Q=W.length,J=D.children,oe=J.item(Z);if(oe===null)return Q;var fe=Ee(oe);if(fe)return fe.index;if(Q===0)return 0;var ce=ge(W[0]),ue=m(J).findIndex(function(he){return he===ce});return Z<ue?0:Q}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),K}(),_e=l("8bbf");function ct(K,U){var Z=K[U];return Z?Z():[]}function mt(K){var U=K.$slots,Z=K.realList,D=K.getKey,W=Z||[],Q=["header","footer"].map(function(he){return ct(U,he)}),J=p(Q,2),oe=J[0],fe=J[1],ce=U.item;if(!ce)throw new Error("draggable element must have an item slot");var ue=W.flatMap(function(he,we){return ce({element:he,index:we}).map(function(Se){return Se.key=D(he),Se.props=r(r({},Se.props||{}),{},{"data-draggable":!0}),Se})});if(ue.length!==W.length)throw new Error("Item slot must have only one child");return{header:oe,footer:fe,default:ue}}function Ot(K){var U=H(K),Z=!G(K)&&!U;return{transition:U,externalComponent:Z,tag:Z?Object(_e.resolveComponent)(K):U?_e.TransitionGroup:K}}function ut(K){var U=K.$slots,Z=K.tag,D=K.realList,W=K.getKey,Q=mt({$slots:U,realList:D,getKey:W}),J=Ot(Z);return new Re({nodes:Q,root:J,realList:D})}function Ct(K,U){var Z=this;Object(_e.nextTick)(function(){return Z.$emit(K.toLowerCase(),U)})}function ie(K){var U=this;return function(Z,D){if(U.realList!==null)return U["onDrag".concat(K)](Z,D)}}function ye(K){var U=this,Z=ie.call(this,K);return function(D,W){Z.call(U,D,W),Ct.call(U,K,D)}}var Ce=null,De={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(U){return U}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},We=["update:modelValue","change"].concat(m([].concat(m(B.manageAndEmit),m(B.emit)).map(function(K){return K.toLowerCase()}))),je=Object(_e.defineComponent)({name:"draggable",inheritAttrs:!1,props:De,emits:We,data:function(){return{error:!1}},render:function(){try{this.error=!1;var U=this.$slots,Z=this.$attrs,D=this.tag,W=this.componentData,Q=this.realList,J=this.getKey,oe=ut({$slots:U,tag:D,realList:Q,getKey:J});this.componentStructure=oe;var fe=q({$attrs:Z,componentData:W});return oe.render(_e.h,fe)}catch(ce){return this.error=!0,Object(_e.h)("pre",{style:{color:"red"}},ce.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&S.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var U=this;if(!this.error){var Z=this.$attrs,D=this.$el,W=this.componentStructure;W.updated();var Q=ne({$attrs:Z,callBackBuilder:{manageAndEmit:function(fe){return ye.call(U,fe)},emit:function(fe){return Ct.bind(U,fe)},manage:function(fe){return ie.call(U,fe)}}}),J=D.nodeType===1?D:D.parentElement;this._sortable=new T.a(J,Q),this.targetDomElement=J,J.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var U=this.list;return U||this.modelValue},getKey:function(){var U=this.itemKey;return typeof U=="function"?U:function(Z){return Z[U]}}},watch:{$attrs:{handler:function(U){var Z=this._sortable;!Z||X(U).forEach(function(D){var W=p(D,2),Q=W[0],J=W[1];Z.option(Q,J)})},deep:!0}},methods:{getUnderlyingVm:function(U){return this.componentStructure.getUnderlyingVm(U)||null},getUnderlyingPotencialDraggableComponent:function(U){return U.__draggable_component__},emitChanges:function(U){var Z=this;Object(_e.nextTick)(function(){return Z.$emit("change",U)})},alterList:function(U){if(this.list){U(this.list);return}var Z=m(this.modelValue);U(Z),this.$emit("update:modelValue",Z)},spliceList:function(){var U=arguments,Z=function(W){return W.splice.apply(W,m(U))};this.alterList(Z)},updatePosition:function(U,Z){var D=function(Q){return Q.splice(Z,0,Q.splice(U,1)[0])};this.alterList(D)},getRelatedContextFromMoveEvent:function(U){var Z=U.to,D=U.related,W=this.getUnderlyingPotencialDraggableComponent(Z);if(!W)return{component:W};var Q=W.realList,J={list:Q,component:W};if(Z!==D&&Q){var oe=W.getUnderlyingVm(D)||{};return r(r({},oe),J)}return J},getVmIndexFromDomIndex:function(U){return this.componentStructure.getVmIndexFromDomIndex(U,this.targetDomElement)},onDragStart:function(U){this.context=this.getUnderlyingVm(U.item),U.item._underlying_vm_=this.clone(this.context.element),Ce=U.item},onDragAdd:function(U){var Z=U.item._underlying_vm_;if(Z!==void 0){E(U.item);var D=this.getVmIndexFromDomIndex(U.newIndex);this.spliceList(D,0,Z);var W={element:Z,newIndex:D};this.emitChanges({added:W})}},onDragRemove:function(U){if(C(this.$el,U.item,U.oldIndex),U.pullMode==="clone"){E(U.clone);return}var Z=this.context,D=Z.index,W=Z.element;this.spliceList(D,1);var Q={element:W,oldIndex:D};this.emitChanges({removed:Q})},onDragUpdate:function(U){E(U.item),C(U.from,U.item,U.oldIndex);var Z=this.context.index,D=this.getVmIndexFromDomIndex(U.newIndex);this.updatePosition(Z,D);var W={element:this.context.element,oldIndex:Z,newIndex:D};this.emitChanges({moved:W})},computeFutureIndex:function(U,Z){if(!U.element)return 0;var D=m(Z.to.children).filter(function(oe){return oe.style.display!=="none"}),W=D.indexOf(Z.related),Q=U.component.getVmIndexFromDomIndex(W),J=D.indexOf(Ce)!==-1;return J||!Z.willInsertAfter?Q:Q+1},onDragMove:function(U,Z){var D=this.move,W=this.realList;if(!D||!W)return!0;var Q=this.getRelatedContextFromMoveEvent(U),J=this.computeFutureIndex(Q,U),oe=r(r({},this.context),{},{futureIndex:J}),fe=r(r({},U),{},{relatedContext:Q,draggedContext:oe});return D(fe,Z)},onDragEnd:function(){Ce=null}}}),Ge=je;g.default=Ge},fb6a:function(b,g,l){var u=l("23e7"),o=l("861d"),a=l("e8b5"),t=l("23cb"),n=l("50c4"),r=l("fc6a"),e=l("8418"),i=l("b622"),s=l("1dde"),c=l("ae40"),f=s("slice"),p=c("slice",{ACCESSORS:!0,0:0,1:2}),k=i("species"),y=[].slice,v=Math.max;u({target:"Array",proto:!0,forced:!f||!p},{slice:function(L,T){var E=r(this),C=n(E.length),S=t(L,C),I=t(T===void 0?C:T,C),A,w,M;if(a(E)&&(A=E.constructor,typeof A=="function"&&(A===Array||a(A.prototype))?A=void 0:o(A)&&(A=A[k],A===null&&(A=void 0)),A===Array||A===void 0))return y.call(E,S,I);for(w=new(A===void 0?Array:A)(v(I-S,0)),M=0;S<I;S++,M++)S in E&&e(w,M,E[S]);return w.length=M,w}})},fc6a:function(b,g,l){var u=l("44ad"),o=l("1d80");b.exports=function(a){return u(o(a))}},fdbc:function(b,g){b.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(b,g,l){var u=l("4930");b.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(Rr);const zc=$a(Rr.exports),_c=["data-block-layer-id","title","onContextmenu","onClick","onMouseover"],Uc=Y("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[Y("rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}),Y("rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}),Y("rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}),Y("rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"})],-1),jc=[Uc],Gc=["contenteditable","title","onDblclick","onKeydown","onBlur"],Kc={key:4,class:"ml-auto mr-2 text-gray-400 dark:text-zinc-600"},tr=Ne({__name:"BlockLayers",props:{blocks:{type:Array,default:()=>[]}},setup($){const x=Ze(),d=(l,u)=>{const o=l.target;u.blockName=o.innerText.trim(),u.editable=!1},h=le(new Set(["root"])),b=l=>h.value.has(l.blockId),g=l=>{b(l)&&!l.isRoot()?h.value.delete(l.blockId):h.value.add(l.blockId)};return gt(()=>x.selectedBlocks,()=>{x.selectedBlocks.length&&x.selectedBlocks.forEach(l=>{if(l){h.value.add(l.blockId);let u=l.getParentBlock();for(;u&&!u.isRoot();)h.value.add(u==null?void 0:u.blockId),u=u.getParentBlock()}})},{immediate:!0}),(l,u)=>{const o=it("BlockLayers",!0);return te(),pe("div",null,[se(P(zc),{class:"block-tree",list:$.blocks,group:{name:"block-tree"},"item-key":"blockId",disabled:$.blocks.length&&($.blocks[0].isRoot()||$.blocks[0].isChildOfComponentBlock())},{item:Te(({element:a})=>[Y("div",null,[se(Tr,{block:a,editable:!1},{default:Te(({onContextMenu:t})=>[Y("div",{"data-block-layer-id":a.blockId,title:a.blockId,onContextmenu:Ve(t,["prevent","stop"]),class:ze(["cursor-pointer rounded border bg-white pl-2 pr-[2px] text-sm text-gray-700 dark:bg-zinc-900",{"border-transparent dark:text-gray-500":!a.isSelected()&&!a.isHovered(),"border-blue-300 text-gray-700 dark:border-blue-800 dark:text-gray-500":a.isHovered()&&!a.isSelected(),"border-blue-400 text-gray-900 dark:border-blue-600 dark:text-gray-200":a.isSelected()}]),onClick:Ve(n=>{a.expanded=!0,P(x).selectBlock(a,n,!1)},["stop"]),onMouseover:Ve(n=>P(x).hoveredBlock=a.blockId,["stop"]),onMouseleave:u[0]||(u[0]=Ve(n=>P(x).hoveredBlock=null,["stop"]))},[Y("span",{class:ze(["group my-[6px] flex items-center font-medium",{"!opacity-50":!a.isVisible()}])},[a.children&&a.children.length&&!a.isRoot()&&!a.isImage()&&!a.isSVG()?(te(),me(P(zn),{key:0,name:b(a)?"chevron-down":"chevron-right",class:"mr-1 h-3 w-3",onClick:Ve(n=>g(a),["stop"])},null,8,["name","onClick"])):ve("",!0),Boolean(a.extendedFromComponent)?ve("",!0):(te(),me(P(zn),{key:1,name:a.getIcon(),class:ze(["mr-1 h-3 w-3",{"text-purple-500 opacity-80 dark:opacity-100 dark:brightness-125 dark:saturate-[0.3]":a.isExtendedFromComponent()}])},null,8,["name","class"])),Boolean(a.extendedFromComponent)?(te(),pe("svg",{key:2,class:ze(["mr-1 h-3 w-3",{"text-purple-500 opacity-80 dark:opacity-100 dark:brightness-125 dark:saturate-[0.3]":a.isExtendedFromComponent()}]),xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},jc,2)):ve("",!0),Y("span",{class:ze(["min-h-[1em] min-w-[2em] truncate",{"text-purple-500 opacity-80 dark:opacity-100 dark:brightness-125 dark:saturate-[0.3]":a.isExtendedFromComponent()}]),contenteditable:a.editable,title:a.blockId,onDblclick:n=>a.editable=!0,onKeydown:Si(Ve(n=>a.editable=!1,["stop","prevent"]),["enter"]),onBlur:n=>d(n,a)},qe(a.getBlockDescription()),43,Gc),a.isRoot()?ve("",!0):(te(),me(P(zn),{key:3,name:a.isVisible()?"eye":"eye-off",class:"ml-auto mr-2 hidden h-3 w-3 group-hover:block",onClick:Ve(n=>a.toggleVisibility(),["stop"])},null,8,["name","onClick"])),a.isRoot()?(te(),pe("span",Kc,qe(P(x).activeBreakpoint),1)):ve("",!0)],2),Ie(Y("div",null,[se(o,{blocks:a.children,class:"ml-3"},null,8,["blocks"])],512),[[Oe,b(a)&&a.isVisible()&&!a.isSVG()&&!a.isImage()]])],42,_c)]),_:2},1032,["block"])])]),_:1},8,["list","disabled"])])}}}),Yc=$=>$t(void 0,null,function*(){const x=Ai({method:"GET",doctype:"Builder Tag Map",fields:["*"],parent:"Builder template",orderBy:"creation",cache:"Tags",start:0,pageLength:100,auto:!1,transform(d){return d}});return x.update({filters:[["parent","=",$]]}),x.fetch(),yield x.list.promise}),Xc=$=>$t(void 0,null,function*(){const x=Ai({method:"GET",doctype:"Builder Component Map",fields:["*"],parent:"Builder template",orderBy:"creation",cache:"Sections",start:0,pageLength:100,auto:!1,transform(d){return d}});return x.update({filters:[["parent","=",$]]}),x.fetch(),yield x.list.promise}),Zc=Ai({method:"GET",doctype:"Builder template",fields:["*"],orderBy:"creation",cache:"Templates",start:0,pageLength:100,auto:!0,transform:$=>$t(void 0,null,function*(){return yield Promise.all($.map(x=>$t(void 0,null,function*(){x.tags=yield Yc(x.name),x.section=yield Xc(x.name)}))),$})}),Qc={class:"flex flex-col gap-[16px] h-full"},Jc={class:"flex flex-col justify-center items-start gap-[12px]"},qc={class:"w-[63px] text-[#09090B] font-sans text-[14px] leading-[14px] font-[500]"},eu={class:"flex justify-center flex-row w-full px-[12px] py-[4px] border rounded-md border-[#E4E4E7] shadow-sm"},tu={class:"text-sm italic text-gray-600"},nu={class:"text-[#71717A] font-sans text-[14px] leading-[14px] font-[500]"},iu={class:"grid grid-cols-2 grid-raws-auto grid-flow-dense h-auto w-full gap-[8px]"},ru=["onClick","src"],ou={class:"flex flex-col justify-center items-start gap-[16px]"},su={class:"flex flex-row gap-[8px] items-center w-full"},au=Y("h1",{class:"text-[14px] font-[500] leading-[14px] text-[#09090B] dark:text-gray-200"},"Section",-1),lu={class:"text-[#71717A] font-sans text-[14px] leading-[14px] font-[500]"},cu={class:"grid grid-cols-2 grid-raws-auto grid-flow-dense h-auto w-full gap-[8px]"},uu={class:"component-container group w-full h-full relative block"},du=["onDragstart"],hu=Ne({__name:"BuilderCategory",setup($){const x=Ze(),d=le(""),h=le(),b=le(),g=le();gt(()=>Zc.data,s=>{l(s)});const l=s=>$t(this,null,function*(){try{const c=yield s;g.value=c}catch(c){console.error(c)}}),u=$e(()=>(g.value||[]).filter(s=>h.value?h.value.includes(s.template_name)?s:!1:s)),o=$e(()=>(Yn.data||[]).filter(s=>{var c;return h.value?h.value.includes(s.component_name)?(c=s.component_name)==null?void 0:c.toLowerCase().includes(d.value.toLowerCase()):!1:s})),a=()=>{b.value=null},t=$e(()=>{if(!u.value[0])return[];const s=u.value.flatMap(c=>{var p;return(p=nr(c).tags)==null?void 0:p.map(k=>k.name)});return[...new Set(s)]}),n=$e(()=>{if(!b.value)return[];const c=b.value.section.map(f=>f.name).map(f=>o.value.filter(p=>p.name===f)[0].component_name);return[...new Set(c)]}),r=s=>{b.value=s},e=(s,c)=>$t(this,null,function*(){const{stop:f}=ka(s.closest(".component-container"),([{isIntersecting:p}],k)=>{if(p){const y=Math.max(Math.min(60/s.offsetHeight,200/s.offsetWidth),.1);c.scale=y,f()}})}),i=(s,c)=>{var f;!c.name||(f=s==null?void 0:s.dataTransfer)==null||f.setData("componentName",c.name)};return(s,c)=>{const f=it("Input"),p=it("Button");return te(),pe("div",Qc,[Ie(Y("div",Jc,[Y("h3",qc,qe(P(x).leftPanelActiveTab==="templates"?"Template":"Element"),1),Y("div",eu,[se(f,{class:"rounded-none bg-transparent p-0 hover:bg-transparent outline-none focus:bg-transparent focus:border-none focus:outline-none focus:shadow-none border-none flex-grow",type:"text",placeholder:"Search...",inputClass:"w-full",modelValue:d.value,"onUpdate:modelValue":c[0]||(c[0]=k=>d.value=k),onInput:c[1]||(c[1]=k=>{d.value=k})},null,8,["modelValue"]),se(p,{class:"bg-transparent !p-0 hover:bg-transparent"},{default:Te(()=>[se(P(qa),{class:"w-[14px] h-[14px]"})]),_:1})])],512),[[Oe,!b.value]]),Ie(Y("div",tu,"Nothing saved",512),[[Oe,!t.value.length]]),(te(!0),pe(Je,null,st(t.value,k=>Ie((te(),pe("div",{key:k,class:"flex flex-col justify-center items-start gap-[12px]"},[Y("h4",nu,qe(k),1),Y("div",iu,[(te(!0),pe(Je,null,st(u.value.filter(y=>y.tags.some(v=>v.name===k)),y=>(te(),pe("img",{onClick:Ve(v=>r(y),["stop"]),src:y.template_icon,class:"h-[74px] w-[134px] bg-cover rounded-md hover:cursor-pointer border col-span-1 row-span-1",alt:"Error"},null,8,ru))),256))])])),[[Oe,!b.value]])),128)),Ie(Y("div",ou,[Y("div",su,[se(P(Ja),{onClick:Ve(a,["stop"]),class:"w-[16px] h-[16px] hover:cursor-pointer"},null,8,["onClick"]),au]),(te(!0),pe(Je,null,st(n.value,k=>Ie((te(),pe("div",{key:k,class:"flex flex-col justify-center items-start gap-[12px]"},[Y("h4",lu,qe(k),1),Ie(Y("div",cu,[(te(!0),pe(Je,null,st(o.value.filter(y=>y.component_name===k),y=>(te(),pe("div",{key:y.name,class:"flex h-[74px] w-[134px] border rounded-md col-span-1 row-span-1"},[Y("div",uu,[Y("div",{class:"relative flex w-full h-full cursor-pointer items-center justify-center overflow-hidden rounded-md border bg-gray-50 p-2 shadow-sm last:mr-0 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-200",draggable:"true",onDragstart:v=>i(v,y)},[Y("div",{class:"pointer-events-none absolute flex justify-center self-center",style:He({transform:"scale("+y.scale+")"})},[se(Mi,{class:"h-fit max-w-fit",block:y.block,onMounted:v=>e(v,y),preview:!0},null,8,["block","onMounted"])],4)],40,du)])]))),128))],512),[[Oe,o.value[0]]])])),[[Oe,b.value]])),128))],512),[[Oe,b.value]])])}}}),fu=$=>(ur("data-v-4ae6c664"),$=$(),lr(),$),pu={class:"flex flex-col w-[64px] h-full p-[12px] gap-[10px] border-r col-span-1"},gu=fu(()=>Y("div",{class:"bg-[#E4E4E7] w-[32px] h-[1px]"},null,-1)),vu={class:"h-full"},mu=Ne({__name:"BuilderLeftPanel",setup($){le(null);const x=Ze();le(!1);const d=h=>{x.leftPanelActiveTab=h};return(h,b)=>{const g=it("Button");return te(),pe("div",{class:"grid grid-flow-col h-full overflow-hidden",style:He({width:`${P(x).builderLayout.leftPanelWidth}px`})},[Y("div",pu,[(te(!0),pe(Je,null,st(P(x).categories.slice(0,-1),l=>(te(),me(g,{key:l.name,class:ze(["grid dark:text-white bg-transparent w-[36px] h-[36px] place-items-center rounded-md cursor-pointer",{["custom-bg text-white  "]:P(x).leftPanelActiveTab===l.name}]),style:He({"--bg-color":l.focus}),onClick:u=>d(l.name)},{default:Te(()=>[(te(),me(Tn(l.Icon),{size:"16"}))]),_:2},1032,["style","class","onClick"]))),128)),gu,se(g,{class:ze(["grid dark:text-white bg-transparent w-[36px] h-[36px] place-items-center rounded-md cursor-pointer",{["custom-bg text-white  "]:P(x).leftPanelActiveTab===P(x).categories[P(x).categories.length-1].name}]),style:He({"--bg-color":P(x).categories[P(x).categories.length-1].focus}),onClick:b[0]||(b[0]=l=>d(P(x).categories[P(x).categories.length-1].name))},{default:Te(()=>[(te(),me(Tn(P(x).categories[P(x).categories.length-1].Icon),{size:"16"}))]),_:1},8,["style","class"])]),ve("",!0),se(Li,{dimension:P(x).builderLayout.leftPanelWidth,side:"right",onResize:b[2]||(b[2]=l=>P(x).builderLayout.leftPanelWidth=l)},null,8,["dimension"]),Ie(Y("div",vu,[se(hu,{class:"w-[300px] px-[12px] py-[16px] flex flex-col gap-[16px]"})],512),[[Oe,P(x).leftPanelActiveTab==="templates"||P(x).leftPanelActiveTab==="components"]]),Ie(Y("div",null,[P(x).editingComponent?ve("",!0):Ie((te(),me(tr,{key:0,class:"w-[300px] px-[12px] py-[16px] flex flex-col gap-[16px]",blocks:P(x).builderState.blocks},null,8,["blocks"])),[[Oe,P(x).editingMode=="page"]]),P(x).editingComponent?(te(),me(tr,{key:1,class:"w-[300px] px-[12px] py-[16px] flex flex-col gap-[16px]",blocks:[P(x).getComponentBlock(P(x).editingComponent)]},null,8,["blocks"])):ve("",!0)],512),[[Oe,P(x).leftPanelActiveTab==="layers"]])],4)}}});const yu=pr(mu,[["__scopeId","data-v-4ae6c664"]]),bu={ref:"colorPicker",class:"rounded-md bg-white flex flex-col items-center jusitfy-center gap-[16px] p-[16px] w-[248px] shadow-lg border dark:bg-zinc-900"},wu={class:"flex flex-row p-[8px] justify-between items-start w-full"},xu=["onClick"],Su={class:"flex flex-col items-start w-full gap-[8px] justify-center"},Cu=Y("label",{class:"text-inter text-[12px] font-[400] leading-[14px] text-[#09090B]"},"Gradient",-1),$u={class:"flex flex-row gap-[6px] justify-center w-full h-[20px]"},ku=["onClick"],Au=["onClick"],Eu=["onMousedown","onClick"],Lu=["onMousedown"],Tu={class:"grid grid-cols-4 grid-rows-2 grid-flow-row-dense gap-[8px] w-full"},Mu={class:"grid place-items-center w-full h-full rounded-sm bg-transparent"},Ru=Y("g",{fill:"none","fill-rule":"evenodd"},[Y("path",{d:"M24 0v24H0V0h24ZM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018Zm.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022Zm-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01l-.184-.092Z"}),Y("path",{fill:"currentColor",d:"M20.477 3.511a3 3 0 0 0-4.243 0l-1.533 1.533a2.991 2.991 0 0 0-3.41.581l-.713.714a2 2 0 0 0 0 2.829l-6.486 6.485a3 3 0 0 0-.878 2.122v1.8a1.2 1.2 0 0 0 1.2 1.2h1.8a3 3 0 0 0 2.12-.88l6.486-6.484a2 2 0 0 0 2.829 0l.714-.715a2.991 2.991 0 0 0 .581-3.41l1.533-1.532a3 3 0 0 0 0-4.243ZM5.507 17.067l6.485-6.485l1.414 1.414l-6.485 6.486a1 1 0 0 1-.707.293h-1v-1a1 1 0 0 1 .293-.707Z"})],-1),Iu=[Ru],Ou={class:"flex flex-col gap-[4px] items-start justify-center"},Du=Y("label",{class:"text-inter text-[12px] font-[400] leading-[14px] text-[#09090B]"},"HEX",-1),Fu={class:"flex flex-row w-full h-[40px] gap-[8px] justify-center"},Bu={ref:"colorPalette",class:"w-full flex flex-col gap-[8px] items-start justify-center"},Pu=Y("label",{class:"text-inter text-[12px] font-[400] leading-[14px] text-[#09090B]"},"Document color",-1),Nu={class:"flex flex-wrap justify-between items-start w-full gap-[4px]"},Wu=["onClick"],Hu=Ne({__name:"BackgroundPicker",props:{modelValue:{type:String,default:null},image:{type:Boolean,default:null}},emits:["update:modelValue"],setup($,{emit:x}){const d=$,h=Ze(),b=le(null),g=le(null),l=le(null),u=le(null),o=le(null),a=le(null),t=le(1),n=le(null),r=le(null),e=le({x:0,y:0}),i=le({x:0,y:0}),s=le({x:0,y:0}),c=le(!1);let f="#FFFFFFFF";const p=["#FFB3E6FF","#00B3E6FF","#E6B333FF","#3366E6FF","#999966FF","#99FF99FF","#B34D4DFF","#80B300FF"],k=$e(()=>{const X=V.getStyle("background");if(!X||X.startsWith("#"))return"#FFFFFFFF";if(X.includes("gradient")){const ee=Na(X)[1];return ee!=null?ee:"#FFFFFFFF"}return"#FFFFFFFF"}),y=$e(()=>{if(!h.selectedBlocks)return null;const X=h.selectedBlocks[0];return!X||!X.gradient?null:X.gradient}),v=$e(()=>{if(!h.getPaletteColors())return p;const X=JSON.parse(h.getPaletteColors());return X.length===0?p:X}),m=X=>{v.value.includes(X)||(v.value.length>=30&&v.value.pop(),v.value.unshift(X),h.paletteColors=v.value,h.updateColors())},L=X=>{const{target:ee}=X;ee===n.value&&(t.value=1,z(I.value)),ee===r.value&&(t.value=2,z(k.value))},{isSupported:T,sRGBHex:E,open:C}=gr(),S=$e(()=>d.image?d.image:!1),I=$e(()=>{if(!d.modelValue)return null;if(d.modelValue.startsWith("#"))return z(Dt(d.modelValue)),Dt(d.modelValue);const X=yr(d.modelValue);return z(Dt(X)),Dt(X)}),A={first:"#D9D9D9FF",second:"#858585FF",third:"#E7E7E7FF",forth:"#FFFFFFFF ",fifth:"#979797FF"},w=$e(()=>[A.first,`linear-gradient(180deg, ${A.second} 9.14%, ${A.third} 80.16%)`,`radial-gradient(56.34% 56.34% at 50% 50%, ${A.forth} 26.56%, ${A.fifth} 100%)`,`conic-gradient(from 180deg at 50% 50%, ${A.forth} 95.625deg, ${A.fifth} 360deg)`]);T.value||v.value.push("#B34D4D");const M=X=>{const{width:ee,height:ae}=l.value.getBoundingClientRect(),{s:re,v:ge}=Cn(X);let xe=ft(re*ee,0,ee),Ee=ft((1-ge)*ae,0,ae);e.value={x:xe,y:Ee}},R=X=>{const{width:ee}=g.value.getBoundingClientRect(),{a:ae}=Cn(X),re=ae/1*ee;s.value={x:re,y:0}},O=X=>{const{width:ee}=b.value.getBoundingClientRect(),{h:ae}=Cn(X),re=ae/360*ee;i.value={x:re,y:0}},F=X=>{_(X);const ee=ae=>{ae.preventDefault(),_(ae)};document.addEventListener("mousemove",ee),document.addEventListener("mouseup",ae=>{document.removeEventListener("mousemove",ee),ae.preventDefault(),m(f)},{once:!0})},B=X=>{H(X),h.history.pause();const ee=ae=>{ae.preventDefault(),H(ae)};document.addEventListener("mousemove",ee),document.addEventListener("mouseup",ae=>{document.removeEventListener("mousemove",ee),ae.preventDefault(),m(f),h.history.resume()},{once:!0})},N=X=>{G(X),h.history.pause();const ee=ae=>{ae.preventDefault(),G(ae)};document.addEventListener("mousemove",ee),document.addEventListener("mouseup",ae=>{document.removeEventListener("mousemove",ee),ae.preventDefault(),m(f),h.history.resume()},{once:!0})};function _(X){const ee=X.clientX,ae=X.clientY,re=l.value.getBoundingClientRect();let ge=ee-re.left,xe=ae-re.top;ge=ft(ge,0,re.width),xe=ft(xe,0,re.height),e.value={x:ge,y:xe},ne()}function G(X){const ee=b.value.getBoundingClientRect(),{clientX:ae}=X;let re=ae-ee.left;re=ft(re,0,ee.width),i.value={x:re,y:0},ne()}function H(X){const ee=g.value.getBoundingClientRect(),{clientX:ae}=X;let re=ae-ee.left;re=ft(re,0,ee.width),s.value={x:re,y:0},ne()}function z(X){if(!X){e.value={x:0,y:0},i.value={x:0,y:0},s.value={x:152.5,y:0};return}at(()=>{M(X),O(X),R(X)})}const j=$e(()=>{if(!b.value)return 0;const X=i.value.x||0,ee=b.value.getBoundingClientRect().width||1;return Math.round(X/ee*360)}),q=$e(()=>{if(!g.value)return 0;const X=s.value.x||0,ee=g.value.getBoundingClientRect().width||1;return Math.round(X/ee*100)/100}),ne=()=>{at(()=>{const X=l.value.getBoundingClientRect(),ee=Math.round(e.value.x/X.width*100),ae=100-Math.round(e.value.y/X.height*100),re=j.value,ge=q.value;if(f=br(re,ee,ae,ge),y.value&&t.value===1){const xe=V.getStyle("background");f=ii(xe,[f,k.value])}else if(y.value&&t.value===2){const xe=V.getStyle("background");f=ii(xe,[I.value,f])}x("update:modelValue",f)})};return gt(E,()=>{!T.value||!E.value||(z(E.value+"ff"),m(E.value+"ff"),ne())}),gt(()=>d.modelValue,X=>{X!==f&&z(Dt(X))},{immediate:!0}),(X,ee)=>{const ae=it("Input");return te(),me(P(Ei),{transition:"default",placement:"left",class:"!block w-full",popoverClass:"!min-w-fit !mr-[30px]"},{target:Te(({togglePopover:re,isOpen:ge})=>[on(X.$slots,"target",{togglePopover:()=>{re(),z(I.value)},isOpen:ge})]),body:Te(()=>[Y("div",bu,[Y("div",wu,[(te(!0),pe(Je,null,st(w.value,re=>(te(),pe("div",{key:re,style:He({background:re}),class:ze(`h-[16px] w-[16px]  rounded-[2px] cursor-pointer ${re.toString().includes(y.value)&&" ring-[10px] ring-[#979797] ring-opacity-10  }"} `),onClick:()=>{re.startsWith("#")?(y.value=null,P(V).setGradient(void 0),P(V).setStyle("background",I.value)):(y.value=P(vr)(re),P(V).setStyle("background",P(ii)(re,[I.value,k.value])))}},null,14,xu))),128)),Ie(se(P(Za),{click:c.value=!0,class:ze(`h-[16px] w-[16px]  rounded-[2px] cursor-pointer ${c.value==!0&&" ring-[10px] ring-[#979797] ring-opacity-10  }"} `)},null,8,["click","class"]),[[Oe,S.value]])]),Ie(Y("div",Su,[Cu,Y("div",$u,[Y("div",{onClick:Ve(L,["stop"]),ref_key:"picker1",ref:n,class:ze(`flex-1 hover:cursor-pointer shadow-sm rounded-[2px] ${t.value==1&&"ring-2 ring-[#979797] ring-opacity-10 "}`),style:He({backgroundColor:`${I.value}`})},null,14,ku),Y("div",{onClick:Ve(L,["stop"]),ref_key:"picker2",ref:r,class:ze(`flex-1 hover:cursor-pointer shadow-sm rounded-[2px] ${t.value==2&&"ring-2 ring-[#979797] ring-opacity-10 "}`),style:He({background:`${k.value}`})},null,14,Au)])],512),[[Oe,y.value]]),Y("div",{ref_key:"colorMap",ref:l,style:He({background:`
							linear-gradient(0deg, black, transparent),
							linear-gradient(90deg, white, transparent),
							hsl(${j.value}, 100%, 50%)
						`}),onMousedown:Ve(F,["stop"]),class:"relative m-auto w-full h-[172px] rounded-md",onClick:Ve(_,["prevent"])},[Y("div",{ref_key:"colorSelector",ref:o,onMousedown:Ve(F,["stop"]),class:"absolute rounded-full drop-shadow-md",style:He({height:"12px",width:"12px",left:`calc(${e.value.x}px - 6px)`,top:`calc(${e.value.y}px - 6px)`,backgroundColor:"#FFFFFFFF"})},null,44,Lu)],44,Eu),Y("div",Tu,[Y("div",{style:He({backgroundColor:`${t.value==1?I.value:k.value}`}),class:"w-[39px] h-[39px] rounded-sm row-span-2 col-span-1"},[Y("div",Mu,[P(T)?(te(),pe("svg",{key:0,class:ze(`${P(Wa)(t.value==1?I.value:k.value)?"text-white":"text-black"} hover:cursor-pointer`),onClick:ee[0]||(ee[0]=()=>P(C)()),xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},Iu,2)):ve("",!0)])],4),Y("div",{ref_key:"hueMap",ref:b,class:"relative m-auto h-[10px] w-full row-span-1 col-span-3 rounded-md self-end",onClick:G,onMousedown:N,style:He({background:`
								linear-gradient(90deg, hsl(0, 100%, 50%),
								hsl(60, 100%, 50%), hsl(120, 100%, 50%),
								hsl(180, 100%, 50%), hsl(240, 100%, 50%),
								hsl(300, 100%, 50%), hsl(360, 100%, 50%))
							`})},[Y("div",{ref_key:"hueSelector",ref:u,onMousedown:N,class:"absolute rounded-full border border-[rgba(0,0,0,.2)] before:absolute before:h-full before:w-full before:rounded-full before:border-2 before:border-white before:bg-[currentColor] after:absolute after:left-[2px] after:top-[2px] after:h-[calc(100%-4px)] after:w-[calc(100%-4px)] after:rounded-full after:border after:border-[rgba(0,0,0,.2)] after:bg-transparent",style:He({height:"10px",width:"10px",left:`calc(${i.value.x}px - 6px)`,color:`hsl(${j.value}, 100%, 50%)`,background:"transparent"})},null,36)],36),Y("div",{ref_key:"opacityMap",ref:g,onClick:H,onMousedown:B,class:"h-[10px] relative w-full row-span-1 col-span-3 rounded-md shadow-sm self-start",style:He({background:`linear-gradient(90deg, rgba(255, 255, 255, 0.00) 0%, hsl(${j.value}, 100%, 50%) 100%), lightgray 0% 0% / 15.625px 15.625px repeat`})},[Y("div",{ref_key:"opacitySelector",ref:a,onMousedown:B,class:"absolute rounded-full border border-[rgba(0,0,0,.2)] before:absolute before:h-full before:w-full before:rounded-full before:border-2 before:border-white before:bg-[currentColor] after:absolute after:left-[2px] after:top-[2px] after:h-[calc(100%-4px)] after:w-[calc(100%-4px)] after:rounded-full after:border after:border-[rgba(0,0,0,.2)] after:bg-transparent",style:He({height:"10px",width:"10px",left:`calc(${s.value.x}px - 6px)`,background:"transparent"})},null,36)],36)]),Ie(Y("div",Ou,[Du,Y("div",Fu,[se(ae,{id:"colorpop",type:"text",class:"rounded-md text-inter border-none text-[12px] flex-1 font-[400] leading-[18px] h-[30px] bg-[#F3F3F3] dark:bg-zinc-800 dark:focus:bg-zinc-700",placeholder:"Set Color",inputClass:"py-[4px] px-[10px]",onKeydown:ee[1]||(ee[1]=re=>{if(!P(h).defaultKeys.find(xe=>xe===re.key)){var ge=re.target.value+re.key;P(wr)(ge)||re.preventDefault()}}),value:t.value==1?I.value:k.value,onChange:ee[2]||(ee[2]=re=>{re=P(Dt)(re),m(re),z(re),ne()})},null,8,["value"]),se(ae,{id:"opacitypop",class:"h-[30px] text-inter flex-none text-[12px] border-none font-[400] leading-[18px] w-[51px] rounded-md bg-[#F3F3F3] items-center text-center",type:"text",inputClass:"py-[4px] px-[10px]",onKeydown:ee[3]||(ee[3]=re=>{if(!P(h).defaultKeys.find(xe=>xe===re.key)){var ge=re.target.value+re.key;P(xr)(ge)||re.preventDefault()}}),inputmode:"numeric",value:`${P(Sr)(t.value==1?I.value:k.value)*100}`,onChange:ee[4]||(ee[4]=re=>{const ge=parseInt(re)/100,xe=P(Cr)(t.value==1?I.value:k.value,ge);m(xe),z(xe),ne()})},null,8,["value"])])],512),[[Oe,y.value]]),Y("div",Bu,[Pu,Y("div",Nu,[(te(!0),pe(Je,null,st(v.value,re=>(te(),pe("div",{key:re,class:"h-[16px] w-[16px] rounded-[2px] cursor-pointer shadow-sm",onClick:()=>{if(re.startsWith("#")){z(re),ne();return}x("update:modelValue",re)},style:He({background:re})},null,12,Wu))),128))])],512)],512)]),_:3})}}}),Vu={class:"flex flex-col items-start justify-center gap-[8px] pl-[15px]"},zu={class:"inline-block text-[13px] text-inter font-[400] leading-[20px] uppercase text-gray-600 dark:text-zinc-400"},_u={class:"flex flex-row gap-[10px] items-center w-full"},Uu=["onClick"],ju=Ne({__name:"SimpleColorInput",props:{value:{type:String,default:null},label:{type:String,default:""}},emits:["change"],setup($,{emit:x}){const d=Ze();return(h,b)=>{const g=it("Input");return te(),me(Hu,{image:"",modelValue:$.value,"onUpdate:modelValue":b[4]||(b[4]=l=>x("change",l))},{target:Te(({togglePopover:l,isOpen:u})=>{var o;return[Y("div",Vu,[Y("span",zu,qe($.label),1),Y("div",_u,[Y("div",{class:"h-[30px] w-[30px] flex-none rounded-md shadow-sm",onClick:l,style:He({background:$.value?$.value:"white"})},null,12,Uu),se(g,{type:"text",class:"rounded-md text-inter border-none text-[12px] flex-1 font-[400] leading-[18px] h-[30px] bg-[#F3F3F3] dark:bg-zinc-800 dark:focus:bg-zinc-700",placeholder:"Set Color",inputClass:"py-[4px] px-[10px]",onKeydown:b[0]||(b[0]=a=>{if(!P(d).defaultKeys.find(n=>n===a.key)){var t=a.target.value+a.key;P(wr)(t)||a.preventDefault()}}),value:(o=$.value)!=null&&o.toString().startsWith("#")?$.value:P(yr)($.value),onChange:b[1]||(b[1]=a=>{a=P(Dt)(a),x("change",a)})},null,8,["value"]),se(g,{class:"h-[30px] text-inter flex-none text-[12px] border-none font-[400] leading-[18px] w-[51px] rounded-md bg-[#F3F3F3] items-center text-center",type:"text",inputClass:"py-[4px] px-[10px]",onKeydown:b[2]||(b[2]=a=>{if(!P(d).defaultKeys.find(n=>n===a.key)){var t=a.target.value+a.key;P(xr)(t)||a.preventDefault()}}),inputmode:"numeric",value:`${P(Sr)($.value)*100}`,onChange:b[3]||(b[3]=a=>{const t=parseInt(a)/100,n=P(Cr)($.value,t);x("change",n)})},null,8,["value"])])])]}),_:1},8,["modelValue"])}}}),Gu={key:0,class:"flex select-none flex-col gap-[14px] w-full"},Ku={key:1},Yu=Y("p",{class:"text-center text-sm text-gray-600 dark:text-zinc-500"},"Select a block to edit properties.",-1),Xu=[Yu],Zu=Ne({__name:"BlockEdit",setup($){return(x,d)=>P(V).isBLockSelected()?(te(),pe("div",Gu,[se(ju,{label:"Fill",value:P(V).getStyle("background"),onChange:d[0]||(d[0]=h=>P(V).setStyle("background",h))},null,8,["value"])])):(te(),pe("div",Ku,Xu))}}),Qu={class:"form-input flex h-7 w-full items-center justify-between gap-2 rounded border-gray-400 px-2 py-1 pr-6 text-sm transition-colors dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-200 dark:focus:bg-zinc-700"},Ju=Y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[Y("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),qu=[Ju],ed=Ne({__name:"Autocomplete",props:{options:{type:Array,default:()=>[]},modelValue:{},placeholder:{type:String,default:"Search"}},emits:["update:modelValue"],setup($,{emit:x}){const d=$,h=le(""),b=$e(()=>Array.isArray(d.modelValue)),g=$e(()=>!b.value);$e(()=>{var a;return Array.isArray(d.modelValue)&&d.modelValue.length>0?d.modelValue.join(", "):(a=d.modelValue)==null?void 0:a.label});const l=$e(()=>d.modelValue instanceof String||typeof d.modelValue=="string"||d.modelValue instanceof Number||typeof d.modelValue=="number"?{label:d.modelValue,value:d.modelValue}:d.modelValue),u=$e(()=>h.value===""?d.options:d.options.filter(a=>a.label.toLowerCase().includes(h.value.toLowerCase())||a.value.toLowerCase().includes(h.value.toLowerCase()))),o=()=>x("update:modelValue",null);return(a,t)=>(te(),pe("div",null,[se(P(La),{modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=n=>{x("update:modelValue",n)}),nullable:g.value,multiple:b.value},{default:Te(({open:n})=>[Y("div",Qu,[se(P(Aa),{autocomplete:"off",onChange:t[0]||(t[0]=r=>h.value=r.target.value),onFocus:()=>n,displayValue:r=>Array.isArray(r)?r.map(e=>e.label).join(", "):r&&(r.label||r.value)||"",placeholder:$.modelValue?null:$.placeholder,class:"h-full w-full border-none bg-transparent p-0 text-xs focus:border-none focus:ring-0"},null,8,["onFocus","displayValue","placeholder"])]),Ie(se(P(Ea),{class:"absolute right-0 z-50 max-h-[15rem] w-full max-w-[150px] overflow-y-auto rounded-lg bg-white px-1.5 py-1.5 shadow-2xl"},{default:Te(()=>[h.value?(te(),me(P(Ni),{key:0,value:h.value,class:"flex items-center"},null,8,["value"])):ve("",!0),(te(!0),pe(Je,null,st(u.value,r=>(te(),me(P(Ni),{key:r.value,value:r,class:"flex items-center"},{default:Te(({active:e,selected:i})=>[Y("li",{class:ze(["w-full select-none rounded px-2.5 py-1.5 text-xs",{"bg-gray-100":e,"bg-gray-300":i}])},qe(r.label),3)]),_:2},1032,["value"]))),128))]),_:1},512),[[Oe,u.value.length]])]),_:1},8,["modelValue","nullable","multiple"]),Ie(Y("div",{class:"absolute right-1 top-[3px] cursor-pointer p-1 text-gray-700 dark:text-zinc-300",onClick:o},qu,512),[[Oe,$.modelValue]])]))}}),td={class:"relative flex items-center justify-between"},nd=Y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[Y("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),id=[nd],Be=Ne({__name:"InlineInput",props:{modelValue:{},label:{type:String,default:""},type:{type:String,default:"text"},unitOptions:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]},enableSlider:{type:Boolean,default:!1},minValue:{type:Number,default:null},maxValue:{type:Number,default:null}},emits:["update:modelValue"],setup($,{emit:x}){const d=$,h=$e(()=>(d.options||[]).map(u=>typeof u=="string"||typeof u=="number"&&d.type==="autocomplete"?{label:u,value:u}:u)),b=u=>{if(typeof u=="object"&&u!==null&&"value"in u&&(u=u.value),u&&typeof u=="string"){let[o,a,t]=u.match(/([0-9]+)([a-z%]*)/)||["","",""];!t&&d.unitOptions.length&&a&&(u=a+d.unitOptions[0])}x("update:modelValue",u)},g=u=>{if(!d.enableSlider)return;const o=d.modelValue||"";let[a,t,n]=o.match(/([0-9]+)([a-z%]*)/)||["","",""];!n&&d.unitOptions.length&&t&&(n=d.unitOptions[0]);const r=u.clientY,e=Number(t),i=c=>{const f=r-c.clientY;let p=e+f;Wi(d.minValue)&&p<d.minValue&&(p=d.minValue),Wi(d.maxValue)&&p>d.maxValue&&(p=d.maxValue),b(p+""+n)},s=()=>{window.removeEventListener("mousemove",i)};window.addEventListener("mousemove",i),window.addEventListener("mouseup",s,{once:!0})},l=()=>x("update:modelValue",null);return(u,o)=>{const a=it("Input");return te(),pe("div",td,[Y("span",{class:ze(["inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400",{"cursor-ns-resize":$.enableSlider}]),onMousedown:g},qe($.label),35),$.type!="autocomplete"?(te(),me(a,{key:0,type:$.type,placeholder:"unset",value:$.modelValue,options:h.value,onChange:b,onMousedown:g,inputClass:$.type=="checkbox"?" ml-2 !w-4":"pr-6",class:ze(["rounded-md text-sm text-gray-800 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-200 dark:focus:bg-zinc-700",{"w-[150px]":$.type!="checkbox"}])},null,8,["type","value","options","inputClass","class"])):ve("",!0),$.type=="autocomplete"?(te(),me(ed,{key:1,placeholder:"unset",modelValue:$.modelValue,options:h.value,"onUpdate:modelValue":b,class:"!dark:text-zinc-200 !dark:focus:bg-zinc-700 w-[150px] rounded-md text-sm text-gray-800 dark:bg-zinc-800"},null,8,["modelValue","options"])):ve("",!0),["autocomplete","select","checkbox"].includes($.type)?ve("",!0):Ie((te(),pe("div",{key:2,class:"absolute right-1 top-[3px] cursor-pointer p-1 text-gray-700 dark:text-zinc-300",onClick:l},id,512)),[[Oe,$.modelValue]])])}}}),rd={class:"flex items-center justify-between"},od={class:"inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400"},sd={class:"relative w-[150px]"},ad=["onClick"],ld={class:"rounded-lg bg-white p-3 shadow-lg dark:bg-zinc-900"},cd=["onClick"],ud=Ne({__name:"BackgroundHandler",setup($){const x=$e(()=>{const l=V==null?void 0:V.getStyle("background");if(l){const{bgImageURL:u}=g(l);return u}return null}),d=$e(()=>{const l=V==null?void 0:V.getStyle("background");if(l){const{bgSize:u}=g(l);return u}}),h=l=>{const u=window.location.origin+l.file_url;V==null||V.setStyle("background",`url('${u}') center / ${d.value||"cover"} no-repeat`)},b=l=>{V==null||V.setStyle("background",`url(${x.value}) center / ${l} no-repeat`)},g=l=>{var n,r,e,i;const u=(n=l.match(/url\((.*?)\)/))==null?void 0:n[1],o=(r=l.match(/center|top|bottom|left|right/g))==null?void 0:r[0],a=(e=l.match(/contain|cover/g))==null?void 0:e[0],t=(i=l.match(/repeat|no-repeat/g))==null?void 0:i[0];return{bgImageURL:u,bgPosition:o,bgSize:a,bgRepeat:t}};return(l,u)=>{const o=it("Input");return te(),me(P(Ei),{transition:"default",placement:"left",class:"!block w-full",popoverClass:"!min-w-fit !mr-[30px]"},{target:Te(({togglePopover:a,isOpen:t})=>{var n;return[Y("div",rd,[Y("span",od,[on(l.$slots,"default",{},()=>[Vt("BG Image")])]),Y("div",sd,[Y("div",null,[se(o,{type:"text",class:"rounded-md text-sm text-gray-700 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-200 dark:focus:bg-zinc-700 [&>div_input]:pl-8",placeholder:"Set Background",value:(n=x.value)==null?void 0:n.replace(/^'|'$/g,"")},null,8,["value"]),Y("div",{class:ze(["absolute left-2 top-[6px] z-10 h-4 w-4 rounded shadow-sm",{"bg-gray-400 dark:bg-zinc-600":!x.value}]),onClick:a,style:He({backgroundImage:x.value?`url(${x.value})`:"",backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat"})},null,14,ad)])])])]}),body:Te(()=>[Y("div",ld,[Y("div",{class:"image-preview group relative h-24 w-48 cursor-pointer overflow-hidden rounded bg-gray-200 dark:bg-zinc-700",style:He({backgroundImage:x.value?`url(${x.value})`:"",backgroundPosition:"center",backgroundSize:d.value||"contain",backgroundRepeat:"no-repeat"})},[se(P(_a),{onSuccess:h},{default:Te(({openFileSelector:a})=>[Y("div",{class:ze(["absolute bottom-0 left-0 right-0 top-0 hidden place-items-center bg-gray-500 bg-opacity-20",{"!grid":!x.value,"group-hover:grid":x.value}])},[Y("div",{class:"rounded bg-gray-200 p-2 text-xs text-gray-900 dark:bg-zinc-700 dark:text-zinc-200",onClick:a}," Upload ",8,cd)],2)]),_:1})],4),se(Be,{label:"Size",class:"mt-4",modelValue:d.value,type:"select",options:["contain","cover"],"onUpdate:modelValue":b},null,8,["modelValue"])])]),_:3})}}}),dd={class:"flex items-center justify-between"},hd=Y("span",{class:"inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400"},"Type",-1),fd={key:0,class:"flex items-center justify-between"},pd=Y("span",{class:"inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400"}," Direction ",-1),gd={key:1,class:"items-top relative flex justify-between"},vd=Y("span",{class:"inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400"}," Placement ",-1),md={class:"grid h-16 w-16 grid-cols-3 items-center justify-items-center rounded-sm bg-gray-200 p-1 dark:bg-zinc-800"},yd=["onClick"],bd={key:4,class:"flex items-center justify-between"},wd=Y("span",{class:"inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400"},"Wrap",-1),xd={key:5,class:"flex flex-col gap-3"},Sd={class:"flex items-center justify-between"},Cd=Y("span",{class:"inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400"}," Grow ",-1),$d={class:"flex items-center justify-between"},kd=Y("span",{class:"inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400"}," Shrink ",-1),Ad=Ne({__name:"BlockLayoutHandler",setup($){const x=g=>{V.setStyle("display",g),g==="flex"&&(V.setStyle("flexDirection",V.getStyle("flexDirection")||"row"),V.setStyle("flexWrap",V.getStyle("flexWrap")||"nowrap"),V.setStyle("justifyContent",V.getStyle("justifyContent")||"flex-start"),V.setStyle("alignItems",V.getStyle("alignItems")||"flex-start"))},d=["top-left","top-middle","top-right","middle-left","middle-middle","middle-right","bottom-left","bottom-middle","bottom-right"],h=$e(()=>d.filter(g=>{const l=V.getStyle("flexDirection"),u=V.getStyle("justifyContent"),o=V.getStyle("alignItems");switch(g){case"top-left":return u==="flex-start"&&o==="flex-start";case"top-middle":return l==="row"&&u==="center"&&o==="flex-start"||l==="column"&&u==="flex-start"&&o==="center";case"top-right":return l==="row"&&u==="flex-end"&&o==="flex-start"||l==="column"&&u==="flex-start"&&o==="flex-end";case"middle-left":return l==="row"&&u==="flex-start"&&o==="center"||l==="column"&&u==="center"&&o==="flex-start";case"middle-middle":return u==="center"&&o==="center";case"middle-right":return l==="row"&&u==="flex-end"&&o==="center"||l==="column"&&u==="center"&&o==="flex-end";case"bottom-left":return l==="row"&&u==="flex-start"&&o==="flex-end"||l==="column"&&u==="flex-end"&&o==="flex-start";case"bottom-middle":return l==="row"&&u==="center"&&o==="flex-end"||l==="column"&&u==="flex-end"&&o==="center";case"bottom-right":return u==="flex-end"&&o==="flex-end"}})[0]),b=g=>{V.setStyle("display","flex");const l=V.getStyle("flexDirection");switch(g){case"top-right":l==="row"?(V.setStyle("justifyContent","flex-end"),V.setStyle("alignItems","flex-start")):(V.setStyle("justifyContent","flex-start"),V.setStyle("alignItems","flex-end"));break;case"top-middle":l==="row"?(V.setStyle("justifyContent","center"),V.setStyle("alignItems","flex-start")):(V.setStyle("justifyContent","flex-start"),V.setStyle("alignItems","center"));break;case"top-left":V.setStyle("justifyContent","flex-start"),V.setStyle("alignItems","flex-start");break;case"middle-right":l==="row"?(V.setStyle("justifyContent","flex-end"),V.setStyle("alignItems","center")):(V.setStyle("justifyContent","center"),V.setStyle("alignItems","flex-end"));break;case"middle-middle":V.setStyle("justifyContent","center"),V.setStyle("alignItems","center");break;case"middle-left":l==="row"?(V.setStyle("justifyContent","flex-start"),V.setStyle("alignItems","center")):(V.setStyle("justifyContent","center"),V.setStyle("alignItems","flex-start"));break;case"bottom-right":V.setStyle("justifyContent","flex-end"),V.setStyle("alignItems","flex-end");break;case"bottom-middle":l==="row"?(V.setStyle("justifyContent","center"),V.setStyle("alignItems","flex-end")):(V.setStyle("justifyContent","flex-end"),V.setStyle("alignItems","center"));break;case"bottom-left":l==="row"?(V.setStyle("justifyContent","flex-start"),V.setStyle("alignItems","flex-end")):(V.setStyle("justifyContent","flex-end"),V.setStyle("alignItems","flex-start"));break}};return(g,l)=>{var u;return te(),pe(Je,null,[Y("div",dd,[hd,se(P(Yt),{modelValue:P(V).getStyle("display")||"block",buttons:[{label:"Stack",value:"flex"},{label:"Block",value:"block"}],"onUpdate:modelValue":x,class:"w-fit self-end [&>div>button[aria-checked='false']]:dark:!bg-transparent [&>div>button[aria-checked='false']]:dark:!text-zinc-400 [&>div>button[aria-checked='true']]:dark:!bg-zinc-700 [&>div>button]:dark:!bg-zinc-700 [&>div>button]:dark:!text-zinc-100 [&>div]:dark:!bg-zinc-800"},null,8,["modelValue"])]),P(V).getStyle("display")==="flex"?(te(),pe("div",fd,[pd,se(P(Yt),{modelValue:P(V).getStyle("flexDirection")||"column",buttons:[{label:"Horizontal",value:"row"},{label:"Vertical",value:"column"}],"onUpdate:modelValue":l[0]||(l[0]=o=>P(V).setStyle("flexDirection",o)),class:"w-fit self-end [&>div>button[aria-checked='false']]:dark:!bg-transparent [&>div>button[aria-checked='false']]:dark:!text-zinc-400 [&>div>button[aria-checked='true']]:dark:!bg-zinc-700 [&>div>button]:dark:!bg-zinc-700 [&>div>button]:dark:!text-zinc-100 [&>div]:dark:!bg-zinc-800"},null,8,["modelValue"])])):ve("",!0),P(V).getStyle("display")==="flex"?(te(),pe("div",gd,[vd,Y("div",md,[(te(),pe(Je,null,st(d,o=>Y("div",{class:ze(["h-3 w-3 cursor-pointer rounded-sm bg-gray-300 hover:bg-gray-400 dark:bg-zinc-700 dark:hover:bg-zinc-600",{"bg-gray-700 dark:!bg-zinc-500":h.value===o}]),key:o,onClick:a=>b(o)},null,10,yd)),64))])])):ve("",!0),P(V).getStyle("display")==="flex"?(te(),me(Be,{key:2,modelValue:P(V).getStyle("justifyContent"),type:"select",label:"Arrangement",options:[{label:"Space Between",value:"space-between"},{label:"Space Around",value:"space-around"},{label:"Space Evenly",value:"space-evenly"}],"onUpdate:modelValue":l[1]||(l[1]=o=>P(V).setStyle("justifyContent",o))},null,8,["modelValue"])):ve("",!0),P(V).getStyle("display")==="flex"?(te(),me(Be,{key:3,label:"Gap",type:"text",enableSlider:!0,unitOptions:["px","em","rem"],modelValue:P(V).getStyle("gap"),"onUpdate:modelValue":l[2]||(l[2]=o=>P(V).setStyle("gap",o))},null,8,["modelValue"])):ve("",!0),P(V).getStyle("display")==="flex"?(te(),pe("div",bd,[wd,se(P(Yt),{modelValue:P(V).getStyle("flexWrap")||"nowrap",buttons:[{label:"No Wrap",value:"nowrap"},{label:"Wrap",value:"wrap"}],"onUpdate:modelValue":l[3]||(l[3]=o=>P(V).setStyle("flexWrap",o)),class:"w-fit self-end [&>div>button[aria-checked='false']]:dark:!bg-transparent [&>div>button[aria-checked='false']]:dark:!text-zinc-400 [&>div>button[aria-checked='true']]:dark:!bg-zinc-700 [&>div>button]:dark:!bg-zinc-700 [&>div>button]:dark:!text-zinc-100 [&>div]:dark:!bg-zinc-800"},null,8,["modelValue"])])):ve("",!0),(u=P(V).getParentBlock())!=null&&u.isFlex()?(te(),pe("div",xd,[se(Be,{label:"Basis",type:"text",enableSlider:!0,unitOptions:["px","em","rem"],modelValue:P(V).getStyle("flexBasis"),"onUpdate:modelValue":l[4]||(l[4]=o=>P(V).setStyle("flexBasis",o))},null,8,["modelValue"]),Y("div",Sd,[Cd,se(P(Yt),{label:"Grow",modelValue:P(V).getStyle("flexGrow")||0,buttons:[{label:"Yes",value:1},{label:"No",value:0}],"onUpdate:modelValue":l[5]||(l[5]=o=>P(V).setStyle("flexGrow",o)),class:"w-fit self-end [&>div>button[aria-checked='false']]:dark:!bg-transparent [&>div>button[aria-checked='false']]:dark:!text-zinc-400 [&>div>button[aria-checked='true']]:dark:!bg-zinc-700 [&>div>button]:dark:!bg-zinc-700 [&>div>button]:dark:!text-zinc-100 [&>div]:dark:!bg-zinc-800"},null,8,["modelValue"])]),Y("div",$d,[kd,se(P(Yt),{label:"Shrink",modelValue:P(V).getStyle("flexShrink")||0,buttons:[{label:"Yes",value:1},{label:"No",value:0}],"onUpdate:modelValue":l[6]||(l[6]=o=>P(V).setStyle("flexShrink",o)),class:"w-fit self-end [&>div>button[aria-checked='false']]:dark:!bg-transparent [&>div>button[aria-checked='false']]:dark:!text-zinc-400 [&>div>button[aria-checked='true']]:dark:!bg-zinc-700 [&>div>button]:dark:!bg-zinc-700 [&>div>button]:dark:!text-zinc-100 [&>div]:dark:!bg-zinc-800"},null,8,["modelValue"])]),se(Be,{label:"Order",type:"number",min:"0",modelValue:P(V).getStyle("order"),"onUpdate:modelValue":l[7]||(l[7]=o=>P(V).setStyle("order",o))},null,8,["modelValue"])])):ve("",!0)],64)}}}),Ed={class:"grid-rows grid grid-cols-3 gap-2"},Ld=rr('<div class="grid-col-3 grid h-16 w-16 grid-rows-3 gap-1 self-center justify-self-center rounded bg-gray-50 p-2 dark:bg-zinc-800"><div class="col-span-3 row-start-1 h-2 w-[2px] self-center justify-self-center rounded bg-gray-400 dark:bg-zinc-900"></div><div class="col-span-3 row-start-3 h-2 w-[2px] self-center justify-self-center rounded bg-gray-400 dark:bg-zinc-900"></div><div class="h-5 w-5 self-center justify-self-center rounded bg-gray-400 shadow-md dark:bg-zinc-900"></div><div class="col-span-1 col-start-1 row-start-2 h-[2px] w-2 self-center justify-self-center rounded bg-gray-400 dark:bg-zinc-900"></div><div class="col-span-1 col-start-3 row-start-2 h-[2px] w-2 self-center justify-self-center rounded bg-gray-400 dark:bg-zinc-900"></div></div>',1),Td=Ne({__name:"BlockPositionHandler",setup($){const x=$e({get(){return V.getStyle("top")},set(l){V.setStyle("top",l)}}),d=$e({get(){return V.getStyle("right")},set(l){V.setStyle("right",l)}}),h=$e({get(){return V.getStyle("left")},set(l){V.setStyle("left",l)}}),b=$e({get(){return V.getStyle("bottom")},set(l){V.setStyle("bottom",l)}}),g=$e({get(){return V.getStyle("position")||"absolute"},set(l){V.setStyle("position",l)}});return(l,u)=>{const o=it("Input");return te(),pe(Je,null,[Y("div",Ed,[se(o,{type:"text",placeholder:"top",modelValue:x.value,"onUpdate:modelValue":u[0]||(u[0]=a=>x.value=a),class:"col-span-1 col-start-2 h-8 w-16 self-end justify-self-center rounded-md text-center text-xs text-gray-800 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-200 dark:focus:bg-zinc-700"},null,8,["modelValue"]),se(o,{type:"text",placeholder:"left",modelValue:h.value,"onUpdate:modelValue":u[1]||(u[1]=a=>h.value=a),class:"col-span-1 col-start-1 h-8 w-16 self-center justify-self-end rounded-md text-center text-xs text-gray-800 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-200 dark:focus:bg-zinc-700"},null,8,["modelValue"]),Ld,se(o,{type:"text",placeholder:"right",modelValue:d.value,"onUpdate:modelValue":u[2]||(u[2]=a=>d.value=a),class:"col-span-1 col-start-3 h-8 w-16 self-center justify-self-start rounded-md text-center text-xs text-gray-800 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-200 dark:focus:bg-zinc-700"},null,8,["modelValue"]),se(o,{type:"text",placeholder:"bottom",modelValue:b.value,"onUpdate:modelValue":u[3]||(u[3]=a=>b.value=a),class:"col-span-1 col-start-2 h-8 w-16 self-start justify-self-center rounded-md text-center text-xs text-gray-800 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-200 dark:focus:bg-zinc-700"},null,8,["modelValue"])]),se(P(Yt),{buttons:[{label:"Auto",value:"static"},{label:"Free",value:"absolute"},{label:"Fixed",value:"fixed"},{label:"Sticky",value:"sticky"}],modelValue:g.value,"onUpdate:modelValue":u[4]||(u[4]=a=>g.value=a),class:"mx-auto w-fit [&>div>button[aria-checked='false']]:dark:!bg-transparent [&>div>button[aria-checked='false']]:dark:!text-zinc-400 [&>div>button[aria-checked='true']]:dark:!bg-zinc-700 [&>div>button]:dark:!bg-zinc-700 [&>div>button]:dark:!text-zinc-100 [&>div]:dark:!bg-zinc-800"},null,8,["modelValue"])],64)}}}),Md={class:"text-2xs font-bold uppercase text-gray-600"},Rd={key:0},Id={class:"mb-4 mt-3 flex flex-col gap-3"},Gt=Ne({__name:"CollapsibleSection",props:{sectionName:{type:String,required:!0},sectionCollapsed:{type:Boolean,default:!0}},emits:["update:sectionCollapsed"],setup($,{emit:x}){const h=le($.sectionCollapsed),b=()=>{h.value=!h.value,x("update:sectionCollapsed",h.value)};return(g,l)=>{const u=it("Button");return te(),pe("div",null,[Y("div",{class:"flex cursor-pointer items-center justify-between text-sm dark:text-zinc-400",onClick:b},[Y("h3",Md,qe($.sectionName),1),se(u,{class:"dark:text-zinc-400 dark:hover:bg-zinc-700",icon:h.value?"minus":"plus",variant:"ghost",size:"sm"},null,8,["icon"])]),h.value?(te(),pe("div",Rd,[Y("div",Id,[on(g.$slots,"default")])])):ve("",!0)])}}}),Od={ref:"colorPicker",class:"rounded-lg bg-white p-3 shadow-lg dark:bg-zinc-900"},Dd=["onMousedown","onClick"],Fd=["onMousedown"],Bd={ref:"colorPalette"},Pd={class:"mt-3 flex flex-wrap gap-1.5"},Nd=["onClick"],Wd=Y("g",{fill:"none","fill-rule":"evenodd"},[Y("path",{d:"M24 0v24H0V0h24ZM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018Zm.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022Zm-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01l-.184-.092Z"}),Y("path",{fill:"currentColor",d:"M20.477 3.511a3 3 0 0 0-4.243 0l-1.533 1.533a2.991 2.991 0 0 0-3.41.581l-.713.714a2 2 0 0 0 0 2.829l-6.486 6.485a3 3 0 0 0-.878 2.122v1.8a1.2 1.2 0 0 0 1.2 1.2h1.8a3 3 0 0 0 2.12-.88l6.486-6.484a2 2 0 0 0 2.829 0l.714-.715a2.991 2.991 0 0 0 .581-3.41l1.533-1.532a3 3 0 0 0 0-4.243ZM5.507 17.067l6.485-6.485l1.414 1.414l-6.485 6.486a1 1 0 0 1-.707.293h-1v-1a1 1 0 0 1 .293-.707Z"})],-1),Hd=[Wd],Vd=Ne({__name:"ColorPicker",props:{modelValue:{type:String,default:null}},emits:["update:modelValue"],setup($,{emit:x}){const d=$,h=Ze(),b=le(null),g=le(null),l=le(null),u=le(null),o=le({x:0,y:0}),a=le({x:0,y:0});let t="#FFF";const{isSupported:n,sRGBHex:r,open:e}=gr(),i=$e(()=>Dt(d.modelValue)),s=["#FFB3E6","#00B3E6","#E6B333","#3366E6","#999966","#99FF99","#B34D4D","#80B300"];n.value||s.push("#B34D4D");const c=E=>{const{width:C,height:S}=g.value.getBoundingClientRect(),{s:I,v:A}=Cn(E);let w=ft(I*C,0,C),M=ft((1-A)*S,0,S);o.value={x:w,y:M}},f=E=>{const{width:C}=b.value.getBoundingClientRect(),{h:S}=Cn(E),I=S/360*C;a.value={x:I,y:0}},p=E=>{y(E);const C=S=>{S.preventDefault(),y(S)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",S=>{document.removeEventListener("mousemove",C),S.preventDefault()},{once:!0})},k=E=>{v(E),h.history.pause();const C=S=>{S.preventDefault(),v(S)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",S=>{document.removeEventListener("mousemove",C),S.preventDefault(),h.history.resume()},{once:!0})};function y(E){const C=E.clientX,S=E.clientY,I=g.value.getBoundingClientRect();let A=C-I.left,w=S-I.top;A=ft(A,0,I.width),w=ft(w,0,I.height),o.value={x:A,y:w},T()}function v(E){const C=b.value.getBoundingClientRect(),{clientX:S}=E;let I=S-C.left;I=ft(I,0,C.width),a.value={x:I,y:0},T()}function m(E){if(!E){o.value={x:0,y:0},a.value={x:0,y:0};return}at(()=>{c(E),f(E)})}const L=$e(()=>{if(!b.value)return 0;const E=a.value.x||0,C=b.value.getBoundingClientRect().width||1;return Math.round(E/C*360)}),T=()=>{at(()=>{const E=g.value.getBoundingClientRect(),C=Math.round(o.value.x/E.width*100),S=100-Math.round(o.value.y/E.height*100),I=L.value;t=br(I,C,S),x("update:modelValue",t)})};return gt(r,()=>{!n.value||!r.value||x("update:modelValue",r.value)}),gt(()=>d.modelValue,E=>{E!==t&&m(Dt(E))},{immediate:!0}),(E,C)=>(te(),me(P(Ei),{transition:"default",placement:"left",class:"!block w-full",popoverClass:"!min-w-fit !mr-[30px]"},{target:Te(({togglePopover:S,isOpen:I})=>[on(E.$slots,"target",{togglePopover:()=>{S(),m(i.value)},isOpen:I})]),body:Te(()=>[Y("div",Od,[Y("div",{ref_key:"colorMap",ref:g,style:He({background:`
							linear-gradient(0deg, black, transparent),
							linear-gradient(90deg, white, transparent),
							hsl(${L.value}, 100%, 50%)
						`}),onMousedown:Ve(p,["stop"]),class:"relative m-auto h-24 w-44 rounded-md",onClick:Ve(y,["prevent"])},[Y("div",{ref_key:"colorSelector",ref:u,onMousedown:Ve(p,["stop"]),class:"absolute rounded-full drop-shadow-md",style:He({height:"12px",width:"12px",left:`calc(${o.value.x}px - 6px)`,top:`calc(${o.value.y}px - 6px)`,backgroundColor:"#FFF"})},null,44,Fd)],44,Dd),Y("div",{ref_key:"hueMap",ref:b,class:"relative m-auto mt-2 h-3 w-44 rounded-md",onClick:v,onMousedown:k,style:He({background:`
							linear-gradient(90deg, hsl(0, 100%, 50%),
							hsl(60, 100%, 50%), hsl(120, 100%, 50%),
							hsl(180, 100%, 50%), hsl(240, 100%, 50%),
							hsl(300, 100%, 50%), hsl(360, 100%, 50%))
						`})},[Y("div",{ref_key:"hueSelector",ref:l,onMousedown:k,class:"absolute rounded-full border border-[rgba(0,0,0,.2)] before:absolute before:h-full before:w-full before:rounded-full before:border-2 before:border-white before:bg-[currentColor] after:absolute after:left-[2px] after:top-[2px] after:h-[calc(100%-4px)] after:w-[calc(100%-4px)] after:rounded-full after:border after:border-[rgba(0,0,0,.2)] after:bg-transparent",style:He({height:"12px",width:"12px",left:`calc(${a.value.x}px - 6px)`,color:`hsl(${L.value}, 100%, 50%)`,background:"transparent"})},null,36)],36),Y("div",Bd,[Y("div",Pd,[(te(),pe(Je,null,st(s,S=>Y("div",{key:S,class:"h-3.5 w-3.5 cursor-pointer rounded-full shadow-sm",onClick:()=>{m(S),T()},style:He({background:S})},null,12,Nd)),64)),P(n)?(te(),pe("svg",{key:0,class:"text-gray-700 dark:text-zinc-300",onClick:C[0]||(C[0]=()=>P(e)()),xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},Hd)):ve("",!0)])],512)],512)]),_:3}))}}),zd={class:"flex items-center justify-between"},_d={class:"inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400"},Ud={class:"relative w-[150px]"},jd=["onClick"],Gd=Y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[Y("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Kd=[Gd],pi=Ne({__name:"ColorInput",props:{value:{type:String,default:null},label:{type:String,default:""}},emits:["change"],setup($,{emit:x}){const d=()=>x("change",null);return(h,b)=>{const g=it("Input");return te(),me(Vd,{modelValue:$.value,"onUpdate:modelValue":b[1]||(b[1]=l=>x("change",l))},{target:Te(({togglePopover:l,isOpen:u})=>[Y("div",zd,[Y("span",_d,qe($.label),1),Y("div",Ud,[Y("div",{class:"absolute left-2 top-[6px] z-10 h-4 w-4 rounded shadow-sm",onClick:l,style:He({background:$.value?$.value:"url(/assets/builder/images/color-circle.png) center / contain"})},null,12,jd),se(g,{type:"text",class:"rounded-md text-sm text-gray-700 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-300 dark:focus:bg-zinc-700",placeholder:"Set Color",inputClass:"pl-8 pr-6",value:$.value,onChange:b[0]||(b[0]=o=>{o=P(Dt)(o),x("change",o)})},null,8,["value"]),Ie(Y("div",{class:"absolute right-1 top-[3px] cursor-pointer p-1 text-gray-700 dark:text-zinc-300",onClick:d},Kd,512),[[Oe,$.value]])])])]),_:1},8,["modelValue"])}}});var _r={exports:{}};(function($,x){(function(){var d="ace",h=function(){return this}();!h&&typeof window!="undefined"&&(h=window);var b=function(t,n,r){if(typeof t!="string"){b.original?b.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(r=n),b.modules[t]||(b.payloads[t]=r,b.modules[t]=null)};b.modules={},b.payloads={};var g=function(t,n,r){if(typeof n=="string"){var e=o(t,n);if(e!=null)return r&&r(),e}else if(Object.prototype.toString.call(n)==="[object Array]"){for(var i=[],s=0,c=n.length;s<c;++s){var f=o(t,n[s]);if(f==null&&l.original)return;i.push(f)}return r&&r.apply(null,i)||!0}},l=function(t,n){var r=g("",t,n);return r==null&&l.original?l.original.apply(this,arguments):r},u=function(t,n){if(n.indexOf("!")!==-1){var r=n.split("!");return u(t,r[0])+"!"+u(t,r[1])}if(n.charAt(0)=="."){var e=t.split("/").slice(0,-1).join("/");for(n=e+"/"+n;n.indexOf(".")!==-1&&i!=n;){var i=n;n=n.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return n},o=function(t,n){n=u(t,n);var r=b.modules[n];if(!r){if(r=b.payloads[n],typeof r=="function"){var e={},i={id:n,uri:"",exports:e,packaged:!0},s=function(f,p){return g(n,f,p)},c=r(s,e,i);e=c||i.exports,b.modules[n]=e,delete b.payloads[n]}r=b.modules[n]=e||r}return r};function a(t){var n=h;t&&(h[t]||(h[t]={}),n=h[t]),(!n.define||!n.define.packaged)&&(b.original=n.define,n.define=b,n.define.packaged=!0),(!n.require||!n.require.packaged)&&(l.original=n.require,n.require=l,n.require.packaged=!0)}a(d)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(d,h,b){function g(l,u,o){Object.defineProperty(l,u,{value:o,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||g(String.prototype,"startsWith",function(l,u){return u=u||0,this.lastIndexOf(l,u)===u}),String.prototype.endsWith||g(String.prototype,"endsWith",function(l,u){var o=this;(u===void 0||u>o.length)&&(u=o.length),u-=l.length;var a=o.indexOf(l,u);return a!==-1&&a===u}),String.prototype.repeat||g(String.prototype,"repeat",function(l){for(var u="",o=this;l>0;)l&1&&(u+=o),(l>>=1)&&(o+=o);return u}),String.prototype.includes||g(String.prototype,"includes",function(l,u){return this.indexOf(l,u)!=-1}),Object.assign||(Object.assign=function(l){if(l==null)throw new TypeError("Cannot convert undefined or null to object");for(var u=Object(l),o=1;o<arguments.length;o++){var a=arguments[o];a!=null&&Object.keys(a).forEach(function(t){u[t]=a[t]})}return u}),Object.values||(Object.values=function(l){return Object.keys(l).map(function(u){return l[u]})}),Array.prototype.find||g(Array.prototype,"find",function(l){for(var u=this.length,o=arguments[1],a=0;a<u;a++){var t=this[a];if(l.call(o,t,a,this))return t}}),Array.prototype.findIndex||g(Array.prototype,"findIndex",function(l){for(var u=this.length,o=arguments[1],a=0;a<u;a++){var t=this[a];if(l.call(o,t,a,this))return a}}),Array.prototype.includes||g(Array.prototype,"includes",function(l,u){return this.indexOf(l,u)!=-1}),Array.prototype.fill||g(Array.prototype,"fill",function(l){for(var u=this,o=u.length>>>0,a=arguments[1],t=a>>0,n=t<0?Math.max(o+t,0):Math.min(t,o),r=arguments[2],e=r===void 0?o:r>>0,i=e<0?Math.max(o+e,0):Math.min(e,o);n<i;)u[n]=l,n++;return u}),Array.of||g(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(d,h,b){d("./es6-shim")}),ace.define("ace/lib/lang",["require","exports","module"],function(d,h,b){h.last=function(u){return u[u.length-1]},h.stringReverse=function(u){return u.split("").reverse().join("")},h.stringRepeat=function(u,o){for(var a="";o>0;)o&1&&(a+=u),(o>>=1)&&(u+=u);return a};var g=/^\s\s*/,l=/\s\s*$/;h.stringTrimLeft=function(u){return u.replace(g,"")},h.stringTrimRight=function(u){return u.replace(l,"")},h.copyObject=function(u){var o={};for(var a in u)o[a]=u[a];return o},h.copyArray=function(u){for(var o=[],a=0,t=u.length;a<t;a++)u[a]&&typeof u[a]=="object"?o[a]=this.copyObject(u[a]):o[a]=u[a];return o},h.deepCopy=function u(o){if(typeof o!="object"||!o)return o;var a;if(Array.isArray(o)){a=[];for(var t=0;t<o.length;t++)a[t]=u(o[t]);return a}if(Object.prototype.toString.call(o)!=="[object Object]")return o;a={};for(var t in o)a[t]=u(o[t]);return a},h.arrayToMap=function(u){for(var o={},a=0;a<u.length;a++)o[u[a]]=1;return o},h.createMap=function(u){var o=Object.create(null);for(var a in u)o[a]=u[a];return o},h.arrayRemove=function(u,o){for(var a=0;a<=u.length;a++)o===u[a]&&u.splice(a,1)},h.escapeRegExp=function(u){return u.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},h.escapeHTML=function(u){return(""+u).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},h.getMatchOffsets=function(u,o){var a=[];return u.replace(o,function(t){a.push({offset:arguments[arguments.length-2],length:t.length})}),a},h.deferredCall=function(u){var o=null,a=function(){o=null,u()},t=function(n){return t.cancel(),o=setTimeout(a,n||0),t};return t.schedule=t,t.call=function(){return this.cancel(),u(),t},t.cancel=function(){return clearTimeout(o),o=null,t},t.isPending=function(){return o},t},h.delayedCall=function(u,o){var a=null,t=function(){a=null,u()},n=function(r){a==null&&(a=setTimeout(t,r||o))};return n.delay=function(r){a&&clearTimeout(a),a=setTimeout(t,r||o)},n.schedule=n,n.call=function(){this.cancel(),u()},n.cancel=function(){a&&clearTimeout(a),a=null},n.isPending=function(){return a},n}}),ace.define("ace/lib/useragent",["require","exports","module"],function(d,h,b){h.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},h.getOS=function(){return h.isMac?h.OS.MAC:h.isLinux?h.OS.LINUX:h.OS.WINDOWS};var g=typeof navigator=="object"?navigator:{},l=(/mac|win|linux/i.exec(g.platform)||["other"])[0].toLowerCase(),u=g.userAgent||"",o=g.appName||"";h.isWin=l=="win",h.isMac=l=="mac",h.isLinux=l=="linux",h.isIE=o=="Microsoft Internet Explorer"||o.indexOf("MSAppHost")>=0?parseFloat((u.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((u.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),h.isOldIE=h.isIE&&h.isIE<9,h.isGecko=h.isMozilla=u.match(/ Gecko\/\d+/),h.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",h.isWebKit=parseFloat(u.split("WebKit/")[1])||void 0,h.isChrome=parseFloat(u.split(" Chrome/")[1])||void 0,h.isEdge=parseFloat(u.split(" Edge/")[1])||void 0,h.isAIR=u.indexOf("AdobeAIR")>=0,h.isAndroid=u.indexOf("Android")>=0,h.isChromeOS=u.indexOf(" CrOS ")>=0,h.isIOS=/iPad|iPhone|iPod/.test(u)&&!window.MSStream,h.isIOS&&(h.isMac=!0),h.isMobile=h.isIOS||h.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(d,h,b){var g=d("./useragent"),l="http://www.w3.org/1999/xhtml";h.buildDom=function r(e,i,s){if(typeof e=="string"&&e){var c=document.createTextNode(e);return i&&i.appendChild(c),c}if(!Array.isArray(e))return e&&e.appendChild&&i&&i.appendChild(e),e;if(typeof e[0]!="string"||!e[0]){for(var f=[],p=0;p<e.length;p++){var k=r(e[p],i,s);k&&f.push(k)}return f}var y=document.createElement(e[0]),v=e[1],m=1;v&&typeof v=="object"&&!Array.isArray(v)&&(m=2);for(var p=m;p<e.length;p++)r(e[p],y,s);return m==2&&Object.keys(v).forEach(function(L){var T=v[L];L==="class"?y.className=Array.isArray(T)?T.join(" "):T:typeof T=="function"||L=="value"||L[0]=="$"?y[L]=T:L==="ref"?s&&(s[T]=y):L==="style"?typeof T=="string"&&(y.style.cssText=T):T!=null&&y.setAttribute(L,T)}),i&&i.appendChild(y),y},h.getDocumentHead=function(r){return r||(r=document),r.head||r.getElementsByTagName("head")[0]||r.documentElement},h.createElement=function(r,e){return document.createElementNS?document.createElementNS(e||l,r):document.createElement(r)},h.removeChildren=function(r){r.innerHTML=""},h.createTextNode=function(r,e){var i=e?e.ownerDocument:document;return i.createTextNode(r)},h.createFragment=function(r){var e=r?r.ownerDocument:document;return e.createDocumentFragment()},h.hasCssClass=function(r,e){var i=(r.className+"").split(/\s+/g);return i.indexOf(e)!==-1},h.addCssClass=function(r,e){h.hasCssClass(r,e)||(r.className+=" "+e)},h.removeCssClass=function(r,e){for(var i=r.className.split(/\s+/g);;){var s=i.indexOf(e);if(s==-1)break;i.splice(s,1)}r.className=i.join(" ")},h.toggleCssClass=function(r,e){for(var i=r.className.split(/\s+/g),s=!0;;){var c=i.indexOf(e);if(c==-1)break;s=!1,i.splice(c,1)}return s&&i.push(e),r.className=i.join(" "),s},h.setCssClass=function(r,e,i){i?h.addCssClass(r,e):h.removeCssClass(r,e)},h.hasCssString=function(r,e){var i=0,s;if(e=e||document,s=e.querySelectorAll("style")){for(;i<s.length;)if(s[i++].id===r)return!0}},h.removeElementById=function(r,e){e=e||document,e.getElementById(r)&&e.getElementById(r).remove()};var u,o=[];h.useStrictCSP=function(r){u=r,r==!1?a():o||(o=[])};function a(){var r=o;o=null,r&&r.forEach(function(e){t(e[0],e[1])})}function t(r,e,i){if(typeof document!="undefined"){if(o){if(i)a();else if(i===!1)return o.push([r,e])}if(!u){var s=i;!i||!i.getRootNode?s=document:(s=i.getRootNode(),(!s||s==i)&&(s=document));var c=s.ownerDocument||s;if(e&&h.hasCssString(e,s))return null;e&&(r+=`
/*# sourceURL=ace/css/`+e+" */");var f=h.createElement("style");f.appendChild(c.createTextNode(r)),e&&(f.id=e),s==c&&(s=h.getDocumentHead(c)),s.insertBefore(f,s.firstChild)}}}if(h.importCssString=t,h.importCssStylsheet=function(r,e){h.buildDom(["link",{rel:"stylesheet",href:r}],h.getDocumentHead(e))},h.scrollbarWidth=function(r){var e=h.createElement("ace_inner");e.style.width="100%",e.style.minWidth="0px",e.style.height="200px",e.style.display="block";var i=h.createElement("ace_outer"),s=i.style;s.position="absolute",s.left="-10000px",s.overflow="hidden",s.width="200px",s.minWidth="0px",s.height="150px",s.display="block",i.appendChild(e);var c=r&&r.documentElement||document&&document.documentElement;if(!c)return 0;c.appendChild(i);var f=e.offsetWidth;s.overflow="scroll";var p=e.offsetWidth;return f===p&&(p=i.clientWidth),c.removeChild(i),f-p},h.computedStyle=function(r,e){return window.getComputedStyle(r,"")||{}},h.setStyle=function(r,e,i){r[e]!==i&&(r[e]=i)},h.HAS_CSS_ANIMATION=!1,h.HAS_CSS_TRANSFORMS=!1,h.HI_DPI=g.isWin?typeof window!="undefined"&&window.devicePixelRatio>=1.5:!0,g.isChromeOS&&(h.HI_DPI=!1),typeof document!="undefined"){var n=document.createElement("div");h.HI_DPI&&n.style.transform!==void 0&&(h.HAS_CSS_TRANSFORMS=!0),!g.isEdge&&typeof n.style.animationName!="undefined"&&(h.HAS_CSS_ANIMATION=!0),n=null}h.HAS_CSS_TRANSFORMS?h.translate=function(r,e,i){r.style.transform="translate("+Math.round(e)+"px, "+Math.round(i)+"px)"}:h.translate=function(r,e,i){r.style.top=Math.round(i)+"px",r.style.left=Math.round(e)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(d,h,b){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var g=d("./dom");h.get=function(l,u){var o=new XMLHttpRequest;o.open("GET",l,!0),o.onreadystatechange=function(){o.readyState===4&&u(o.responseText)},o.send(null)},h.loadScript=function(l,u){var o=g.getDocumentHead(),a=document.createElement("script");a.src=l,o.appendChild(a),a.onload=a.onreadystatechange=function(t,n){(n||!a.readyState||a.readyState=="loaded"||a.readyState=="complete")&&(a=a.onload=a.onreadystatechange=null,n||u())}},h.qualifyURL=function(l){var u=document.createElement("a");return u.href=l,u.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(d,h,b){h.inherits=function(g,l){g.super_=l,g.prototype=Object.create(l.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}})},h.mixin=function(g,l){for(var u in l)g[u]=l[u];return g},h.implement=function(g,l){h.mixin(g,l)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(d,h,b){var g={},l=function(){this.propagationStopped=!0},u=function(){this.defaultPrevented=!0};g._emit=g._dispatchEvent=function(o,a){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var t=this._eventRegistry[o]||[],n=this._defaultHandlers[o];if(!(!t.length&&!n)){(typeof a!="object"||!a)&&(a={}),a.type||(a.type=o),a.stopPropagation||(a.stopPropagation=l),a.preventDefault||(a.preventDefault=u),t=t.slice();for(var r=0;r<t.length&&(t[r](a,this),!a.propagationStopped);r++);if(n&&!a.defaultPrevented)return n(a,this)}},g._signal=function(o,a){var t=(this._eventRegistry||{})[o];if(!!t){t=t.slice();for(var n=0;n<t.length;n++)t[n](a,this)}},g.once=function(o,a){var t=this;if(this.on(o,function n(){t.off(o,n),a.apply(null,arguments)}),!a)return new Promise(function(n){a=n})},g.setDefaultHandler=function(o,a){var t=this._defaultHandlers;if(t||(t=this._defaultHandlers={_disabled_:{}}),t[o]){var n=t[o],r=t._disabled_[o];r||(t._disabled_[o]=r=[]),r.push(n);var e=r.indexOf(a);e!=-1&&r.splice(e,1)}t[o]=a},g.removeDefaultHandler=function(o,a){var t=this._defaultHandlers;if(!!t){var n=t._disabled_[o];if(t[o]==a)n&&this.setDefaultHandler(o,n.pop());else if(n){var r=n.indexOf(a);r!=-1&&n.splice(r,1)}}},g.on=g.addEventListener=function(o,a,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[o];return n||(n=this._eventRegistry[o]=[]),n.indexOf(a)==-1&&n[t?"unshift":"push"](a),a},g.off=g.removeListener=g.removeEventListener=function(o,a){this._eventRegistry=this._eventRegistry||{};var t=this._eventRegistry[o];if(!!t){var n=t.indexOf(a);n!==-1&&t.splice(n,1)}},g.removeAllListeners=function(o){o||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[o]=void 0),this._defaultHandlers&&(this._defaultHandlers[o]=void 0)},h.EventEmitter=g}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(d,h,b){var g=d("./oop"),l=d("./event_emitter").EventEmitter,u={setOptions:function(r){Object.keys(r).forEach(function(e){this.setOption(e,r[e])},this)},getOptions:function(r){var e={};if(r)Array.isArray(r)||(e=r,r=Object.keys(e));else{var i=this.$options;r=Object.keys(i).filter(function(s){return!i[s].hidden})}return r.forEach(function(s){e[s]=this.getOption(s)},this),e},setOption:function(r,e){if(this["$"+r]!==e){var i=this.$options[r];if(!i)return o('misspelled option "'+r+'"');if(i.forwardTo)return this[i.forwardTo]&&this[i.forwardTo].setOption(r,e);i.handlesSet||(this["$"+r]=e),i&&i.set&&i.set.call(this,e)}},getOption:function(r){var e=this.$options[r];return e?e.forwardTo?this[e.forwardTo]&&this[e.forwardTo].getOption(r):e&&e.get?e.get.call(this):this["$"+r]:o('misspelled option "'+r+'"')}};function o(r){typeof console!="undefined"&&console.warn&&console.warn.apply(console,arguments)}function a(r,e){var i=new Error(r);i.data=e,typeof console=="object"&&console.error&&console.error(i),setTimeout(function(){throw i})}var t,n=function(){function r(){this.$defaultOptions={}}return r.prototype.defineOptions=function(e,i,s){return e.$options||(this.$defaultOptions[i]=e.$options={}),Object.keys(s).forEach(function(c){var f=s[c];typeof f=="string"&&(f={forwardTo:f}),f.name||(f.name=c),e.$options[f.name]=f,"initialValue"in f&&(e["$"+f.name]=f.initialValue)}),g.implement(e,u),this},r.prototype.resetOptions=function(e){Object.keys(e.$options).forEach(function(i){var s=e.$options[i];"value"in s&&e.setOption(i,s.value)})},r.prototype.setDefaultValue=function(e,i,s){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][i])break;if(!this.$defaultOptions[e][i])return!1}var c=this.$defaultOptions[e]||(this.$defaultOptions[e]={});c[i]&&(c.forwardTo?this.setDefaultValue(c.forwardTo,i,s):c[i].value=s)},r.prototype.setDefaultValues=function(e,i){Object.keys(i).forEach(function(s){this.setDefaultValue(e,s,i[s])},this)},r.prototype.setMessages=function(e){t=e},r.prototype.nls=function(e,i){t&&!t[e]&&o("No message found for '"+e+"' in the provided messages, falling back to default English message.");var s=t&&t[e]||e;return i&&(s=s.replace(/\$(\$|[\d]+)/g,function(c,f){return f=="$"?"$":i[f]})),s},r}();n.prototype.warn=o,n.prototype.reportError=a,g.implement(n.prototype,l),h.AppConfig=n}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(d,h,b){b.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(d,h,b){h.isDark=!1,h.cssClass="ace-tm",h.cssText=d("./textmate-css"),h.$id="ace/theme/textmate";var g=d("../lib/dom");g.importCssString(h.cssText,h.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(d,h,b){var g=d("./lib/lang"),l=d("./lib/net"),u=d("./lib/dom"),o=d("./lib/app_config").AppConfig;b.exports=h=new o;var a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};h.get=function(e){if(!a.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return a[e]},h.set=function(e,i){if(a.hasOwnProperty(e))a[e]=i;else if(this.setDefaultValue("",e,i)==!1)throw new Error("Unknown config key: "+e);e=="useStrictCSP"&&u.useStrictCSP(i)},h.all=function(){return g.copyObject(a)},h.$modes={},h.moduleUrl=function(e,i){if(a.$moduleUrls[e])return a.$moduleUrls[e];var s=e.split("/");i=i||s[s.length-2]||"";var c=i=="snippets"?"/":"-",f=s[s.length-1];if(i=="worker"&&c=="-"){var p=new RegExp("^"+i+"[\\-_]|[\\-_]"+i+"$","g");f=f.replace(p,"")}(!f||f==i)&&s.length>1&&(f=s[s.length-2]);var k=a[i+"Path"];return k==null?k=a.basePath:c=="/"&&(i=c=""),k&&k.slice(-1)!="/"&&(k+="/"),k+i+c+f+this.get("suffix")},h.setModuleUrl=function(e,i){return a.$moduleUrls[e]=i};var t=function(e,i){if(e==="ace/theme/textmate"||e==="./theme/textmate")return i(null,d("./theme/textmate"));if(n)return n(e,i);console.error("loader is not configured")},n;h.setLoader=function(e){n=e},h.dynamicModules=Object.create(null),h.$loading={},h.$loaded={},h.loadModule=function(e,i){var s,c;Array.isArray(e)&&(c=e[0],e=e[1]);var f=function(p){if(p&&!h.$loading[e])return i&&i(p);if(h.$loading[e]||(h.$loading[e]=[]),h.$loading[e].push(i),!(h.$loading[e].length>1)){var k=function(){t(e,function(y,v){v&&(h.$loaded[e]=v),h._emit("load.module",{name:e,module:v});var m=h.$loading[e];h.$loading[e]=null,m.forEach(function(L){L&&L(v)})})};if(!h.get("packaged"))return k();l.loadScript(h.moduleUrl(e,c),k),r()}};if(h.dynamicModules[e])h.dynamicModules[e]().then(function(p){p.default?f(p.default):f(p)});else{try{s=this.$require(e)}catch(p){}f(s||h.$loaded[e])}},h.$require=function(e){if(typeof b.require=="function"){var i="require";return b[i](e)}},h.setModuleLoader=function(e,i){h.dynamicModules[e]=i};var r=function(){!a.basePath&&!a.workerPath&&!a.modePath&&!a.themePath&&!Object.keys(a.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),r=function(){})};h.version="1.23.4"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(d,h,b){d("./lib/fixoldbrowsers");var g=d("./config");g.setLoader(function(a,t){d([a],function(n){t(null,n)})});var l=function(){return this||typeof window!="undefined"&&window}();b.exports=function(a){g.init=u,g.$require=d,a.require=d},u(!0);function u(a){if(!(!l||!l.document)){g.set("packaged",a||d.packaged||b.packaged||l.define&&(void 0).packaged);var t={},n="",r=document.currentScript||document._currentScript,e=r&&r.ownerDocument||document;r&&r.src&&(n=r.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var i=e.getElementsByTagName("script"),s=0;s<i.length;s++){var c=i[s],f=c.src||c.getAttribute("src");if(!!f){for(var p=c.attributes,k=0,y=p.length;k<y;k++){var v=p[k];v.name.indexOf("data-ace-")===0&&(t[o(v.name.replace(/^data-ace-/,""))]=v.value)}var m=f.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);m&&(n=m[1])}}n&&(t.base=t.base||n,t.packaged=!0),t.basePath=t.base,t.workerPath=t.workerPath||t.base,t.modePath=t.modePath||t.base,t.themePath=t.themePath||t.base,delete t.base;for(var L in t)typeof t[L]!="undefined"&&g.set(L,t[L])}}function o(a){return a.replace(/-(.)/g,function(t,n){return n.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(d,h,b){var g=function(u,o){return u.row-o.row||u.column-o.column},l=function(){function u(o,a,t,n){this.start={row:o,column:a},this.end={row:t,column:n}}return u.prototype.isEqual=function(o){return this.start.row===o.start.row&&this.end.row===o.end.row&&this.start.column===o.start.column&&this.end.column===o.end.column},u.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},u.prototype.contains=function(o,a){return this.compare(o,a)==0},u.prototype.compareRange=function(o){var a,t=o.end,n=o.start;return a=this.compare(t.row,t.column),a==1?(a=this.compare(n.row,n.column),a==1?2:a==0?1:0):a==-1?-2:(a=this.compare(n.row,n.column),a==-1?-1:a==1?42:0)},u.prototype.comparePoint=function(o){return this.compare(o.row,o.column)},u.prototype.containsRange=function(o){return this.comparePoint(o.start)==0&&this.comparePoint(o.end)==0},u.prototype.intersects=function(o){var a=this.compareRange(o);return a==-1||a==0||a==1},u.prototype.isEnd=function(o,a){return this.end.row==o&&this.end.column==a},u.prototype.isStart=function(o,a){return this.start.row==o&&this.start.column==a},u.prototype.setStart=function(o,a){typeof o=="object"?(this.start.column=o.column,this.start.row=o.row):(this.start.row=o,this.start.column=a)},u.prototype.setEnd=function(o,a){typeof o=="object"?(this.end.column=o.column,this.end.row=o.row):(this.end.row=o,this.end.column=a)},u.prototype.inside=function(o,a){return this.compare(o,a)==0?!(this.isEnd(o,a)||this.isStart(o,a)):!1},u.prototype.insideStart=function(o,a){return this.compare(o,a)==0?!this.isEnd(o,a):!1},u.prototype.insideEnd=function(o,a){return this.compare(o,a)==0?!this.isStart(o,a):!1},u.prototype.compare=function(o,a){return!this.isMultiLine()&&o===this.start.row?a<this.start.column?-1:a>this.end.column?1:0:o<this.start.row?-1:o>this.end.row?1:this.start.row===o?a>=this.start.column?0:-1:this.end.row===o?a<=this.end.column?0:1:0},u.prototype.compareStart=function(o,a){return this.start.row==o&&this.start.column==a?-1:this.compare(o,a)},u.prototype.compareEnd=function(o,a){return this.end.row==o&&this.end.column==a?1:this.compare(o,a)},u.prototype.compareInside=function(o,a){return this.end.row==o&&this.end.column==a?1:this.start.row==o&&this.start.column==a?-1:this.compare(o,a)},u.prototype.clipRows=function(o,a){if(this.end.row>a)var t={row:a+1,column:0};else if(this.end.row<o)var t={row:o,column:0};if(this.start.row>a)var n={row:a+1,column:0};else if(this.start.row<o)var n={row:o,column:0};return u.fromPoints(n||this.start,t||this.end)},u.prototype.extend=function(o,a){var t=this.compare(o,a);if(t==0)return this;if(t==-1)var n={row:o,column:a};else var r={row:o,column:a};return u.fromPoints(n||this.start,r||this.end)},u.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},u.prototype.isMultiLine=function(){return this.start.row!==this.end.row},u.prototype.clone=function(){return u.fromPoints(this.start,this.end)},u.prototype.collapseRows=function(){return this.end.column==0?new u(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new u(this.start.row,0,this.end.row,0)},u.prototype.toScreenRange=function(o){var a=o.documentToScreenPosition(this.start),t=o.documentToScreenPosition(this.end);return new u(a.row,a.column,t.row,t.column)},u.prototype.moveBy=function(o,a){this.start.row+=o,this.start.column+=a,this.end.row+=o,this.end.column+=a},u}();l.fromPoints=function(u,o){return new l(u.row,u.column,o.row,o.column)},l.comparePoints=g,l.comparePoints=function(u,o){return u.row-o.row||u.column-o.column},h.Range=l}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(d,h,b){/*! @license
	==========================================================================
	SproutCore -- JavaScript Application Framework
	copyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.

	Permission is hereby granted, free of charge, to any person obtaining a
	copy of this software and associated documentation files (the "Software"),
	to deal in the Software without restriction, including without limitation
	the rights to use, copy, modify, merge, publish, distribute, sublicense,
	and/or sell copies of the Software, and to permit persons to whom the
	Software is furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
	FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
	DEALINGS IN THE SOFTWARE.

	SproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.

	For more information about SproutCore, visit http://www.sproutcore.com


	==========================================================================
	@license */var g=d("./oop"),l=function(){var u={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};u.PRINTABLE_KEYS[173]="-";var o,a;for(a in u.FUNCTION_KEYS)o=u.FUNCTION_KEYS[a].toLowerCase(),u[o]=parseInt(a,10);for(a in u.PRINTABLE_KEYS)o=u.PRINTABLE_KEYS[a].toLowerCase(),u[o]=parseInt(a,10);return g.mixin(u,u.MODIFIER_KEYS),g.mixin(u,u.PRINTABLE_KEYS),g.mixin(u,u.FUNCTION_KEYS),u.enter=u.return,u.escape=u.esc,u.del=u.delete,function(){for(var t=["cmd","ctrl","alt","shift"],n=Math.pow(2,t.length);n--;)u.KEY_MODS[n]=t.filter(function(r){return n&u.KEY_MODS[r]}).join("-")+"-"}(),u.KEY_MODS[0]="",u.KEY_MODS[-1]="input-",u}();g.mixin(h,l),h.default=h,h.keyCodeToString=function(u){var o=l[u];return typeof o!="string"&&(o=String.fromCharCode(u)),o.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(d,h,b){var g=d("./keys"),l=d("./useragent"),u=null,o=0,a;function t(){a=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){a={passive:!1}}})}catch(k){}}function n(){return a==null&&t(),a}function r(k,y,v){this.elem=k,this.type=y,this.callback=v}r.prototype.destroy=function(){i(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var e=h.addListener=function(k,y,v,m){k.addEventListener(y,v,n()),m&&m.$toDestroy.push(new r(k,y,v))},i=h.removeListener=function(k,y,v){k.removeEventListener(y,v,n())};h.stopEvent=function(k){return h.stopPropagation(k),h.preventDefault(k),!1},h.stopPropagation=function(k){k.stopPropagation&&k.stopPropagation()},h.preventDefault=function(k){k.preventDefault&&k.preventDefault()},h.getButton=function(k){return k.type=="dblclick"?0:k.type=="contextmenu"||l.isMac&&k.ctrlKey&&!k.altKey&&!k.shiftKey?2:k.button},h.capture=function(k,y,v){var m=k&&k.ownerDocument||document;function L(T){y&&y(T),v&&v(T),i(m,"mousemove",y),i(m,"mouseup",L),i(m,"dragstart",L)}return e(m,"mousemove",y),e(m,"mouseup",L),e(m,"dragstart",L),L},h.addMouseWheelListener=function(k,y,v){e(k,"wheel",function(m){var L=.15,T=m.deltaX||0,E=m.deltaY||0;switch(m.deltaMode){case m.DOM_DELTA_PIXEL:m.wheelX=T*L,m.wheelY=E*L;break;case m.DOM_DELTA_LINE:var C=15;m.wheelX=T*C,m.wheelY=E*C;break;case m.DOM_DELTA_PAGE:var S=150;m.wheelX=T*S,m.wheelY=E*S;break}y(m)},v)},h.addMultiMouseDownListener=function(k,y,v,m,L){var T=0,E,C,S,I={2:"dblclick",3:"tripleclick",4:"quadclick"};function A(w){if(h.getButton(w)!==0?T=0:w.detail>1?(T++,T>4&&(T=1)):T=1,l.isIE){var M=Math.abs(w.clientX-E)>5||Math.abs(w.clientY-C)>5;(!S||M)&&(T=1),S&&clearTimeout(S),S=setTimeout(function(){S=null},y[T-1]||600),T==1&&(E=w.clientX,C=w.clientY)}if(w._clicks=T,v[m]("mousedown",w),T>4)T=0;else if(T>1)return v[m](I[T],w)}Array.isArray(k)||(k=[k]),k.forEach(function(w){e(w,"mousedown",A,L)})};var s=function(k){return 0|(k.ctrlKey?1:0)|(k.altKey?2:0)|(k.shiftKey?4:0)|(k.metaKey?8:0)};h.getModifierString=function(k){return g.KEY_MODS[s(k)]};function c(k,y,v){var m=s(y);if(!l.isMac&&u){if(y.getModifierState&&(y.getModifierState("OS")||y.getModifierState("Win"))&&(m|=8),u.altGr)if((3&m)!=3)u.altGr=0;else return;if(v===18||v===17){var L="location"in y?y.location:y.keyLocation;if(v===17&&L===1)u[v]==1&&(o=y.timeStamp);else if(v===18&&m===3&&L===2){var T=y.timeStamp-o;T<50&&(u.altGr=!0)}}}if(v in g.MODIFIER_KEYS&&(v=-1),!m&&v===13){var L="location"in y?y.location:y.keyLocation;if(L===3&&(k(y,m,-v),y.defaultPrevented))return}if(l.isChromeOS&&m&8){if(k(y,m,v),y.defaultPrevented)return;m&=-9}return!m&&!(v in g.FUNCTION_KEYS)&&!(v in g.PRINTABLE_KEYS)?!1:k(y,m,v)}h.addCommandKeyListener=function(k,y,v){if(l.isOldGecko||l.isOpera&&!("KeyboardEvent"in window)){var m=null;e(k,"keydown",function(T){m=T.keyCode},v),e(k,"keypress",function(T){return c(y,T,m)},v)}else{var L=null;e(k,"keydown",function(T){u[T.keyCode]=(u[T.keyCode]||0)+1;var E=c(y,T,T.keyCode);return L=T.defaultPrevented,E},v),e(k,"keypress",function(T){L&&(T.ctrlKey||T.altKey||T.shiftKey||T.metaKey)&&(h.stopEvent(T),L=null)},v),e(k,"keyup",function(T){u[T.keyCode]=null},v),u||(f(),e(window,"focus",f))}};function f(){u=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!l.isOldIE){var p=1;h.nextTick=function(k,y){y=y||window;var v="zero-timeout-message-"+p++,m=function(L){L.data==v&&(h.stopPropagation(L),i(y,"message",m),k())};e(y,"message",m),y.postMessage(v,"*")}}h.$idleBlocked=!1,h.onIdle=function(k,y){return setTimeout(function v(){h.$idleBlocked?setTimeout(v,100):k()},y)},h.$idleBlockId=null,h.blockIdle=function(k){h.$idleBlockId&&clearTimeout(h.$idleBlockId),h.$idleBlocked=!0,h.$idleBlockId=setTimeout(function(){h.$idleBlocked=!1},k||100)},h.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),h.nextFrame?h.nextFrame=h.nextFrame.bind(window):h.nextFrame=function(k){setTimeout(k,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(d,h,b){var g;b.exports={lineMode:!1,pasteCancelled:function(){return g&&g>Date.now()-50?!0:g=!1},cancel:function(){g=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(d,h,b){var g=d("../lib/event"),l=d("../config").nls,u=d("../lib/useragent"),o=d("../lib/dom"),a=d("../lib/lang"),t=d("../clipboard"),n=u.isChrome<18,r=u.isIE,e=u.isChrome>63,i=400,s=d("../lib/keys"),c=s.KEY_MODS,f=u.isIOS,p=f?/\s/:/\n/,k=u.isMobile,y=function(v,m){var L=o.createElement("textarea");L.className="ace_text-input",L.setAttribute("wrap","off"),L.setAttribute("autocorrect","off"),L.setAttribute("autocapitalize","off"),L.setAttribute("spellcheck",!1),L.style.opacity="0",v.insertBefore(L,v.firstChild);var T=!1,E=!1,C=!1,S=!1,I="";k||(L.style.fontSize="1px");var A=!1,w=!1,M="",R=0,O=0,F=0;try{var B=document.activeElement===L}catch(ie){}this.setAriaOptions=function(ie){ie.activeDescendant?(L.setAttribute("aria-haspopup","true"),L.setAttribute("aria-autocomplete",ie.inline?"both":"list"),L.setAttribute("aria-activedescendant",ie.activeDescendant)):(L.setAttribute("aria-haspopup","false"),L.setAttribute("aria-autocomplete","both"),L.removeAttribute("aria-activedescendant")),ie.role&&L.setAttribute("role",ie.role)},this.setAriaLabel=function(){if(m.session&&m.renderer.enableKeyboardAccessibility){var ie=m.session.selection.cursor.row;L.setAttribute("aria-roledescription",l("editor")),L.setAttribute("aria-label",l("Cursor at row $0",[ie+1]))}else L.removeAttribute("aria-roledescription"),L.removeAttribute("aria-label")},this.setAriaOptions({role:"textbox"}),this.setAriaLabel(),g.addListener(L,"blur",function(ie){w||(m.onBlur(ie),B=!1)},m),g.addListener(L,"focus",function(ie){if(!w){if(B=!0,u.isEdge)try{if(!document.hasFocus())return}catch(ye){}m.onFocus(ie),u.isEdge?setTimeout(N):N()}},m),this.$focusScroll=!1,this.focus=function(){if(this.setAriaLabel(),I||e||this.$focusScroll=="browser")return L.focus({preventScroll:!0});var ie=L.style.top;L.style.position="fixed",L.style.top="0px";try{var ye=L.getBoundingClientRect().top!=0}catch(We){return}var Ce=[];if(ye)for(var De=L.parentElement;De&&De.nodeType==1;)Ce.push(De),De.setAttribute("ace_nocontext",!0),!De.parentElement&&De.getRootNode?De=De.getRootNode().host:De=De.parentElement;L.focus({preventScroll:!0}),ye&&Ce.forEach(function(We){We.removeAttribute("ace_nocontext")}),setTimeout(function(){L.style.position="",L.style.top=="0px"&&(L.style.top=ie)},0)},this.blur=function(){L.blur()},this.isFocused=function(){return B},m.on("beforeEndOperation",function(){var ie=m.curOp,ye=ie&&ie.command&&ie.command.name;if(ye!="insertstring"){var Ce=ye&&(ie.docChanged||ie.selectionChanged);C&&Ce&&(M=L.value="",Ee()),N()}});var N=f?function(ie){if(!(!B||T&&!ie||S)){ie||(ie="");var ye=`
 ab`+ie+`cde fg
`;ye!=L.value&&(L.value=M=ye);var Ce=4,De=4+(ie.length||(m.selection.isEmpty()?0:1));(R!=Ce||O!=De)&&L.setSelectionRange(Ce,De),R=Ce,O=De}}:function(){if(!(C||S)&&!(!B&&!z)){C=!0;var ie=0,ye=0,Ce="";if(m.session){var De=m.selection,We=De.getRange(),je=De.cursor.row;if(ie=We.start.column,ye=We.end.column,Ce=m.session.getLine(je),We.start.row!=je){var Ge=m.session.getLine(je-1);ie=We.start.row<je-1?0:ie,ye+=Ge.length+1,Ce=Ge+`
`+Ce}else if(We.end.row!=je){var K=m.session.getLine(je+1);ye=We.end.row>je+1?K.length:ye,ye+=Ce.length+1,Ce=Ce+`
`+K}else k&&je>0&&(Ce=`
`+Ce,ye+=1,ie+=1);Ce.length>i&&(ie<i&&ye<i?Ce=Ce.slice(0,i):(Ce=`
`,ie==ye?ie=ye=0:(ie=0,ye=1)))}var U=Ce+`

`;if(U!=M&&(L.value=M=U,R=O=U.length),z&&(R=L.selectionStart,O=L.selectionEnd),O!=ye||R!=ie||L.selectionEnd!=O)try{L.setSelectionRange(ie,ye),R=ie,O=ye}catch(Z){}C=!1}};this.resetSelection=N,B&&m.onFocus();var _=function(ie){return ie.selectionStart===0&&ie.selectionEnd>=M.length&&ie.value===M&&M&&ie.selectionEnd!==O},G=function(ie){C||(T?T=!1:_(L)?(m.selectAll(),N()):k&&L.selectionStart!=R&&N())},H=null;this.setInputHandler=function(ie){H=ie},this.getInputHandler=function(){return H};var z=!1,j=function(ie,ye){if(z&&(z=!1),E)return N(),ie&&m.onPaste(ie),E=!1,"";for(var Ce=L.selectionStart,De=L.selectionEnd,We=R,je=M.length-O,Ge=ie,K=ie.length-Ce,U=ie.length-De,Z=0;We>0&&M[Z]==ie[Z];)Z++,We--;for(Ge=Ge.slice(Z),Z=1;je>0&&M.length-Z>R-1&&M[M.length-Z]==ie[ie.length-Z];)Z++,je--;K-=Z-1,U-=Z-1;var D=Ge.length-Z+1;if(D<0&&(We=-D,D=0),Ge=Ge.slice(0,D),!ye&&!Ge&&!K&&!We&&!je&&!U)return"";S=!0;var W=!1;return u.isAndroid&&Ge==". "&&(Ge="  ",W=!0),Ge&&!We&&!je&&!K&&!U||A?m.onTextInput(Ge):m.onTextInput(Ge,{extendLeft:We,extendRight:je,restoreStart:K,restoreEnd:U}),S=!1,M=ie,R=Ce,O=De,F=U,W?`
`:Ge},q=function(ie){if(C)return xe();if(ie&&ie.inputType){if(ie.inputType=="historyUndo")return m.execCommand("undo");if(ie.inputType=="historyRedo")return m.execCommand("redo")}var ye=L.value,Ce=j(ye,!0);(ye.length>i+100||p.test(Ce)||k&&R<1&&R==O)&&N()},ne=function(ie,ye,Ce){var De=ie.clipboardData||window.clipboardData;if(!(!De||n)){var We=r||Ce?"Text":"text/plain";try{return ye?De.setData(We,ye)!==!1:De.getData(We)}catch(je){if(!Ce)return ne(je,ye,!0)}}},X=function(ie,ye){var Ce=m.getCopyText();if(!Ce)return g.preventDefault(ie);ne(ie,Ce)?(f&&(N(Ce),T=Ce,setTimeout(function(){T=!1},10)),ye?m.onCut():m.onCopy(),g.preventDefault(ie)):(T=!0,L.value=Ce,L.select(),setTimeout(function(){T=!1,N(),ye?m.onCut():m.onCopy()}))},ee=function(ie){X(ie,!0)},ae=function(ie){X(ie,!1)},re=function(ie){var ye=ne(ie);t.pasteCancelled()||(typeof ye=="string"?(ye&&m.onPaste(ye,ie),u.isIE&&setTimeout(N),g.preventDefault(ie)):(L.value="",E=!0))};g.addCommandKeyListener(L,m.onCommandKey.bind(m),m),g.addListener(L,"select",G,m),g.addListener(L,"input",q,m),g.addListener(L,"cut",ee,m),g.addListener(L,"copy",ae,m),g.addListener(L,"paste",re,m),(!("oncut"in L)||!("oncopy"in L)||!("onpaste"in L))&&g.addListener(v,"keydown",function(ie){if(!(u.isMac&&!ie.metaKey||!ie.ctrlKey))switch(ie.keyCode){case 67:ae(ie);break;case 86:re(ie);break;case 88:ee(ie);break}},m);var ge=function(ie){if(!(C||!m.onCompositionStart||m.$readOnly)&&(C={},!A)){ie.data&&(C.useTextareaForIME=!1),setTimeout(xe,0),m._signal("compositionStart"),m.on("mousedown",Re);var ye=m.getSelectionRange();ye.end.row=ye.start.row,ye.end.column=ye.start.column,C.markerRange=ye,C.selectionStart=R,m.onCompositionStart(C),C.useTextareaForIME?(M=L.value="",R=0,O=0):(L.msGetInputContext&&(C.context=L.msGetInputContext()),L.getInputContext&&(C.context=L.getInputContext()))}},xe=function(){if(!(!C||!m.onCompositionUpdate||m.$readOnly)){if(A)return Re();if(C.useTextareaForIME)m.onCompositionUpdate(L.value);else{var ie=L.value;j(ie),C.markerRange&&(C.context&&(C.markerRange.start.column=C.selectionStart=C.context.compositionStartOffset),C.markerRange.end.column=C.markerRange.start.column+O-C.selectionStart+F)}}},Ee=function(ie){!m.onCompositionEnd||m.$readOnly||(C=!1,m.onCompositionEnd(),m.off("mousedown",Re),ie&&q())};function Re(){w=!0,L.blur(),L.focus(),w=!1}var _e=a.delayedCall(xe,50).schedule.bind(null,null);function ct(ie){ie.keyCode==27&&L.value.length<L.selectionStart&&(C||(M=L.value),R=O=-1,N()),_e()}g.addListener(L,"compositionstart",ge,m),g.addListener(L,"compositionupdate",xe,m),g.addListener(L,"keyup",ct,m),g.addListener(L,"keydown",_e,m),g.addListener(L,"compositionend",Ee,m),this.getElement=function(){return L},this.setCommandMode=function(ie){A=ie,L.readOnly=!1},this.setReadOnly=function(ie){A||(L.readOnly=ie)},this.setCopyWithEmptySelection=function(ie){},this.onContextMenu=function(ie){z=!0,N(),m._emit("nativecontextmenu",{target:m,domEvent:ie}),this.moveToMouse(ie,!0)},this.moveToMouse=function(ie,ye){I||(I=L.style.cssText),L.style.cssText=(ye?"z-index:100000;":"")+(u.isIE?"opacity:0.1;":"")+"text-indent: -"+(R+O)*m.renderer.characterWidth*.5+"px;";var Ce=m.container.getBoundingClientRect(),De=o.computedStyle(m.container),We=Ce.top+(parseInt(De.borderTopWidth)||0),je=Ce.left+(parseInt(Ce.borderLeftWidth)||0),Ge=Ce.bottom-We-L.clientHeight-2,K=function(U){o.translate(L,U.clientX-je-2,Math.min(U.clientY-We-2,Ge))};K(ie),ie.type=="mousedown"&&(m.renderer.$isMousePressed=!0,clearTimeout(mt),u.isWin&&g.capture(m.container,K,Ot))},this.onContextMenuClose=Ot;var mt;function Ot(){clearTimeout(mt),mt=setTimeout(function(){I&&(L.style.cssText=I,I=""),m.renderer.$isMousePressed=!1,m.renderer.$keepTextAreaAtCursor&&m.renderer.$moveTextAreaToCursor()},0)}var ut=function(ie){m.textInput.onContextMenu(ie),Ot()};g.addListener(L,"mouseup",ut,m),g.addListener(L,"mousedown",function(ie){ie.preventDefault(),Ot()},m),g.addListener(m.renderer.scroller,"contextmenu",ut,m),g.addListener(L,"contextmenu",ut,m),f&&Ct(v,m,L);function Ct(ie,ye,Ce){var De=null,We=!1;Ce.addEventListener("keydown",function(Ge){De&&clearTimeout(De),We=!0},!0),Ce.addEventListener("keyup",function(Ge){De=setTimeout(function(){We=!1},100)},!0);var je=function(Ge){if(document.activeElement===Ce&&!(We||C||ye.$mouseHandler.isMousePressed)&&!T){var K=Ce.selectionStart,U=Ce.selectionEnd,Z=null,D=0;if(K==0?Z=s.up:K==1?Z=s.home:U>O&&M[U]==`
`?Z=s.end:K<R&&M[K-1]==" "?(Z=s.left,D=c.option):K<R||K==R&&O!=R&&K==U?Z=s.left:U>O&&M.slice(0,U).split(`
`).length>2?Z=s.down:U>O&&M[U-1]==" "?(Z=s.right,D=c.option):(U>O||U==O&&O!=R&&K==U)&&(Z=s.right),K!==U&&(D|=c.shift),Z){var W=ye.onCommandKey({},D,Z);if(!W&&ye.commands){Z=s.keyCodeToString(Z);var Q=ye.commands.findKeyCommand(D,Z);Q&&ye.execCommand(Q)}R=K,O=U,N("")}}};document.addEventListener("selectionchange",je),ye.on("destroy",function(){document.removeEventListener("selectionchange",je)})}this.destroy=function(){L.parentElement&&L.parentElement.removeChild(L)}};h.TextInput=y,h.$setUserAgentForTests=function(v,m){k=v,f=m}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(d,h,b){var g=d("../lib/useragent"),l=0,u=550,o=function(){function n(r){r.$clickSelection=null;var e=r.editor;e.setDefaultHandler("mousedown",this.onMouseDown.bind(r)),e.setDefaultHandler("dblclick",this.onDoubleClick.bind(r)),e.setDefaultHandler("tripleclick",this.onTripleClick.bind(r)),e.setDefaultHandler("quadclick",this.onQuadClick.bind(r)),e.setDefaultHandler("mousewheel",this.onMouseWheel.bind(r));var i=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];i.forEach(function(s){r[s]=this[s]},this),r.selectByLines=this.extendSelectionBy.bind(r,"getLineRange"),r.selectByWords=this.extendSelectionBy.bind(r,"getWordRange")}return n.prototype.onMouseDown=function(r){var e=r.inSelection(),i=r.getDocumentPosition();this.mousedownEvent=r;var s=this.editor,c=r.getButton();if(c!==0){var f=s.getSelectionRange(),p=f.isEmpty();(p||c==1)&&s.selection.moveToPosition(i),c==2&&(s.textInput.onContextMenu(r.domEvent),g.isMozilla||r.preventDefault());return}if(this.mousedownEvent.time=Date.now(),e&&!s.isFocused()&&(s.focus(),this.$focusTimeout&&!this.$clickSelection&&!s.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(r);return}return this.captureMouse(r),this.startSelect(i,r.domEvent._clicks>1),r.preventDefault()},n.prototype.startSelect=function(r,e){r=r||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var i=this.editor;!this.mousedownEvent||(this.mousedownEvent.getShiftKey()?i.selection.selectToPosition(r):e||i.selection.moveToPosition(r),e||this.select(),i.setStyle("ace_selecting"),this.setState("select"))},n.prototype.select=function(){var r,e=this.editor,i=e.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(i);if(s==-1)r=this.$clickSelection.end;else if(s==1)r=this.$clickSelection.start;else{var c=t(this.$clickSelection,i);i=c.cursor,r=c.anchor}e.selection.setSelectionAnchor(r.row,r.column)}e.selection.selectToPosition(i),e.renderer.scrollCursorIntoView()},n.prototype.extendSelectionBy=function(r){var e,i=this.editor,s=i.renderer.screenToTextCoordinates(this.x,this.y),c=i.selection[r](s.row,s.column);if(this.$clickSelection){var f=this.$clickSelection.comparePoint(c.start),p=this.$clickSelection.comparePoint(c.end);if(f==-1&&p<=0)e=this.$clickSelection.end,(c.end.row!=s.row||c.end.column!=s.column)&&(s=c.start);else if(p==1&&f>=0)e=this.$clickSelection.start,(c.start.row!=s.row||c.start.column!=s.column)&&(s=c.end);else if(f==-1&&p==1)s=c.end,e=c.start;else{var k=t(this.$clickSelection,s);s=k.cursor,e=k.anchor}i.selection.setSelectionAnchor(e.row,e.column)}i.selection.selectToPosition(s),i.renderer.scrollCursorIntoView()},n.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},n.prototype.focusWait=function(){var r=a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),e=Date.now();(r>l||e-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},n.prototype.onDoubleClick=function(r){var e=r.getDocumentPosition(),i=this.editor,s=i.session,c=s.getBracketRange(e);c?(c.isEmpty()&&(c.start.column--,c.end.column++),this.setState("select")):(c=i.selection.getWordRange(e.row,e.column),this.setState("selectByWords")),this.$clickSelection=c,this.select()},n.prototype.onTripleClick=function(r){var e=r.getDocumentPosition(),i=this.editor;this.setState("selectByLines");var s=i.getSelectionRange();s.isMultiLine()&&s.contains(e.row,e.column)?(this.$clickSelection=i.selection.getLineRange(s.start.row),this.$clickSelection.end=i.selection.getLineRange(s.end.row).end):this.$clickSelection=i.selection.getLineRange(e.row),this.select()},n.prototype.onQuadClick=function(r){var e=this.editor;e.selectAll(),this.$clickSelection=e.getSelectionRange(),this.setState("selectAll")},n.prototype.onMouseWheel=function(r){if(!r.getAccelKey()){r.getShiftKey()&&r.wheelY&&!r.wheelX&&(r.wheelX=r.wheelY,r.wheelY=0);var e=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var i=this.$lastScroll,s=r.domEvent.timeStamp,c=s-i.t,f=c?r.wheelX/c:i.vx,p=c?r.wheelY/c:i.vy;c<u&&(f=(f+i.vx)/2,p=(p+i.vy)/2);var k=Math.abs(f/p),y=!1;if(k>=1&&e.renderer.isScrollableBy(r.wheelX*r.speed,0)&&(y=!0),k<=1&&e.renderer.isScrollableBy(0,r.wheelY*r.speed)&&(y=!0),y)i.allowed=s;else if(s-i.allowed<u){var v=Math.abs(f)<=1.5*Math.abs(i.vx)&&Math.abs(p)<=1.5*Math.abs(i.vy);v?(y=!0,i.allowed=s):i.allowed=0}if(i.t=s,i.vx=f,i.vy=p,y)return e.renderer.scrollBy(r.wheelX*r.speed,r.wheelY*r.speed),r.stop()}},n}();o.prototype.selectEnd=o.prototype.selectByLinesEnd,o.prototype.selectAllEnd=o.prototype.selectByLinesEnd,o.prototype.selectByWordsEnd=o.prototype.selectByLinesEnd,h.DefaultHandlers=o;function a(n,r,e,i){return Math.sqrt(Math.pow(e-n,2)+Math.pow(i-r,2))}function t(n,r){if(n.start.row==n.end.row)var e=2*r.column-n.start.column-n.end.column;else if(n.start.row==n.end.row-1&&!n.start.column&&!n.end.column)var e=r.column-4;else var e=2*r.row-n.start.row-n.end.row;return e<0?{cursor:n.start,anchor:n.end}:{cursor:n.end,anchor:n.start}}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/range"],function(d,h,b){var g=this&&this.__extends||function(){var i=function(s,c){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var k in p)Object.prototype.hasOwnProperty.call(p,k)&&(f[k]=p[k])},i(s,c)};return function(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");i(s,c);function f(){this.constructor=s}s.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),l=this&&this.__values||function(i){var s=typeof Symbol=="function"&&Symbol.iterator,c=s&&i[s],f=0;if(c)return c.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&f>=i.length&&(i=void 0),{value:i&&i[f++],done:!i}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},u=d("./lib/dom"),o=d("./range").Range,a="ace_tooltip",t=function(){function i(s){this.isOpen=!1,this.$element=null,this.$parentNode=s}return i.prototype.$init=function(){return this.$element=u.createElement("div"),this.$element.className=a,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},i.prototype.getElement=function(){return this.$element||this.$init()},i.prototype.setText=function(s){this.getElement().textContent=s},i.prototype.setHtml=function(s){this.getElement().innerHTML=s},i.prototype.setPosition=function(s,c){this.getElement().style.left=s+"px",this.getElement().style.top=c+"px"},i.prototype.setClassName=function(s){u.addCssClass(this.getElement(),s)},i.prototype.setTheme=function(s){this.$element.className=a+" "+(s.isDark?"ace_dark ":"")+(s.cssClass||"")},i.prototype.show=function(s,c,f){s!=null&&this.setText(s),c!=null&&f!=null&&this.setPosition(c,f),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},i.prototype.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=a,this.isOpen=!1)},i.prototype.getHeight=function(){return this.getElement().offsetHeight},i.prototype.getWidth=function(){return this.getElement().offsetWidth},i.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},i}(),n=function(){function i(){this.popups=[]}return i.prototype.addPopup=function(s){this.popups.push(s),this.updatePopups()},i.prototype.removePopup=function(s){var c=this.popups.indexOf(s);c!==-1&&(this.popups.splice(c,1),this.updatePopups())},i.prototype.updatePopups=function(){var s,c,f,p;this.popups.sort(function(S,I){return I.priority-S.priority});var k=[];try{for(var y=l(this.popups),v=y.next();!v.done;v=y.next()){var m=v.value,L=!0;try{for(var T=(f=void 0,l(k)),E=T.next();!E.done;E=T.next()){var C=E.value;if(this.doPopupsOverlap(C,m)){L=!1;break}}}catch(S){f={error:S}}finally{try{E&&!E.done&&(p=T.return)&&p.call(T)}finally{if(f)throw f.error}}L?k.push(m):m.hide()}}catch(S){s={error:S}}finally{try{v&&!v.done&&(c=y.return)&&c.call(y)}finally{if(s)throw s.error}}},i.prototype.doPopupsOverlap=function(s,c){var f=s.getElement().getBoundingClientRect(),p=c.getElement().getBoundingClientRect();return f.left<p.right&&f.right>p.left&&f.top<p.bottom&&f.bottom>p.top},i}(),r=new n;h.popupManager=r,h.Tooltip=t;var e=function(i){g(s,i);function s(c){c===void 0&&(c=document.body);var f=i.call(this,c)||this;f.timeout=void 0,f.lastT=0,f.idleTime=350,f.lastEvent=void 0,f.onMouseOut=f.onMouseOut.bind(f),f.onMouseMove=f.onMouseMove.bind(f),f.waitForHover=f.waitForHover.bind(f),f.hide=f.hide.bind(f);var p=f.getElement();return p.style.whiteSpace="pre-wrap",p.style.pointerEvents="auto",p.addEventListener("mouseout",f.onMouseOut),p.tabIndex=-1,p.addEventListener("blur",function(){p.contains(document.activeElement)||this.hide()}.bind(f)),f}return s.prototype.addToEditor=function(c){c.on("mousemove",this.onMouseMove),c.on("mousedown",this.hide),c.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},s.prototype.removeFromEditor=function(c){c.off("mousemove",this.onMouseMove),c.off("mousedown",this.hide),c.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},s.prototype.onMouseMove=function(c,f){this.lastEvent=c,this.lastT=Date.now();var p=f.$mouseHandler.isMousePressed;if(this.isOpen){var k=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(k.row,k.column)||p||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||p||(this.lastEvent=c,this.timeout=setTimeout(this.waitForHover,this.idleTime))},s.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var c=Date.now()-this.lastT;if(this.idleTime-c>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-c);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},s.prototype.isOutsideOfText=function(c){var f=c.editor,p=c.getDocumentPosition(),k=f.session.getLine(p.row);if(p.column==k.length){var y=f.renderer.pixelToScreenCoordinates(c.clientX,c.clientY),v=f.session.documentToScreenPosition(p.row,p.column);if(v.column!=y.column||v.row!=y.row)return!0}return!1},s.prototype.setDataProvider=function(c){this.$gatherData=c},s.prototype.showForRange=function(c,f,p,k){if(!(k&&k!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var y=c.renderer;this.isOpen||(r.addPopup(this),this.$registerCloseEvents(),this.setTheme(y.theme)),this.isOpen=!0,this.addMarker(f,c.session),this.range=o.fromPoints(f.start,f.end);var v=this.getElement();v.innerHTML="",v.appendChild(p),v.style.display="block";var m=y.textToScreenCoordinates(f.start.row,f.start.column),L=c.getCursorPosition(),T=v.clientHeight,E=y.scroller.getBoundingClientRect(),C=!0;this.row>L.row?C=!0:this.row<L.row&&(C=!1),m.pageY-T+y.lineHeight<E.top?C=!0:m.pageY+T>E.bottom&&(C=!1),C?m.pageY+=y.lineHeight:m.pageY-=T,v.style.maxWidth=E.width-(m.pageX-E.left)+"px",this.setPosition(m.pageX,m.pageY)}},s.prototype.addMarker=function(c,f){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=f,this.marker=f&&f.addMarker(c,"ace_highlight-marker","text")},s.prototype.hide=function(c){!c&&document.activeElement==this.getElement()||c&&c.target&&(c.type!="keydown"||c.ctrlKey||c.metaKey)&&this.$element.contains(c.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,r.removePopup(this)))},s.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("mousewheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},s.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("mousewheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},s.prototype.onMouseOut=function(c){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!c.relatedTarget||c.relatedTarget==this.getElement()||c&&c.currentTarget.contains(c.relatedTarget)||c.relatedTarget.classList.contains("ace_content")||this.hide())},s}(t);h.HoverTooltip=e}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],function(d,h,b){var g=this&&this.__extends||function(){var e=function(i,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(c[p]=f[p])},e(i,s)};return function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(i,s);function c(){this.constructor=i}i.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),l=this&&this.__values||function(e){var i=typeof Symbol=="function"&&Symbol.iterator,s=i&&e[i],c=0;if(s)return s.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&c>=e.length&&(e=void 0),{value:e&&e[c++],done:!e}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},u=d("../lib/dom"),o=d("../lib/event"),a=d("../tooltip").Tooltip,t=d("../config").nls;function n(e){var i=e.editor,s=i.renderer.$gutterLayer,c=new r(i);e.editor.setDefaultHandler("guttermousedown",function(m){if(!(!i.isFocused()||m.getButton()!=0)){var L=s.getRegion(m);if(L!="foldWidgets"){var T=m.getDocumentPosition().row,E=i.session.selection;if(m.getShiftKey())E.selectTo(T,0);else{if(m.domEvent.detail==2)return i.selectAll(),m.preventDefault();e.$clickSelection=i.selection.getLineRange(T)}return e.setState("selectByLines"),e.captureMouse(m),m.preventDefault()}}});var f,p;function k(){var m=p.getDocumentPosition().row,L=i.session.getLength();if(m==L){var T=i.renderer.pixelToScreenCoordinates(0,p.y).row,E=p.$pos;if(T>i.session.documentToScreenRow(E.row,E.column))return y()}if(c.showTooltip(m),!!c.isOpen)if(i.on("mousewheel",y),e.$tooltipFollowsMouse)v(p);else{var C=p.getGutterRow(),S=s.$lines.get(C);if(S){var I=S.element.querySelector(".ace_gutter_annotation"),A=I.getBoundingClientRect(),w=c.getElement().style;w.left=A.right+"px",w.top=A.bottom+"px"}else v(p)}}function y(){f&&(f=clearTimeout(f)),c.isOpen&&(c.hideTooltip(),i.off("mousewheel",y))}function v(m){c.setPosition(m.x,m.y)}e.editor.setDefaultHandler("guttermousemove",function(m){var L=m.domEvent.target||m.domEvent.srcElement;if(u.hasCssClass(L,"ace_fold-widget"))return y();c.isOpen&&e.$tooltipFollowsMouse&&v(m),p=m,!f&&(f=setTimeout(function(){f=null,p&&!e.isMousePressed?k():y()},50))}),o.addListener(i.renderer.$gutter,"mouseout",function(m){p=null,!(!c.isOpen||f)&&(f=setTimeout(function(){f=null,y()},50))},i),i.on("changeSession",y),i.on("input",y)}h.GutterHandler=n;var r=function(e){g(i,e);function i(s){var c=e.call(this,s.container)||this;return c.editor=s,c}return i.prototype.setPosition=function(s,c){var f=window.innerWidth||document.documentElement.clientWidth,p=window.innerHeight||document.documentElement.clientHeight,k=this.getWidth(),y=this.getHeight();s+=15,c+=15,s+k>f&&(s-=s+k-f),c+y>p&&(c-=20+y),a.prototype.setPosition.call(this,s,c)},Object.defineProperty(i,"annotationLabels",{get:function(){return{error:{singular:t("error"),plural:t("errors")},warning:{singular:t("warning"),plural:t("warnings")},info:{singular:t("information message"),plural:t("information messages")}}},enumerable:!1,configurable:!0}),i.prototype.showTooltip=function(s){var c=this.editor.renderer.$gutterLayer,f=c.$annotations[s],p;f?p={text:Array.from(f.text),type:Array.from(f.type)}:p={text:[],type:[]};var k=c.session.getFoldLine(s);if(k&&c.$showFoldedAnnotations){for(var y={error:[],warning:[],info:[]},v,m=s+1;m<=k.end.row;m++)if(!!c.$annotations[m])for(var L=0;L<c.$annotations[m].text.length;L++){var T=c.$annotations[m].type[L];if(y[T].push(c.$annotations[m].text[L]),T==="error"){v="error_fold";continue}if(T==="warning"){v="warning_fold";continue}}if(v==="error_fold"||v==="warning_fold"){var E="".concat(i.annotationsToSummaryString(y)," in folded code.");p.text.push(E),p.type.push(v)}}if(p.text.length===0)return this.hide();for(var C={error:[],warning:[],info:[]},S=c.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",m=0;m<p.text.length;m++){var I="<span class='ace_".concat(p.type[m]," ").concat(S,"' aria-label='").concat(i.annotationLabels[p.type[m].replace("_fold","")].singular,"' role=img> </span> ").concat(p.text[m]);C[p.type[m].replace("_fold","")].push(I)}var A=[].concat(C.error,C.warning,C.info).join("<br>");this.setHtml(A),this.$element.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},i.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},i.annotationsToSummaryString=function(s){var c,f,p=[],k=["error","warning","info"];try{for(var y=l(k),v=y.next();!v.done;v=y.next()){var m=v.value;if(!!s[m].length){var L=s[m].length===1?i.annotationLabels[m].singular:i.annotationLabels[m].plural;p.push("".concat(s[m].length," ").concat(L))}}}catch(T){c={error:T}}finally{try{v&&!v.done&&(f=y.return)&&f.call(y)}finally{if(c)throw c.error}}return p.join(", ")},i}(a);h.GutterTooltip=r}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(d,h,b){var g=d("../lib/event"),l=d("../lib/useragent"),u=function(){function o(a,t){this.domEvent=a,this.editor=t,this.x=this.clientX=a.clientX,this.y=this.clientY=a.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return o.prototype.stopPropagation=function(){g.stopPropagation(this.domEvent),this.propagationStopped=!0},o.prototype.preventDefault=function(){g.preventDefault(this.domEvent),this.defaultPrevented=!0},o.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},o.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},o.prototype.getGutterRow=function(){var a=this.getDocumentPosition().row,t=this.editor.session.documentToScreenRow(a,0),n=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return t-n},o.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var a=this.editor,t=a.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}return this.$inSelection},o.prototype.getButton=function(){return g.getButton(this.domEvent)},o.prototype.getShiftKey=function(){return this.domEvent.shiftKey},o.prototype.getAccelKey=function(){return l.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},o}();h.MouseEvent=u}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(d,h,b){var g=d("../lib/dom"),l=d("../lib/event"),u=d("../lib/useragent"),o=200,a=200,t=5;function n(e){var i=e.editor,s=g.createElement("div");s.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",s.textContent="\xA0";var c=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];c.forEach(function(H){e[H]=this[H]},this),i.on("mousedown",this.onMouseDown.bind(e));var f=i.container,p,k,y,v,m,L,T=0,E,C,S,I,A;this.onDragStart=function(H){if(this.cancelDrag||!f.draggable){var z=this;return setTimeout(function(){z.startSelect(),z.captureMouse(H)},0),H.preventDefault()}m=i.getSelectionRange();var j=H.dataTransfer;j.effectAllowed=i.getReadOnly()?"copy":"copyMove",i.container.appendChild(s),j.setDragImage&&j.setDragImage(s,0,0),setTimeout(function(){i.container.removeChild(s)}),j.clearData(),j.setData("Text",i.session.getTextRange()),C=!0,this.setState("drag")},this.onDragEnd=function(H){if(f.draggable=!1,C=!1,this.setState(null),!i.getReadOnly()){var z=H.dataTransfer.dropEffect;!E&&z=="move"&&i.session.remove(i.getSelectionRange()),i.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(H){if(!(i.getReadOnly()||!_(H.dataTransfer)))return k=H.clientX,y=H.clientY,p||O(),T++,H.dataTransfer.dropEffect=E=G(H),l.preventDefault(H)},this.onDragOver=function(H){if(!(i.getReadOnly()||!_(H.dataTransfer)))return k=H.clientX,y=H.clientY,p||(O(),T++),B!==null&&(B=null),H.dataTransfer.dropEffect=E=G(H),l.preventDefault(H)},this.onDragLeave=function(H){if(T--,T<=0&&p)return F(),E=null,l.preventDefault(H)},this.onDrop=function(H){if(!!L){var z=H.dataTransfer;if(C)switch(E){case"move":m.contains(L.row,L.column)?m={start:L,end:L}:m=i.moveText(m,L);break;case"copy":m=i.moveText(m,L,!0);break}else{var j=z.getData("Text");m={start:L,end:i.session.insert(L,j)},i.focus(),E=null}return F(),l.preventDefault(H)}},l.addListener(f,"dragstart",this.onDragStart.bind(e),i),l.addListener(f,"dragend",this.onDragEnd.bind(e),i),l.addListener(f,"dragenter",this.onDragEnter.bind(e),i),l.addListener(f,"dragover",this.onDragOver.bind(e),i),l.addListener(f,"dragleave",this.onDragLeave.bind(e),i),l.addListener(f,"drop",this.onDrop.bind(e),i);function w(H,z){var j=Date.now(),q=!z||H.row!=z.row,ne=!z||H.column!=z.column;if(!I||q||ne)i.moveCursorToPosition(H),I=j,A={x:k,y};else{var X=r(A.x,A.y,k,y);X>t?I=null:j-I>=a&&(i.renderer.scrollCursorIntoView(),I=null)}}function M(H,z){var j=Date.now(),q=i.renderer.layerConfig.lineHeight,ne=i.renderer.layerConfig.characterWidth,X=i.renderer.scroller.getBoundingClientRect(),ee={x:{left:k-X.left,right:X.right-k},y:{top:y-X.top,bottom:X.bottom-y}},ae=Math.min(ee.x.left,ee.x.right),re=Math.min(ee.y.top,ee.y.bottom),ge={row:H.row,column:H.column};ae/ne<=2&&(ge.column+=ee.x.left<ee.x.right?-3:2),re/q<=1&&(ge.row+=ee.y.top<ee.y.bottom?-1:1);var xe=H.row!=ge.row,Ee=H.column!=ge.column,Re=!z||H.row!=z.row;xe||Ee&&!Re?S?j-S>=o&&i.renderer.scrollCursorIntoView(ge):S=j:S=null}function R(){var H=L;L=i.renderer.screenToTextCoordinates(k,y),w(L,H),M(L,H)}function O(){m=i.selection.toOrientedRange(),p=i.session.addMarker(m,"ace_selection",i.getSelectionStyle()),i.clearSelection(),i.isFocused()&&i.renderer.$cursorLayer.setBlinking(!1),clearInterval(v),R(),v=setInterval(R,20),T=0,l.addListener(document,"mousemove",N)}function F(){clearInterval(v),i.session.removeMarker(p),p=null,i.selection.fromOrientedRange(m),i.isFocused()&&!C&&i.$resetCursorStyle(),m=null,L=null,T=0,S=null,I=null,l.removeListener(document,"mousemove",N)}var B=null;function N(){B==null&&(B=setTimeout(function(){B!=null&&p&&F()},20))}function _(H){var z=H.types;return!z||Array.prototype.some.call(z,function(j){return j=="text/plain"||j=="Text"})}function G(H){var z=["copy","copymove","all","uninitialized"],j=["move","copymove","linkmove","all","uninitialized"],q=u.isMac?H.altKey:H.ctrlKey,ne="uninitialized";try{ne=H.dataTransfer.effectAllowed.toLowerCase()}catch(ee){}var X="none";return q&&z.indexOf(ne)>=0?X="copy":j.indexOf(ne)>=0?X="move":z.indexOf(ne)>=0&&(X="copy"),X}}(function(){this.dragWait=function(){var e=Date.now()-this.mousedownEvent.time;e>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var e=this.editor.container;e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor,i=e.container;i.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var s=u.isWin?"default":"move";e.renderer.setCursorStyle(s),this.setState("dragReady")},this.onMouseDrag=function(e){var i=this.editor.container;if(u.isIE&&this.state=="dragReady"){var s=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);s>3&&i.dragDrop()}if(this.state==="dragWait"){var s=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);s>0&&(i.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(!!this.$dragEnabled){this.mousedownEvent=e;var i=this.editor,s=e.inSelection(),c=e.getButton(),f=e.domEvent.detail||1;if(f===1&&c===0&&s){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var p=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in p&&(p.unselectable="on"),i.getDragDelay()){if(u.isWebKit){this.cancelDrag=!0;var k=i.container;k.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(n.prototype);function r(e,i,s,c){return Math.sqrt(Math.pow(s-e,2)+Math.pow(c-i,2))}h.DragdropHandler=n}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(d,h,b){var g=d("./mouse_event").MouseEvent,l=d("../lib/event"),u=d("../lib/dom");h.addTouchListeners=function(o,a){var t="scroll",n,r,e,i,s,c,f=0,p,k=0,y=0,v=0,m,L;function T(){var w=window.navigator&&window.navigator.clipboard,M=!1,R=function(){var F=a.getCopyText(),B=a.session.getUndoManager().hasUndo();L.replaceChild(u.buildDom(M?["span",!F&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],F&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],F&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],w&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],B&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),L.firstChild)},O=function(F){var B=F.target.getAttribute("action");if(B=="more"||!M)return M=!M,R();B=="paste"?w.readText().then(function(N){a.execCommand(B,N)}):B&&((B=="cut"||B=="copy")&&(w?w.writeText(a.getCopyText()):document.execCommand("copy")),a.execCommand(B)),L.firstChild.style.display="none",M=!1,B!="openCommandPallete"&&a.focus()};L=u.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(F){t="menu",F.stopPropagation(),F.preventDefault(),a.textInput.focus()},ontouchend:function(F){F.stopPropagation(),F.preventDefault(),O(F)},onclick:O},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],a.container)}function E(){L||T();var w=a.selection.cursor,M=a.renderer.textToScreenCoordinates(w.row,w.column),R=a.renderer.textToScreenCoordinates(0,0).pageX,O=a.renderer.scrollLeft,F=a.container.getBoundingClientRect();L.style.top=M.pageY-F.top-3+"px",M.pageX-F.left<F.width-70?(L.style.left="",L.style.right="10px"):(L.style.right="",L.style.left=R+O-F.left+"px"),L.style.display="",L.firstChild.style.display="none",a.on("input",C)}function C(w){L&&(L.style.display="none"),a.off("input",C)}function S(){s=null,clearTimeout(s);var w=a.selection.getRange(),M=w.contains(p.row,p.column);(w.isEmpty()||!M)&&(a.selection.moveToPosition(p),a.selection.selectWord()),t="wait",E()}function I(){s=null,clearTimeout(s),a.selection.moveToPosition(p);var w=k>=2?a.selection.getLineRange(p.row):a.session.getBracketRange(p);w&&!w.isEmpty()?a.selection.setRange(w):a.selection.selectWord(),t="wait"}l.addListener(o,"contextmenu",function(w){if(!!m){var M=a.textInput.getElement();M.focus()}},a),l.addListener(o,"touchstart",function(w){var M=w.touches;if(s||M.length>1){clearTimeout(s),s=null,e=-1,t="zoom";return}m=a.$mouseHandler.isMousePressed=!0;var R=a.renderer.layerConfig.lineHeight,O=a.renderer.layerConfig.lineHeight,F=w.timeStamp;i=F;var B=M[0],N=B.clientX,_=B.clientY;Math.abs(n-N)+Math.abs(r-_)>R&&(e=-1),n=w.clientX=N,r=w.clientY=_,y=v=0;var G=new g(w,a);if(p=G.getDocumentPosition(),F-e<500&&M.length==1&&!f)k++,w.preventDefault(),w.button=0,I();else{k=0;var H=a.selection.cursor,z=a.selection.isEmpty()?H:a.selection.anchor,j=a.renderer.$cursorLayer.getPixelPosition(H,!0),q=a.renderer.$cursorLayer.getPixelPosition(z,!0),ne=a.renderer.scroller.getBoundingClientRect(),X=a.renderer.layerConfig.offset,ee=a.renderer.scrollLeft,ae=function(xe,Ee){return xe=xe/O,Ee=Ee/R-.75,xe*xe+Ee*Ee};if(w.clientX<ne.left){t="zoom";return}var re=ae(w.clientX-ne.left-j.left+ee,w.clientY-ne.top-j.top+X),ge=ae(w.clientX-ne.left-q.left+ee,w.clientY-ne.top-q.top+X);re<3.5&&ge<3.5&&(t=re>ge?"cursor":"anchor"),ge<3.5?t="anchor":re<3.5?t="cursor":t="scroll",s=setTimeout(S,450)}e=F},a),l.addListener(o,"touchend",function(w){m=a.$mouseHandler.isMousePressed=!1,c&&clearInterval(c),t=="zoom"?(t="",f=0):s?(a.selection.moveToPosition(p),f=0,E()):t=="scroll"?(A(),C()):E(),clearTimeout(s),s=null},a),l.addListener(o,"touchmove",function(w){s&&(clearTimeout(s),s=null);var M=w.touches;if(!(M.length>1||t=="zoom")){var R=M[0],O=n-R.clientX,F=r-R.clientY;if(t=="wait")if(O*O+F*F>4)t="cursor";else return w.preventDefault();n=R.clientX,r=R.clientY,w.clientX=R.clientX,w.clientY=R.clientY;var B=w.timeStamp,N=B-i;if(i=B,t=="scroll"){var _=new g(w,a);_.speed=1,_.wheelX=O,_.wheelY=F,10*Math.abs(O)<Math.abs(F)&&(O=0),10*Math.abs(F)<Math.abs(O)&&(F=0),N!=0&&(y=O/N,v=F/N),a._emit("mousewheel",_),_.propagationStopped||(y=v=0)}else{var G=new g(w,a),H=G.getDocumentPosition();t=="cursor"?a.selection.moveCursorToPosition(H):t=="anchor"&&a.selection.setSelectionAnchor(H.row,H.column),a.renderer.scrollCursorIntoView(H),w.preventDefault()}}},a);function A(){f+=60,c=setInterval(function(){f--<=0&&(clearInterval(c),c=null),Math.abs(y)<.01&&(y=0),Math.abs(v)<.01&&(v=0),f<20&&(y=.9*y),f<20&&(v=.9*v);var w=a.session.getScrollTop();a.renderer.scrollBy(10*y,10*v),w==a.session.getScrollTop()&&(f=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(d,h,b){var g=d("../lib/event"),l=d("../lib/useragent"),u=d("./default_handlers").DefaultHandlers,o=d("./default_gutter_handler").GutterHandler,a=d("./mouse_event").MouseEvent,t=d("./dragdrop_handler").DragdropHandler,n=d("./touch_handler").addTouchListeners,r=d("../config"),e=function(){function i(s){var c=this;this.editor=s,new u(this),new o(this),new t(this);var f=function(y){var v=!document.hasFocus||!document.hasFocus()||!s.isFocused()&&document.activeElement==(s.textInput&&s.textInput.getElement());v&&window.focus(),s.focus(),setTimeout(function(){s.isFocused()||s.focus()})},p=s.renderer.getMouseEventTarget();g.addListener(p,"click",this.onMouseEvent.bind(this,"click"),s),g.addListener(p,"mousemove",this.onMouseMove.bind(this,"mousemove"),s),g.addMultiMouseDownListener([p,s.renderer.scrollBarV&&s.renderer.scrollBarV.inner,s.renderer.scrollBarH&&s.renderer.scrollBarH.inner,s.textInput&&s.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",s),g.addMouseWheelListener(s.container,this.onMouseWheel.bind(this,"mousewheel"),s),n(s.container,s);var k=s.renderer.$gutter;g.addListener(k,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),s),g.addListener(k,"click",this.onMouseEvent.bind(this,"gutterclick"),s),g.addListener(k,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),s),g.addListener(k,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),s),g.addListener(p,"mousedown",f,s),g.addListener(k,"mousedown",f,s),l.isIE&&s.renderer.scrollBarV&&(g.addListener(s.renderer.scrollBarV.element,"mousedown",f,s),g.addListener(s.renderer.scrollBarH.element,"mousedown",f,s)),s.on("mousemove",function(y){if(!(c.state||c.$dragDelay||!c.$dragEnabled)){var v=s.renderer.screenToTextCoordinates(y.x,y.y),m=s.session.selection.getRange(),L=s.renderer;!m.isEmpty()&&m.insideStart(v.row,v.column)?L.setCursorStyle("default"):L.setCursorStyle("")}},s)}return i.prototype.onMouseEvent=function(s,c){!this.editor.session||this.editor._emit(s,new a(c,this.editor))},i.prototype.onMouseMove=function(s,c){var f=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!f||!f.length||this.editor._emit(s,new a(c,this.editor))},i.prototype.onMouseWheel=function(s,c){var f=new a(c,this.editor);f.speed=this.$scrollSpeed*2,f.wheelX=c.wheelX,f.wheelY=c.wheelY,this.editor._emit(s,f)},i.prototype.setState=function(s){this.state=s},i.prototype.captureMouse=function(s,c){this.x=s.x,this.y=s.y,this.isMousePressed=!0;var f=this.editor,p=this.editor.renderer;p.$isMousePressed=!0;var k=this,y=function(E){if(!!E){if(l.isWebKit&&!E.which&&k.releaseMouse)return k.releaseMouse();k.x=E.clientX,k.y=E.clientY,c&&c(E),k.mouseEvent=new a(E,k.editor),k.$mouseMoved=!0}},v=function(E){f.off("beforeEndOperation",L),clearInterval(T),f.session&&m(),k[k.state+"End"]&&k[k.state+"End"](E),k.state="",k.isMousePressed=p.$isMousePressed=!1,p.$keepTextAreaAtCursor&&p.$moveTextAreaToCursor(),k.$onCaptureMouseMove=k.releaseMouse=null,E&&k.onMouseEvent("mouseup",E),f.endOperation()},m=function(){k[k.state]&&k[k.state](),k.$mouseMoved=!1};if(l.isOldIE&&s.domEvent.type=="dblclick")return setTimeout(function(){v(s)});var L=function(E){!k.releaseMouse||f.curOp.command.name&&f.curOp.selectionChanged&&(k[k.state+"End"]&&k[k.state+"End"](),k.state="",k.releaseMouse())};f.on("beforeEndOperation",L),f.startOperation({command:{name:"mouse"}}),k.$onCaptureMouseMove=y,k.releaseMouse=g.capture(this.editor.container,y,v);var T=setInterval(m,20)},i.prototype.cancelContextMenu=function(){var s=function(c){c&&c.domEvent&&c.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",s),c&&c.domEvent&&g.stopEvent(c.domEvent))}.bind(this);setTimeout(s,10),this.editor.on("nativecontextmenu",s)},i.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},i}();e.prototype.releaseMouse=null,r.defineOptions(e.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:l.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),h.MouseHandler=e}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(d,h,b){var g=d("../lib/dom"),l=function(){function u(o){o.on("click",function(a){var t=a.getDocumentPosition(),n=o.session,r=n.getFoldAt(t.row,t.column,1);r&&(a.getAccelKey()?n.removeFold(r):n.expandFold(r),a.stop());var e=a.domEvent&&a.domEvent.target;e&&g.hasCssClass(e,"ace_inline_button")&&g.hasCssClass(e,"ace_toggle_wrap")&&(n.setOption("wrap",!n.getUseWrapMode()),o.renderer.scrollCursorIntoView())}),o.on("gutterclick",function(a){var t=o.renderer.$gutterLayer.getRegion(a);if(t=="foldWidgets"){var n=a.getDocumentPosition().row,r=o.session;r.foldWidgets&&r.foldWidgets[n]&&o.session.onFoldWidgetClick(n,a),o.isFocused()||o.focus(),a.stop()}}),o.on("gutterdblclick",function(a){var t=o.renderer.$gutterLayer.getRegion(a);if(t=="foldWidgets"){var n=a.getDocumentPosition().row,r=o.session,e=r.getParentFoldRangeData(n,!0),i=e.range||e.firstRange;if(i){n=i.start.row;var s=r.getFoldAt(n,r.getLine(n).length,1);s?r.removeFold(s):(r.addFold("...",i),o.renderer.scrollCursorIntoView({row:i.start.row,column:0}))}a.stop()}})}return u}();h.FoldHandler=l}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(d,h,b){var g=d("../lib/keys"),l=d("../lib/event"),u=function(){function o(a){this.$editor=a,this.$data={editor:a},this.$handlers=[],this.setDefaultHandler(a.commands)}return o.prototype.setDefaultHandler=function(a){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=a,this.addKeyboardHandler(a,0)},o.prototype.setKeyboardHandler=function(a){var t=this.$handlers;if(t[t.length-1]!=a){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(a,1)}},o.prototype.addKeyboardHandler=function(a,t){if(!!a){typeof a=="function"&&!a.handleKeyboard&&(a.handleKeyboard=a);var n=this.$handlers.indexOf(a);n!=-1&&this.$handlers.splice(n,1),t==null?this.$handlers.push(a):this.$handlers.splice(t,0,a),n==-1&&a.attach&&a.attach(this.$editor)}},o.prototype.removeKeyboardHandler=function(a){var t=this.$handlers.indexOf(a);return t==-1?!1:(this.$handlers.splice(t,1),a.detach&&a.detach(this.$editor),!0)},o.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},o.prototype.getStatusText=function(){var a=this.$data,t=a.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(t,a)||""}).filter(Boolean).join(" ")},o.prototype.$callKeyboardHandlers=function(a,t,n,r){for(var e,i=!1,s=this.$editor.commands,c=this.$handlers.length;c--&&(e=this.$handlers[c].handleKeyboard(this.$data,a,t,n,r),!(!(!e||!e.command)&&(e.command=="null"?i=!0:i=s.exec(e.command,this.$editor,e.args,r),i&&r&&a!=-1&&e.passEvent!=!0&&e.command.passEvent!=!0&&l.stopEvent(r),i))););return!i&&a==-1&&(e={command:"insertstring"},i=s.exec("insertstring",this.$editor,t)),i&&this.$editor._signal&&this.$editor._signal("keyboardActivity",e),i},o.prototype.onCommandKey=function(a,t,n){var r=g.keyCodeToString(n);return this.$callKeyboardHandlers(t,r,n,a)},o.prototype.onTextInput=function(a){return this.$callKeyboardHandlers(-1,a)},o}();h.KeyBinding=u}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(d,h,b){var g=0,l=0,u=!1,o=!1,a=!1,t=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],n=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],r=0,e=1,i=0,s=1,c=2,f=3,p=4,k=5,y=6,v=7,m=8,L=9,T=10,E=11,C=12,S=13,I=14,A=15,w=16,M=17,R=18,O=[R,R,R,R,R,R,R,R,R,y,k,y,m,k,R,R,R,R,R,R,R,R,R,R,R,R,R,R,k,k,k,y,m,p,p,E,E,E,p,p,p,p,p,T,L,T,L,L,c,c,c,c,c,c,c,c,c,c,L,p,p,p,p,p,p,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,p,p,p,p,p,p,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,p,p,p,p,R,R,R,R,R,R,k,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,L,p,E,E,E,E,p,p,p,p,i,p,p,R,p,p,E,E,c,c,p,i,p,p,p,c,i,p,p,p,p,p],F=[m,m,m,m,m,m,m,m,m,m,m,R,R,R,i,s,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,m,k,S,I,A,w,M,L,E,E,E,E,E,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,L,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,m];function B(H,z,j,q){var ne=g?n:t,X=null,ee=null,ae=null,re=0,ge=null,xe=null,Ee=-1,Re=null,_e=null,ct=[];if(!q)for(Re=0,q=[];Re<j;Re++)q[Re]=G(H[Re]);for(l=g,u=!1,o=!1,a=!1,_e=0;_e<j;_e++){if(X=re,ct[_e]=ee=_(H,q,ct,_e),re=ne[X][ee],ge=re&240,re&=15,z[_e]=ae=ne[re][5],ge>0)if(ge==16){for(Re=Ee;Re<_e;Re++)z[Re]=1;Ee=-1}else Ee=-1;if(xe=ne[re][6],xe)Ee==-1&&(Ee=_e);else if(Ee>-1){for(Re=Ee;Re<_e;Re++)z[Re]=ae;Ee=-1}q[_e]==k&&(z[_e]=0),l|=ae}if(a){for(Re=0;Re<j;Re++)if(q[Re]==y){z[Re]=g;for(var mt=Re-1;mt>=0&&q[mt]==m;mt--)z[mt]=g}}}function N(H,z,j){if(!(l<H)){if(H==1&&g==e&&!o){j.reverse();return}for(var q=j.length,ne=0,X,ee,ae,re;ne<q;){if(z[ne]>=H){for(X=ne+1;X<q&&z[X]>=H;)X++;for(ee=ne,ae=X-1;ee<ae;ee++,ae--)re=j[ee],j[ee]=j[ae],j[ae]=re;ne=X}ne++}}}function _(H,z,j,q){var ne=z[q],X,ee,ae,re;switch(ne){case i:case s:u=!1;case p:case f:return ne;case c:return u?f:c;case v:return u=!0,s;case m:return p;case L:return q<1||q+1>=z.length||(X=j[q-1])!=c&&X!=f||(ee=z[q+1])!=c&&ee!=f?p:(u&&(ee=f),ee==X?ee:p);case T:return X=q>0?j[q-1]:k,X==c&&q+1<z.length&&z[q+1]==c?c:p;case E:if(q>0&&j[q-1]==c)return c;if(u)return p;for(re=q+1,ae=z.length;re<ae&&z[re]==E;)re++;return re<ae&&z[re]==c?c:p;case C:for(ae=z.length,re=q+1;re<ae&&z[re]==C;)re++;if(re<ae){var ge=H[q],xe=ge>=1425&&ge<=2303||ge==64286;if(X=z[re],xe&&(X==s||X==v))return s}return q<1||(X=z[q-1])==k?p:j[q-1];case k:return u=!1,o=!0,g;case y:return a=!0,p;case S:case I:case w:case M:case A:u=!1;case R:return p}}function G(H){var z=H.charCodeAt(0),j=z>>8;return j==0?z>191?i:O[z]:j==5?/[\u0591-\u05f4]/.test(H)?s:i:j==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(H)?C:/[\u0660-\u0669\u066b-\u066c]/.test(H)?f:z==1642?E:/[\u06f0-\u06f9]/.test(H)?c:v:j==32&&z<=8287?F[z&255]:j==254&&z>=65136?v:p}h.L=i,h.R=s,h.EN=c,h.ON_R=3,h.AN=4,h.R_H=5,h.B=6,h.RLE=7,h.DOT="\xB7",h.doBidiReorder=function(H,z,j){if(H.length<2)return{};var q=H.split(""),ne=new Array(q.length),X=new Array(q.length),ee=[];g=j?e:r,B(q,ee,q.length,z);for(var ae=0;ae<ne.length;ne[ae]=ae,ae++);N(2,ee,ne),N(1,ee,ne);for(var ae=0;ae<ne.length-1;ae++)z[ae]===f?ee[ae]=h.AN:ee[ae]===s&&(z[ae]>v&&z[ae]<S||z[ae]===p||z[ae]===R)?ee[ae]=h.ON_R:ae>0&&q[ae-1]==="\u0644"&&/\u0622|\u0623|\u0625|\u0627/.test(q[ae])&&(ee[ae-1]=ee[ae]=h.R_H,ae++);q[q.length-1]===h.DOT&&(ee[q.length-1]=h.B),q[0]==="\u202B"&&(ee[0]=h.RLE);for(var ae=0;ae<ne.length;ae++)X[ae]=ee[ne[ae]];return{logicalFromVisual:ne,bidiLevels:X}},h.hasBidiCharacters=function(H,z){for(var j=!1,q=0;q<H.length;q++)z[q]=G(H.charAt(q)),!j&&(z[q]==s||z[q]==v||z[q]==f)&&(j=!0);return j},h.getVisualFromLogicalIdx=function(H,z){for(var j=0;j<z.logicalFromVisual.length;j++)if(z.logicalFromVisual[j]==H)return j;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(d,h,b){var g=d("./lib/bidiutil"),l=d("./lib/lang"),u=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,o=function(){function a(t){this.session=t,this.bidiMap={},this.currentRow=null,this.bidiUtil=g,this.charWidths=[],this.EOL="\xAC",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xB6",this.RLE="\u202B",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=u.test(t.getValue())}return a.prototype.isBidiRow=function(t,n,r){return this.seenBidi?(t!==this.currentRow&&(this.currentRow=t,this.updateRowLine(n,r),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},a.prototype.onChange=function(t){this.seenBidi?this.currentRow=null:t.action=="insert"&&u.test(t.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},a.prototype.getDocumentRow=function(){var t=0,n=this.session.$screenRowCache;if(n.length){var r=this.session.$getRowCacheIndex(n,this.currentRow);r>=0&&(t=this.session.$docRowCache[r])}return t},a.prototype.getSplitIndex=function(){var t=0,n=this.session.$screenRowCache;if(n.length)for(var r,e=this.session.$getRowCacheIndex(n,this.currentRow);this.currentRow-t>0&&(r=this.session.$getRowCacheIndex(n,this.currentRow-t-1),r===e);)e=r,t++;else t=this.currentRow;return t},a.prototype.updateRowLine=function(t,n){t===void 0&&(t=this.getDocumentRow());var r=t===this.session.getLength()-1,e=r?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(t),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var i=this.session.$wrapData[t];i&&(n===void 0&&(n=this.getSplitIndex()),n>0&&i.length?(this.wrapIndent=i.indent,this.wrapOffset=this.wrapIndent*this.charWidths[g.L],this.line=n<i.length?this.line.substring(i[n-1],i[n]):this.line.substring(i[i.length-1])):this.line=this.line.substring(0,i[n]),n==i.length&&(this.line+=this.showInvisibles?e:g.DOT))}else this.line+=this.showInvisibles?e:g.DOT;var s=this.session,c=0,f;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(p,k){return p==="	"||s.isFullWidth(p.charCodeAt(0))?(f=p==="	"?s.getScreenTabSize(k+c):2,c+=f-1,l.stringRepeat(g.DOT,f)):p}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==g.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},a.prototype.updateBidiMap=function(){var t=[];g.hasBidiCharacters(this.line,t)||this.isRtlDir?this.bidiMap=g.doBidiReorder(this.line,t,this.isRtlDir):this.bidiMap={}},a.prototype.markAsDirty=function(){this.currentRow=null},a.prototype.updateCharacterWidths=function(t){if(this.characterWidth!==t.$characterSize.width){this.fontMetrics=t;var n=this.characterWidth=t.$characterSize.width,r=t.$measureCharWidth("\u05D4");this.charWidths[g.L]=this.charWidths[g.EN]=this.charWidths[g.ON_R]=n,this.charWidths[g.R]=this.charWidths[g.AN]=r,this.charWidths[g.R_H]=r*.45,this.charWidths[g.B]=this.charWidths[g.RLE]=0,this.currentRow=null}},a.prototype.setShowInvisibles=function(t){this.showInvisibles=t,this.currentRow=null},a.prototype.setEolChar=function(t){this.EOL=t},a.prototype.setContentWidth=function(t){this.contentWidth=t},a.prototype.isRtlLine=function(t){return this.$isRtl?!0:t!=null?this.session.getLine(t).charAt(0)==this.RLE:this.isRtlDir},a.prototype.setRtlDirection=function(t,n){for(var r=t.getCursorPosition(),e=t.selection.getSelectionAnchor().row;e<=r.row;e++)!n&&t.session.getLine(e).charAt(0)===t.session.$bidiHandler.RLE?t.session.doc.removeInLine(e,0,1):n&&t.session.getLine(e).charAt(0)!==t.session.$bidiHandler.RLE&&t.session.doc.insert({column:0,row:e},t.session.$bidiHandler.RLE)},a.prototype.getPosLeft=function(t){t-=this.wrapIndent;var n=this.line.charAt(0)===this.RLE?1:0,r=t>n?this.session.getOverwrite()?t:t-1:n,e=g.getVisualFromLogicalIdx(r,this.bidiMap),i=this.bidiMap.bidiLevels,s=0;!this.session.getOverwrite()&&t<=n&&i[e]%2!==0&&e++;for(var c=0;c<e;c++)s+=this.charWidths[i[c]];return!this.session.getOverwrite()&&t>n&&i[e]%2===0&&(s+=this.charWidths[i[e]]),this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(s+=this.rtlLineOffset),s},a.prototype.getSelections=function(t,n){var r=this.bidiMap,e=r.bidiLevels,i,s=[],c=0,f=Math.min(t,n)-this.wrapIndent,p=Math.max(t,n)-this.wrapIndent,k=!1,y=!1,v=0;this.wrapIndent&&(c+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var m,L=0;L<e.length;L++)m=r.logicalFromVisual[L],i=e[L],k=m>=f&&m<p,k&&!y?v=c:!k&&y&&s.push({left:v,width:c-v}),c+=this.charWidths[i],y=k;if(k&&L===e.length&&s.push({left:v,width:c-v}),this.isRtlDir)for(var T=0;T<s.length;T++)s[T].left+=this.rtlLineOffset;return s},a.prototype.offsetToCol=function(r){this.isRtlDir&&(r-=this.rtlLineOffset);var n=0,r=Math.max(r,0),e=0,i=0,s=this.bidiMap.bidiLevels,c=this.charWidths[s[i]];for(this.wrapIndent&&(r-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);r>e+c/2;){if(e+=c,i===s.length-1){c=0;break}c=this.charWidths[s[++i]]}return i>0&&s[i-1]%2!==0&&s[i]%2===0?(r<e&&i--,n=this.bidiMap.logicalFromVisual[i]):i>0&&s[i-1]%2===0&&s[i]%2!==0?n=1+(r>e?this.bidiMap.logicalFromVisual[i]:this.bidiMap.logicalFromVisual[i-1]):this.isRtlDir&&i===s.length-1&&c===0&&s[i-1]%2===0||!this.isRtlDir&&i===0&&s[i]%2!==0?n=1+this.bidiMap.logicalFromVisual[i]:(i>0&&s[i-1]%2!==0&&c!==0&&i--,n=this.bidiMap.logicalFromVisual[i]),n===0&&this.isRtlDir&&n++,n+this.wrapIndent},a}();h.BidiHandler=o}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(d,h,b){var g=d("./lib/oop"),l=d("./lib/lang"),u=d("./lib/event_emitter").EventEmitter,o=d("./range").Range,a=function(t){this.session=t,this.doc=t.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var n=this;this.cursor.on("change",function(r){n.$cursorChanged=!0,n.$silent||n._emit("changeCursor"),!n.$isEmpty&&!n.$silent&&n._emit("changeSelection"),!n.$keepDesiredColumnOnChange&&r.old.column!=r.value.column&&(n.$desiredColumn=null)}),this.anchor.on("change",function(){n.$anchorChanged=!0,!n.$isEmpty&&!n.$silent&&n._emit("changeSelection")})};(function(){g.implement(this,u),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setAnchor=function(t,n){this.$isEmpty=!1,this.anchor.setPosition(t,n)},this.setSelectionAnchor=this.setAnchor,this.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionAnchor=this.getAnchor,this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var t=this.anchor,n=this.lead;return t.row>n.row||t.row==n.row&&t.column>n.column},this.getRange=function(){var t=this.anchor,n=this.lead;return this.$isEmpty?o.fromPoints(n,n):this.isBackwards()?o.fromPoints(n,t):o.fromPoints(t,n)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(t,n){var r=n?t.end:t.start,e=n?t.start:t.end;this.$setSelection(r.row,r.column,e.row,e.column)},this.$setSelection=function(t,n,r,e){if(!this.$silent){var i=this.$isEmpty,s=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(t,n),this.cursor.setPosition(r,e),this.$isEmpty=!o.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||i!=this.$isEmpty||s)&&this._emit("changeSelection")}},this.$moveSelection=function(t){var n=this.lead;this.$isEmpty&&this.setSelectionAnchor(n.row,n.column),t.call(this)},this.selectTo=function(t,n){this.$moveSelection(function(){this.moveCursorTo(t,n)})},this.selectToPosition=function(t){this.$moveSelection(function(){this.moveCursorToPosition(t)})},this.moveTo=function(t,n){this.clearSelection(),this.moveCursorTo(t,n)},this.moveToPosition=function(t){this.clearSelection(),this.moveCursorToPosition(t)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(t,n){if(typeof n=="undefined"){var r=t||this.lead;t=r.row,n=r.column}return this.session.getWordRange(t,n)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var t=this.getCursor(),n=this.session.getAWordRange(t.row,t.column);this.setSelectionRange(n)},this.getLineRange=function(t,n){var r=typeof t=="number"?t:this.lead.row,e,i=this.session.getFoldLine(r);return i?(r=i.start.row,e=i.end.row):e=r,n===!0?new o(r,0,e,this.session.getLine(e).length):new o(r,0,e+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(t,n,r){var e=t.column,i=t.column+n;return r<0&&(e=t.column-n,i=t.column),this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(e,i).split(" ").length-1==n},this.moveCursorLeft=function(){var t=this.lead.getPosition(),n;if(n=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(n.start.row,n.start.column);else if(t.column===0)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var r=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,r,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-r):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var t=this.lead.getPosition(),n;if(n=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(n.end.row,n.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var r=this.session.getTabSize(),t=this.lead;this.wouldMoveIntoSoftTab(t,r,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,r):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var t=this.lead.row,n=this.lead.column,r=this.session.documentToScreenRow(t,n),e=this.session.screenToDocumentPosition(r,0),i=this.session.getDisplayLine(t,null,e.row,e.column),s=i.match(/^\s*/);s[0].length!=n&&!this.session.$useEmacsStyleLineStart&&(e.column+=s[0].length),this.moveCursorToPosition(e)},this.moveCursorLineEnd=function(){var t=this.lead,n=this.session.getDocumentLastRowColumnPosition(t.row,t.column);if(this.lead.column==n.column){var r=this.session.getLine(n.row);if(n.column==r.length){var e=r.search(/\s+$/);e>0&&(n.column=e)}}this.moveCursorTo(n.row,n.column)},this.moveCursorFileEnd=function(){var t=this.doc.getLength()-1,n=this.doc.getLine(t).length;this.moveCursorTo(t,n)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var t=this.lead.row,n=this.lead.column,r=this.doc.getLine(t),e=r.substring(n);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var i=this.session.getFoldAt(t,n,1);if(i){this.moveCursorTo(i.end.row,i.end.column);return}if(this.session.nonTokenRe.exec(e)&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,e=r.substring(n)),n>=r.length){this.moveCursorTo(t,r.length),this.moveCursorRight(),t<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(e)&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)},this.moveCursorLongWordLeft=function(){var t=this.lead.row,n=this.lead.column,r;if(r=this.session.getFoldAt(t,n,-1)){this.moveCursorTo(r.start.row,r.start.column);return}var e=this.session.getFoldStringAt(t,n,-1);e==null&&(e=this.doc.getLine(t).substring(0,n));var i=l.stringReverse(e);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(i)&&(n-=this.session.nonTokenRe.lastIndex,i=i.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0){this.moveCursorTo(t,0),this.moveCursorLeft(),t>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(i)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)},this.$shortWordEndIndex=function(t){var n=0,r,e=/\s/,i=this.session.tokenRe;if(i.lastIndex=0,this.session.tokenRe.exec(t))n=this.session.tokenRe.lastIndex;else{for(;(r=t[n])&&e.test(r);)n++;if(n<1){for(i.lastIndex=0;(r=t[n])&&!i.test(r);)if(i.lastIndex=0,n++,e.test(r))if(n>2){n--;break}else{for(;(r=t[n])&&e.test(r);)n++;if(n>2)break}}}return i.lastIndex=0,n},this.moveCursorShortWordRight=function(){var t=this.lead.row,n=this.lead.column,r=this.doc.getLine(t),e=r.substring(n),i=this.session.getFoldAt(t,n,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(n==r.length){var s=this.doc.getLength();do t++,e=this.doc.getLine(t);while(t<s&&/^\s*$/.test(e));/^\s+/.test(e)||(e=""),n=0}var c=this.$shortWordEndIndex(e);this.moveCursorTo(t,n+c)},this.moveCursorShortWordLeft=function(){var t=this.lead.row,n=this.lead.column,r;if(r=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(r.start.row,r.start.column);var e=this.session.getLine(t).substring(0,n);if(n===0){do t--,e=this.doc.getLine(t);while(t>0&&/^\s*$/.test(e));n=e.length,/\s+$/.test(e)||(e="")}var i=l.stringReverse(e),s=this.$shortWordEndIndex(i);return this.moveCursorTo(t,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(t,n){var r=this.session.documentToScreenPosition(this.lead.row,this.lead.column),e;if(n===0&&(t!==0&&(this.session.$bidiHandler.isBidiRow(r.row,this.lead.row)?(e=this.session.$bidiHandler.getPosLeft(r.column),r.column=Math.round(e/this.session.$bidiHandler.charWidths[0])):e=r.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?r.column=this.$desiredColumn:this.$desiredColumn=r.column),t!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var i=this.session.lineWidgets[this.lead.row];t<0?t-=i.rowsAbove||0:t>0&&(t+=i.rowCount-(i.rowsAbove||0))}var s=this.session.screenToDocumentPosition(r.row+t,r.column,e);t!==0&&n===0&&s.row===this.lead.row&&(s.column,this.lead.column),this.moveCursorTo(s.row,s.column+n,n===0)},this.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},this.moveCursorTo=function(t,n,r){var e=this.session.getFoldAt(t,n,1);e&&(t=e.start.row,n=e.start.column),this.$keepDesiredColumnOnChange=!0;var i=this.session.getLine(t);/[\uDC00-\uDFFF]/.test(i.charAt(n))&&i.charAt(n-1)&&(this.lead.row==t&&this.lead.column==n+1?n=n-1:n=n+1),this.lead.setPosition(t,n),this.$keepDesiredColumnOnChange=!1,r||(this.$desiredColumn=null)},this.moveCursorToScreen=function(t,n,r){var e=this.session.screenToDocumentPosition(t,n);this.moveCursorTo(e.row,e.column,r)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(t){var n=this.getRange();return t?(t.start.column=n.start.column,t.start.row=n.start.row,t.end.column=n.end.column,t.end.row=n.end.row):t=n,t.cursor=this.isBackwards()?t.start:t.end,t.desiredColumn=this.$desiredColumn,t},this.getRangeOfMovements=function(t){var n=this.getCursor();try{t(this);var r=this.getCursor();return o.fromPoints(n,r)}catch(e){return o.fromPoints(n,n)}finally{this.moveCursorToPosition(n)}},this.toJSON=function(){if(this.rangeCount)var t=this.ranges.map(function(n){var r=n.clone();return r.isBackwards=n.cursor==n.start,r});else{var t=this.getRange();t.isBackwards=this.isBackwards()}return t},this.fromJSON=function(t){if(t.start==null)if(this.rangeList&&t.length>1){this.toSingleRange(t[0]);for(var n=t.length;n--;){var r=o.fromPoints(t[n].start,t[n].end);t[n].isBackwards&&(r.cursor=r.start),this.addRange(r,!0)}return}else t=t[0];this.rangeList&&this.toSingleRange(t),this.setSelectionRange(t,t.isBackwards)},this.isEqual=function(t){if((t.length||this.rangeCount)&&t.length!=this.rangeCount)return!1;if(!t.length||!this.ranges)return this.getRange().isEqual(t);for(var n=this.ranges.length;n--;)if(!this.ranges[n].isEqual(t[n]))return!1;return!0}}).call(a.prototype),h.Selection=a}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(d,h,b){var g=d("./config"),l=2e3,u=function(){function o(a){this.states=a,this.regExps={},this.matchMappings={};for(var t in this.states){for(var n=this.states[t],r=[],e=0,i=this.matchMappings[t]={defaultToken:"text"},s="g",c=[],f=0;f<n.length;f++){var p=n[f];if(p.defaultToken&&(i.defaultToken=p.defaultToken),p.caseInsensitive&&s.indexOf("i")===-1&&(s+="i"),p.unicode&&s.indexOf("u")===-1&&(s+="u"),p.regex!=null){p.regex instanceof RegExp&&(p.regex=p.regex.toString().slice(1,-1));var k=p.regex,y=new RegExp("(?:("+k+")|(.))").exec("a").length-2;Array.isArray(p.token)?p.token.length==1||y==1?p.token=p.token[0]:y-1!=p.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:p,groupCount:y-1}),p.token=p.token[0]):(p.tokenArray=p.token,p.token=null,p.onMatch=this.$arrayTokens):typeof p.token=="function"&&!p.onMatch&&(y>1?p.onMatch=this.$applyToken:p.onMatch=p.token),y>1&&(/\\\d/.test(p.regex)?k=p.regex.replace(/\\([0-9]+)/g,function(v,m){return"\\"+(parseInt(m,10)+e+1)}):(y=1,k=this.removeCapturingGroups(p.regex)),!p.splitRegex&&typeof p.token!="string"&&c.push(p)),i[e]=f,e+=y,r.push(k),p.onMatch||(p.onMatch=null)}}r.length||(i[0]=0,r.push("$")),c.forEach(function(v){v.splitRegex=this.createSplitterRegexp(v.regex,s)},this),this.regExps[t]=new RegExp("("+r.join(")|(")+")|($)",s)}}return o.prototype.$setMaxTokenCount=function(a){l=a|0},o.prototype.$applyToken=function(a){var t=this.splitRegex.exec(a).slice(1),n=this.token.apply(this,t);if(typeof n=="string")return[{type:n,value:a}];for(var r=[],e=0,i=n.length;e<i;e++)t[e]&&(r[r.length]={type:n[e],value:t[e]});return r},o.prototype.$arrayTokens=function(a){if(!a)return[];var t=this.splitRegex.exec(a);if(!t)return"text";for(var n=[],r=this.tokenArray,e=0,i=r.length;e<i;e++)t[e+1]&&(n[n.length]={type:r[e],value:t[e+1]});return n},o.prototype.removeCapturingGroups=function(a){var t=a.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(n,r){return r?"(?:":n});return t},o.prototype.createSplitterRegexp=function(a,t){if(a.indexOf("(?=")!=-1){var n=0,r=!1,e={};a.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(i,s,c,f,p,k){return r?r=p!="]":p?r=!0:f?(n==e.stack&&(e.end=k+1,e.stack=-1),n--):c&&(n++,c.length!=1&&(e.stack=n,e.start=k)),i}),e.end!=null&&/^\)*$/.test(a.substr(e.end))&&(a=a.substring(0,e.start)+a.substr(e.end))}return a.charAt(0)!="^"&&(a="^"+a),a.charAt(a.length-1)!="$"&&(a+="$"),new RegExp(a,(t||"").replace("g",""))},o.prototype.getLineTokens=function(a,t){if(t&&typeof t!="string"){var n=t.slice(0);t=n[0],t==="#tmp"&&(n.shift(),t=n.shift())}else var n=[];var r=t||"start",e=this.states[r];e||(r="start",e=this.states[r]);var i=this.matchMappings[r],s=this.regExps[r];s.lastIndex=0;for(var c,f=[],p=0,k=0,y={type:null,value:""};c=s.exec(a);){var v=i.defaultToken,m=null,L=c[0],T=s.lastIndex;if(T-L.length>p){var E=a.substring(p,T-L.length);y.type==v?y.value+=E:(y.type&&f.push(y),y={type:v,value:E})}for(var C=0;C<c.length-2;C++)if(c[C+1]!==void 0){m=e[i[C]],m.onMatch?v=m.onMatch(L,r,n,a):v=m.token,m.next&&(typeof m.next=="string"?r=m.next:r=m.next(r,n),e=this.states[r],e||(this.reportError("state doesn't exist",r),r="start",e=this.states[r]),i=this.matchMappings[r],p=T,s=this.regExps[r],s.lastIndex=T),m.consumeLineEnd&&(p=T);break}if(L){if(typeof v=="string")(!m||m.merge!==!1)&&y.type===v?y.value+=L:(y.type&&f.push(y),y={type:v,value:L});else if(v){y.type&&f.push(y),y={type:null,value:""};for(var C=0;C<v.length;C++)f.push(v[C])}}if(p==a.length)break;if(p=T,k++>l){for(k>2*a.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:a});p<a.length;)y.type&&f.push(y),y={value:a.substring(p,p+=500),type:"overflow"};r="start",n=[];break}}return y.type&&f.push(y),n.length>1&&n[0]!==r&&n.unshift("#tmp",r),{tokens:f,state:n.length?n:r}},o}();u.prototype.reportError=g.reportError,h.Tokenizer=u}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(d,h,b){var g=d("../lib/lang"),l=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(a,t){if(!t){for(var n in a)this.$rules[n]=a[n];return}for(var n in a){for(var r=a[n],e=0;e<r.length;e++){var i=r[e];(i.next||i.onMatch)&&(typeof i.next=="string"&&i.next.indexOf(t)!==0&&(i.next=t+i.next),i.nextState&&i.nextState.indexOf(t)!==0&&(i.nextState=t+i.nextState))}this.$rules[t+n]=r}},this.getRules=function(){return this.$rules},this.embedRules=function(a,t,n,r,e){var i=typeof a=="function"?new a().getRules():a;if(r)for(var s=0;s<r.length;s++)r[s]=t+r[s];else{r=[];for(var c in i)r.push(t+c)}if(this.addRules(i,t),n)for(var f=Array.prototype[e?"push":"unshift"],s=0;s<r.length;s++)f.apply(this.$rules[r[s]],g.deepCopy(n));this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var u=function(a,t){return(a!="start"||t.length)&&t.unshift(this.nextState,a),this.nextState},o=function(a,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var a=0,t=this.$rules;function n(r){var e=t[r];e.processed=!0;for(var i=0;i<e.length;i++){var s=e[i],c=null;Array.isArray(s)&&(c=s,s={}),!s.regex&&s.start&&(s.regex=s.start,s.next||(s.next=[]),s.next.push({defaultToken:s.token},{token:s.token+".end",regex:s.end||s.start,next:"pop"}),s.token=s.token+".start",s.push=!0);var f=s.next||s.push;if(f&&Array.isArray(f)){var p=s.stateName;p||(p=s.token,typeof p!="string"&&(p=p[0]||""),t[p]&&(p+=a++)),t[p]=f,s.next=p,n(p)}else f=="pop"&&(s.next=o);if(s.push&&(s.nextState=s.next||s.push,s.next=u,delete s.push),s.rules)for(var k in s.rules)t[k]?t[k].push&&t[k].push.apply(t[k],s.rules[k]):t[k]=s.rules[k];var y=typeof s=="string"?s:s.include;if(y&&(y==="$self"&&(y="start"),Array.isArray(y)?c=y.map(function(m){return t[m]}):c=t[y]),c){var v=[i,1].concat(c);s.noEscape&&(v=v.filter(function(m){return!m.next})),e.splice.apply(e,v),i--}s.keywordMap&&(s.token=this.createKeywordMapper(s.keywordMap,s.defaultToken||"text",s.caseInsensitive),delete s.defaultToken)}}Object.keys(t).forEach(n,this)},this.createKeywordMapper=function(a,t,n,r){var e=Object.create(null);return this.$keywordList=[],Object.keys(a).forEach(function(i){for(var s=a[i],c=s.split(r||"|"),f=c.length;f--;){var p=c[f];this.$keywordList.push(p),n&&(p=p.toLowerCase()),e[p]=i}},this),a=null,n?function(i){return e[i.toLowerCase()]||t}:function(i){return e[i]||t}},this.getKeywords=function(){return this.$keywords}}).call(l.prototype),h.TextHighlightRules=l}),ace.define("ace/mode/behaviour",["require","exports","module"],function(d,h,b){var g=function(){this.$behaviours={}};(function(){this.add=function(l,u,o){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[l]:this.$behaviours[l]={}}this.$behaviours[l][u]=o},this.addBehaviours=function(l){for(var u in l)for(var o in l[u])this.add(u,o,l[u][o])},this.remove=function(l){this.$behaviours&&this.$behaviours[l]&&delete this.$behaviours[l]},this.inherit=function(l,u){if(typeof l=="function")var o=new l().getBehaviours(u);else var o=l.getBehaviours(u);this.addBehaviours(o)},this.getBehaviours=function(l){if(l){for(var u={},o=0;o<l.length;o++)this.$behaviours[l[o]]&&(u[l[o]]=this.$behaviours[l[o]]);return u}else return this.$behaviours}}).call(g.prototype),h.Behaviour=g}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(d,h,b){var g=d("./range").Range,l=function(){function u(o,a,t){this.$session=o,this.$row=a,this.$rowTokens=o.getTokens(a);var n=o.getTokenAt(a,t);this.$tokenIndex=n?n.index:-1}return u.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},u.prototype.stepForward=function(){this.$tokenIndex+=1;for(var o;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,o||(o=this.$session.getLength()),this.$row>=o)return this.$row=o-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},u.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},u.prototype.getCurrentTokenRow=function(){return this.$row},u.prototype.getCurrentTokenColumn=function(){var o=this.$rowTokens,a=this.$tokenIndex,t=o[a].start;if(t!==void 0)return t;for(t=0;a>0;)a-=1,t+=o[a].value.length;return t},u.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},u.prototype.getCurrentTokenRange=function(){var o=this.$rowTokens[this.$tokenIndex],a=this.getCurrentTokenColumn();return new g(this.$row,a,this.$row,a+o.value.length)},u}();h.TokenIterator=l}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(d,h,b){var g=d("../../lib/oop"),l=d("../behaviour").Behaviour,u=d("../../token_iterator").TokenIterator,o=d("../../lib/lang"),a=["text","paren.rparen","rparen","paren","punctuation.operator"],t=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],n,r={},e={'"':'"',"'":"'"},i=function(f){var p=-1;if(f.multiSelect&&(p=f.selection.index,r.rangeCount!=f.multiSelect.rangeCount&&(r={rangeCount:f.multiSelect.rangeCount})),r[p])return n=r[p];n=r[p]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},s=function(f,p,k,y){var v=f.end.row-f.start.row;return{text:k+p+y,selection:[0,f.start.column+1,v,f.end.column+(v?0:1)]}},c=function(f){f=f||{},this.add("braces","insertion",function(p,k,y,v,m){var L=y.getCursorPosition(),T=v.doc.getLine(L.row);if(m=="{"){i(y);var E=y.getSelectionRange(),C=v.doc.getTextRange(E);if(C!==""&&C!=="{"&&y.getWrapBehavioursEnabled())return s(E,C,"{","}");if(c.isSaneInsertion(y,v))return/[\]\}\)]/.test(T[L.column])||y.inMultiSelectMode||f.braces?(c.recordAutoInsert(y,v,"}"),{text:"{}",selection:[1,1]}):(c.recordMaybeInsert(y,v,"{"),{text:"{",selection:[1,1]})}else if(m=="}"){i(y);var S=T.substring(L.column,L.column+1);if(S=="}"){var I=v.$findOpeningBracket("}",{column:L.column+1,row:L.row});if(I!==null&&c.isAutoInsertedClosing(L,T,m))return c.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(m==`
`||m==`\r
`){i(y);var A="";c.isMaybeInsertedClosing(L,T)&&(A=o.stringRepeat("}",n.maybeInsertedBrackets),c.clearMaybeInsertedClosing());var S=T.substring(L.column,L.column+1);if(S==="}"){var w=v.findMatchingBracket({row:L.row,column:L.column+1},"}");if(!w)return null;var M=this.$getIndent(v.getLine(w.row))}else if(A)var M=this.$getIndent(T);else{c.clearMaybeInsertedClosing();return}var R=M+v.getTabString();return{text:`
`+R+`
`+M+A,selection:[1,R.length,1,R.length]}}else c.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(p,k,y,v,m){var L=v.doc.getTextRange(m);if(!m.isMultiLine()&&L=="{"){i(y);var T=v.doc.getLine(m.start.row),E=T.substring(m.end.column,m.end.column+1);if(E=="}")return m.end.column++,m;n.maybeInsertedBrackets--}}),this.add("parens","insertion",function(p,k,y,v,m){if(m=="("){i(y);var L=y.getSelectionRange(),T=v.doc.getTextRange(L);if(T!==""&&y.getWrapBehavioursEnabled())return s(L,T,"(",")");if(c.isSaneInsertion(y,v))return c.recordAutoInsert(y,v,")"),{text:"()",selection:[1,1]}}else if(m==")"){i(y);var E=y.getCursorPosition(),C=v.doc.getLine(E.row),S=C.substring(E.column,E.column+1);if(S==")"){var I=v.$findOpeningBracket(")",{column:E.column+1,row:E.row});if(I!==null&&c.isAutoInsertedClosing(E,C,m))return c.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(p,k,y,v,m){var L=v.doc.getTextRange(m);if(!m.isMultiLine()&&L=="("){i(y);var T=v.doc.getLine(m.start.row),E=T.substring(m.start.column+1,m.start.column+2);if(E==")")return m.end.column++,m}}),this.add("brackets","insertion",function(p,k,y,v,m){if(m=="["){i(y);var L=y.getSelectionRange(),T=v.doc.getTextRange(L);if(T!==""&&y.getWrapBehavioursEnabled())return s(L,T,"[","]");if(c.isSaneInsertion(y,v))return c.recordAutoInsert(y,v,"]"),{text:"[]",selection:[1,1]}}else if(m=="]"){i(y);var E=y.getCursorPosition(),C=v.doc.getLine(E.row),S=C.substring(E.column,E.column+1);if(S=="]"){var I=v.$findOpeningBracket("]",{column:E.column+1,row:E.row});if(I!==null&&c.isAutoInsertedClosing(E,C,m))return c.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(p,k,y,v,m){var L=v.doc.getTextRange(m);if(!m.isMultiLine()&&L=="["){i(y);var T=v.doc.getLine(m.start.row),E=T.substring(m.start.column+1,m.start.column+2);if(E=="]")return m.end.column++,m}}),this.add("string_dquotes","insertion",function(p,k,y,v,m){var L=v.$mode.$quotes||e;if(m.length==1&&L[m]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(m)!=-1)return;i(y);var T=m,E=y.getSelectionRange(),C=v.doc.getTextRange(E);if(C!==""&&(C.length!=1||!L[C])&&y.getWrapBehavioursEnabled())return s(E,C,T,T);if(!C){var S=y.getCursorPosition(),I=v.doc.getLine(S.row),A=I.substring(S.column-1,S.column),w=I.substring(S.column,S.column+1),M=v.getTokenAt(S.row,S.column),R=v.getTokenAt(S.row,S.column+1);if(A=="\\"&&M&&/escape/.test(M.type))return null;var O=M&&/string|escape/.test(M.type),F=!R||/string|escape/.test(R.type),B;if(w==T)B=O!==F,B&&/string\.end/.test(R.type)&&(B=!1);else{if(O&&!F||O&&F)return null;var N=v.$mode.tokenRe;N.lastIndex=0;var _=N.test(A);N.lastIndex=0;var G=N.test(w),H=v.$mode.$pairQuotesAfter,z=H&&H[T]&&H[T].test(A);if(!z&&_||G||w&&!/[\s;,.})\]\\]/.test(w))return null;var j=I[S.column-2];if(A==T&&(j==T||N.test(j)))return null;B=!0}return{text:B?T+T:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(p,k,y,v,m){var L=v.$mode.$quotes||e,T=v.doc.getTextRange(m);if(!m.isMultiLine()&&L.hasOwnProperty(T)){i(y);var E=v.doc.getLine(m.start.row),C=E.substring(m.start.column+1,m.start.column+2);if(C==T)return m.end.column++,m}}),f.closeDocComment!==!1&&this.add("doc comment end","insertion",function(p,k,y,v,m){if(p==="doc-start"&&(m===`
`||m===`\r
`)&&y.selection.isEmpty()){var L=y.getCursorPosition(),T=v.doc.getLine(L.row),E=v.doc.getLine(L.row+1),C=this.$getIndent(T);if(/\s*\*/.test(E))return/^\s*\*/.test(T)?{text:m+C+"* ",selection:[1,3+C.length,1,3+C.length]}:{text:m+C+" * ",selection:[1,3+C.length,1,3+C.length]};if(/\/\*\*/.test(T.substring(0,L.column)))return{text:m+C+" * "+m+" "+C+"*/",selection:[1,4+C.length,1,4+C.length]}}})};c.isSaneInsertion=function(f,p){var k=f.getCursorPosition(),y=new u(p,k.row,k.column);if(!this.$matchTokenType(y.getCurrentToken()||"text",a)){if(/[)}\]]/.test(f.session.getLine(k.row)[k.column]))return!0;var v=new u(p,k.row,k.column+1);if(!this.$matchTokenType(v.getCurrentToken()||"text",a))return!1}return y.stepForward(),y.getCurrentTokenRow()!==k.row||this.$matchTokenType(y.getCurrentToken()||"text",t)},c.$matchTokenType=function(f,p){return p.indexOf(f.type||f)>-1},c.recordAutoInsert=function(f,p,k){var y=f.getCursorPosition(),v=p.doc.getLine(y.row);this.isAutoInsertedClosing(y,v,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=y.row,n.autoInsertedLineEnd=k+v.substr(y.column),n.autoInsertedBrackets++},c.recordMaybeInsert=function(f,p,k){var y=f.getCursorPosition(),v=p.doc.getLine(y.row);this.isMaybeInsertedClosing(y,v)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=y.row,n.maybeInsertedLineStart=v.substr(0,y.column)+k,n.maybeInsertedLineEnd=v.substr(y.column),n.maybeInsertedBrackets++},c.isAutoInsertedClosing=function(f,p,k){return n.autoInsertedBrackets>0&&f.row===n.autoInsertedRow&&k===n.autoInsertedLineEnd[0]&&p.substr(f.column)===n.autoInsertedLineEnd},c.isMaybeInsertedClosing=function(f,p){return n.maybeInsertedBrackets>0&&f.row===n.maybeInsertedRow&&p.substr(f.column)===n.maybeInsertedLineEnd&&p.substr(0,f.column)==n.maybeInsertedLineStart},c.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},c.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},g.inherits(c,l),h.CstyleBehaviour=c}),ace.define("ace/unicode",["require","exports","module"],function(d,h,b){for(var g=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],l=0,u=[],o=0;o<g.length;o+=2)u.push(l+=g[o]),g[o+1]&&u.push(45,l+=g[o+1]);h.wordChars=String.fromCharCode.apply(null,u)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(d,h,b){var g=d("../config"),l=d("../tokenizer").Tokenizer,u=d("./text_highlight_rules").TextHighlightRules,o=d("./behaviour/cstyle").CstyleBehaviour,a=d("../unicode"),t=d("../lib/lang"),n=d("../token_iterator").TokenIterator,r=d("../range").Range,e=function(){this.HighlightRules=u};(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new l(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(i,s,c,f){var p=s.doc,k=!0,y=!0,v=1/0,m=s.getTabSize(),L=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var C=this.lineCommentStart.map(t.escapeRegExp).join("|"),T=this.lineCommentStart[0];else var C=t.escapeRegExp(this.lineCommentStart),T=this.lineCommentStart;C=new RegExp("^(\\s*)(?:"+C+") ?"),L=s.getUseSoftTabs();var A=function(G,H){var z=G.match(C);if(!!z){var j=z[1].length,q=z[0].length;!R(G,j,q)&&z[0][q-1]==" "&&q--,p.removeInLine(H,j,q)}},M=T+" ",I=function(G,H){(!k||/\S/.test(G))&&(R(G,v,v)?p.insertInLine({row:H,column:v},M):p.insertInLine({row:H,column:v},T))},w=function(G,H){return C.test(G)},R=function(G,H,z){for(var j=0;H--&&G.charAt(H)==" ";)j++;if(j%m!=0)return!1;for(var j=0;G.charAt(z++)==" ";)j++;return m>2?j%m!=m-1:j%m==0}}else{if(!this.blockComment)return!1;var T=this.blockComment.start,E=this.blockComment.end,C=new RegExp("^(\\s*)(?:"+t.escapeRegExp(T)+")"),S=new RegExp("(?:"+t.escapeRegExp(E)+")\\s*$"),I=function(B,N){w(B,N)||(!k||/\S/.test(B))&&(p.insertInLine({row:N,column:B.length},E),p.insertInLine({row:N,column:v},T))},A=function(B,N){var _;(_=B.match(S))&&p.removeInLine(N,B.length-_[0].length,B.length),(_=B.match(C))&&p.removeInLine(N,_[1].length,_[0].length)},w=function(B,N){if(C.test(B))return!0;for(var _=s.getTokens(N),G=0;G<_.length;G++)if(_[G].type==="comment")return!0}}function O(B){for(var N=c;N<=f;N++)B(p.getLine(N),N)}var F=1/0;O(function(B,N){var _=B.search(/\S/);_!==-1?(_<v&&(v=_),y&&!w(B,N)&&(y=!1)):F>B.length&&(F=B.length)}),v==1/0&&(v=F,k=!1,y=!1),L&&v%m!=0&&(v=Math.floor(v/m)*m),O(y?A:I)},this.toggleBlockComment=function(i,s,c,f){var p=this.blockComment;if(!!p){!p.start&&p[0]&&(p=p[0]);var k=new n(s,f.row,f.column),y=k.getCurrentToken();s.selection;var v=s.selection.toOrientedRange(),m,L;if(y&&/comment/.test(y.type)){for(var T,E;y&&/comment/.test(y.type);){var C=y.value.indexOf(p.start);if(C!=-1){var S=k.getCurrentTokenRow(),I=k.getCurrentTokenColumn()+C;T=new r(S,I,S,I+p.start.length);break}y=k.stepBackward()}for(var k=new n(s,f.row,f.column),y=k.getCurrentToken();y&&/comment/.test(y.type);){var C=y.value.indexOf(p.end);if(C!=-1){var S=k.getCurrentTokenRow(),I=k.getCurrentTokenColumn()+C;E=new r(S,I,S,I+p.end.length);break}y=k.stepForward()}E&&s.remove(E),T&&(s.remove(T),m=T.start.row,L=-p.start.length)}else L=p.start.length,m=c.start.row,s.insert(c.end,p.end),s.insert(c.start,p.start);v.start.row==m&&(v.start.column+=L),v.end.row==m&&(v.end.column+=L),s.selection.fromOrientedRange(v)}},this.getNextLineIndent=function(i,s,c){return this.$getIndent(s)},this.checkOutdent=function(i,s,c){return!1},this.autoOutdent=function(i,s,c){},this.$getIndent=function(i){return i.match(/^\s*/)[0]},this.createWorker=function(i){return null},this.createModeDelegates=function(i){this.$embeds=[],this.$modes={};for(var s in i)if(i[s]){var c=i[s],f=c.prototype.$id,p=g.$modes[f];p||(g.$modes[f]=p=new c),g.$modes[s]||(g.$modes[s]=p),this.$embeds.push(s),this.$modes[s]=p}for(var k=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],s=0;s<k.length;s++)(function(v){var m=k[s],L=v[m];v[k[s]]=function(){return this.$delegator(m,arguments,L)}})(this)},this.$delegator=function(i,s,c){var f=s[0]||"start";if(typeof f!="string"){if(Array.isArray(f[2])){var p=f[2][f[2].length-1],k=this.$modes[p];if(k)return k[i].apply(k,[f[1]].concat([].slice.call(s,1)))}f=f[0]||"start"}for(var y=0;y<this.$embeds.length;y++)if(!!this.$modes[this.$embeds[y]]){var v=f.split(this.$embeds[y]);if(!v[0]&&v[1]){s[0]=v[1];var k=this.$modes[this.$embeds[y]];return k[i].apply(k,s)}}var m=c.apply(this,s);return c?m:void 0},this.transformAction=function(i,s,c,f,p){if(this.$behaviour){var k=this.$behaviour.getBehaviours();for(var y in k)if(k[y][s]){var v=k[y][s].apply(this,arguments);if(v)return v}}},this.getKeywords=function(i){if(!this.completionKeywords){var s=this.$tokenizer.rules,c=[];for(var f in s)for(var p=s[f],k=0,y=p.length;k<y;k++)if(typeof p[k].token=="string")/keyword|support|storage/.test(p[k].token)&&c.push(p[k].regex);else if(typeof p[k].token=="object"){for(var v=0,m=p[k].token.length;v<m;v++)if(/keyword|support|storage/.test(p[k].token[v])){var f=p[k].regex.match(/\(.+?\)/g)[v];c.push(f.substr(1,f.length-2))}}this.completionKeywords=c}return i?c.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(i,s,c,f){var p=this.$keywordList||this.$createKeywordList();return p.map(function(k){return{name:k,value:k,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(e.prototype),h.Mode=e}),ace.define("ace/apply_delta",["require","exports","module"],function(d,h,b){h.applyDelta=function(g,l,u){var o=l.start.row,a=l.start.column,t=g[o]||"";switch(l.action){case"insert":var n=l.lines;if(n.length===1)g[o]=t.substring(0,a)+l.lines[0]+t.substring(a);else{var r=[o,1].concat(l.lines);g.splice.apply(g,r),g[o]=t.substring(0,a)+g[o],g[o+l.lines.length-1]+=t.substring(a)}break;case"remove":var e=l.end.column,i=l.end.row;o===i?g[o]=t.substring(0,a)+t.substring(e):g.splice(o,i-o+1,t.substring(0,a)+g[i].substring(e));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(d,h,b){var g=d("./lib/oop"),l=d("./lib/event_emitter").EventEmitter,u=function(){function t(n,r,e){this.$onChange=this.onChange.bind(this),this.attach(n),typeof e=="undefined"?this.setPosition(r.row,r.column):this.setPosition(r,e)}return t.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},t.prototype.getDocument=function(){return this.document},t.prototype.onChange=function(n){if(!(n.start.row==n.end.row&&n.start.row!=this.row)&&!(n.start.row>this.row)){var r=a(n,{row:this.row,column:this.column},this.$insertRight);this.setPosition(r.row,r.column,!0)}},t.prototype.setPosition=function(n,r,e){var i;if(e?i={row:n,column:r}:i=this.$clipPositionToDocument(n,r),!(this.row==i.row&&this.column==i.column)){var s={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:s,value:i})}},t.prototype.detach=function(){this.document.off("change",this.$onChange)},t.prototype.attach=function(n){this.document=n||this.document,this.document.on("change",this.$onChange)},t.prototype.$clipPositionToDocument=function(n,r){var e={};return n>=this.document.getLength()?(e.row=Math.max(0,this.document.getLength()-1),e.column=this.document.getLine(e.row).length):n<0?(e.row=0,e.column=0):(e.row=n,e.column=Math.min(this.document.getLine(e.row).length,Math.max(0,r))),r<0&&(e.column=0),e},t}();u.prototype.$insertRight=!1,g.implement(u.prototype,l);function o(t,n,r){var e=r?t.column<=n.column:t.column<n.column;return t.row<n.row||t.row==n.row&&e}function a(t,n,r){var e=t.action=="insert",i=(e?1:-1)*(t.end.row-t.start.row),s=(e?1:-1)*(t.end.column-t.start.column),c=t.start,f=e?c:t.end;return o(n,c,r)?{row:n.row,column:n.column}:o(f,n,!r)?{row:n.row+i,column:n.column+(n.row==f.row?s:0)}:{row:c.row,column:c.column}}h.Anchor=u}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(d,h,b){var g=d("./lib/oop"),l=d("./apply_delta").applyDelta,u=d("./lib/event_emitter").EventEmitter,o=d("./range").Range,a=d("./anchor").Anchor,t=function(){function n(r){this.$lines=[""],r.length===0?this.$lines=[""]:Array.isArray(r)?this.insertMergedLines({row:0,column:0},r):this.insert({row:0,column:0},r)}return n.prototype.setValue=function(r){var e=this.getLength()-1;this.remove(new o(0,0,e,this.getLine(e).length)),this.insert({row:0,column:0},r||"")},n.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},n.prototype.createAnchor=function(r,e){return new a(this,r,e)},n.prototype.$detectNewLine=function(r){var e=r.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=e?e[1]:`
`,this._signal("changeNewLineMode")},n.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},n.prototype.setNewLineMode=function(r){this.$newLineMode!==r&&(this.$newLineMode=r,this._signal("changeNewLineMode"))},n.prototype.getNewLineMode=function(){return this.$newLineMode},n.prototype.isNewLine=function(r){return r==`\r
`||r=="\r"||r==`
`},n.prototype.getLine=function(r){return this.$lines[r]||""},n.prototype.getLines=function(r,e){return this.$lines.slice(r,e+1)},n.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},n.prototype.getLength=function(){return this.$lines.length},n.prototype.getTextRange=function(r){return this.getLinesForRange(r).join(this.getNewLineCharacter())},n.prototype.getLinesForRange=function(r){var e;if(r.start.row===r.end.row)e=[this.getLine(r.start.row).substring(r.start.column,r.end.column)];else{e=this.getLines(r.start.row,r.end.row),e[0]=(e[0]||"").substring(r.start.column);var i=e.length-1;r.end.row-r.start.row==i&&(e[i]=e[i].substring(0,r.end.column))}return e},n.prototype.insertLines=function(r,e){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(r,e)},n.prototype.removeLines=function(r,e){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(r,e)},n.prototype.insertNewLine=function(r){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(r,["",""])},n.prototype.insert=function(r,e){return this.getLength()<=1&&this.$detectNewLine(e),this.insertMergedLines(r,this.$split(e))},n.prototype.insertInLine=function(r,e){var i=this.clippedPos(r.row,r.column),s=this.pos(r.row,r.column+e.length);return this.applyDelta({start:i,end:s,action:"insert",lines:[e]},!0),this.clonePos(s)},n.prototype.clippedPos=function(r,e){var i=this.getLength();r===void 0?r=i:r<0?r=0:r>=i&&(r=i-1,e=void 0);var s=this.getLine(r);return e==null&&(e=s.length),e=Math.min(Math.max(e,0),s.length),{row:r,column:e}},n.prototype.clonePos=function(r){return{row:r.row,column:r.column}},n.prototype.pos=function(r,e){return{row:r,column:e}},n.prototype.$clipPosition=function(r){var e=this.getLength();return r.row>=e?(r.row=Math.max(0,e-1),r.column=this.getLine(e-1).length):(r.row=Math.max(0,r.row),r.column=Math.min(Math.max(r.column,0),this.getLine(r.row).length)),r},n.prototype.insertFullLines=function(r,e){r=Math.min(Math.max(r,0),this.getLength());var i=0;r<this.getLength()?(e=e.concat([""]),i=0):(e=[""].concat(e),r--,i=this.$lines[r].length),this.insertMergedLines({row:r,column:i},e)},n.prototype.insertMergedLines=function(r,e){var i=this.clippedPos(r.row,r.column),s={row:i.row+e.length-1,column:(e.length==1?i.column:0)+e[e.length-1].length};return this.applyDelta({start:i,end:s,action:"insert",lines:e}),this.clonePos(s)},n.prototype.remove=function(r){var e=this.clippedPos(r.start.row,r.start.column),i=this.clippedPos(r.end.row,r.end.column);return this.applyDelta({start:e,end:i,action:"remove",lines:this.getLinesForRange({start:e,end:i})}),this.clonePos(e)},n.prototype.removeInLine=function(r,e,i){var s=this.clippedPos(r,e),c=this.clippedPos(r,i);return this.applyDelta({start:s,end:c,action:"remove",lines:this.getLinesForRange({start:s,end:c})},!0),this.clonePos(s)},n.prototype.removeFullLines=function(r,e){r=Math.min(Math.max(0,r),this.getLength()-1),e=Math.min(Math.max(0,e),this.getLength()-1);var i=e==this.getLength()-1&&r>0,s=e<this.getLength()-1,c=i?r-1:r,f=i?this.getLine(c).length:0,p=s?e+1:e,k=s?0:this.getLine(p).length,y=new o(c,f,p,k),v=this.$lines.slice(r,e+1);return this.applyDelta({start:y.start,end:y.end,action:"remove",lines:this.getLinesForRange(y)}),v},n.prototype.removeNewLine=function(r){r<this.getLength()-1&&r>=0&&this.applyDelta({start:this.pos(r,this.getLine(r).length),end:this.pos(r+1,0),action:"remove",lines:["",""]})},n.prototype.replace=function(r,e){if(r instanceof o||(r=o.fromPoints(r.start,r.end)),e.length===0&&r.isEmpty())return r.start;if(e==this.getTextRange(r))return r.end;this.remove(r);var i;return e?i=this.insert(r.start,e):i=r.start,i},n.prototype.applyDeltas=function(r){for(var e=0;e<r.length;e++)this.applyDelta(r[e])},n.prototype.revertDeltas=function(r){for(var e=r.length-1;e>=0;e--)this.revertDelta(r[e])},n.prototype.applyDelta=function(r,e){var i=r.action=="insert";(i?r.lines.length<=1&&!r.lines[0]:!o.comparePoints(r.start,r.end))||(i&&r.lines.length>2e4?this.$splitAndapplyLargeDelta(r,2e4):(l(this.$lines,r,e),this._signal("change",r)))},n.prototype.$safeApplyDelta=function(r){var e=this.$lines.length;(r.action=="remove"&&r.start.row<e&&r.end.row<e||r.action=="insert"&&r.start.row<=e)&&this.applyDelta(r)},n.prototype.$splitAndapplyLargeDelta=function(r,e){for(var i=r.lines,s=i.length-e+1,c=r.start.row,f=r.start.column,p=0,k=0;p<s;p=k){k+=e-1;var y=i.slice(p,k);y.push(""),this.applyDelta({start:this.pos(c+p,f),end:this.pos(c+k,f=0),action:r.action,lines:y},!0)}r.lines=i.slice(p),r.start.row=c+p,r.start.column=f,this.applyDelta(r,!0)},n.prototype.revertDelta=function(r){this.$safeApplyDelta({start:this.clonePos(r.start),end:this.clonePos(r.end),action:r.action=="insert"?"remove":"insert",lines:r.lines.slice()})},n.prototype.indexToPosition=function(r,e){for(var i=this.$lines||this.getAllLines(),s=this.getNewLineCharacter().length,c=e||0,f=i.length;c<f;c++)if(r-=i[c].length+s,r<0)return{row:c,column:r+i[c].length+s};return{row:f-1,column:r+i[f-1].length+s}},n.prototype.positionToIndex=function(r,e){for(var i=this.$lines||this.getAllLines(),s=this.getNewLineCharacter().length,c=0,f=Math.min(r.row,i.length),p=e||0;p<f;++p)c+=i[p].length+s;return c+r.column},n.prototype.$split=function(r){return r.split(/\r\n|\r|\n/)},n}();t.prototype.$autoNewLine="",t.prototype.$newLineMode="auto",g.implement(t.prototype,u),h.Document=t}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(d,h,b){var g=d("./lib/oop"),l=d("./lib/event_emitter").EventEmitter,u=function(){function o(a,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=a;var n=this;this.$worker=function(){if(!!n.running){for(var r=new Date,e=n.currentLine,i=-1,s=n.doc,c=e;n.lines[e];)e++;var f=s.getLength(),p=0;for(n.running=!1;e<f;){n.$tokenizeRow(e),i=e;do e++;while(n.lines[e]);if(p++,p%5===0&&new Date-r>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=e,i==-1&&(i=e),c<=i&&n.fireUpdateEvent(c,i)}}}return o.prototype.setTokenizer=function(a){this.tokenizer=a,this.lines=[],this.states=[],this.start(0)},o.prototype.setDocument=function(a){this.doc=a,this.lines=[],this.states=[],this.stop()},o.prototype.fireUpdateEvent=function(a,t){var n={first:a,last:t};this._signal("update",{data:n})},o.prototype.start=function(a){this.currentLine=Math.min(a||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},o.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},o.prototype.$updateOnChange=function(a){var t=a.start.row,n=a.end.row-t;if(n===0)this.lines[t]=null;else if(a.action=="remove")this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},o.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},o.prototype.getTokens=function(a){return this.lines[a]||this.$tokenizeRow(a)},o.prototype.getState=function(a){return this.currentLine==a&&this.$tokenizeRow(a),this.states[a]||"start"},o.prototype.$tokenizeRow=function(a){var t=this.doc.getLine(a),n=this.states[a-1],r=this.tokenizer.getLineTokens(t,n,a);return this.states[a]+""!=r.state+""?(this.states[a]=r.state,this.lines[a+1]=null,this.currentLine>a+1&&(this.currentLine=a+1)):this.currentLine==a&&(this.currentLine=a+1),this.lines[a]=r.tokens},o.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},o}();g.implement(u.prototype,l),h.BackgroundTokenizer=u}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(d,h,b){var g=d("./lib/lang"),l=d("./range").Range,u=function(){function o(a,t,n){n===void 0&&(n="text"),this.setRegexp(a),this.clazz=t,this.type=n}return o.prototype.setRegexp=function(a){this.regExp+""!=a+""&&(this.regExp=a,this.cache=[])},o.prototype.update=function(a,t,n,r){if(!!this.regExp)for(var e=r.firstRow,i=r.lastRow,s={},c=e;c<=i;c++){var f=this.cache[c];f==null&&(f=g.getMatchOffsets(n.getLine(c),this.regExp),f.length>this.MAX_RANGES&&(f=f.slice(0,this.MAX_RANGES)),f=f.map(function(v){return new l(c,v.offset,c,v.offset+v.length)}),this.cache[c]=f.length?f:"");for(var p=f.length;p--;){var k=f[p].toScreenRange(n),y=k.toString();s[y]||(s[y]=!0,t.drawSingleLineMarker(a,k,this.clazz,r))}}},o}();u.prototype.MAX_RANGES=500,h.SearchHighlight=u}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(d,h,b){var g=d("../range").Range,l=function(){function u(o,a){this.foldData=o,Array.isArray(a)?this.folds=a:a=this.folds=[a];var t=a[a.length-1];this.range=new g(a[0].start.row,a[0].start.column,t.end.row,t.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(n){n.setFoldLine(this)},this)}return u.prototype.shiftRow=function(o){this.start.row+=o,this.end.row+=o,this.folds.forEach(function(a){a.start.row+=o,a.end.row+=o})},u.prototype.addFold=function(o){if(o.sameRow){if(o.start.row<this.startRow||o.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(o),this.folds.sort(function(a,t){return-a.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(o.start.row,o.start.column)>0?(this.end.row=o.end.row,this.end.column=o.end.column):this.range.compareStart(o.end.row,o.end.column)<0&&(this.start.row=o.start.row,this.start.column=o.start.column)}else if(o.start.row==this.end.row)this.folds.push(o),this.end.row=o.end.row,this.end.column=o.end.column;else if(o.end.row==this.start.row)this.folds.unshift(o),this.start.row=o.start.row,this.start.column=o.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");o.foldLine=this},u.prototype.containsRow=function(o){return o>=this.start.row&&o<=this.end.row},u.prototype.walk=function(o,a,t){var n=0,r=this.folds,e,i,s,c=!0;a==null&&(a=this.end.row,t=this.end.column);for(var f=0;f<r.length;f++){if(e=r[f],i=e.range.compareStart(a,t),i==-1){o(null,a,t,n,c);return}if(s=o(null,e.start.row,e.start.column,n,c),s=!s&&o(e.placeholder,e.start.row,e.start.column,n),s||i===0)return;c=!e.sameRow,n=e.end.column}o(null,a,t,n,c)},u.prototype.getNextFoldTo=function(o,a){for(var t,n,r=0;r<this.folds.length;r++){if(t=this.folds[r],n=t.range.compareEnd(o,a),n==-1)return{fold:t,kind:"after"};if(n===0)return{fold:t,kind:"inside"}}return null},u.prototype.addRemoveChars=function(o,a,t){var n=this.getNextFoldTo(o,a),r,e;if(n){if(r=n.fold,n.kind=="inside"&&r.start.column!=a&&r.start.row!=o)window.console&&window.console.log(o,a,r);else if(r.start.row==o){e=this.folds;var i=e.indexOf(r);for(i===0&&(this.start.column+=t),i;i<e.length;i++){if(r=e[i],r.start.column+=t,!r.sameRow)return;r.end.column+=t}this.end.column+=t}}},u.prototype.split=function(o,a){var t=this.getNextFoldTo(o,a);if(!t||t.kind=="inside")return null;var n=t.fold,r=this.folds,e=this.foldData,i=r.indexOf(n),s=r[i-1];this.end.row=s.end.row,this.end.column=s.end.column,r=r.splice(i,r.length-i);var c=new u(e,r);return e.splice(e.indexOf(this)+1,0,c),c},u.prototype.merge=function(o){for(var a=o.folds,t=0;t<a.length;t++)this.addFold(a[t]);var n=this.foldData;n.splice(n.indexOf(o),1)},u.prototype.toString=function(){var o=[this.range.toString()+": ["];return this.folds.forEach(function(a){o.push("  "+a.toString())}),o.push("]"),o.join(`
`)},u.prototype.idxToPosition=function(o){for(var a=0,t=0;t<this.folds.length;t++){var n=this.folds[t];if(o-=n.start.column-a,o<0)return{row:n.start.row,column:n.start.column+o};if(o-=n.placeholder.length,o<0)return n.start;a=n.end.column}return{row:this.end.row,column:this.end.column+o}},u}();h.FoldLine=l}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(d,h,b){var g=d("./range").Range,l=g.comparePoints,u=function(){function o(){this.ranges=[],this.$bias=1}return o.prototype.pointIndex=function(a,t,n){for(var r=this.ranges,e=n||0;e<r.length;e++){var i=r[e],s=l(a,i.end);if(!(s>0)){var c=l(a,i.start);return s===0?t&&c!==0?-e-2:e:c>0||c===0&&!t?e:-e-1}}return-e-1},o.prototype.add=function(a){var t=!a.isEmpty(),n=this.pointIndex(a.start,t);n<0&&(n=-n-1);var r=this.pointIndex(a.end,t,n);return r<0?r=-r-1:r++,this.ranges.splice(n,r-n,a)},o.prototype.addList=function(a){for(var t=[],n=a.length;n--;)t.push.apply(t,this.add(a[n]));return t},o.prototype.substractPoint=function(a){var t=this.pointIndex(a);if(t>=0)return this.ranges.splice(t,1)},o.prototype.merge=function(){var a=[],t=this.ranges;t=t.sort(function(s,c){return l(s.start,c.start)});for(var n=t[0],r,e=1;e<t.length;e++){r=n,n=t[e];var i=l(r.end,n.start);i<0||i==0&&!r.isEmpty()&&!n.isEmpty()||(l(r.end,n.end)<0&&(r.end.row=n.end.row,r.end.column=n.end.column),t.splice(e,1),a.push(n),n=r,e--)}return this.ranges=t,a},o.prototype.contains=function(a,t){return this.pointIndex({row:a,column:t})>=0},o.prototype.containsPoint=function(a){return this.pointIndex(a)>=0},o.prototype.rangeAtPoint=function(a){var t=this.pointIndex(a);if(t>=0)return this.ranges[t]},o.prototype.clipRows=function(a,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<a)return[];var r=this.pointIndex({row:a,column:0});r<0&&(r=-r-1);var e=this.pointIndex({row:t,column:0},r);e<0&&(e=-e-1);for(var i=[],s=r;s<e;s++)i.push(n[s]);return i},o.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},o.prototype.attach=function(a){this.session&&this.detach(),this.session=a,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},o.prototype.detach=function(){!this.session||(this.session.removeListener("change",this.onChange),this.session=null)},o.prototype.$onChange=function(a){for(var t=a.start,n=a.end,r=t.row,e=n.row,i=this.ranges,s=0,c=i.length;s<c;s++){var f=i[s];if(f.end.row>=r)break}if(a.action=="insert")for(var p=e-r,k=-t.column+n.column;s<c;s++){var f=i[s];if(f.start.row>r)break;if(f.start.row==r&&f.start.column>=t.column&&(f.start.column==t.column&&this.$bias<=0||(f.start.column+=k,f.start.row+=p)),f.end.row==r&&f.end.column>=t.column){if(f.end.column==t.column&&this.$bias<0)continue;f.end.column==t.column&&k>0&&s<c-1&&f.end.column>f.start.column&&f.end.column==i[s+1].start.column&&(f.end.column-=k),f.end.column+=k,f.end.row+=p}}else for(var p=r-e,k=t.column-n.column;s<c;s++){var f=i[s];if(f.start.row>e)break;f.end.row<e&&(r<f.end.row||r==f.end.row&&t.column<f.end.column)?(f.end.row=r,f.end.column=t.column):f.end.row==e?f.end.column<=n.column?(p||f.end.column>t.column)&&(f.end.column=t.column,f.end.row=t.row):(f.end.column+=k,f.end.row+=p):f.end.row>e&&(f.end.row+=p),f.start.row<e&&(r<f.start.row||r==f.start.row&&t.column<f.start.column)?(f.start.row=r,f.start.column=t.column):f.start.row==e?f.start.column<=n.column?(p||f.start.column>t.column)&&(f.start.column=t.column,f.start.row=t.row):(f.start.column+=k,f.start.row+=p):f.start.row>e&&(f.start.row+=p)}if(p!=0&&s<c)for(;s<c;s++){var f=i[s];f.start.row+=p,f.end.row+=p}},o}();u.prototype.comparePoints=l,h.RangeList=u}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(d,h,b){var g=this&&this.__extends||function(){var r=function(e,i){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(s[f]=c[f])},r(e,i)};return function(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");r(e,i);function s(){this.constructor=e}e.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),l=d("../range_list").RangeList,u=function(r){g(e,r);function e(i,s){var c=r.call(this)||this;return c.foldLine=null,c.placeholder=s,c.range=i,c.start=i.start,c.end=i.end,c.sameRow=i.start.row==i.end.row,c.subFolds=c.ranges=[],c}return e.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},e.prototype.setFoldLine=function(i){this.foldLine=i,this.subFolds.forEach(function(s){s.setFoldLine(i)})},e.prototype.clone=function(){var i=this.range.clone(),s=new e(i,this.placeholder);return this.subFolds.forEach(function(c){s.subFolds.push(c.clone())}),s.collapseChildren=this.collapseChildren,s},e.prototype.addSubFold=function(i){if(!this.range.isEqual(i)){a(i,this.start);for(var k=i.start.row,y=i.start.column,s=0,c=-1;s<this.subFolds.length&&(c=this.subFolds[s].range.compare(k,y),c==1);s++);var f=this.subFolds[s],p=0;if(c==0){if(f.range.containsRange(i))return f.addSubFold(i);p=1}for(var k=i.range.end.row,y=i.range.end.column,v=s,c=-1;v<this.subFolds.length&&(c=this.subFolds[v].range.compare(k,y),c==1);v++);c==0&&v++;for(var m=this.subFolds.splice(s,v-s,i),L=c==0?m.length-1:m.length,T=p;T<L;T++)i.addSubFold(m[T]);return i.setFoldLine(this.foldLine),i}},e.prototype.restoreRange=function(i){return n(i,this.start)},e}(l);function o(r,e){r.row-=e.row,r.row==0&&(r.column-=e.column)}function a(r,e){o(r.start,e),o(r.end,e)}function t(r,e){r.row==0&&(r.column+=e.column),r.row+=e.row}function n(r,e){t(r.start,e),t(r.end,e)}h.Fold=u}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(d,h,b){var g=d("../range").Range,l=d("./fold_line").FoldLine,u=d("./fold").Fold,o=d("../token_iterator").TokenIterator,a=d("../mouse/mouse_event").MouseEvent;function t(){this.getFoldAt=function(n,r,e){var i=this.getFoldLine(n);if(!i)return null;for(var s=i.folds,c=0;c<s.length;c++){var f=s[c].range;if(f.contains(n,r)){if(e==1&&f.isEnd(n,r)&&!f.isEmpty())continue;if(e==-1&&f.isStart(n,r)&&!f.isEmpty())continue;return s[c]}}},this.getFoldsInRange=function(n){var r=n.start,e=n.end,i=this.$foldData,s=[];r.column+=1,e.column-=1;for(var c=0;c<i.length;c++){var f=i[c].range.compareRange(n);if(f!=2){if(f==-2)break;for(var p=i[c].folds,k=0;k<p.length;k++){var y=p[k];if(f=y.range.compareRange(n),f==-2)break;if(f==2)continue;if(f==42)break;s.push(y)}}}return r.column-=1,e.column+=1,s},this.getFoldsInRangeList=function(n){if(Array.isArray(n)){var r=[];n.forEach(function(e){r=r.concat(this.getFoldsInRange(e))},this)}else var r=this.getFoldsInRange(n);return r},this.getAllFolds=function(){for(var n=[],r=this.$foldData,e=0;e<r.length;e++)for(var i=0;i<r[e].folds.length;i++)n.push(r[e].folds[i]);return n},this.getFoldStringAt=function(n,r,e,i){if(i=i||this.getFoldLine(n),!i)return null;for(var s={end:{column:0}},c,f,p=0;p<i.folds.length;p++){f=i.folds[p];var k=f.range.compareEnd(n,r);if(k==-1){c=this.getLine(f.start.row).substring(s.end.column,f.start.column);break}else if(k===0)return null;s=f}return c||(c=this.getLine(f.start.row).substring(s.end.column)),e==-1?c.substring(0,r-s.end.column):e==1?c.substring(r-s.end.column):c},this.getFoldLine=function(n,r){var e=this.$foldData,i=0;for(r&&(i=e.indexOf(r)),i==-1&&(i=0),i;i<e.length;i++){var s=e[i];if(s.start.row<=n&&s.end.row>=n)return s;if(s.end.row>n)return null}return null},this.getNextFoldLine=function(n,r){var e=this.$foldData,i=0;for(r&&(i=e.indexOf(r)),i==-1&&(i=0),i;i<e.length;i++){var s=e[i];if(s.end.row>=n)return s}return null},this.getFoldedRowCount=function(n,r){for(var e=this.$foldData,i=r-n+1,s=0;s<e.length;s++){var c=e[s],f=c.end.row,p=c.start.row;if(f>=r){p<r&&(p>=n?i-=r-p:i=0);break}else f>=n&&(p>=n?i-=f-p:i-=f-n+1)}return i},this.$addFoldLine=function(n){return this.$foldData.push(n),this.$foldData.sort(function(r,e){return r.start.row-e.start.row}),n},this.addFold=function(n,r){var e=this.$foldData,i=!1,s;n instanceof u?s=n:(s=new u(r,n),s.collapseChildren=r.collapseChildren),this.$clipRangeToDocument(s.range);var c=s.start.row,f=s.start.column,p=s.end.row,k=s.end.column,y=this.getFoldAt(c,f,1),v=this.getFoldAt(p,k,-1);if(y&&v==y)return y.addSubFold(s);y&&!y.range.isStart(c,f)&&this.removeFold(y),v&&!v.range.isEnd(p,k)&&this.removeFold(v);var m=this.getFoldsInRange(s.range);m.length>0&&(this.removeFolds(m),s.collapseChildren||m.forEach(function(C){s.addSubFold(C)}));for(var L=0;L<e.length;L++){var T=e[L];if(p==T.start.row){T.addFold(s),i=!0;break}else if(c==T.end.row){if(T.addFold(s),i=!0,!s.sameRow){var E=e[L+1];if(E&&E.start.row==p){T.merge(E);break}}break}else if(p<=T.start.row)break}return i||(T=this.$addFoldLine(new l(this.$foldData,s))),this.$useWrapMode?this.$updateWrapData(T.start.row,T.start.row):this.$updateRowLengthCache(T.start.row,T.start.row),this.$modified=!0,this._signal("changeFold",{data:s,action:"add"}),s},this.addFolds=function(n){n.forEach(function(r){this.addFold(r)},this)},this.removeFold=function(n){var r=n.foldLine,e=r.start.row,i=r.end.row,s=this.$foldData,c=r.folds;if(c.length==1)s.splice(s.indexOf(r),1);else if(r.range.isEnd(n.end.row,n.end.column))c.pop(),r.end.row=c[c.length-1].end.row,r.end.column=c[c.length-1].end.column;else if(r.range.isStart(n.start.row,n.start.column))c.shift(),r.start.row=c[0].start.row,r.start.column=c[0].start.column;else if(n.sameRow)c.splice(c.indexOf(n),1);else{var f=r.split(n.start.row,n.start.column);c=f.folds,c.shift(),f.start.row=c[0].start.row,f.start.column=c[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(e,i):this.$updateRowLengthCache(e,i)),this.$modified=!0,this._signal("changeFold",{data:n,action:"remove"})},this.removeFolds=function(n){for(var r=[],e=0;e<n.length;e++)r.push(n[e]);r.forEach(function(i){this.removeFold(i)},this),this.$modified=!0},this.expandFold=function(n){this.removeFold(n),n.subFolds.forEach(function(r){n.restoreRange(r),this.addFold(r)},this),n.collapseChildren>0&&this.foldAll(n.start.row+1,n.end.row,n.collapseChildren-1),n.subFolds=[]},this.expandFolds=function(n){n.forEach(function(r){this.expandFold(r)},this)},this.unfold=function(n,r){var e,i;if(n==null)e=new g(0,0,this.getLength(),0),r==null&&(r=!0);else if(typeof n=="number")e=new g(n,0,n,this.getLine(n).length);else if("row"in n)e=g.fromPoints(n,n);else{if(Array.isArray(n))return i=[],n.forEach(function(c){i=i.concat(this.unfold(c))},this),i;e=n}i=this.getFoldsInRangeList(e);for(var s=i;i.length==1&&g.comparePoints(i[0].start,e.start)<0&&g.comparePoints(i[0].end,e.end)>0;)this.expandFolds(i),i=this.getFoldsInRangeList(e);if(r!=!1?this.removeFolds(i):this.expandFolds(i),s.length)return s},this.isRowFolded=function(n,r){return!!this.getFoldLine(n,r)},this.getRowFoldEnd=function(n,r){var e=this.getFoldLine(n,r);return e?e.end.row:n},this.getRowFoldStart=function(n,r){var e=this.getFoldLine(n,r);return e?e.start.row:n},this.getFoldDisplayLine=function(n,r,e,i,s){i==null&&(i=n.start.row),s==null&&(s=0),r==null&&(r=n.end.row),e==null&&(e=this.getLine(r).length);var c=this.doc,f="";return n.walk(function(p,k,y,v){if(!(k<i)){if(k==i){if(y<s)return;v=Math.max(s,v)}p!=null?f+=p:f+=c.getLine(k).substring(v,y)}},r,e),f},this.getDisplayLine=function(n,r,e,i){var s=this.getFoldLine(n);if(s)return this.getFoldDisplayLine(s,n,r,e,i);var c;return c=this.doc.getLine(n),c.substring(i||0,r||c.length)},this.$cloneFoldData=function(){var n=[];return n=this.$foldData.map(function(r){var e=r.folds.map(function(i){return i.clone()});return new l(n,e)}),n},this.toggleFold=function(n){var r=this.selection,e=r.getRange(),i,s;if(e.isEmpty()){var c=e.start;if(i=this.getFoldAt(c.row,c.column),i){this.expandFold(i);return}else(s=this.findMatchingBracket(c))?e.comparePoint(s)==1?e.end=s:(e.start=s,e.start.column++,e.end.column--):(s=this.findMatchingBracket({row:c.row,column:c.column+1}))?(e.comparePoint(s)==1?e.end=s:e.start=s,e.start.column++):e=this.getCommentFoldRange(c.row,c.column)||e}else{var f=this.getFoldsInRange(e);if(n&&f.length){this.expandFolds(f);return}else f.length==1&&(i=f[0])}if(i||(i=this.getFoldAt(e.start.row,e.start.column)),i&&i.range.toString()==e.toString()){this.expandFold(i);return}var p="...";if(!e.isMultiLine()){if(p=this.getTextRange(e),p.length<4)return;p=p.trim().substring(0,2)+".."}this.addFold(p,e)},this.getCommentFoldRange=function(n,r,e){var i=new o(this,n,r),s=i.getCurrentToken(),c=s&&s.type;if(s&&/^comment|string/.test(c)){c=c.match(/comment|string/)[0],c=="comment"&&(c+="|doc-start|\\.doc");var f=new RegExp(c),p=new g;if(e!=1){do s=i.stepBackward();while(s&&f.test(s.type)&&!/^comment.end/.test(s.type));s=i.stepForward()}if(p.start.row=i.getCurrentTokenRow(),p.start.column=i.getCurrentTokenColumn()+(/^comment.start/.test(s.type)?s.value.length:2),i=new o(this,n,r),e!=-1){var k=-1;do if(s=i.stepForward(),k==-1){var y=this.getState(i.$row);f.test(y)||(k=i.$row)}else if(i.$row>k)break;while(s&&f.test(s.type)&&!/^comment.start/.test(s.type));s=i.stepBackward()}else s=i.getCurrentToken();return p.end.row=i.getCurrentTokenRow(),p.end.column=i.getCurrentTokenColumn(),/^comment.end/.test(s.type)||(p.end.column+=s.value.length-2),p}},this.foldAll=function(n,r,e,i){e==null&&(e=1e5);var s=this.foldWidgets;if(!!s){r=r||this.getLength(),n=n||0;for(var c=n;c<r;c++)if(s[c]==null&&(s[c]=this.getFoldWidget(c)),s[c]=="start"&&!(i&&!i(c))){var f=this.getFoldWidgetRange(c);f&&f.isMultiLine()&&f.end.row<=r&&f.start.row>=n&&(c=f.end.row,f.collapseChildren=e,this.addFold("...",f))}}},this.foldToLevel=function(n){for(this.foldAll();n-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var n=this;this.foldAll(null,null,null,function(r){for(var e=n.getTokens(r),i=0;i<e.length;i++){var s=e[i];if(!(s.type=="text"&&/^\s+$/.test(s.value)))return!!/comment/.test(s.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(n){if(!this.$foldStyles[n])throw new Error("invalid fold style: "+n+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=n){this.$foldStyle=n,n=="manual"&&this.unfold();var r=this.$foldMode;this.$setFolding(null),this.$setFolding(r)}},this.$setFolding=function(n){if(this.$foldMode!=n){if(this.$foldMode=n,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!n||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=n.getFoldWidget.bind(n,this,this.$foldStyle),this.getFoldWidgetRange=n.getFoldWidgetRange.bind(n,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(n,r){var e=this.foldWidgets;if(!e||r&&e[n])return{};for(var i=n-1,s;i>=0;){var c=e[i];if(c==null&&(c=e[i]=this.getFoldWidget(i)),c=="start"){var f=this.getFoldWidgetRange(i);if(s||(s=f),f&&f.end.row>=n)break}i--}return{range:i!==-1&&f,firstRange:s}},this.onFoldWidgetClick=function(n,r){r instanceof a&&(r=r.domEvent);var e={children:r.shiftKey,all:r.ctrlKey||r.metaKey,siblings:r.altKey},i=this.$toggleFoldWidget(n,e);if(!i){var s=r.target||r.srcElement;s&&/ace_fold-widget/.test(s.className)&&(s.className+=" ace_invalid")}},this.$toggleFoldWidget=function(n,r){if(!!this.getFoldWidget){var e=this.getFoldWidget(n),i=this.getLine(n),s=e==="end"?-1:1,c=this.getFoldAt(n,s===-1?0:i.length,s);if(c)return r.children||r.all?this.removeFold(c):this.expandFold(c),c;var f=this.getFoldWidgetRange(n,!0);if(f&&!f.isMultiLine()&&(c=this.getFoldAt(f.start.row,f.start.column,1),c&&f.isEqual(c.range)))return this.removeFold(c),c;if(r.siblings){var p=this.getParentFoldRangeData(n);if(p.range)var k=p.range.start.row+1,y=p.range.end.row;this.foldAll(k,y,r.all?1e4:0)}else r.children?(y=f?f.end.row:this.getLength(),this.foldAll(n+1,y,r.all?1e4:0)):f&&(r.all&&(f.collapseChildren=1e4),this.addFold("...",f));return f}},this.toggleFoldWidget=function(n){var r=this.selection.getCursor().row;r=this.getRowFoldStart(r);var e=this.$toggleFoldWidget(r,{});if(!e){var i=this.getParentFoldRangeData(r,!0);if(e=i.range||i.firstRange,e){r=e.start.row;var s=this.getFoldAt(r,this.getLine(r).length,1);s?this.removeFold(s):this.addFold("...",e)}}},this.updateFoldWidgets=function(n){var r=n.start.row,e=n.end.row-r;if(e===0)this.foldWidgets[r]=null;else if(n.action=="remove")this.foldWidgets.splice(r,e+1,null);else{var i=Array(e+1);i.unshift(r,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(n){var r=n.data;r.first!=r.last&&this.foldWidgets.length>r.first&&this.foldWidgets.splice(r.first,this.foldWidgets.length)}}h.Folding=t}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(d,h,b){var g=d("../token_iterator").TokenIterator,l=d("../range").Range;function u(){this.findMatchingBracket=function(o,a){if(o.column==0)return null;var t=a||this.getLine(o.row).charAt(o.column-1);if(t=="")return null;var n=t.match(/([\(\[\{])|([\)\]\}])/);return n?n[1]?this.$findClosingBracket(n[1],o):this.$findOpeningBracket(n[2],o):null},this.getBracketRange=function(o){var a=this.getLine(o.row),t=!0,n,r=a.charAt(o.column-1),e=r&&r.match(/([\(\[\{])|([\)\]\}])/);if(e||(r=a.charAt(o.column),o={row:o.row,column:o.column+1},e=r&&r.match(/([\(\[\{])|([\)\]\}])/),t=!1),!e)return null;if(e[1]){var i=this.$findClosingBracket(e[1],o);if(!i)return null;n=l.fromPoints(o,i),t||(n.end.column++,n.start.column--),n.cursor=n.end}else{var i=this.$findOpeningBracket(e[2],o);if(!i)return null;n=l.fromPoints(i,o),t||(n.start.column++,n.end.column--),n.cursor=n.start}return n},this.getMatchingBracketRanges=function(o,a){var t=this.getLine(o.row),n=/([\(\[\{])|([\)\]\}])/,r=!a&&t.charAt(o.column-1),e=r&&r.match(n);if(e||(r=(a===void 0||a)&&t.charAt(o.column),o={row:o.row,column:o.column+1},e=r&&r.match(n)),!e)return null;var i=new l(o.row,o.column-1,o.row,o.column),s=e[1]?this.$findClosingBracket(e[1],o):this.$findOpeningBracket(e[2],o);if(!s)return[i];var c=new l(s.row,s.column,s.row,s.column+1);return[i,c]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(o,a,t){var n=this.$brackets[o],r=1,e=new g(this,a.row,a.column),i=e.getCurrentToken();if(i||(i=e.stepForward()),!!i){t||(t=new RegExp("(\\.?"+i.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var s=a.column-e.getCurrentTokenColumn()-2,c=i.value;;){for(;s>=0;){var f=c.charAt(s);if(f==n){if(r-=1,r==0)return{row:e.getCurrentTokenRow(),column:s+e.getCurrentTokenColumn()}}else f==o&&(r+=1);s-=1}do i=e.stepBackward();while(i&&!t.test(i.type));if(i==null)break;c=i.value,s=c.length-1}return null}},this.$findClosingBracket=function(o,a,t){var n=this.$brackets[o],r=1,e=new g(this,a.row,a.column),i=e.getCurrentToken();if(i||(i=e.stepForward()),!!i){t||(t=new RegExp("(\\.?"+i.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var s=a.column-e.getCurrentTokenColumn();;){for(var c=i.value,f=c.length;s<f;){var p=c.charAt(s);if(p==n){if(r-=1,r==0)return{row:e.getCurrentTokenRow(),column:s+e.getCurrentTokenColumn()}}else p==o&&(r+=1);s+=1}do i=e.stepForward();while(i&&!t.test(i.type));if(i==null)break;s=0}return null}},this.getMatchingTags=function(o){var a=new g(this,o.row,o.column),t=this.$findTagName(a);if(!!t){var n=a.stepBackward();return n.value==="<"?this.$findClosingTag(a,t):this.$findOpeningTag(a,t)}},this.$findTagName=function(o){var a=o.getCurrentToken(),t=!1,n=!1;if(a&&a.type.indexOf("tag-name")===-1)do n?a=o.stepBackward():a=o.stepForward(),a&&(a.value==="/>"?n=!0:a.type.indexOf("tag-name")!==-1&&(t=!0));while(a&&!t);return a},this.$findClosingTag=function(o,a){var t,n=a.value,r=a.value,e=0,i=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);a=o.stepForward();var s=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+a.value.length),c=!1;do if(t=a,a=o.stepForward(),a){if(a.value===">"&&!c){var f=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);c=!0}if(a.type.indexOf("tag-name")!==-1){if(n=a.value,r===n){if(t.value==="<")e++;else if(t.value==="</"&&(e--,e<0)){o.stepBackward();var p=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+2);a=o.stepForward();var k=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+a.value.length);if(a=o.stepForward(),a&&a.value===">")var y=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);else return}}}else if(r===n&&a.value==="/>"&&(e--,e<0))var p=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+2),k=p,y=k,f=new l(s.end.row,s.end.column,s.end.row,s.end.column+1)}while(a&&e>=0);if(i&&f&&p&&y&&s&&k)return{openTag:new l(i.start.row,i.start.column,f.end.row,f.end.column),closeTag:new l(p.start.row,p.start.column,y.end.row,y.end.column),openTagName:s,closeTagName:k}},this.$findOpeningTag=function(o,a){var t=o.getCurrentToken(),n=a.value,r=0,e=o.getCurrentTokenRow(),i=o.getCurrentTokenColumn(),s=i+2,c=new l(e,i,e,s);o.stepForward();var f=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+a.value.length);if(a=o.stepForward(),!(!a||a.value!==">")){var p=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);o.stepBackward(),o.stepBackward();do if(a=t,e=o.getCurrentTokenRow(),i=o.getCurrentTokenColumn(),s=i+a.value.length,t=o.stepBackward(),a){if(a.type.indexOf("tag-name")!==-1){if(n===a.value)if(t.value==="<"){if(r++,r>0){var k=new l(e,i,e,s),y=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);do a=o.stepForward();while(a&&a.value!==">");var v=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1)}}else t.value==="</"&&r--}else if(a.value==="/>"){for(var m=0,L=t;L;){if(L.type.indexOf("tag-name")!==-1&&L.value===n){r--;break}else if(L.value==="<")break;L=o.stepBackward(),m++}for(var T=0;T<m;T++)o.stepForward()}}while(t&&r<=0);if(y&&v&&c&&p&&k&&f)return{openTag:new l(y.start.row,y.start.column,v.end.row,v.end.column),closeTag:new l(c.start.row,c.start.column,p.end.row,p.end.column),openTagName:k,closeTagName:f}}}}h.BracketMatch=u}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(d,h,b){var g=d("./lib/oop"),l=d("./lib/lang"),u=d("./bidihandler").BidiHandler,o=d("./config"),a=d("./lib/event_emitter").EventEmitter,t=d("./selection").Selection,n=d("./mode/text").Mode,r=d("./range").Range,e=d("./document").Document,i=d("./background_tokenizer").BackgroundTokenizer,s=d("./search_highlight").SearchHighlight,c=function(){function C(S,I){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++C.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new i(new n().getTokenizer(),this);var A=this;this.bgTokenizer.on("update",function(w){A._signal("tokenizerUpdate",w)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof S!="object"||!S.getLine)&&(S=new e(S)),this.setDocument(S),this.selection=new t(this),this.$bidiHandler=new u(this),o.resetOptions(this),this.setMode(I),o._signal("session",this),this.destroyed=!1}return C.prototype.setDocument=function(S){this.doc&&this.doc.off("change",this.$onChange),this.doc=S,S.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},C.prototype.getDocument=function(){return this.doc},C.prototype.$resetRowCache=function(S){if(!S){this.$docRowCache=[],this.$screenRowCache=[];return}var I=this.$docRowCache.length,A=this.$getRowCacheIndex(this.$docRowCache,S)+1;I>A&&(this.$docRowCache.splice(A,I),this.$screenRowCache.splice(A,I))},C.prototype.$getRowCacheIndex=function(S,I){for(var A=0,w=S.length-1;A<=w;){var M=A+w>>1,R=S[M];if(I>R)A=M+1;else if(I<R)w=M-1;else return M}return A-1},C.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},C.prototype.onChangeFold=function(S){var I=S.data;this.$resetRowCache(I.start.row)},C.prototype.onChange=function(S){this.$modified=!0,this.$bidiHandler.onChange(S),this.$resetRowCache(S.start.row);var I=this.$updateInternalDataOnChange(S);!this.$fromUndo&&this.$undoManager&&(I&&I.length&&(this.$undoManager.add({action:"removeFolds",folds:I},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(S,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(S),this._signal("change",S)},C.prototype.setValue=function(S){this.doc.setValue(S),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},C.prototype.toString=function(){return this.doc.getValue()},C.prototype.getSelection=function(){return this.selection},C.prototype.getState=function(S){return this.bgTokenizer.getState(S)},C.prototype.getTokens=function(S){return this.bgTokenizer.getTokens(S)},C.prototype.getTokenAt=function(S,I){var A=this.bgTokenizer.getTokens(S),w,M=0;if(I==null){var R=A.length-1;M=this.getLine(S).length}else for(var R=0;R<A.length&&(M+=A[R].value.length,!(M>=I));R++);return w=A[R],w?(w.index=R,w.start=M-w.value.length,w):null},C.prototype.setUndoManager=function(S){if(this.$undoManager=S,this.$informUndoManager&&this.$informUndoManager.cancel(),S){var I=this;S.addSession(this),this.$syncInformUndoManager=function(){I.$informUndoManager.cancel(),I.mergeUndoDeltas=!1},this.$informUndoManager=l.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},C.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},C.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},C.prototype.getTabString=function(){return this.getUseSoftTabs()?l.stringRepeat(" ",this.getTabSize()):"	"},C.prototype.setUseSoftTabs=function(S){this.setOption("useSoftTabs",S)},C.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},C.prototype.setTabSize=function(S){this.setOption("tabSize",S)},C.prototype.getTabSize=function(){return this.$tabSize},C.prototype.isTabStop=function(S){return this.$useSoftTabs&&S.column%this.$tabSize===0},C.prototype.setNavigateWithinSoftTabs=function(S){this.setOption("navigateWithinSoftTabs",S)},C.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},C.prototype.setOverwrite=function(S){this.setOption("overwrite",S)},C.prototype.getOverwrite=function(){return this.$overwrite},C.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},C.prototype.addGutterDecoration=function(S,I){this.$decorations[S]||(this.$decorations[S]=""),this.$decorations[S]+=" "+I,this._signal("changeBreakpoint",{})},C.prototype.removeGutterDecoration=function(S,I){this.$decorations[S]=(this.$decorations[S]||"").replace(" "+I,""),this._signal("changeBreakpoint",{})},C.prototype.getBreakpoints=function(){return this.$breakpoints},C.prototype.setBreakpoints=function(S){this.$breakpoints=[];for(var I=0;I<S.length;I++)this.$breakpoints[S[I]]="ace_breakpoint";this._signal("changeBreakpoint",{})},C.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},C.prototype.setBreakpoint=function(S,I){I===void 0&&(I="ace_breakpoint"),I?this.$breakpoints[S]=I:delete this.$breakpoints[S],this._signal("changeBreakpoint",{})},C.prototype.clearBreakpoint=function(S){delete this.$breakpoints[S],this._signal("changeBreakpoint",{})},C.prototype.addMarker=function(S,I,A,w){var M=this.$markerId++,R={range:S,type:A||"line",renderer:typeof A=="function"?A:null,clazz:I,inFront:!!w,id:M};return w?(this.$frontMarkers[M]=R,this._signal("changeFrontMarker")):(this.$backMarkers[M]=R,this._signal("changeBackMarker")),M},C.prototype.addDynamicMarker=function(S,I){if(!!S.update){var A=this.$markerId++;return S.id=A,S.inFront=!!I,I?(this.$frontMarkers[A]=S,this._signal("changeFrontMarker")):(this.$backMarkers[A]=S,this._signal("changeBackMarker")),S}},C.prototype.removeMarker=function(S){var I=this.$frontMarkers[S]||this.$backMarkers[S];if(!!I){var A=I.inFront?this.$frontMarkers:this.$backMarkers;delete A[S],this._signal(I.inFront?"changeFrontMarker":"changeBackMarker")}},C.prototype.getMarkers=function(S){return S?this.$frontMarkers:this.$backMarkers},C.prototype.highlight=function(S){if(!this.$searchHighlight){var I=new s(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(I)}this.$searchHighlight.setRegexp(S)},C.prototype.highlightLines=function(S,I,A,w){typeof I!="number"&&(A=I,I=S),A||(A="ace_step");var M=new r(S,0,I,1/0);return M.id=this.addMarker(M,A,"fullLine",w),M},C.prototype.setAnnotations=function(S){this.$annotations=S,this._signal("changeAnnotation",{})},C.prototype.getAnnotations=function(){return this.$annotations||[]},C.prototype.clearAnnotations=function(){this.setAnnotations([])},C.prototype.$detectNewLine=function(S){var I=S.match(/^.*?(\r?\n)/m);I?this.$autoNewLine=I[1]:this.$autoNewLine=`
`},C.prototype.getWordRange=function(S,I){var A=this.getLine(S),w=!1;if(I>0&&(w=!!A.charAt(I-1).match(this.tokenRe)),w||(w=!!A.charAt(I).match(this.tokenRe)),w)var M=this.tokenRe;else if(/^\s+$/.test(A.slice(I-1,I+1)))var M=/\s/;else var M=this.nonTokenRe;var R=I;if(R>0){do R--;while(R>=0&&A.charAt(R).match(M));R++}for(var O=I;O<A.length&&A.charAt(O).match(M);)O++;return new r(S,R,S,O)},C.prototype.getAWordRange=function(S,I){for(var A=this.getWordRange(S,I),w=this.getLine(A.end.row);w.charAt(A.end.column).match(/[ \t]/);)A.end.column+=1;return A},C.prototype.setNewLineMode=function(S){this.doc.setNewLineMode(S)},C.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},C.prototype.setUseWorker=function(S){this.setOption("useWorker",S)},C.prototype.getUseWorker=function(){return this.$useWorker},C.prototype.onReloadTokenizer=function(S){var I=S.data;this.bgTokenizer.start(I.first),this._signal("tokenizerUpdate",S)},C.prototype.setMode=function(S,I){if(S&&typeof S=="object"){if(S.getTokenizer)return this.$onChangeMode(S);var A=S,w=A.path}else w=S||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new n),this.$modes[w]&&!A){this.$onChangeMode(this.$modes[w]),I&&I();return}this.$modeId=w,o.loadModule(["mode",w],function(M){if(this.$modeId!==w)return I&&I();this.$modes[w]&&!A?this.$onChangeMode(this.$modes[w]):M&&M.Mode&&(M=new M.Mode(A),A||(this.$modes[w]=M,M.$id=w),this.$onChangeMode(M)),I&&I()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},C.prototype.$onChangeMode=function(S,I){if(I||(this.$modeId=S.$id),this.$mode!==S){var A=this.$mode;this.$mode=S,this.$stopWorker(),this.$useWorker&&this.$startWorker();var w=S.getTokenizer();if(w.on!==void 0){var M=this.onReloadTokenizer.bind(this);w.on("update",M)}this.bgTokenizer.setTokenizer(w),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=S.tokenRe,this.nonTokenRe=S.nonTokenRe,I||(S.attachToSession&&S.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(S.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:A,mode:S}))}},C.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},C.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(S){o.warn("Could not load worker",S),this.$worker=null}},C.prototype.getMode=function(){return this.$mode},C.prototype.setScrollTop=function(S){this.$scrollTop===S||isNaN(S)||(this.$scrollTop=S,this._signal("changeScrollTop",S))},C.prototype.getScrollTop=function(){return this.$scrollTop},C.prototype.setScrollLeft=function(S){this.$scrollLeft===S||isNaN(S)||(this.$scrollLeft=S,this._signal("changeScrollLeft",S))},C.prototype.getScrollLeft=function(){return this.$scrollLeft},C.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},C.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var S=0;return this.lineWidgets.forEach(function(I){I&&I.screenWidth>S&&(S=I.screenWidth)}),this.lineWidgetWidth=S},C.prototype.$computeWidth=function(S){if(this.$modified||S){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var I=this.doc.getAllLines(),A=this.$rowLengthCache,w=0,M=0,R=this.$foldData[M],O=R?R.start.row:1/0,F=I.length,B=0;B<F;B++){if(B>O){if(B=R.end.row+1,B>=F)break;R=this.$foldData[M++],O=R?R.start.row:1/0}A[B]==null&&(A[B]=this.$getStringScreenWidth(I[B])[0]),A[B]>w&&(w=A[B])}this.screenWidth=w}},C.prototype.getLine=function(S){return this.doc.getLine(S)},C.prototype.getLines=function(S,I){return this.doc.getLines(S,I)},C.prototype.getLength=function(){return this.doc.getLength()},C.prototype.getTextRange=function(S){return this.doc.getTextRange(S||this.selection.getRange())},C.prototype.insert=function(S,I){return this.doc.insert(S,I)},C.prototype.remove=function(S){return this.doc.remove(S)},C.prototype.removeFullLines=function(S,I){return this.doc.removeFullLines(S,I)},C.prototype.undoChanges=function(S,I){if(!!S.length){this.$fromUndo=!0;for(var A=S.length-1;A!=-1;A--){var w=S[A];w.action=="insert"||w.action=="remove"?this.doc.revertDelta(w):w.folds&&this.addFolds(w.folds)}!I&&this.$undoSelect&&(S.selectionBefore?this.selection.fromJSON(S.selectionBefore):this.selection.setRange(this.$getUndoSelection(S,!0))),this.$fromUndo=!1}},C.prototype.redoChanges=function(S,I){if(!!S.length){this.$fromUndo=!0;for(var A=0;A<S.length;A++){var w=S[A];(w.action=="insert"||w.action=="remove")&&this.doc.$safeApplyDelta(w)}!I&&this.$undoSelect&&(S.selectionAfter?this.selection.fromJSON(S.selectionAfter):this.selection.setRange(this.$getUndoSelection(S,!1))),this.$fromUndo=!1}},C.prototype.setUndoSelect=function(S){this.$undoSelect=S},C.prototype.$getUndoSelection=function(S,I){function A(F){return I?F.action!=="insert":F.action==="insert"}for(var w,M,R=0;R<S.length;R++){var O=S[R];if(!!O.start){if(!w){A(O)?w=r.fromPoints(O.start,O.end):w=r.fromPoints(O.start,O.start);continue}A(O)?(M=O.start,w.compare(M.row,M.column)==-1&&w.setStart(M),M=O.end,w.compare(M.row,M.column)==1&&w.setEnd(M)):(M=O.start,w.compare(M.row,M.column)==-1&&(w=r.fromPoints(O.start,O.start)))}}return w},C.prototype.replace=function(S,I){return this.doc.replace(S,I)},C.prototype.moveText=function(S,I,A){var w=this.getTextRange(S),M=this.getFoldsInRange(S),R=r.fromPoints(I,I);if(!A){this.remove(S);var O=S.start.row-S.end.row,F=O?-S.end.column:S.start.column-S.end.column;F&&(R.start.row==S.end.row&&R.start.column>S.end.column&&(R.start.column+=F),R.end.row==S.end.row&&R.end.column>S.end.column&&(R.end.column+=F)),O&&R.start.row>=S.end.row&&(R.start.row+=O,R.end.row+=O)}if(R.end=this.insert(R.start,w),M.length){var B=S.start,N=R.start,O=N.row-B.row,F=N.column-B.column;this.addFolds(M.map(function(H){return H=H.clone(),H.start.row==B.row&&(H.start.column+=F),H.end.row==B.row&&(H.end.column+=F),H.start.row+=O,H.end.row+=O,H}))}return R},C.prototype.indentRows=function(S,I,A){A=A.replace(/\t/g,this.getTabString());for(var w=S;w<=I;w++)this.doc.insertInLine({row:w,column:0},A)},C.prototype.outdentRows=function(S){for(var I=S.collapseRows(),A=new r(0,0,0,0),w=this.getTabSize(),M=I.start.row;M<=I.end.row;++M){var R=this.getLine(M);A.start.row=M,A.end.row=M;for(var O=0;O<w&&R.charAt(O)==" ";++O);O<w&&R.charAt(O)=="	"?(A.start.column=O,A.end.column=O+1):(A.start.column=0,A.end.column=O),this.remove(A)}},C.prototype.$moveLines=function(S,I,A){if(S=this.getRowFoldStart(S),I=this.getRowFoldEnd(I),A<0){var w=this.getRowFoldStart(S+A);if(w<0)return 0;var M=w-S}else if(A>0){var w=this.getRowFoldEnd(I+A);if(w>this.doc.getLength()-1)return 0;var M=w-I}else{S=this.$clipRowToDocument(S),I=this.$clipRowToDocument(I);var M=I-S+1}var R=new r(S,0,I,Number.MAX_VALUE),O=this.getFoldsInRange(R).map(function(B){return B=B.clone(),B.start.row+=M,B.end.row+=M,B}),F=A==0?this.doc.getLines(S,I):this.doc.removeFullLines(S,I);return this.doc.insertFullLines(S+M,F),O.length&&this.addFolds(O),M},C.prototype.moveLinesUp=function(S,I){return this.$moveLines(S,I,-1)},C.prototype.moveLinesDown=function(S,I){return this.$moveLines(S,I,1)},C.prototype.duplicateLines=function(S,I){return this.$moveLines(S,I,0)},C.prototype.$clipRowToDocument=function(S){return Math.max(0,Math.min(S,this.doc.getLength()-1))},C.prototype.$clipColumnToRow=function(S,I){return I<0?0:Math.min(this.doc.getLine(S).length,I)},C.prototype.$clipPositionToDocument=function(S,I){if(I=Math.max(0,I),S<0)S=0,I=0;else{var A=this.doc.getLength();S>=A?(S=A-1,I=this.doc.getLine(A-1).length):I=Math.min(this.doc.getLine(S).length,I)}return{row:S,column:I}},C.prototype.$clipRangeToDocument=function(S){S.start.row<0?(S.start.row=0,S.start.column=0):S.start.column=this.$clipColumnToRow(S.start.row,S.start.column);var I=this.doc.getLength()-1;return S.end.row>I?(S.end.row=I,S.end.column=this.doc.getLine(I).length):S.end.column=this.$clipColumnToRow(S.end.row,S.end.column),S},C.prototype.setUseWrapMode=function(S){if(S!=this.$useWrapMode){if(this.$useWrapMode=S,this.$modified=!0,this.$resetRowCache(0),S){var I=this.getLength();this.$wrapData=Array(I),this.$updateWrapData(0,I-1)}this._signal("changeWrapMode")}},C.prototype.getUseWrapMode=function(){return this.$useWrapMode},C.prototype.setWrapLimitRange=function(S,I){(this.$wrapLimitRange.min!==S||this.$wrapLimitRange.max!==I)&&(this.$wrapLimitRange={min:S,max:I},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},C.prototype.adjustWrapLimit=function(S,I){var A=this.$wrapLimitRange;A.max<0&&(A={min:I,max:I});var w=this.$constrainWrapLimit(S,A.min,A.max);return w!=this.$wrapLimit&&w>1?(this.$wrapLimit=w,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},C.prototype.$constrainWrapLimit=function(S,I,A){return I&&(S=Math.max(I,S)),A&&(S=Math.min(A,S)),S},C.prototype.getWrapLimit=function(){return this.$wrapLimit},C.prototype.setWrapLimit=function(S){this.setWrapLimitRange(S,S)},C.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},C.prototype.$updateInternalDataOnChange=function(S){var I=this.$useWrapMode,A=S.action,w=S.start,M=S.end,R=w.row,O=M.row,F=O-R,B=null;if(this.$updating=!0,F!=0)if(A==="remove"){this[I?"$wrapData":"$rowLengthCache"].splice(R,F);var N=this.$foldData;B=this.getFoldsInRange(S),this.removeFolds(B);var _=this.getFoldLine(M.row),G=0;if(_){_.addRemoveChars(M.row,M.column,w.column-M.column),_.shiftRow(-F);var H=this.getFoldLine(R);H&&H!==_&&(H.merge(_),_=H),G=N.indexOf(_)+1}for(G;G<N.length;G++){var _=N[G];_.start.row>=M.row&&_.shiftRow(-F)}O=R}else{var z=Array(F);z.unshift(R,0);var j=I?this.$wrapData:this.$rowLengthCache;j.splice.apply(j,z);var N=this.$foldData,_=this.getFoldLine(R),G=0;if(_){var q=_.range.compareInside(w.row,w.column);q==0?(_=_.split(w.row,w.column),_&&(_.shiftRow(F),_.addRemoveChars(O,0,M.column-w.column))):q==-1&&(_.addRemoveChars(R,0,M.column-w.column),_.shiftRow(F)),G=N.indexOf(_)+1}for(G;G<N.length;G++){var _=N[G];_.start.row>=R&&_.shiftRow(F)}}else{F=Math.abs(S.start.column-S.end.column),A==="remove"&&(B=this.getFoldsInRange(S),this.removeFolds(B),F=-F);var _=this.getFoldLine(R);_&&_.addRemoveChars(R,w.column,F)}return I&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,I?this.$updateWrapData(R,O):this.$updateRowLengthCache(R,O),B},C.prototype.$updateRowLengthCache=function(S,I,A){this.$rowLengthCache[S]=null,this.$rowLengthCache[I]=null},C.prototype.$updateWrapData=function(S,I){var A=this.doc.getAllLines(),w=this.getTabSize(),M=this.$wrapData,R=this.$wrapLimit,O,F,B=S;for(I=Math.min(I,A.length-1);B<=I;)F=this.getFoldLine(B,F),F?(O=[],F.walk(function(N,_,G,H){var z;if(N!=null){z=this.$getDisplayTokens(N,O.length),z[0]=k;for(var j=1;j<z.length;j++)z[j]=y}else z=this.$getDisplayTokens(A[_].substring(H,G),O.length);O=O.concat(z)}.bind(this),F.end.row,A[F.end.row].length+1),M[F.start.row]=this.$computeWrapSplits(O,R,w),B=F.end.row+1):(O=this.$getDisplayTokens(A[B]),M[B]=this.$computeWrapSplits(O,R,w),B++)},C.prototype.$computeWrapSplits=function(S,I,A){if(S.length==0)return[];var w=[],M=S.length,R=0,O=0,F=this.$wrapAsCode,B=this.$indentedSoftWrap,N=I<=Math.max(2*A,8)||B===!1?0:Math.floor(I/2);function _(){var q=0;if(N===0)return q;if(B)for(var ne=0;ne<S.length;ne++){var X=S[ne];if(X==m)q+=1;else if(X==L)q+=A;else{if(X==T)continue;break}}return F&&B!==!1&&(q+=A),Math.min(q,N)}function G(q){for(var ne=q-R,X=R;X<q;X++){var ee=S[X];(ee===12||ee===2)&&(ne-=1)}w.length||(H=_(),w.indent=H),O+=ne,w.push(O),R=q}for(var H=0;M-R>I-H;){var z=R+I-H;if(S[z-1]>=m&&S[z]>=m){G(z);continue}if(S[z]==k||S[z]==y){for(z;z!=R-1&&S[z]!=k;z--);if(z>R){G(z);continue}for(z=R+I,z;z<S.length&&S[z]==y;z++);if(z==S.length)break;G(z);continue}for(var j=Math.max(z-(I-(I>>2)),R-1);z>j&&S[z]<k;)z--;if(F){for(;z>j&&S[z]<k;)z--;for(;z>j&&S[z]==v;)z--}else for(;z>j&&S[z]<m;)z--;if(z>j){G(++z);continue}z=R+I,S[z]==p&&z--,G(z-H)}return w},C.prototype.$getDisplayTokens=function(S,I){var A=[],w;I=I||0;for(var M=0;M<S.length;M++){var R=S.charCodeAt(M);if(R==9){w=this.getScreenTabSize(A.length+I),A.push(L);for(var O=1;O<w;O++)A.push(T)}else R==32?A.push(m):R>39&&R<48||R>57&&R<64?A.push(v):R>=4352&&E(R)?A.push(f,p):A.push(f)}return A},C.prototype.$getStringScreenWidth=function(S,I,A){if(I==0)return[0,0];I==null&&(I=1/0),A=A||0;var w,M;for(M=0;M<S.length&&(w=S.charCodeAt(M),w==9?A+=this.getScreenTabSize(A):w>=4352&&E(w)?A+=2:A+=1,!(A>I));M++);return[A,M]},C.prototype.getRowLength=function(S){var I=1;return this.lineWidgets&&(I+=this.lineWidgets[S]&&this.lineWidgets[S].rowCount||0),!this.$useWrapMode||!this.$wrapData[S]?I:this.$wrapData[S].length+I},C.prototype.getRowLineCount=function(S){return!this.$useWrapMode||!this.$wrapData[S]?1:this.$wrapData[S].length+1},C.prototype.getRowWrapIndent=function(S){if(this.$useWrapMode){var I=this.screenToDocumentPosition(S,Number.MAX_VALUE),A=this.$wrapData[I.row];return A.length&&A[0]<I.column?A.indent:0}else return 0},C.prototype.getScreenLastRowColumn=function(S){var I=this.screenToDocumentPosition(S,Number.MAX_VALUE);return this.documentToScreenColumn(I.row,I.column)},C.prototype.getDocumentLastRowColumn=function(S,I){var A=this.documentToScreenRow(S,I);return this.getScreenLastRowColumn(A)},C.prototype.getDocumentLastRowColumnPosition=function(S,I){var A=this.documentToScreenRow(S,I);return this.screenToDocumentPosition(A,Number.MAX_VALUE/10)},C.prototype.getRowSplitData=function(S){if(this.$useWrapMode)return this.$wrapData[S]},C.prototype.getScreenTabSize=function(S){return this.$tabSize-(S%this.$tabSize|0)},C.prototype.screenToDocumentRow=function(S,I){return this.screenToDocumentPosition(S,I).row},C.prototype.screenToDocumentColumn=function(S,I){return this.screenToDocumentPosition(S,I).column},C.prototype.screenToDocumentPosition=function(S,I,A){if(S<0)return{row:0,column:0};var w,M=0,R=0,O,F=0,B=0,N=this.$screenRowCache,_=this.$getRowCacheIndex(N,S),G=N.length;if(G&&_>=0)var F=N[_],M=this.$docRowCache[_],H=S>N[G-1];else var H=!G;for(var z=this.getLength()-1,j=this.getNextFoldLine(M),q=j?j.start.row:1/0;F<=S&&(B=this.getRowLength(M),!(F+B>S||M>=z));)F+=B,M++,M>q&&(M=j.end.row+1,j=this.getNextFoldLine(M,j),q=j?j.start.row:1/0),H&&(this.$docRowCache.push(M),this.$screenRowCache.push(F));if(j&&j.start.row<=M)w=this.getFoldDisplayLine(j),M=j.start.row;else{if(F+B<=S||M>z)return{row:z,column:this.getLine(z).length};w=this.getLine(M),j=null}var ne=0,X=Math.floor(S-F);if(this.$useWrapMode){var ee=this.$wrapData[M];ee&&(O=ee[X],X>0&&ee.length&&(ne=ee.indent,R=ee[X-1]||ee[ee.length-1],w=w.substring(R)))}return A!==void 0&&this.$bidiHandler.isBidiRow(F+X,M,X)&&(I=this.$bidiHandler.offsetToCol(A)),R+=this.$getStringScreenWidth(w,I-ne)[1],this.$useWrapMode&&R>=O&&(R=O-1),j?j.idxToPosition(R):{row:M,column:R}},C.prototype.documentToScreenPosition=function(S,I){if(typeof I=="undefined")var A=this.$clipPositionToDocument(S.row,S.column);else A=this.$clipPositionToDocument(S,I);S=A.row,I=A.column;var w=0,M=null,R=null;R=this.getFoldAt(S,I,1),R&&(S=R.start.row,I=R.start.column);var O,F=0,B=this.$docRowCache,N=this.$getRowCacheIndex(B,S),_=B.length;if(_&&N>=0)var F=B[N],w=this.$screenRowCache[N],G=S>B[_-1];else var G=!_;for(var H=this.getNextFoldLine(F),z=H?H.start.row:1/0;F<S;){if(F>=z){if(O=H.end.row+1,O>S)break;H=this.getNextFoldLine(O,H),z=H?H.start.row:1/0}else O=F+1;w+=this.getRowLength(F),F=O,G&&(this.$docRowCache.push(F),this.$screenRowCache.push(w))}var j="";H&&F>=z?(j=this.getFoldDisplayLine(H,S,I),M=H.start.row):(j=this.getLine(S).substring(0,I),M=S);var q=0;if(this.$useWrapMode){var ne=this.$wrapData[M];if(ne){for(var X=0;j.length>=ne[X];)w++,X++;j=j.substring(ne[X-1]||0,j.length),q=X>0?ne.indent:0}}return this.lineWidgets&&this.lineWidgets[F]&&this.lineWidgets[F].rowsAbove&&(w+=this.lineWidgets[F].rowsAbove),{row:w,column:q+this.$getStringScreenWidth(j)[0]}},C.prototype.documentToScreenColumn=function(S,I){return this.documentToScreenPosition(S,I).column},C.prototype.documentToScreenRow=function(S,I){return this.documentToScreenPosition(S,I).row},C.prototype.getScreenLength=function(){var S=0,I=null;if(this.$useWrapMode)for(var M=this.$wrapData.length,R=0,w=0,I=this.$foldData[w++],O=I?I.start.row:1/0;R<M;){var F=this.$wrapData[R];S+=F?F.length+1:1,R++,R>O&&(R=I.end.row+1,I=this.$foldData[w++],O=I?I.start.row:1/0)}else{S=this.getLength();for(var A=this.$foldData,w=0;w<A.length;w++)I=A[w],S-=I.end.row-I.start.row}return this.lineWidgets&&(S+=this.$getWidgetScreenLength()),S},C.prototype.$setFontMetrics=function(S){!this.$enableVarChar||(this.$getStringScreenWidth=function(I,A,w){if(A===0)return[0,0];A||(A=1/0),w=w||0;var M,R;for(R=0;R<I.length&&(M=I.charAt(R),M==="	"?w+=this.getScreenTabSize(w):w+=S.getCharacterWidth(M),!(w>A));R++);return[w,R]})},C.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},C}();c.$uid=0,c.prototype.$modes=o.$modes,c.prototype.getValue=c.prototype.toString,c.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},c.prototype.$overwrite=!1,c.prototype.$mode=null,c.prototype.$modeId=null,c.prototype.$scrollTop=0,c.prototype.$scrollLeft=0,c.prototype.$wrapLimit=80,c.prototype.$useWrapMode=!1,c.prototype.$wrapLimitRange={min:null,max:null},c.prototype.lineWidgets=null,c.prototype.isFullWidth=E,g.implement(c.prototype,a);var f=1,p=2,k=3,y=4,v=9,m=10,L=11,T=12;function E(C){return C<4352?!1:C>=4352&&C<=4447||C>=4515&&C<=4519||C>=4602&&C<=4607||C>=9001&&C<=9002||C>=11904&&C<=11929||C>=11931&&C<=12019||C>=12032&&C<=12245||C>=12272&&C<=12283||C>=12288&&C<=12350||C>=12353&&C<=12438||C>=12441&&C<=12543||C>=12549&&C<=12589||C>=12593&&C<=12686||C>=12688&&C<=12730||C>=12736&&C<=12771||C>=12784&&C<=12830||C>=12832&&C<=12871||C>=12880&&C<=13054||C>=13056&&C<=19903||C>=19968&&C<=42124||C>=42128&&C<=42182||C>=43360&&C<=43388||C>=44032&&C<=55203||C>=55216&&C<=55238||C>=55243&&C<=55291||C>=63744&&C<=64255||C>=65040&&C<=65049||C>=65072&&C<=65106||C>=65108&&C<=65126||C>=65128&&C<=65131||C>=65281&&C<=65376||C>=65504&&C<=65510}d("./edit_session/folding").Folding.call(c.prototype),d("./edit_session/bracket_match").BracketMatch.call(c.prototype),o.defineOptions(c.prototype,"session",{wrap:{set:function(C){if(!C||C=="off"?C=!1:C=="free"?C=!0:C=="printMargin"?C=-1:typeof C=="string"&&(C=parseInt(C,10)||!1),this.$wrap!=C)if(this.$wrap=C,!C)this.setUseWrapMode(!1);else{var S=typeof C=="number"?C:null;this.setWrapLimitRange(S,S),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(C){C=C=="auto"?this.$mode.type!="text":C!="text",C!=this.$wrapAsCode&&(this.$wrapAsCode=C,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(C){this.$useWorker=C,this.$stopWorker(),C&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(C){C=parseInt(C),C>0&&this.$tabSize!==C&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=C,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(C){this.setFoldStyle(C)},handlesSet:!0},overwrite:{set:function(C){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(C){this.doc.setNewLineMode(C)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(C){this.setMode(C)},get:function(){return this.$modeId},handlesSet:!0}}),h.EditSession=c}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(d,h,b){var g=d("./lib/lang"),l=d("./lib/oop"),u=d("./range").Range,o=function(){function t(){this.$options={}}return t.prototype.set=function(n){return l.mixin(this.$options,n),this},t.prototype.getOptions=function(){return g.copyObject(this.$options)},t.prototype.setOptions=function(n){this.$options=n},t.prototype.find=function(n){var r=this.$options,e=this.$matchIterator(n,r);if(!e)return!1;var i=null;return e.forEach(function(s,c,f,p){return i=new u(s,c,f,p),c==p&&r.start&&r.start.start&&r.skipCurrent!=!1&&i.isEqual(r.start)?(i=null,!1):!0}),i},t.prototype.findAll=function(n){var r=this.$options;if(!r.needle)return[];this.$assembleRegExp(r);var e=r.range,i=e?n.getLines(e.start.row,e.end.row):n.doc.getAllLines(),s=[],c=r.re;if(r.$isMultiLine){var f=c.length,p=i.length-f,k;e:for(var y=c.offset||0;y<=p;y++){for(var v=0;v<f;v++)if(i[y+v].search(c[v])==-1)continue e;var m=i[y],L=i[y+f-1],T=m.length-m.match(c[0])[0].length,E=L.match(c[f-1])[0].length;k&&k.end.row===y&&k.end.column>T||(s.push(k=new u(y,T,y+f-1,E)),f>2&&(y=y+f-2))}}else for(var C=0;C<i.length;C++)for(var S=g.getMatchOffsets(i[C],c),v=0;v<S.length;v++){var I=S[v];s.push(new u(C,I.offset,C,I.offset+I.length))}if(e){for(var A=e.start.column,w=e.end.column,C=0,v=s.length-1;C<v&&s[C].start.column<A&&s[C].start.row==0;)C++;for(var M=e.end.row-e.start.row;C<v&&s[v].end.column>w&&s[v].end.row==M;)v--;for(s=s.slice(C,v+1),C=0,v=s.length;C<v;C++)s[C].start.row+=e.start.row,s[C].end.row+=e.start.row}return s},t.prototype.replace=function(n,r){var e=this.$options,i=this.$assembleRegExp(e);if(e.$isMultiLine)return r;if(!!i){var s=i.exec(n);if(!s||s[0].length!=n.length)return null;if(r=n.replace(i,r),e.preserveCase){r=r.split("");for(var c=Math.min(n.length,n.length);c--;){var f=n[c];f&&f.toLowerCase()!=f?r[c]=r[c].toUpperCase():r[c]=r[c].toLowerCase()}r=r.join("")}return r}},t.prototype.$assembleRegExp=function(n,r){if(n.needle instanceof RegExp)return n.re=n.needle;var e=n.needle;if(!n.needle)return n.re=!1;n.regExp||(e=g.escapeRegExp(e)),n.wholeWord&&(e=a(e,n));var i=n.caseSensitive?"gm":"gmi";if(n.$isMultiLine=!r&&/[\n\r]/.test(e),n.$isMultiLine)return n.re=this.$assembleMultilineRegExp(e,i);try{var s=new RegExp(e,i)}catch(c){s=!1}return n.re=s},t.prototype.$assembleMultilineRegExp=function(n,r){for(var e=n.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),i=[],s=0;s<e.length;s++)try{i.push(new RegExp(e[s],r))}catch(c){return!1}return i},t.prototype.$matchIterator=function(n,r){var e=this.$assembleRegExp(r);if(!e)return!1;var i=r.backwards==!0,s=r.skipCurrent!=!1,c=r.range,f=r.start;f||(f=c?c[i?"end":"start"]:n.selection.getRange()),f.start&&(f=f[s!=i?"end":"start"]);var p=c?c.start.row:0,k=c?c.end.row:n.getLength()-1;if(i)var y=function(L){var T=f.row;if(!m(T,f.column,L)){for(T--;T>=p;T--)if(m(T,Number.MAX_VALUE,L))return;if(r.wrap!=!1){for(T=k,p=f.row;T>=p;T--)if(m(T,Number.MAX_VALUE,L))return}}};else var y=function(T){var E=f.row;if(!m(E,f.column,T)){for(E=E+1;E<=k;E++)if(m(E,0,T))return;if(r.wrap!=!1){for(E=p,k=f.row;E<=k;E++)if(m(E,0,T))return}}};if(r.$isMultiLine)var v=e.length,m=function(L,T,E){var C=i?L-v+1:L;if(!(C<0||C+v>n.getLength())){var S=n.getLine(C),I=S.search(e[0]);if(!(!i&&I<T||I===-1)){for(var A=1;A<v;A++)if(S=n.getLine(C+A),S.search(e[A])==-1)return;var w=S.match(e[v-1])[0].length;if(!(i&&w>T)&&E(C,I,C+v-1,w))return!0}}};else if(i)var m=function(T,E,C){var S=n.getLine(T),I=[],A,w=0;for(e.lastIndex=0;A=e.exec(S);){var M=A[0].length;if(w=A.index,!M){if(w>=S.length)break;e.lastIndex=w+=1}if(A.index+M>E)break;I.push(A.index,M)}for(var R=I.length-1;R>=0;R-=2){var O=I[R-1],M=I[R];if(C(T,O,T,O+M))return!0}};else var m=function(T,E,C){var S=n.getLine(T),I,A;for(e.lastIndex=E;A=e.exec(S);){var w=A[0].length;if(I=A.index,C(T,I,T,I+w))return!0;if(!w&&(e.lastIndex=I+=1,I>=S.length))return!1}};return{forEach:y}},t}();function a(t,n){function r(e){return/\w/.test(e)||n.regExp?"\\b":""}return r(t[0])+t+r(t[t.length-1])}h.Search=o}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(d,h,b){var g=this&&this.__extends||function(){var r=function(e,i){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(s[f]=c[f])},r(e,i)};return function(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");r(e,i);function s(){this.constructor=e}e.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),l=d("../lib/keys"),u=d("../lib/useragent"),o=l.KEY_MODS,a=function(){function r(e,i){this.$init(e,i,!1)}return r.prototype.$init=function(e,i,s){this.platform=i||(u.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=s},r.prototype.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},r.prototype.removeCommand=function(e,i){var s=e&&(typeof e=="string"?e:e.name);e=this.commands[s],i||delete this.commands[s];var c=this.commandKeyBinding;for(var f in c){var p=c[f];if(p==e)delete c[f];else if(Array.isArray(p)){var k=p.indexOf(e);k!=-1&&(p.splice(k,1),p.length==1&&(c[f]=p[0]))}}},r.prototype.bindKey=function(e,i,s){if(typeof e=="object"&&e&&(s==null&&(s=e.position),e=e[this.platform]),!!e){if(typeof i=="function")return this.addCommand({exec:i,bindKey:e,name:i.name||e});e.split("|").forEach(function(c){var f="";if(c.indexOf(" ")!=-1){var p=c.split(/\s+/);c=p.pop(),p.forEach(function(v){var m=this.parseKeys(v),L=o[m.hashId]+m.key;f+=(f?" ":"")+L,this._addCommandToBinding(f,"chainKeys")},this),f+=" "}var k=this.parseKeys(c),y=o[k.hashId]+k.key;this._addCommandToBinding(f+y,i,s)},this)}},r.prototype._addCommandToBinding=function(e,i,s){var c=this.commandKeyBinding,f;if(!i)delete c[e];else if(!c[e]||this.$singleCommand)c[e]=i;else{Array.isArray(c[e])?(f=c[e].indexOf(i))!=-1&&c[e].splice(f,1):c[e]=[c[e]],typeof s!="number"&&(s=t(i));var p=c[e];for(f=0;f<p.length;f++){var k=p[f],y=t(k);if(y>s)break}p.splice(f,0,i)}},r.prototype.addCommands=function(e){e&&Object.keys(e).forEach(function(i){var s=e[i];if(!!s){if(typeof s=="string")return this.bindKey(s,i);typeof s=="function"&&(s={exec:s}),typeof s=="object"&&(s.name||(s.name=i),this.addCommand(s))}},this)},r.prototype.removeCommands=function(e){Object.keys(e).forEach(function(i){this.removeCommand(e[i])},this)},r.prototype.bindKeys=function(e){Object.keys(e).forEach(function(i){this.bindKey(i,e[i])},this)},r.prototype._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},r.prototype.parseKeys=function(e){var i=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(y){return y}),s=i.pop(),c=l[s];if(l.FUNCTION_KEYS[c])s=l.FUNCTION_KEYS[c].toLowerCase();else if(i.length){if(i.length==1&&i[0]=="shift")return{key:s.toUpperCase(),hashId:-1}}else return{key:s,hashId:-1};for(var f=0,p=i.length;p--;){var k=l.KEY_MODS[i[p]];if(k==null)return typeof console!="undefined"&&console.error("invalid modifier "+i[p]+" in "+e),!1;f|=k}return{key:s,hashId:f}},r.prototype.findKeyCommand=function(e,i){var s=o[e]+i;return this.commandKeyBinding[s]},r.prototype.handleKeyboard=function(e,i,s,c){if(!(c<0)){var f=o[i]+s,p=this.commandKeyBinding[f];return e.$keyChain&&(e.$keyChain+=" "+f,p=this.commandKeyBinding[e.$keyChain]||p),p&&(p=="chainKeys"||p[p.length-1]=="chainKeys")?(e.$keyChain=e.$keyChain||f,{command:"null"}):(e.$keyChain&&((!i||i==4)&&s.length==1?e.$keyChain=e.$keyChain.slice(0,-f.length-1):(i==-1||c>0)&&(e.$keyChain="")),{command:p})}},r.prototype.getStatusText=function(e,i){return i.$keyChain||""},r}();function t(r){return typeof r=="object"&&r.bindKey&&r.bindKey.position||(r.isDefault?-100:0)}var n=function(r){g(e,r);function e(i,s){var c=r.call(this,i,s)||this;return c.$singleCommand=!0,c}return e}(a);n.call=function(r,e,i){a.prototype.$init.call(r,e,i,!0)},a.call=function(r,e,i){a.prototype.$init.call(r,e,i,!1)},h.HashHandler=n,h.MultiHashHandler=a}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(d,h,b){var g=this&&this.__extends||function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])},t(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(n,r);function e(){this.constructor=n}n.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}(),l=d("../lib/oop"),u=d("../keyboard/hash_handler").MultiHashHandler,o=d("../lib/event_emitter").EventEmitter,a=function(t){g(n,t);function n(r,e){var i=t.call(this,e,r)||this;return i.byName=i.commands,i.setDefaultHandler("exec",function(s){return s.args?s.command.exec(s.editor,s.args,s.event,!1):s.command.exec(s.editor,{},s.event,!0)}),i}return n.prototype.exec=function(r,e,i){if(Array.isArray(r)){for(var s=r.length;s--;)if(this.exec(r[s],e,i))return!0;return!1}if(typeof r=="string"&&(r=this.commands[r]),!r||e&&e.$readOnly&&!r.readOnly||this.$checkCommandState!=!1&&r.isAvailable&&!r.isAvailable(e))return!1;var c={editor:e,command:r,args:i};return c.returnValue=this._emit("exec",c),this._signal("afterExec",c),c.returnValue!==!1},n.prototype.toggleRecording=function(r){if(!this.$inReplay)return r&&r._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},n.prototype.replay=function(r){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(r);try{this.$inReplay=!0,this.macro.forEach(function(e){typeof e=="string"?this.exec(e,r):this.exec(e[0],r,e[1])},this)}finally{this.$inReplay=!1}}},n.prototype.trimMacro=function(r){return r.map(function(e){return typeof e[0]!="string"&&(e[0]=e[0].name),e[1]||(e=e[0]),e})},n}(u);l.implement(a.prototype,o),h.CommandManager=a}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(d,h,b){var g=d("../lib/lang"),l=d("../config"),u=d("../range").Range;function o(t,n){return{win:t,mac:n}}h.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:o("Ctrl-,","Command-,"),exec:function(t){l.loadModule("ace/ext/settings_menu",function(n){n.init(t),t.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:o("Alt-E","F4"),exec:function(t){l.loadModule("ace/ext/error_marker",function(n){n.showErrorMarker(t,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:o("Alt-Shift-E","Shift-F4"),exec:function(t){l.loadModule("ace/ext/error_marker",function(n){n.showErrorMarker(t,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:o("Ctrl-A","Command-A"),exec:function(t){t.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:o(null,"Ctrl-L"),exec:function(t){t.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:o("Ctrl-L","Command-L"),exec:function(t,n){typeof n=="number"&&!isNaN(n)&&t.gotoLine(n),t.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:o("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(t){t.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:o("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(t){t.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:o("F2","F2"),exec:function(t){t.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:o("Alt-F2","Alt-F2"),exec:function(t){t.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:o("Alt-0","Command-Option-0"),exec:function(t){t.session.foldAll(),t.session.unfold(t.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:o("Alt-Shift-0","Command-Option-Shift-0"),exec:function(t){t.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:o("Ctrl-K","Command-G"),exec:function(t){t.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:o("Ctrl-Shift-K","Command-Shift-G"),exec:function(t){t.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:o("Alt-K","Ctrl-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:o("Alt-Shift-K","Ctrl-Shift-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:o("Ctrl-F","Command-F"),exec:function(t){l.loadModule("ace/ext/searchbox",function(n){n.Search(t)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(t){t.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:o("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(t){t.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:o("Ctrl-Home","Command-Home|Command-Up"),exec:function(t){t.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:o("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(t){t.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:o("Up","Up|Ctrl-P"),exec:function(t,n){t.navigateUp(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:o("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(t){t.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:o("Ctrl-End","Command-End|Command-Down"),exec:function(t){t.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:o("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(t){t.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:o("Down","Down|Ctrl-N"),exec:function(t,n){t.navigateDown(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:o("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(t){t.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:o("Ctrl-Left","Option-Left"),exec:function(t){t.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:o("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:o("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(t){t.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:o("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(t){t.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:o("Left","Left|Ctrl-B"),exec:function(t,n){t.navigateLeft(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:o("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(t){t.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:o("Ctrl-Right","Option-Right"),exec:function(t){t.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:o("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:o("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(t){t.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:o("Shift-Right","Shift-Right"),exec:function(t){t.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:o("Right","Right|Ctrl-F"),exec:function(t,n){t.navigateRight(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(t){t.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:o(null,"Option-PageDown"),exec:function(t){t.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:o("PageDown","PageDown|Ctrl-V"),exec:function(t){t.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(t){t.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:o(null,"Option-PageUp"),exec:function(t){t.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(t){t.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:o("Ctrl-Up",null),exec:function(t){t.renderer.scrollBy(0,-2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:o("Ctrl-Down",null),exec:function(t){t.renderer.scrollBy(0,2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:o("Ctrl-Alt-E","Command-Option-E"),exec:function(t){t.commands.toggleRecording(t)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:o("Ctrl-Shift-E","Command-Shift-E"),exec:function(t){t.commands.replay(t)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:o("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(t){t.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:o("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(t){t.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:o("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(t){t.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:o(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(t){},readOnly:!0},{name:"cut",description:"Cut",exec:function(t){var n=t.$copyWithEmptySelection&&t.selection.isEmpty(),r=n?t.selection.getLineRange():t.selection.getRange();t._emit("cut",r),r.isEmpty()||t.session.remove(r),t.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(t,n){t.$handlePaste(n)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:o("Ctrl-D","Command-D"),exec:function(t){t.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:o("Ctrl-Shift-D","Command-Shift-D"),exec:function(t){t.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:o("Ctrl-Alt-S","Command-Alt-S"),exec:function(t){t.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:o("Ctrl-/","Command-/"),exec:function(t){t.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:o("Ctrl-Shift-/","Command-Shift-/"),exec:function(t){t.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:o("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(t){t.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:o("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(t){t.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:o("Ctrl-H","Command-Option-F"),exec:function(t){l.loadModule("ace/ext/searchbox",function(n){n.Search(t,!0)})}},{name:"undo",description:"Undo",bindKey:o("Ctrl-Z","Command-Z"),exec:function(t){t.undo()}},{name:"redo",description:"Redo",bindKey:o("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(t){t.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:o("Alt-Shift-Up","Command-Option-Up"),exec:function(t){t.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:o("Alt-Up","Option-Up"),exec:function(t){t.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:o("Alt-Shift-Down","Command-Option-Down"),exec:function(t){t.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:o("Alt-Down","Option-Down"),exec:function(t){t.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:o("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(t){t.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:o("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(t){t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:o("Shift-Delete",null),exec:function(t){if(t.selection.isEmpty())t.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:o("Alt-Backspace","Command-Backspace"),exec:function(t){t.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:o("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(t){t.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:o("Ctrl-Shift-Backspace",null),exec:function(t){var n=t.selection.getRange();n.start.column=0,t.session.remove(n)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:o("Ctrl-Shift-Delete",null),exec:function(t){var n=t.selection.getRange();n.end.column=Number.MAX_VALUE,t.session.remove(n)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:o("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(t){t.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:o("Ctrl-Delete","Alt-Delete"),exec:function(t){t.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:o("Shift-Tab","Shift-Tab"),exec:function(t){t.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:o("Tab","Tab"),exec:function(t){t.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:o("Ctrl-[","Ctrl-["),exec:function(t){t.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:o("Ctrl-]","Ctrl-]"),exec:function(t){t.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(t,n){t.insert(n)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(t,n){t.insert(g.stringRepeat(n.text||"",n.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:o(null,"Ctrl-O"),exec:function(t){t.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:o("Alt-Shift-X","Ctrl-T"),exec:function(t){t.transposeLetters()},multiSelectAction:function(t){t.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:o("Ctrl-U","Ctrl-U"),exec:function(t){t.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:o("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(t){t.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:o(null,null),exec:function(t){t.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:o("Ctrl-Shift-L","Command-Shift-L"),exec:function(t){var n=t.selection.getRange();n.start.column=n.end.column=0,n.end.row++,t.selection.setRange(n,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:o("Ctrl+F3","F3"),exec:function(t){t.openLink()}},{name:"joinlines",description:"Join lines",bindKey:o(null,null),exec:function(t){for(var n=t.selection.isBackwards(),r=n?t.selection.getSelectionLead():t.selection.getSelectionAnchor(),e=n?t.selection.getSelectionAnchor():t.selection.getSelectionLead(),i=t.session.doc.getLine(r.row).length,s=t.session.doc.getTextRange(t.selection.getRange()),c=s.replace(/\n\s*/," ").length,f=t.session.doc.getLine(r.row),p=r.row+1;p<=e.row+1;p++){var k=g.stringTrimLeft(g.stringTrimRight(t.session.doc.getLine(p)));k.length!==0&&(k=" "+k),f+=k}e.row+1<t.session.doc.getLength()-1&&(f+=t.session.doc.getNewLineCharacter()),t.clearSelection(),t.session.doc.replace(new u(r.row,0,e.row+2,0),f),c>0?(t.selection.moveCursorTo(r.row,r.column),t.selection.selectTo(r.row,r.column+c)):(i=t.session.doc.getLine(r.row).length>i?i+1:i,t.selection.moveCursorTo(r.row,i))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:o(null,null),exec:function(t){var n=t.session.doc.getLength()-1,r=t.session.doc.getLine(n).length,e=t.selection.rangeList.ranges,i=[];e.length<1&&(e=[t.selection.getRange()]);for(var s=0;s<e.length;s++)s==e.length-1&&(e[s].end.row===n&&e[s].end.column===r||i.push(new u(e[s].end.row,e[s].end.column,n,r))),s===0?e[s].start.row===0&&e[s].start.column===0||i.push(new u(0,0,e[s].start.row,e[s].start.column)):i.push(new u(e[s-1].end.row,e[s-1].end.column,e[s].start.row,e[s].start.column));t.exitMultiSelectMode(),t.clearSelection();for(var s=0;s<i.length;s++)t.selection.addRange(i[s],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(t){t.selection.clearSelection(),t.navigateLineEnd(),t.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(t){t.selection.clearSelection();var n=t.getCursorPosition();t.selection.moveTo(n.row-1,Number.MAX_VALUE),t.insert(`
`),n.row===0&&t.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:o("F1","F1"),exec:function(t){t.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:o(null,null),exec:function(t){t.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)h.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(t){t.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(d,h,b){var g=d("./lib/dom"),l=function(){function u(o){this.session=o,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return u.prototype.getRowLength=function(o){var a;return this.lineWidgets?a=this.lineWidgets[o]&&this.lineWidgets[o].rowCount||0:a=0,!this.$useWrapMode||!this.$wrapData[o]?1+a:this.$wrapData[o].length+1+a},u.prototype.$getWidgetScreenLength=function(){var o=0;return this.lineWidgets.forEach(function(a){a&&a.rowCount&&!a.hidden&&(o+=a.rowCount)}),o},u.prototype.$onChangeEditor=function(o){this.attach(o.editor)},u.prototype.attach=function(o){o&&o.widgetManager&&o.widgetManager!=this&&o.widgetManager.detach(),this.editor!=o&&(this.detach(),this.editor=o,o&&(o.widgetManager=this,o.renderer.on("beforeRender",this.measureWidgets),o.renderer.on("afterRender",this.renderWidgets)))},u.prototype.detach=function(o){var a=this.editor;if(!!a){this.editor=null,a.widgetManager=null,a.renderer.off("beforeRender",this.measureWidgets),a.renderer.off("afterRender",this.renderWidgets);var t=this.session.lineWidgets;t&&t.forEach(function(n){n&&n.el&&n.el.parentNode&&(n._inDocument=!1,n.el.parentNode.removeChild(n.el))})}},u.prototype.updateOnFold=function(o,a){var t=a.lineWidgets;if(!(!t||!o.action)){for(var n=o.data,r=n.start.row,e=n.end.row,i=o.action=="add",s=r+1;s<e;s++)t[s]&&(t[s].hidden=i);t[e]&&(i?t[r]?t[e].hidden=i:t[r]=t[e]:(t[r]==t[e]&&(t[r]=void 0),t[e].hidden=i))}},u.prototype.updateOnChange=function(o){var a=this.session.lineWidgets;if(!!a){var t=o.start.row,n=o.end.row-t;if(n!==0)if(o.action=="remove"){var r=a.splice(t+1,n);!a[t]&&r[r.length-1]&&(a[t]=r.pop()),r.forEach(function(i){i&&this.removeLineWidget(i)},this),this.$updateRows()}else{var e=new Array(n);a[t]&&a[t].column!=null&&o.start.column>a[t].column&&t++,e.unshift(t,0),a.splice.apply(a,e),this.$updateRows()}}},u.prototype.$updateRows=function(){var o=this.session.lineWidgets;if(!!o){var a=!0;o.forEach(function(t,n){if(t)for(a=!1,t.row=n;t.$oldWidget;)t.$oldWidget.row=n,t=t.$oldWidget}),a&&(this.session.lineWidgets=null)}},u.prototype.$registerLineWidget=function(o){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var a=this.session.lineWidgets[o.row];return a&&(o.$oldWidget=a,a.el&&a.el.parentNode&&(a.el.parentNode.removeChild(a.el),a._inDocument=!1)),this.session.lineWidgets[o.row]=o,o},u.prototype.addLineWidget=function(o){if(this.$registerLineWidget(o),o.session=this.session,!this.editor)return o;var a=this.editor.renderer;o.html&&!o.el&&(o.el=g.createElement("div"),o.el.innerHTML=o.html),o.text&&!o.el&&(o.el=g.createElement("div"),o.el.textContent=o.text),o.el&&(g.addCssClass(o.el,"ace_lineWidgetContainer"),o.className&&g.addCssClass(o.el,o.className),o.el.style.position="absolute",o.el.style.zIndex=5,a.container.appendChild(o.el),o._inDocument=!0,o.coverGutter||(o.el.style.zIndex=3),o.pixelHeight==null&&(o.pixelHeight=o.el.offsetHeight)),o.rowCount==null&&(o.rowCount=o.pixelHeight/a.layerConfig.lineHeight);var t=this.session.getFoldAt(o.row,0);if(o.$fold=t,t){var n=this.session.lineWidgets;o.row==t.end.row&&!n[t.start.row]?n[t.start.row]=o:o.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:o.row}}}),this.$updateRows(),this.renderWidgets(null,a),this.onWidgetChanged(o),o},u.prototype.removeLineWidget=function(o){if(o._inDocument=!1,o.session=null,o.el&&o.el.parentNode&&o.el.parentNode.removeChild(o.el),o.editor&&o.editor.destroy)try{o.editor.destroy()}catch(t){}if(this.session.lineWidgets){var a=this.session.lineWidgets[o.row];if(a==o)this.session.lineWidgets[o.row]=o.$oldWidget,o.$oldWidget&&this.onWidgetChanged(o.$oldWidget);else for(;a;){if(a.$oldWidget==o){a.$oldWidget=o.$oldWidget;break}a=a.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:o.row}}}),this.$updateRows()},u.prototype.getWidgetsAtRow=function(o){for(var a=this.session.lineWidgets,t=a&&a[o],n=[];t;)n.push(t),t=t.$oldWidget;return n},u.prototype.onWidgetChanged=function(o){this.session._changedWidgets.push(o),this.editor&&this.editor.renderer.updateFull()},u.prototype.measureWidgets=function(o,a){var t=this.session._changedWidgets,n=a.layerConfig;if(!(!t||!t.length)){for(var r=1/0,e=0;e<t.length;e++){var i=t[e];if(!(!i||!i.el)&&i.session==this.session){if(!i._inDocument){if(this.session.lineWidgets[i.row]!=i)continue;i._inDocument=!0,a.container.appendChild(i.el)}i.h=i.el.offsetHeight,i.fixedWidth||(i.w=i.el.offsetWidth,i.screenWidth=Math.ceil(i.w/n.characterWidth));var s=i.h/n.lineHeight;i.coverLine&&(s-=this.session.getRowLineCount(i.row),s<0&&(s=0)),i.rowCount!=s&&(i.rowCount=s,i.row<r&&(r=i.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},u.prototype.renderWidgets=function(o,a){var t=a.layerConfig,n=this.session.lineWidgets;if(!!n){for(var r=Math.min(this.firstRow,t.firstRow),e=Math.max(this.lastRow,t.lastRow,n.length);r>0&&!n[r];)r--;this.firstRow=t.firstRow,this.lastRow=t.lastRow,a.$cursorLayer.config=t;for(var i=r;i<=e;i++){var s=n[i];if(!(!s||!s.el)){if(s.hidden){s.el.style.top=-100-(s.pixelHeight||0)+"px";continue}s._inDocument||(s._inDocument=!0,a.container.appendChild(s.el));var c=a.$cursorLayer.getPixelPosition({row:i,column:0},!0).top;s.coverLine||(c+=t.lineHeight*this.session.getRowLineCount(s.row)),s.el.style.top=c-t.offset+"px";var f=s.coverGutter?0:a.gutterWidth;s.fixedWidth||(f-=a.scrollLeft),s.el.style.left=f+"px",s.fullWidth&&s.screenWidth&&(s.el.style.minWidth=t.width+2*t.padding+"px"),s.fixedWidth?s.el.style.right=a.scrollBar.getWidth()+"px":s.el.style.right=""}}}},u}();h.LineWidgets=l}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(d,h,b){var g=d("../lib/keys"),l=d("../mouse/default_gutter_handler").GutterTooltip,u=function(){function a(t){this.editor=t,this.gutterLayer=t.renderer.$gutterLayer,this.element=t.renderer.$gutter,this.lines=t.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new l(this.editor)}return a.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},a.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},a.prototype.$onGutterKeyDown=function(t){if(this.annotationTooltip.isOpen){t.preventDefault(),t.keyCode===g.escape&&this.annotationTooltip.hideTooltip();return}if(t.target===this.element){if(t.keyCode!=g.enter)return;t.preventDefault();var n=this.editor.getCursorPosition().row;this.editor.isRowVisible(n)||this.editor.scrollToLine(n,!0,!0),setTimeout(function(){var r=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),e=this.$findNearestFoldWidget(r),i=this.$findNearestAnnotation(r);if(!(e===null&&i===null)){if(e===null&&i!==null){this.activeRowIndex=i,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(e!==null&&i===null){this.activeRowIndex=e,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(i-r)<Math.abs(e-r)){this.activeRowIndex=i,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=e,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}.bind(this),10);return}this.$handleGutterKeyboardInteraction(t),setTimeout(function(){this.editor._signal("gutterkeydown",new o(t,this))}.bind(this),10)},a.prototype.$handleGutterKeyboardInteraction=function(t){if(t.keyCode===g.tab){t.preventDefault();return}if(t.keyCode===g.escape){t.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(t.keyCode===g.up){switch(t.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(t.keyCode===g.down){switch(t.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(t.keyCode===g.left){t.preventDefault(),this.$switchLane("annotation");return}if(t.keyCode===g.right){t.preventDefault(),this.$switchLane("fold");return}if(t.keyCode===g.enter||t.keyCode===g.space){switch(t.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var n=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),t),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==n&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(n),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var r=this.lines.cells[this.activeRowIndex].element.childNodes[2],e=r.getBoundingClientRect(),i=this.annotationTooltip.getElement().style;i.left=e.right+"px",i.top=e.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},a.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},a.prototype.$isFoldWidgetVisible=function(t){var n=this.editor.isRowFullyVisible(this.$rowIndexToRow(t)),r=this.$getFoldWidget(t).style.display!=="none";return n&&r},a.prototype.$isAnnotationVisible=function(t){var n=this.editor.isRowFullyVisible(this.$rowIndexToRow(t)),r=this.$getAnnotation(t).style.display!=="none";return n&&r},a.prototype.$getFoldWidget=function(t){var n=this.lines.get(t),r=n.element;return r.childNodes[1]},a.prototype.$getAnnotation=function(t){var n=this.lines.get(t),r=n.element;return r.childNodes[2]},a.prototype.$findNearestFoldWidget=function(t){if(this.$isFoldWidgetVisible(t))return t;for(var n=0;t-n>0||t+n<this.lines.getLength()-1;){if(n++,t-n>=0&&this.$isFoldWidgetVisible(t-n))return t-n;if(t+n<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(t+n))return t+n}return null},a.prototype.$findNearestAnnotation=function(t){if(this.$isAnnotationVisible(t))return t;for(var n=0;t-n>0||t+n<this.lines.getLength()-1;){if(n++,t-n>=0&&this.$isAnnotationVisible(t-n))return t-n;if(t+n<=this.lines.getLength()-1&&this.$isAnnotationVisible(t+n))return t+n}return null},a.prototype.$focusFoldWidget=function(t){if(t!=null){var n=this.$getFoldWidget(t);n.classList.add(this.editor.renderer.keyboardFocusClassName),n.focus()}},a.prototype.$focusAnnotation=function(t){if(t!=null){var n=this.$getAnnotation(t);n.classList.add(this.editor.renderer.keyboardFocusClassName),n.focus()}},a.prototype.$blurFoldWidget=function(t){var n=this.$getFoldWidget(t);n.classList.remove(this.editor.renderer.keyboardFocusClassName),n.blur()},a.prototype.$blurAnnotation=function(t){var n=this.$getAnnotation(t);n.classList.remove(this.editor.renderer.keyboardFocusClassName),n.blur()},a.prototype.$moveFoldWidgetUp=function(){for(var t=this.activeRowIndex;t>0;)if(t--,this.$isFoldWidgetVisible(t)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=t,this.$focusFoldWidget(this.activeRowIndex);return}},a.prototype.$moveFoldWidgetDown=function(){for(var t=this.activeRowIndex;t<this.lines.getLength()-1;)if(t++,this.$isFoldWidgetVisible(t)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=t,this.$focusFoldWidget(this.activeRowIndex);return}},a.prototype.$moveAnnotationUp=function(){for(var t=this.activeRowIndex;t>0;)if(t--,this.$isAnnotationVisible(t)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=t,this.$focusAnnotation(this.activeRowIndex);return}},a.prototype.$moveAnnotationDown=function(){for(var t=this.activeRowIndex;t<this.lines.getLength()-1;)if(t++,this.$isAnnotationVisible(t)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=t,this.$focusAnnotation(this.activeRowIndex);return}},a.prototype.$switchLane=function(t){switch(t){case"annotation":if(this.activeLane==="annotation")break;var n=this.$findNearestAnnotation(this.activeRowIndex);if(n==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=n,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var r=this.$findNearestFoldWidget(this.activeRowIndex);if(r==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=r,this.$focusFoldWidget(this.activeRowIndex);break}},a.prototype.$rowIndexToRow=function(t){var n=this.lines.get(t);return n?n.row:null},a.prototype.$rowToRowIndex=function(t){for(var n=0;n<this.lines.getLength();n++){var r=this.lines.get(n);if(r.row==t)return n}return null},a}();h.GutterKeyboardHandler=u;var o=function(){function a(t,n){this.gutterKeyboardHandler=n,this.domEvent=t}return a.prototype.getKey=function(){return g.keyCodeToString(this.domEvent.keyCode)},a.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},a.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},a.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},a}();h.GutterKeyboardEvent=o}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(d,h,b){var g=this&&this.__values||function(A){var w=typeof Symbol=="function"&&Symbol.iterator,M=w&&A[w],R=0;if(M)return M.call(A);if(A&&typeof A.length=="number")return{next:function(){return A&&R>=A.length&&(A=void 0),{value:A&&A[R++],done:!A}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")},l=d("./lib/oop"),u=d("./lib/dom"),o=d("./lib/lang"),a=d("./lib/useragent"),t=d("./keyboard/textinput").TextInput,n=d("./mouse/mouse_handler").MouseHandler,r=d("./mouse/fold_handler").FoldHandler,e=d("./keyboard/keybinding").KeyBinding,i=d("./edit_session").EditSession,s=d("./search").Search,c=d("./range").Range,f=d("./lib/event_emitter").EventEmitter,p=d("./commands/command_manager").CommandManager,k=d("./commands/default_commands").commands,y=d("./config"),v=d("./token_iterator").TokenIterator,m=d("./line_widgets").LineWidgets,L=d("./keyboard/gutter_handler").GutterKeyboardHandler,T=d("./config").nls,E=d("./clipboard"),C=d("./lib/keys"),S=function(){function A(w,M,R){this.$toDestroy=[];var O=w.getContainerElement();this.container=O,this.renderer=w,this.id="editor"+ ++A.$uid,this.commands=new p(a.isMac?"mac":"win",k),typeof document=="object"&&(this.textInput=new t(w.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new n(this),new r(this)),this.keyBinding=new e(this),this.$search=new s().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(F,B){B._$emitInputEvent.schedule(31)}),this.setSession(M||R&&R.session||new i("")),y.resetOptions(this),R&&this.setOptions(R),y._signal("editor",this)}return A.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},A.prototype.startOperation=function(w){if(this.curOp){if(!w||this.curOp.command)return;this.prevOp=this.curOp}w||(this.previousCommand=null,w={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:w.command||{},args:w.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},A.prototype.endOperation=function(w){if(this.curOp&&this.session){if(w&&w.returnValue===!1||!this.session)return this.curOp=null;if(w==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var M=this.curOp.command,R=M&&M.scrollIntoView;if(R){switch(R){case"center-animate":R="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var O=this.selection.getRange(),F=this.renderer.layerConfig;(O.start.row>=F.lastRow||O.end.row<=F.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}R=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var B=this.selection.toJSON();this.curOp.selectionAfter=B,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(B),this.prevOp=this.curOp,this.curOp=null}},A.prototype.$historyTracker=function(w){if(!!this.$mergeUndoDeltas){var M=this.prevOp,R=this.$mergeableCommands,O=M.command&&w.command.name==M.command.name;if(w.command.name=="insertstring"){var F=w.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),O=O&&this.mergeNextCommand&&(!/\s/.test(F)||/\s/.test(M.args)),this.mergeNextCommand=!0}else O=O&&R.indexOf(w.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(O=!1),O?this.session.mergeUndoDeltas=!0:R.indexOf(w.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},A.prototype.setKeyboardHandler=function(w,M){if(w&&typeof w=="string"&&w!="ace"){this.$keybindingId=w;var R=this;y.loadModule(["keybinding",w],function(O){R.$keybindingId==w&&R.keyBinding.setKeyboardHandler(O&&O.handler),M&&M()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(w),M&&M()},A.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},A.prototype.setSession=function(w){if(this.session!=w){this.curOp&&this.endOperation(),this.curOp={};var M=this.session;if(M){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var R=this.session.getSelection();R.off("changeCursor",this.$onCursorChange),R.off("changeSelection",this.$onSelectionChange)}this.session=w,w?(this.$onDocumentChange=this.onDocumentChange.bind(this),w.on("change",this.$onDocumentChange),this.renderer.setSession(w),this.$onChangeMode=this.onChangeMode.bind(this),w.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),w.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),w.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),w.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),w.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),w.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=w.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(w)),this._signal("changeSession",{session:w,oldSession:M}),this.curOp=null,M&&M._signal("changeEditor",{oldEditor:this}),w&&w._signal("changeEditor",{editor:this}),w&&!w.destroyed&&w.bgTokenizer.scheduleStart()}},A.prototype.getSession=function(){return this.session},A.prototype.setValue=function(w,M){return this.session.doc.setValue(w),M?M==1?this.navigateFileEnd():M==-1&&this.navigateFileStart():this.selectAll(),w},A.prototype.getValue=function(){return this.session.getValue()},A.prototype.getSelection=function(){return this.selection},A.prototype.resize=function(w){this.renderer.onResize(w)},A.prototype.setTheme=function(w,M){this.renderer.setTheme(w,M)},A.prototype.getTheme=function(){return this.renderer.getTheme()},A.prototype.setStyle=function(w){this.renderer.setStyle(w)},A.prototype.unsetStyle=function(w){this.renderer.unsetStyle(w)},A.prototype.getFontSize=function(){return this.getOption("fontSize")||u.computedStyle(this.container).fontSize},A.prototype.setFontSize=function(w){this.setOption("fontSize",w)},A.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var w=this;this.$highlightPending=!0,setTimeout(function(){w.$highlightPending=!1;var M=w.session;if(!(!M||M.destroyed)){M.$bracketHighlight&&(M.$bracketHighlight.markerIds.forEach(function(z){M.removeMarker(z)}),M.$bracketHighlight=null);var R=w.getCursorPosition(),O=w.getKeyboardHandler(),F=O&&O.$getDirectionForHighlight&&O.$getDirectionForHighlight(w),B=M.getMatchingBracketRanges(R,F);if(!B){var N=new v(M,R.row,R.column),_=N.getCurrentToken();if(_&&/\b(?:tag-open|tag-name)/.test(_.type)){var G=M.getMatchingTags(R);G&&(B=[G.openTagName,G.closeTagName])}}if(!B&&M.$mode.getMatching&&(B=M.$mode.getMatching(w.session)),!B){w.getHighlightIndentGuides()&&w.renderer.$textLayer.$highlightIndentGuide();return}var H="ace_bracket";Array.isArray(B)?B.length==1&&(H="ace_error_bracket"):B=[B],B.length==2&&(c.comparePoints(B[0].end,B[1].start)==0?B=[c.fromPoints(B[0].start,B[1].end)]:c.comparePoints(B[0].start,B[1].end)==0&&(B=[c.fromPoints(B[1].start,B[0].end)])),M.$bracketHighlight={ranges:B,markerIds:B.map(function(z){return M.addMarker(z,H,"text")})},w.getHighlightIndentGuides()&&w.renderer.$textLayer.$highlightIndentGuide()}},50)}},A.prototype.focus=function(){this.textInput.focus()},A.prototype.isFocused=function(){return this.textInput.isFocused()},A.prototype.blur=function(){this.textInput.blur()},A.prototype.onFocus=function(w){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",w))},A.prototype.onBlur=function(w){!this.$isFocused||(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",w))},A.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},A.prototype.onDocumentChange=function(w){var M=this.session.$useWrapMode,R=w.start.row==w.end.row?w.end.row:1/0;this.renderer.updateLines(w.start.row,R,M),this._signal("change",w),this.$cursorChange()},A.prototype.onTokenizerUpdate=function(w){var M=w.data;this.renderer.updateLines(M.first,M.last)},A.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},A.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},A.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},A.prototype.$updateHighlightActiveLine=function(){var w=this.getSession(),M;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(M=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(M=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(M=!1)),w.$highlightLineMarker&&!M)w.removeMarker(w.$highlightLineMarker.id),w.$highlightLineMarker=null;else if(!w.$highlightLineMarker&&M){var R=new c(M.row,M.column,M.row,1/0);R.id=w.addMarker(R,"ace_active-line","screenLine"),w.$highlightLineMarker=R}else M&&(w.$highlightLineMarker.start.row=M.row,w.$highlightLineMarker.end.row=M.row,w.$highlightLineMarker.start.column=M.column,w._signal("changeBackMarker"))},A.prototype.onSelectionChange=function(w){var M=this.session;if(M.$selectionMarker&&M.removeMarker(M.$selectionMarker),M.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var R=this.selection.getRange(),O=this.getSelectionStyle();M.$selectionMarker=M.addMarker(R,"ace_selection",O)}var F=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(F),this._signal("changeSelection")},A.prototype.$getSelectionHighLightRegexp=function(){var w=this.session,M=this.getSelectionRange();if(!(M.isEmpty()||M.isMultiLine())){var R=M.start.column,O=M.end.column,F=w.getLine(M.start.row),B=F.substring(R,O);if(!(B.length>5e3||!/[\w\d]/.test(B))){var N=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:B}),_=F.substring(R-1,O+1);if(!!N.test(_))return N}}},A.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},A.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},A.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},A.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},A.prototype.onChangeMode=function(w){this.renderer.updateText(),this._emit("changeMode",w)},A.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},A.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},A.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},A.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},A.prototype.getCopyText=function(){var w=this.getSelectedText(),M=this.session.doc.getNewLineCharacter(),R=!1;if(!w&&this.$copyWithEmptySelection){R=!0;for(var O=this.selection.getAllRanges(),F=0;F<O.length;F++){var B=O[F];F&&O[F-1].start.row==B.start.row||(w+=this.session.getLine(B.start.row)+M)}}var N={text:w};return this._signal("copy",N),E.lineMode=R?N.text:!1,N.text},A.prototype.onCopy=function(){this.commands.exec("copy",this)},A.prototype.onCut=function(){this.commands.exec("cut",this)},A.prototype.onPaste=function(w,M){var R={text:w,event:M};this.commands.exec("paste",this,R)},A.prototype.$handlePaste=function(w){typeof w=="string"&&(w={text:w}),this._signal("paste",w);var M=w.text,R=M===E.lineMode,O=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)R?O.insert({row:this.selection.lead.row,column:0},M):this.insert(M);else if(R)this.selection.rangeList.ranges.forEach(function(H){O.insert({row:H.start.row,column:0},M)});else{var F=M.split(/\r\n|\r|\n/),B=this.selection.rangeList.ranges,N=F.length==2&&(!F[0]||!F[1]);if(F.length!=B.length||N)return this.commands.exec("insertstring",this,M);for(var _=B.length;_--;){var G=B[_];G.isEmpty()||O.remove(G),O.insert(G.start,F[_])}}},A.prototype.execCommand=function(w,M){return this.commands.exec(w,this,M)},A.prototype.insert=function(w,M){var R=this.session,O=R.getMode(),F=this.getCursorPosition();if(this.getBehavioursEnabled()&&!M){var B=O.transformAction(R.getState(F.row),"insertion",this,R,w);B&&(w!==B.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),w=B.text)}if(w=="	"&&(w=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&w.indexOf(`
`)==-1){var N=new c.fromPoints(F,F);N.end.column+=w.length,this.session.remove(N)}}else{var N=this.getSelectionRange();F=this.session.remove(N),this.clearSelection()}if(w==`
`||w==`\r
`){var z=R.getLine(F.row);if(F.column>z.search(/\S|$/)){var _=z.substr(F.column).search(/\S|$/);R.doc.removeInLine(F.row,F.column,F.column+_)}}this.clearSelection();var G=F.column,H=R.getState(F.row),z=R.getLine(F.row),j=O.checkOutdent(H,z,w);if(R.insert(F,w),B&&B.selection&&(B.selection.length==2?this.selection.setSelectionRange(new c(F.row,G+B.selection[0],F.row,G+B.selection[1])):this.selection.setSelectionRange(new c(F.row+B.selection[0],B.selection[1],F.row+B.selection[2],B.selection[3]))),this.$enableAutoIndent){if(R.getDocument().isNewLine(w)){var q=O.getNextLineIndent(H,z.slice(0,F.column),R.getTabString());R.insert({row:F.row+1,column:0},q)}j&&O.autoOutdent(H,R,F.row)}},A.prototype.autoIndent=function(){var w=this.session,M=w.getMode(),R,O;if(this.selection.isEmpty())R=0,O=w.doc.getLength()-1;else{var F=this.getSelectionRange();R=F.start.row,O=F.end.row}for(var B="",N="",_="",G,H,z,j=w.getTabString(),q=R;q<=O;q++)q>0&&(B=w.getState(q-1),N=w.getLine(q-1),_=M.getNextLineIndent(B,N,j)),G=w.getLine(q),H=M.$getIndent(G),_!==H&&(H.length>0&&(z=new c(q,0,q,H.length),w.remove(z)),_.length>0&&w.insert({row:q,column:0},_)),M.autoOutdent(B,w,q)},A.prototype.onTextInput=function(w,M){if(!M)return this.keyBinding.onTextInput(w);this.startOperation({command:{name:"insertstring"}});var R=this.applyComposition.bind(this,w,M);this.selection.rangeCount?this.forEachSelection(R):R(),this.endOperation()},A.prototype.applyComposition=function(w,M){if(M.extendLeft||M.extendRight){var R=this.selection.getRange();R.start.column-=M.extendLeft,R.end.column+=M.extendRight,R.start.column<0&&(R.start.row--,R.start.column+=this.session.getLine(R.start.row).length+1),this.selection.setRange(R),!w&&!R.isEmpty()&&this.remove()}if((w||!this.selection.isEmpty())&&this.insert(w,!0),M.restoreStart||M.restoreEnd){var R=this.selection.getRange();R.start.column-=M.restoreStart,R.end.column-=M.restoreEnd,this.selection.setRange(R)}},A.prototype.onCommandKey=function(w,M,R){return this.keyBinding.onCommandKey(w,M,R)},A.prototype.setOverwrite=function(w){this.session.setOverwrite(w)},A.prototype.getOverwrite=function(){return this.session.getOverwrite()},A.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},A.prototype.setScrollSpeed=function(w){this.setOption("scrollSpeed",w)},A.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},A.prototype.setDragDelay=function(w){this.setOption("dragDelay",w)},A.prototype.getDragDelay=function(){return this.getOption("dragDelay")},A.prototype.setSelectionStyle=function(w){this.setOption("selectionStyle",w)},A.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},A.prototype.setHighlightActiveLine=function(w){this.setOption("highlightActiveLine",w)},A.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},A.prototype.setHighlightGutterLine=function(w){this.setOption("highlightGutterLine",w)},A.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},A.prototype.setHighlightSelectedWord=function(w){this.setOption("highlightSelectedWord",w)},A.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},A.prototype.setAnimatedScroll=function(w){this.renderer.setAnimatedScroll(w)},A.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},A.prototype.setShowInvisibles=function(w){this.renderer.setShowInvisibles(w)},A.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},A.prototype.setDisplayIndentGuides=function(w){this.renderer.setDisplayIndentGuides(w)},A.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},A.prototype.setHighlightIndentGuides=function(w){this.renderer.setHighlightIndentGuides(w)},A.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},A.prototype.setShowPrintMargin=function(w){this.renderer.setShowPrintMargin(w)},A.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},A.prototype.setPrintMarginColumn=function(w){this.renderer.setPrintMarginColumn(w)},A.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},A.prototype.setReadOnly=function(w){this.setOption("readOnly",w)},A.prototype.getReadOnly=function(){return this.getOption("readOnly")},A.prototype.setBehavioursEnabled=function(w){this.setOption("behavioursEnabled",w)},A.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},A.prototype.setWrapBehavioursEnabled=function(w){this.setOption("wrapBehavioursEnabled",w)},A.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},A.prototype.setShowFoldWidgets=function(w){this.setOption("showFoldWidgets",w)},A.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},A.prototype.setFadeFoldWidgets=function(w){this.setOption("fadeFoldWidgets",w)},A.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},A.prototype.remove=function(w){this.selection.isEmpty()&&(w=="left"?this.selection.selectLeft():this.selection.selectRight());var M=this.getSelectionRange();if(this.getBehavioursEnabled()){var R=this.session,O=R.getState(M.start.row),F=R.getMode().transformAction(O,"deletion",this,R,M);if(M.end.column===0){var B=R.getTextRange(M);if(B[B.length-1]==`
`){var N=R.getLine(M.end.row);/^\s+$/.test(N)&&(M.end.column=N.length)}}F&&(M=F)}this.session.remove(M),this.clearSelection()},A.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},A.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},A.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},A.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var w=this.getSelectionRange();w.start.column==w.end.column&&w.start.row==w.end.row&&(w.end.column=0,w.end.row++),this.session.remove(w),this.clearSelection()},A.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var w=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(w)},A.prototype.setGhostText=function(w,M){this.session.widgetManager||(this.session.widgetManager=new m(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(w,M)},A.prototype.removeGhostText=function(){!this.session.widgetManager||this.renderer.removeGhostText()},A.prototype.transposeLetters=function(){if(!!this.selection.isEmpty()){var w=this.getCursorPosition(),M=w.column;if(M!==0){var R=this.session.getLine(w.row),O,F;M<R.length?(O=R.charAt(M)+R.charAt(M-1),F=new c(w.row,M-1,w.row,M+1)):(O=R.charAt(M-1)+R.charAt(M-2),F=new c(w.row,M-2,w.row,M)),this.session.replace(F,O),this.session.selection.moveToPosition(F.end)}}},A.prototype.toLowerCase=function(){var w=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var M=this.getSelectionRange(),R=this.session.getTextRange(M);this.session.replace(M,R.toLowerCase()),this.selection.setSelectionRange(w)},A.prototype.toUpperCase=function(){var w=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var M=this.getSelectionRange(),R=this.session.getTextRange(M);this.session.replace(M,R.toUpperCase()),this.selection.setSelectionRange(w)},A.prototype.indent=function(){var w=this.session,M=this.getSelectionRange();if(M.start.row<M.end.row){var R=this.$getSelectedRows();w.indentRows(R.first,R.last,"	");return}else if(M.start.column<M.end.column){var O=w.getTextRange(M);if(!/^\s+$/.test(O)){var R=this.$getSelectedRows();w.indentRows(R.first,R.last,"	");return}}var F=w.getLine(M.start.row),B=M.start,N=w.getTabSize(),_=w.documentToScreenColumn(B.row,B.column);if(this.session.getUseSoftTabs())var G=N-_%N,H=o.stringRepeat(" ",G);else{for(var G=_%N;F[M.start.column-1]==" "&&G;)M.start.column--,G--;this.selection.setSelectionRange(M),H="	"}return this.insert(H)},A.prototype.blockIndent=function(){var w=this.$getSelectedRows();this.session.indentRows(w.first,w.last,"	")},A.prototype.blockOutdent=function(){var w=this.session.getSelection();this.session.outdentRows(w.getRange())},A.prototype.sortLines=function(){for(var w=this.$getSelectedRows(),M=this.session,R=[],O=w.first;O<=w.last;O++)R.push(M.getLine(O));R.sort(function(N,_){return N.toLowerCase()<_.toLowerCase()?-1:N.toLowerCase()>_.toLowerCase()?1:0});for(var F=new c(0,0,0,0),O=w.first;O<=w.last;O++){var B=M.getLine(O);F.start.row=O,F.end.row=O,F.end.column=B.length,M.replace(F,R[O-w.first])}},A.prototype.toggleCommentLines=function(){var w=this.session.getState(this.getCursorPosition().row),M=this.$getSelectedRows();this.session.getMode().toggleCommentLines(w,this.session,M.first,M.last)},A.prototype.toggleBlockComment=function(){var w=this.getCursorPosition(),M=this.session.getState(w.row),R=this.getSelectionRange();this.session.getMode().toggleBlockComment(M,this.session,R,w)},A.prototype.getNumberAt=function(w,M){var R=/[\-]?[0-9]+(?:\.[0-9]+)?/g;R.lastIndex=0;for(var O=this.session.getLine(w);R.lastIndex<M;){var F=R.exec(O);if(F.index<=M&&F.index+F[0].length>=M){var B={value:F[0],start:F.index,end:F.index+F[0].length};return B}}return null},A.prototype.modifyNumber=function(w){var M=this.selection.getCursor().row,R=this.selection.getCursor().column,O=new c(M,R-1,M,R),F=this.session.getTextRange(O);if(!isNaN(parseFloat(F))&&isFinite(F)){var B=this.getNumberAt(M,R);if(B){var N=B.value.indexOf(".")>=0?B.start+B.value.indexOf(".")+1:B.end,_=B.start+B.value.length-N,G=parseFloat(B.value);G*=Math.pow(10,_),N!==B.end&&R<N?w*=Math.pow(10,B.end-R-1):w*=Math.pow(10,B.end-R),G+=w,G/=Math.pow(10,_);var H=G.toFixed(_),z=new c(M,B.start,M,B.end);this.session.replace(z,H),this.moveCursorTo(M,Math.max(B.start+1,R+H.length-B.value.length))}}else this.toggleWord()},A.prototype.toggleWord=function(){var w=this.selection.getCursor().row,M=this.selection.getCursor().column;this.selection.selectWord();var R=this.getSelectedText(),O=this.selection.getWordRange().start.column,F=R.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),B=M-O-1;B<0&&(B=0);var N=0,_=0,G=this;R.match(/[A-Za-z0-9_]+/)&&F.forEach(function(re,ge){_=N+re.length,B>=N&&B<=_&&(R=re,G.selection.clearSelection(),G.moveCursorTo(w,N+O),G.selection.selectTo(w,_+O)),N=_});for(var H=this.$toggleWordPairs,z,j=0;j<H.length;j++)for(var q=H[j],ne=0;ne<=1;ne++){var X=+!ne,ee=R.match(new RegExp("^\\s?_?("+o.escapeRegExp(q[ne])+")\\s?$","i"));if(ee){var ae=R.match(new RegExp("([_]|^|\\s)("+o.escapeRegExp(ee[1])+")($|\\s)","g"));ae&&(z=R.replace(new RegExp(o.escapeRegExp(q[ne]),"i"),function(re){var ge=q[X];return re.toUpperCase()==re?ge=ge.toUpperCase():re.charAt(0).toUpperCase()==re.charAt(0)&&(ge=ge.substr(0,0)+q[X].charAt(0).toUpperCase()+ge.substr(1)),ge}),this.insert(z),z="")}}},A.prototype.findLinkAt=function(w,M){var R,O,F=this.session.getLine(w),B=F.split(/((?:https?|ftp):\/\/[\S]+)/),N=M;N<0&&(N=0);var _=0,G=0,H;try{for(var z=g(B),j=z.next();!j.done;j=z.next()){var q=j.value;if(G=_+q.length,N>=_&&N<=G&&q.match(/((?:https?|ftp):\/\/[\S]+)/)){H=q.replace(/[\s:.,'";}\]]+$/,"");break}_=G}}catch(ne){R={error:ne}}finally{try{j&&!j.done&&(O=z.return)&&O.call(z)}finally{if(R)throw R.error}}return H},A.prototype.openLink=function(){var w=this.selection.getCursor(),M=this.findLinkAt(w.row,w.column);return M&&window.open(M,"_blank"),M!=null},A.prototype.removeLines=function(){var w=this.$getSelectedRows();this.session.removeFullLines(w.first,w.last),this.clearSelection()},A.prototype.duplicateSelection=function(){var w=this.selection,M=this.session,R=w.getRange(),O=w.isBackwards();if(R.isEmpty()){var F=R.start.row;M.duplicateLines(F,F)}else{var B=O?R.start:R.end,N=M.insert(B,M.getTextRange(R),!1);R.start=B,R.end=N,w.setSelectionRange(R,O)}},A.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},A.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},A.prototype.moveText=function(w,M,R){return this.session.moveText(w,M,R)},A.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},A.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},A.prototype.$moveLines=function(w,M){var R,O,F=this.selection;if(!F.inMultiSelectMode||this.inVirtualSelectionMode){var B=F.toOrientedRange();R=this.$getSelectedRows(B),O=this.session.$moveLines(R.first,R.last,M?0:w),M&&w==-1&&(O=0),B.moveBy(O,0),F.fromOrientedRange(B)}else{var N=F.rangeList.ranges;F.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var _=0,G=0,H=N.length,z=0;z<H;z++){var j=z;N[z].moveBy(_,0),R=this.$getSelectedRows(N[z]);for(var q=R.first,ne=R.last;++z<H;){G&&N[z].moveBy(G,0);var X=this.$getSelectedRows(N[z]);if(M&&X.first!=ne)break;if(!M&&X.first>ne+1)break;ne=X.last}for(z--,_=this.session.$moveLines(q,ne,M?0:w),M&&w==-1&&(j=z+1);j<=z;)N[j].moveBy(_,0),j++;M||(_=0),G+=_}F.fromOrientedRange(F.ranges[0]),F.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},A.prototype.$getSelectedRows=function(w){return w=(w||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(w.start.row),last:this.session.getRowFoldEnd(w.end.row)}},A.prototype.onCompositionStart=function(w){this.renderer.showComposition(w)},A.prototype.onCompositionUpdate=function(w){this.renderer.setCompositionText(w)},A.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},A.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},A.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},A.prototype.isRowVisible=function(w){return w>=this.getFirstVisibleRow()&&w<=this.getLastVisibleRow()},A.prototype.isRowFullyVisible=function(w){return w>=this.renderer.getFirstFullyVisibleRow()&&w<=this.renderer.getLastFullyVisibleRow()},A.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},A.prototype.$moveByPage=function(w,M){var R=this.renderer,O=this.renderer.layerConfig,F=w*Math.floor(O.height/O.lineHeight);M===!0?this.selection.$moveSelection(function(){this.moveCursorBy(F,0)}):M===!1&&(this.selection.moveCursorBy(F,0),this.selection.clearSelection());var B=R.scrollTop;R.scrollBy(0,F*O.lineHeight),M!=null&&R.scrollCursorIntoView(null,.5),R.animateScrolling(B)},A.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},A.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},A.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},A.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},A.prototype.scrollPageDown=function(){this.$moveByPage(1)},A.prototype.scrollPageUp=function(){this.$moveByPage(-1)},A.prototype.scrollToRow=function(w){this.renderer.scrollToRow(w)},A.prototype.scrollToLine=function(w,M,R,O){this.renderer.scrollToLine(w,M,R,O)},A.prototype.centerSelection=function(){var w=this.getSelectionRange(),M={row:Math.floor(w.start.row+(w.end.row-w.start.row)/2),column:Math.floor(w.start.column+(w.end.column-w.start.column)/2)};this.renderer.alignCursor(M,.5)},A.prototype.getCursorPosition=function(){return this.selection.getCursor()},A.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},A.prototype.getSelectionRange=function(){return this.selection.getRange()},A.prototype.selectAll=function(){this.selection.selectAll()},A.prototype.clearSelection=function(){this.selection.clearSelection()},A.prototype.moveCursorTo=function(w,M){this.selection.moveCursorTo(w,M)},A.prototype.moveCursorToPosition=function(w){this.selection.moveCursorToPosition(w)},A.prototype.jumpToMatching=function(w,M){var R=this.getCursorPosition(),O=new v(this.session,R.row,R.column),F=O.getCurrentToken(),B=0;F&&F.type.indexOf("tag-name")!==-1&&(F=O.stepBackward());var N=F||O.stepForward();if(!!N){var _,G=!1,H={},z=R.column-N.start,j,q={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(N.value.match(/[{}()\[\]]/g)){for(;z<N.value.length&&!G;z++)if(!!q[N.value[z]])switch(j=q[N.value[z]]+"."+N.type.replace("rparen","lparen"),isNaN(H[j])&&(H[j]=0),N.value[z]){case"(":case"[":case"{":H[j]++;break;case")":case"]":case"}":H[j]--,H[j]===-1&&(_="bracket",G=!0);break}}else N.type.indexOf("tag-name")!==-1&&(isNaN(H[N.value])&&(H[N.value]=0),F.value==="<"&&B>1?H[N.value]++:F.value==="</"&&H[N.value]--,H[N.value]===-1&&(_="tag",G=!0));G||(F=N,B++,N=O.stepForward(),z=0)}while(N&&!G);if(!!_){var ne,X;if(_==="bracket")ne=this.session.getBracketRange(R),ne||(ne=new c(O.getCurrentTokenRow(),O.getCurrentTokenColumn()+z-1,O.getCurrentTokenRow(),O.getCurrentTokenColumn()+z-1),X=ne.start,(M||X.row===R.row&&Math.abs(X.column-R.column)<2)&&(ne=this.session.getBracketRange(X)));else if(_==="tag"){if(!N||N.type.indexOf("tag-name")===-1)return;if(ne=new c(O.getCurrentTokenRow(),O.getCurrentTokenColumn()-2,O.getCurrentTokenRow(),O.getCurrentTokenColumn()-2),ne.compare(R.row,R.column)===0){var ee=this.session.getMatchingTags(R);ee&&(ee.openTag.contains(R.row,R.column)?(ne=ee.closeTag,X=ne.start):(ne=ee.openTag,ee.closeTag.start.row===R.row&&ee.closeTag.start.column===R.column?X=ne.end:X=ne.start))}X=X||ne.start}X=ne&&ne.cursor||X,X&&(w?ne&&M?this.selection.setRange(ne):ne&&ne.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(X.row,X.column):this.selection.moveTo(X.row,X.column))}}},A.prototype.gotoLine=function(w,M,R){this.selection.clearSelection(),this.session.unfold({row:w-1,column:M||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(w-1,M||0),this.isRowFullyVisible(w-1)||this.scrollToLine(w-1,!0,R)},A.prototype.navigateTo=function(w,M){this.selection.moveTo(w,M)},A.prototype.navigateUp=function(w){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var M=this.selection.anchor.getPosition();return this.moveCursorToPosition(M)}this.selection.clearSelection(),this.selection.moveCursorBy(-w||-1,0)},A.prototype.navigateDown=function(w){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var M=this.selection.anchor.getPosition();return this.moveCursorToPosition(M)}this.selection.clearSelection(),this.selection.moveCursorBy(w||1,0)},A.prototype.navigateLeft=function(w){if(this.selection.isEmpty())for(w=w||1;w--;)this.selection.moveCursorLeft();else{var M=this.getSelectionRange().start;this.moveCursorToPosition(M)}this.clearSelection()},A.prototype.navigateRight=function(w){if(this.selection.isEmpty())for(w=w||1;w--;)this.selection.moveCursorRight();else{var M=this.getSelectionRange().end;this.moveCursorToPosition(M)}this.clearSelection()},A.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},A.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},A.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},A.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},A.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},A.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},A.prototype.replace=function(w,M){M&&this.$search.set(M);var R=this.$search.find(this.session),O=0;return R&&(this.$tryReplace(R,w)&&(O=1),this.selection.setSelectionRange(R),this.renderer.scrollSelectionIntoView(R.start,R.end)),O},A.prototype.replaceAll=function(w,M){M&&this.$search.set(M);var R=this.$search.findAll(this.session),O=0;if(!R.length)return O;var F=this.getSelectionRange();this.selection.moveTo(0,0);for(var B=R.length-1;B>=0;--B)this.$tryReplace(R[B],w)&&O++;return this.selection.setSelectionRange(F),O},A.prototype.$tryReplace=function(w,M){var R=this.session.getTextRange(w);return M=this.$search.replace(R,M),M!==null?(w.end=this.session.replace(w,M),w):null},A.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},A.prototype.find=function(w,M,R){M||(M={}),typeof w=="string"||w instanceof RegExp?M.needle=w:typeof w=="object"&&l.mixin(M,w);var O=this.selection.getRange();M.needle==null&&(w=this.session.getTextRange(O)||this.$search.$options.needle,w||(O=this.session.getWordRange(O.start.row,O.start.column),w=this.session.getTextRange(O)),this.$search.set({needle:w})),this.$search.set(M),M.start||this.$search.set({start:O});var F=this.$search.find(this.session);if(M.preventScroll)return F;if(F)return this.revealRange(F,R),F;M.backwards?O.start=O.end:O.end=O.start,this.selection.setRange(O)},A.prototype.findNext=function(w,M){this.find({skipCurrent:!0,backwards:!1},w,M)},A.prototype.findPrevious=function(w,M){this.find(w,{skipCurrent:!0,backwards:!0},M)},A.prototype.revealRange=function(w,M){this.session.unfold(w),this.selection.setSelectionRange(w);var R=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(w.start,w.end,.5),M!==!1&&this.renderer.animateScrolling(R)},A.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},A.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},A.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(w){w.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},A.prototype.setAutoScrollEditorIntoView=function(w){if(!!w){var M,R=this,O=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var F=this.$scrollAnchor;F.style.cssText="position:absolute",this.container.insertBefore(F,this.container.firstChild);var B=this.on("changeSelection",function(){O=!0}),N=this.renderer.on("beforeRender",function(){O&&(M=R.renderer.container.getBoundingClientRect())}),_=this.renderer.on("afterRender",function(){if(O&&M&&(R.isFocused()||R.searchBox&&R.searchBox.isFocused())){var G=R.renderer,H=G.$cursorLayer.$pixelPos,z=G.layerConfig,j=H.top-z.offset;H.top>=0&&j+M.top<0?O=!0:H.top<z.height&&H.top+M.top+z.lineHeight>window.innerHeight?O=!1:O=null,O!=null&&(F.style.top=j+"px",F.style.left=H.left+"px",F.style.height=z.lineHeight+"px",F.scrollIntoView(O)),O=M=null}});this.setAutoScrollEditorIntoView=function(G){G||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",B),this.renderer.off("afterRender",_),this.renderer.off("beforeRender",N))}}},A.prototype.$resetCursorStyle=function(){var w=this.$cursorStyle||"ace",M=this.renderer.$cursorLayer;!M||(M.setSmoothBlinking(/smooth/.test(w)),M.isBlinking=!this.$readOnly&&w!="wide",u.setCssClass(M.element,"ace_slim-cursors",/slim/.test(w)))},A.prototype.prompt=function(w,M,R){var O=this;y.loadModule("ace/ext/prompt",function(F){F.prompt(O,w,M,R)})},A}();S.$uid=0,S.prototype.curOp=null,S.prototype.prevOp={},S.prototype.$mergeableCommands=["backspace","del","insertstring"],S.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],l.implement(S.prototype,f),y.defineOptions(S.prototype,"editor",{selectionStyle:{set:function(A){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:A})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(A){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(A){this.textInput.setReadOnly(A),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(A){this.textInput.setCopyWithEmptySelection(A)},initialValue:!1},cursorStyle:{set:function(A){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(A){this.setAutoScrollEditorIntoView(A)}},keyboardHandler:{set:function(A){this.setKeyboardHandler(A)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(A){this.session.setValue(A)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(A){this.setSession(A)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(A){this.renderer.$gutterLayer.setShowLineNumbers(A),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),A&&this.$relativeLineNumbers?I.attach(this):I.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(A){this.$showLineNumbers&&A?I.attach(this):I.detach(this)}},placeholder:{set:function(A){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var w=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(w&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),u.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!w&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),u.addCssClass(this.container,"ace_hasPlaceholder");var M=u.createElement("div");M.className="ace_placeholder",M.textContent=this.$placeholder||"",this.renderer.placeholderNode=M,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!w&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(A){var w={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(O){O.blur(),O.renderer.scroller.focus()},readOnly:!0},M=function(O){if(O.target==this.renderer.scroller&&O.keyCode===C.enter){O.preventDefault();var F=this.getCursorPosition().row;this.isRowVisible(F)||this.scrollToLine(F,!0,!0),this.focus()}},R;A?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",T("editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",T("Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",M.bind(this)),this.commands.addCommand(w),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",T("editor")),this.renderer.$gutter.setAttribute("aria-label",T("Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),R||(R=new L(this)),R.addListener()):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",M.bind(this)),this.commands.removeCommand(w),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),R&&R.removeListener())},initialValue:!1},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var I={getText:function(A,w){return(Math.abs(A.selection.lead.row-w)||w+1+(w<9?"\xB7":""))+""},getWidth:function(A,w,M){return Math.max(w.toString().length,(M.lastRow+1).toString().length,2)*M.characterWidth},update:function(A,w){w.renderer.$loop.schedule(w.renderer.CHANGE_GUTTER)},attach:function(A){A.renderer.$gutterLayer.$renderer=this,A.on("changeSelection",this.update),this.update(null,A)},detach:function(A){A.renderer.$gutterLayer.$renderer==this&&(A.renderer.$gutterLayer.$renderer=null),A.off("changeSelection",this.update),this.update(null,A)}};h.Editor=S}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(d,h,b){var g=function(){function v(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return v.prototype.addSession=function(m){this.$session=m},v.prototype.add=function(m,L,T){if(!this.$fromUndo&&m!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),L===!1||!this.lastDeltas){this.lastDeltas=[];var E=this.$undoStack.length;E>this.$undoDepth-1&&this.$undoStack.splice(0,E-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),m.id=this.$rev=++this.$maxRev}(m.action=="remove"||m.action=="insert")&&(this.$lastDelta=m),this.lastDeltas.push(m)}},v.prototype.addSelection=function(m,L){this.selections.push({value:m,rev:L||this.$rev})},v.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},v.prototype.markIgnored=function(m,L){L==null&&(L=this.$rev+1);for(var T=this.$undoStack,E=T.length;E--;){var C=T[E][0];if(C.id<=m)break;C.id<L&&(C.ignore=!0)}this.lastDeltas=null},v.prototype.getSelection=function(m,L){for(var T=this.selections,E=T.length;E--;){var C=T[E];if(C.rev<m)return L&&(C=T[E+1]),C}},v.prototype.getRevision=function(){return this.$rev},v.prototype.getDeltas=function(m,L){L==null&&(L=this.$rev+1);for(var T=this.$undoStack,E=null,C=0,S=T.length;S--;){var I=T[S][0];if(I.id<L&&!E&&(E=S+1),I.id<=m){C=S+1;break}}return T.slice(C,E)},v.prototype.getChangedRanges=function(m,L){L==null&&(L=this.$rev+1)},v.prototype.getChangedLines=function(m,L){L==null&&(L=this.$rev+1)},v.prototype.undo=function(m,L){this.lastDeltas=null;var T=this.$undoStack;if(!!l(T,T.length)){m||(m=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var E=T.pop(),C=null;return E&&(C=m.undoChanges(E,L),this.$redoStack.push(E),this.$syncRev()),this.$fromUndo=!1,C}},v.prototype.redo=function(m,L){if(this.lastDeltas=null,m||(m=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var T=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);y(this.$redoStack,T),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(S){S[0].id=++this.$maxRev},this)}var E=this.$redoStack.pop(),C=null;return E&&(C=m.redoChanges(E,L),this.$undoStack.push(E),this.$syncRev()),this.$fromUndo=!1,C},v.prototype.$syncRev=function(){var m=this.$undoStack,L=m[m.length-1],T=L&&L[0].id||0;this.$redoStackBaseRev=T,this.$rev=T},v.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},v.prototype.canUndo=function(){return this.$undoStack.length>0},v.prototype.canRedo=function(){return this.$redoStack.length>0},v.prototype.bookmark=function(m){m==null&&(m=this.$rev),this.mark=m},v.prototype.isAtBookmark=function(){return this.$rev===this.mark},v.prototype.toJSON=function(){},v.prototype.fromJSON=function(){},v.prototype.$prettyPrint=function(m){return m?n(m):n(this.$undoStack)+`
---
`+n(this.$redoStack)},v}();g.prototype.hasUndo=g.prototype.canUndo,g.prototype.hasRedo=g.prototype.canRedo,g.prototype.isClean=g.prototype.isAtBookmark,g.prototype.markClean=g.prototype.bookmark;function l(v,m){for(var L=m;L--;){var T=v[L];if(T&&!T[0].ignore){for(;L<m-1;){var E=i(v[L],v[L+1]);v[L]=E[0],v[L+1]=E[1],L++}return!0}}}var u=d("./range").Range,o=u.comparePoints;u.comparePoints;function a(v){return{row:v.row,column:v.column}}function t(v){return{start:a(v.start),end:a(v.end),action:v.action,lines:v.lines.slice()}}function n(v){if(v=v||this,Array.isArray(v))return v.map(n).join(`
`);var m="";return v.action?(m=v.action=="insert"?"+":"-",m+="["+v.lines+"]"):v.value&&(Array.isArray(v.value)?m=v.value.map(r).join(`
`):m=r(v.value)),v.start&&(m+=r(v)),(v.id||v.rev)&&(m+="	("+(v.id||v.rev)+")"),m}function r(v){return v.start.row+":"+v.start.column+"=>"+v.end.row+":"+v.end.column}function e(v,m){var L=v.action=="insert",T=m.action=="insert";if(L&&T)if(o(m.start,v.end)>=0)c(m,v,-1);else if(o(m.start,v.start)<=0)c(v,m,1);else return null;else if(L&&!T)if(o(m.start,v.end)>=0)c(m,v,-1);else if(o(m.end,v.start)<=0)c(v,m,-1);else return null;else if(!L&&T)if(o(m.start,v.start)>=0)c(m,v,1);else if(o(m.start,v.start)<=0)c(v,m,1);else return null;else if(!L&&!T)if(o(m.start,v.start)>=0)c(m,v,1);else if(o(m.end,v.start)<=0)c(v,m,-1);else return null;return[m,v]}function i(v,m){for(var L=v.length;L--;)for(var T=0;T<m.length;T++)if(!e(v[L],m[T])){for(;L<v.length;){for(;T--;)e(m[T],v[L]);T=m.length,L++}return[v,m]}return v.selectionBefore=m.selectionBefore=v.selectionAfter=m.selectionAfter=null,[m,v]}function s(v,m){var L=v.action=="insert",T=m.action=="insert";if(L&&T)o(v.start,m.start)<0?c(m,v,1):c(v,m,1);else if(L&&!T)o(v.start,m.end)>=0?c(v,m,-1):(o(v.start,m.start)<=0||c(v,u.fromPoints(m.start,v.start),-1),c(m,v,1));else if(!L&&T)o(m.start,v.end)>=0?c(m,v,-1):(o(m.start,v.start)<=0||c(m,u.fromPoints(v.start,m.start),-1),c(v,m,1));else if(!L&&!T)if(o(m.start,v.end)>=0)c(m,v,-1);else if(o(m.end,v.start)<=0)c(v,m,-1);else{var E,C;return o(v.start,m.start)<0&&(E=v,v=p(v,m.start)),o(v.end,m.end)>0&&(C=p(v,m.end)),f(m.end,v.start,v.end,-1),C&&!E&&(v.lines=C.lines,v.start=C.start,v.end=C.end,C=v),[m,E,C].filter(Boolean)}return[m,v]}function c(v,m,L){f(v.start,m.start,m.end,L),f(v.end,m.start,m.end,L)}function f(v,m,L,T){v.row==(T==1?m:L).row&&(v.column+=T*(L.column-m.column)),v.row+=T*(L.row-m.row)}function p(v,m){var L=v.lines,T=v.end;v.end=a(m);var E=v.end.row-v.start.row,C=L.splice(E,L.length),S=E?m.column:m.column-v.start.column;L.push(C[0].substring(0,S)),C[0]=C[0].substr(S);var I={start:a(m),end:T,lines:C,action:v.action};return I}function k(v,m){m=t(m);for(var L=v.length;L--;){for(var T=v[L],E=0;E<T.length;E++){var C=T[E],S=s(C,m);m=S[0],S.length!=2&&(S[2]?(T.splice(E+1,1,S[1],S[2]),E++):S[1]||(T.splice(E,1),E--))}T.length||v.splice(L,1)}return v}function y(v,m){for(var L=0;L<m.length;L++)for(var T=m[L],E=0;E<T.length;E++)k(v,T[E])}h.UndoManager=g}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(d,h,b){var g=d("../lib/dom"),l=function(){function u(o,a){this.element=o,this.canvasHeight=a||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return u.prototype.moveContainer=function(o){g.translate(this.element,0,-(o.firstRowScreen*o.lineHeight%this.canvasHeight)-o.offset*this.$offsetCoefficient)},u.prototype.pageChanged=function(o,a){return Math.floor(o.firstRowScreen*o.lineHeight/this.canvasHeight)!==Math.floor(a.firstRowScreen*a.lineHeight/this.canvasHeight)},u.prototype.computeLineTop=function(o,a,t){var n=a.firstRowScreen*a.lineHeight,r=Math.floor(n/this.canvasHeight),e=t.documentToScreenRow(o,0)*a.lineHeight;return e-r*this.canvasHeight},u.prototype.computeLineHeight=function(o,a,t){return a.lineHeight*t.getRowLineCount(o)},u.prototype.getLength=function(){return this.cells.length},u.prototype.get=function(o){return this.cells[o]},u.prototype.shift=function(){this.$cacheCell(this.cells.shift())},u.prototype.pop=function(){this.$cacheCell(this.cells.pop())},u.prototype.push=function(o){if(Array.isArray(o)){this.cells.push.apply(this.cells,o);for(var a=g.createFragment(this.element),t=0;t<o.length;t++)a.appendChild(o[t].element);this.element.appendChild(a)}else this.cells.push(o),this.element.appendChild(o.element)},u.prototype.unshift=function(o){if(Array.isArray(o)){this.cells.unshift.apply(this.cells,o);for(var a=g.createFragment(this.element),t=0;t<o.length;t++)a.appendChild(o[t].element);this.element.firstChild?this.element.insertBefore(a,this.element.firstChild):this.element.appendChild(a)}else this.cells.unshift(o),this.element.insertAdjacentElement("afterbegin",o.element)},u.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},u.prototype.$cacheCell=function(o){!o||(o.element.remove(),this.cellCache.push(o))},u.prototype.createCell=function(o,a,t,n){var r=this.cellCache.pop();if(!r){var e=g.createElement("div");n&&n(e),this.element.appendChild(e),r={element:e,text:"",row:o}}return r.row=o,r},u}();h.Lines=l}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(d,h,b){var g=d("../lib/dom"),l=d("../lib/oop"),u=d("../lib/lang"),o=d("../lib/event_emitter").EventEmitter,a=d("./lines").Lines,t=d("../config").nls,n=function(){function e(i){this.element=g.createElement("div"),this.element.className="ace_layer ace_gutter-layer",i.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1}return e.prototype.setSession=function(i){this.session&&this.session.off("change",this.$updateAnnotations),this.session=i,i&&i.on("change",this.$updateAnnotations)},e.prototype.addGutterDecoration=function(i,s){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(i,s)},e.prototype.removeGutterDecoration=function(i,s){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(i,s)},e.prototype.setAnnotations=function(i){this.$annotations=[];for(var s=0;s<i.length;s++){var c=i[s],f=c.row,p=this.$annotations[f];p||(p=this.$annotations[f]={text:[],type:[]});var k=c.text,y=c.type;k=k?u.escapeHTML(k):c.html||"",p.text.indexOf(k)===-1&&(p.text.push(k),p.type.push(y));var v=c.className;v?p.className=v:y=="error"?p.className=" ace_error":y=="warning"&&p.className!=" ace_error"?p.className=" ace_warning":y=="info"&&!p.className&&(p.className=" ace_info")}},e.prototype.$updateAnnotations=function(i){if(!!this.$annotations.length){var s=i.start.row,c=i.end.row-s;if(c!==0)if(i.action=="remove")this.$annotations.splice(s,c+1,null);else{var f=new Array(c+1);f.unshift(s,1),this.$annotations.splice.apply(this.$annotations,f)}}},e.prototype.update=function(i){this.config=i;var s=this.session,c=i.firstRow,f=Math.min(i.lastRow+i.gutterOffset,s.getLength()-1);this.oldLastRow=f,this.config=i,this.$lines.moveContainer(i),this.$updateCursorRow();for(var p=s.getNextFoldLine(c),k=p?p.start.row:1/0,y=null,v=-1,m=c;;){if(m>k&&(m=p.end.row+1,p=s.getNextFoldLine(m,p),k=p?p.start.row:1/0),m>f){for(;this.$lines.getLength()>v+1;)this.$lines.pop();break}y=this.$lines.get(++v),y?y.row=m:(y=this.$lines.createCell(m,i,this.session,r),this.$lines.push(y)),this.$renderCell(y,i,p,m),m++}this._signal("afterRender"),this.$updateGutterWidth(i)},e.prototype.$updateGutterWidth=function(i){var s=this.session,c=s.gutterRenderer||this.$renderer,f=s.$firstLineNumber,p=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||s.$useWrapMode)&&(p=s.getLength()+f-1);var k=c?c.getWidth(s,p,i):p.toString().length*i.characterWidth,y=this.$padding||this.$computePadding();k+=y.left+y.right,k!==this.gutterWidth&&!isNaN(k)&&(this.gutterWidth=k,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",k))},e.prototype.$updateCursorRow=function(){if(!!this.$highlightGutterLine){var i=this.session.selection.getCursor();this.$cursorRow!==i.row&&(this.$cursorRow=i.row)}},e.prototype.updateLineHighlight=function(){if(!!this.$highlightGutterLine){var i=this.session.selection.cursor.row;if(this.$cursorRow=i,!(this.$cursorCell&&this.$cursorCell.row==i)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var s=this.$lines.cells;this.$cursorCell=null;for(var c=0;c<s.length;c++){var f=s[c];if(f.row>=this.$cursorRow){if(f.row>this.$cursorRow){var p=this.session.getFoldLine(this.$cursorRow);if(c>0&&p&&p.start.row==s[c-1].row)f=s[c-1];else break}f.element.className="ace_gutter-active-line "+f.element.className,this.$cursorCell=f;break}}}}},e.prototype.scrollLines=function(i){var s=this.config;if(this.config=i,this.$updateCursorRow(),this.$lines.pageChanged(s,i))return this.update(i);this.$lines.moveContainer(i);var c=Math.min(i.lastRow+i.gutterOffset,this.session.getLength()-1),f=this.oldLastRow;if(this.oldLastRow=c,!s||f<i.firstRow)return this.update(i);if(c<s.firstRow)return this.update(i);if(s.firstRow<i.firstRow)for(var p=this.session.getFoldedRowCount(s.firstRow,i.firstRow-1);p>0;p--)this.$lines.shift();if(f>c)for(var p=this.session.getFoldedRowCount(c+1,f);p>0;p--)this.$lines.pop();i.firstRow<s.firstRow&&this.$lines.unshift(this.$renderLines(i,i.firstRow,s.firstRow-1)),c>f&&this.$lines.push(this.$renderLines(i,f+1,c)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(i)},e.prototype.$renderLines=function(i,s,c){for(var f=[],p=s,k=this.session.getNextFoldLine(p),y=k?k.start.row:1/0;p>y&&(p=k.end.row+1,k=this.session.getNextFoldLine(p,k),y=k?k.start.row:1/0),!(p>c);){var v=this.$lines.createCell(p,i,this.session,r);this.$renderCell(v,i,k,p),f.push(v),p++}return f},e.prototype.$renderCell=function(i,s,c,f){var p=i.element,k=this.session,y=p.childNodes[0],v=p.childNodes[1],m=p.childNodes[2],L=m.firstChild,T=k.$firstLineNumber,E=k.$breakpoints,C=k.$decorations,S=k.gutterRenderer||this.$renderer,I=this.$showFoldWidgets&&k.foldWidgets,A=c?c.start.row:Number.MAX_VALUE,w=s.lineHeight+"px",M=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",R=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",O=(S?S.getText(k,f):f+T).toString();if(this.$highlightGutterLine&&(f==this.$cursorRow||c&&f<this.$cursorRow&&f>=A&&this.$cursorRow<=c.end.row)&&(M+="ace_gutter-active-line ",this.$cursorCell!=i&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=i)),E[f]&&(M+=E[f]),C[f]&&(M+=C[f]),this.$annotations[f]&&f!==A&&(M+=this.$annotations[f].className),I){var F=I[f];F==null&&(F=I[f]=k.getFoldWidget(f))}if(F){var B="ace_fold-widget ace_"+F,N=F=="start"&&f==A&&f<c.end.row;if(N){B+=" ace_closed";for(var _="",G=!1,H=f+1;H<=c.end.row;H++)if(!!this.$annotations[H]){if(this.$annotations[H].className===" ace_error"){G=!0,_=" ace_error_fold";break}if(this.$annotations[H].className===" ace_warning"){G=!0,_=" ace_warning_fold";continue}}M+=_}else B+=" ace_open";v.className!=B&&(v.className=B),g.setStyle(v.style,"height",w),g.setStyle(v.style,"display","inline-block"),v.setAttribute("role","button"),v.setAttribute("tabindex","-1");var z=k.getFoldWidgetRange(f);z?v.setAttribute("aria-label",t("Toggle code folding, rows $0 through $1",[z.start.row+1,z.end.row+1])):c?v.setAttribute("aria-label",t("Toggle code folding, rows $0 through $1",[c.start.row+1,c.end.row+1])):v.setAttribute("aria-label",t("Toggle code folding, row $0",[f+1])),N?(v.setAttribute("aria-expanded","false"),v.setAttribute("title",t("Unfold code"))):(v.setAttribute("aria-expanded","true"),v.setAttribute("title",t("Fold code")))}else v&&(g.setStyle(v.style,"display","none"),v.setAttribute("tabindex","0"),v.removeAttribute("role"),v.removeAttribute("aria-label"));return G&&this.$showFoldedAnnotations?(m.className="ace_gutter_annotation",L.className=R,L.className+=_,g.setStyle(L.style,"height",w),g.setStyle(m.style,"display","block"),g.setStyle(m.style,"height",w),m.setAttribute("aria-label",t("Read annotations row $0",[O])),m.setAttribute("tabindex","-1"),m.setAttribute("role","button")):this.$annotations[f]?(m.className="ace_gutter_annotation",L.className=R,this.$useSvgGutterIcons?L.className+=this.$annotations[f].className:p.classList.add(this.$annotations[f].className.replace(" ","")),g.setStyle(L.style,"height",w),g.setStyle(m.style,"display","block"),g.setStyle(m.style,"height",w),m.setAttribute("aria-label",t("Read annotations row $0",[O])),m.setAttribute("tabindex","-1"),m.setAttribute("role","button")):(g.setStyle(m.style,"display","none"),m.removeAttribute("aria-label"),m.removeAttribute("role"),m.setAttribute("tabindex","0")),O!==y.data&&(y.data=O),p.className!=M&&(p.className=M),g.setStyle(i.element.style,"height",this.$lines.computeLineHeight(f,s,k)+"px"),g.setStyle(i.element.style,"top",this.$lines.computeLineTop(f,s,k)+"px"),i.text=O,m.style.display==="none"&&v.style.display==="none"?i.element.setAttribute("aria-hidden",!0):i.element.setAttribute("aria-hidden",!1),i},e.prototype.setHighlightGutterLine=function(i){this.$highlightGutterLine=i},e.prototype.setShowLineNumbers=function(i){this.$renderer=!i&&{getWidth:function(){return 0},getText:function(){return""}}},e.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},e.prototype.setShowFoldWidgets=function(i){i?g.addCssClass(this.element,"ace_folding-enabled"):g.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=i,this.$padding=null},e.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},e.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var i=g.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(i.borderLeftWidth)||0)+(parseInt(i.paddingLeft)||0)+1,this.$padding.right=(parseInt(i.borderRightWidth)||0)+(parseInt(i.paddingRight)||0),this.$padding},e.prototype.getRegion=function(i){var s=this.$padding||this.$computePadding(),c=this.element.getBoundingClientRect();if(i.x<s.left+c.left)return"markers";if(this.$showFoldWidgets&&i.x>c.right-s.right)return"foldWidgets"},e}();n.prototype.$fixedWidth=!1,n.prototype.$highlightGutterLine=!0,n.prototype.$renderer="",n.prototype.$showLineNumbers=!0,n.prototype.$showFoldWidgets=!0,l.implement(n.prototype,o);function r(e){var i=document.createTextNode("");e.appendChild(i);var s=g.createElement("span");e.appendChild(s);var c=g.createElement("span");e.appendChild(c);var f=g.createElement("span");return c.appendChild(f),e}h.Gutter=n}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(d,h,b){var g=d("../range").Range,l=d("../lib/dom"),u=function(){function a(t){this.element=l.createElement("div"),this.element.className="ace_layer ace_marker-layer",t.appendChild(this.element)}return a.prototype.setPadding=function(t){this.$padding=t},a.prototype.setSession=function(t){this.session=t},a.prototype.setMarkers=function(t){this.markers=t},a.prototype.elt=function(t,n){var r=this.i!=-1&&this.element.childNodes[this.i];r?this.i++:(r=document.createElement("div"),this.element.appendChild(r),this.i=-1),r.style.cssText=n,r.className=t},a.prototype.update=function(t){if(!!t){this.config=t,this.i=0;var n;for(var r in this.markers){var e=this.markers[r];if(!e.range){e.update(n,this,this.session,t);continue}var i=e.range.clipRows(t.firstRow,t.lastRow);if(!i.isEmpty())if(i=i.toScreenRange(this.session),e.renderer){var s=this.$getTop(i.start.row,t),c=this.$padding+i.start.column*t.characterWidth;e.renderer(n,i,c,s,t)}else e.type=="fullLine"?this.drawFullLineMarker(n,i,e.clazz,t):e.type=="screenLine"?this.drawScreenLineMarker(n,i,e.clazz,t):i.isMultiLine()?e.type=="text"?this.drawTextMarker(n,i,e.clazz,t):this.drawMultiLineMarker(n,i,e.clazz,t):this.drawSingleLineMarker(n,i,e.clazz+" ace_start ace_br15",t)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},a.prototype.$getTop=function(t,n){return(t-n.firstRowScreen)*n.lineHeight},a.prototype.drawTextMarker=function(t,n,r,e,i){for(var s=this.session,c=n.start.row,f=n.end.row,p=c,k=0,y=0,v=s.getScreenLastRowColumn(p),m=new g(p,n.start.column,p,y);p<=f;p++)m.start.row=m.end.row=p,m.start.column=p==c?n.start.column:s.getRowWrapIndent(p),m.end.column=v,k=y,y=v,v=p+1<f?s.getScreenLastRowColumn(p+1):p==f?0:n.end.column,this.drawSingleLineMarker(t,m,r+(p==c?" ace_start":"")+" ace_br"+o(p==c||p==c+1&&n.start.column,k<y,y>v,p==f),e,p==f?0:1,i)},a.prototype.drawMultiLineMarker=function(t,n,r,e,i){var s=this.$padding,c=e.lineHeight,f=this.$getTop(n.start.row,e),p=s+n.start.column*e.characterWidth;if(i=i||"",this.session.$bidiHandler.isBidiRow(n.start.row)){var k=n.clone();k.end.row=k.start.row,k.end.column=this.session.getLine(k.start.row).length,this.drawBidiSingleLineMarker(t,k,r+" ace_br1 ace_start",e,null,i)}else this.elt(r+" ace_br1 ace_start","height:"+c+"px;right:0;top:"+f+"px;left:"+p+"px;"+(i||""));if(this.session.$bidiHandler.isBidiRow(n.end.row)){var k=n.clone();k.start.row=k.end.row,k.start.column=0,this.drawBidiSingleLineMarker(t,k,r+" ace_br12",e,null,i)}else{f=this.$getTop(n.end.row,e);var y=n.end.column*e.characterWidth;this.elt(r+" ace_br12","height:"+c+"px;width:"+y+"px;top:"+f+"px;left:"+s+"px;"+(i||""))}if(c=(n.end.row-n.start.row-1)*e.lineHeight,!(c<=0)){f=this.$getTop(n.start.row+1,e);var v=(n.start.column?1:0)|(n.end.column?0:8);this.elt(r+(v?" ace_br"+v:""),"height:"+c+"px;right:0;top:"+f+"px;left:"+s+"px;"+(i||""))}},a.prototype.drawSingleLineMarker=function(t,n,r,e,i,s){if(this.session.$bidiHandler.isBidiRow(n.start.row))return this.drawBidiSingleLineMarker(t,n,r,e,i,s);var c=e.lineHeight,f=(n.end.column+(i||0)-n.start.column)*e.characterWidth,p=this.$getTop(n.start.row,e),k=this.$padding+n.start.column*e.characterWidth;this.elt(r,"height:"+c+"px;width:"+f+"px;top:"+p+"px;left:"+k+"px;"+(s||""))},a.prototype.drawBidiSingleLineMarker=function(t,n,r,e,i,s){var c=e.lineHeight,f=this.$getTop(n.start.row,e),p=this.$padding,k=this.session.$bidiHandler.getSelections(n.start.column,n.end.column);k.forEach(function(y){this.elt(r,"height:"+c+"px;width:"+(y.width+(i||0))+"px;top:"+f+"px;left:"+(p+y.left)+"px;"+(s||""))},this)},a.prototype.drawFullLineMarker=function(t,n,r,e,i){var s=this.$getTop(n.start.row,e),c=e.lineHeight;n.start.row!=n.end.row&&(c+=this.$getTop(n.end.row,e)-s),this.elt(r,"height:"+c+"px;top:"+s+"px;left:0;right:0;"+(i||""))},a.prototype.drawScreenLineMarker=function(t,n,r,e,i){var s=this.$getTop(n.start.row,e),c=e.lineHeight;this.elt(r,"height:"+c+"px;top:"+s+"px;left:0;right:0;"+(i||""))},a}();u.prototype.$padding=0;function o(a,t,n,r){return(a?1:0)|(t?2:0)|(n?4:0)|(r?8:0)}h.Marker=u}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config"],function(d,h,b){var g=d("../lib/oop"),l=d("../lib/dom"),u=d("../lib/lang"),o=d("./lines").Lines,a=d("../lib/event_emitter").EventEmitter,t=d("../config").nls,n=function(){function r(e){this.dom=l,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new o(this.element)}return r.prototype.$updateEolChar=function(){var e=this.session.doc,i=e.getNewLineCharacter()==`
`&&e.getNewLineMode()!="windows",s=i?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=s)return this.EOL_CHAR=s,!0},r.prototype.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},r.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},r.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},r.prototype.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(i){this._signal("changeCharacterSize",i)}.bind(this)),this.$pollSizeChanges()},r.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},r.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},r.prototype.setSession=function(e){this.session=e,e&&this.$computeTabString()},r.prototype.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,typeof e=="string"?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},r.prototype.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},r.prototype.setHighlightIndentGuides=function(e){return this.$highlightIndentGuides===e?!1:(this.$highlightIndentGuides=e,e)},r.prototype.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var i=this.$tabStrings=[0],s=1;s<e+1;s++)if(this.showTabs){var c=this.dom.createElement("span");c.className="ace_invisible ace_invisible_tab",c.textContent=u.stringRepeat(this.TAB_CHAR,s),i.push(c)}else i.push(this.dom.createTextNode(u.stringRepeat(" ",s),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var f="ace_indent-guide",p=this.showSpaces?" ace_invisible ace_invisible_space":"",k=this.showSpaces?u.stringRepeat(this.SPACE_CHAR,this.tabSize):u.stringRepeat(" ",this.tabSize),y=this.showTabs?" ace_invisible ace_invisible_tab":"",v=this.showTabs?u.stringRepeat(this.TAB_CHAR,this.tabSize):k,c=this.dom.createElement("span");c.className=f+p,c.textContent=k,this.$tabStrings[" "]=c;var c=this.dom.createElement("span");c.className=f+y,c.textContent=v,this.$tabStrings["	"]=c}},r.prototype.updateLines=function(e,i,s){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var c=Math.max(i,e.firstRow),f=Math.min(s,e.lastRow),p=this.element.childNodes,k=0,v=e.firstRow;v<c;v++){var m=this.session.getFoldLine(v);if(m)if(m.containsRow(c)){c=m.start.row;break}else v=m.end.row;k++}for(var y=!1,v=c,m=this.session.getNextFoldLine(v),L=m?m.start.row:1/0;v>L&&(v=m.end.row+1,m=this.session.getNextFoldLine(v,m),L=m?m.start.row:1/0),!(v>f);){var T=p[k++];if(T){this.dom.removeChildren(T),this.$renderLine(T,v,v==L?m:!1),y&&(T.style.top=this.$lines.computeLineTop(v,e,this.session)+"px");var E=e.lineHeight*this.session.getRowLength(v)+"px";T.style.height!=E&&(y=!0,T.style.height=E)}v++}if(y)for(;k<this.$lines.cells.length;){var C=this.$lines.cells[k++];C.element.style.top=this.$lines.computeLineTop(C.row,e,this.session)+"px"}},r.prototype.scrollLines=function(e){var i=this.config;if(this.config=e,this.$lines.pageChanged(i,e))return this.update(e);this.$lines.moveContainer(e);var s=e.lastRow,c=i?i.lastRow:-1;if(!i||c<e.firstRow)return this.update(e);if(s<i.firstRow)return this.update(e);if(!i||i.lastRow<e.firstRow)return this.update(e);if(e.lastRow<i.firstRow)return this.update(e);if(i.firstRow<e.firstRow)for(var f=this.session.getFoldedRowCount(i.firstRow,e.firstRow-1);f>0;f--)this.$lines.shift();if(i.lastRow>e.lastRow)for(var f=this.session.getFoldedRowCount(e.lastRow+1,i.lastRow);f>0;f--)this.$lines.pop();e.firstRow<i.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,i.firstRow-1)),e.lastRow>i.lastRow&&this.$lines.push(this.$renderLinesFragment(e,i.lastRow+1,e.lastRow)),this.$highlightIndentGuide()},r.prototype.$renderLinesFragment=function(e,i,s){for(var c=[],f=i,p=this.session.getNextFoldLine(f),k=p?p.start.row:1/0;f>k&&(f=p.end.row+1,p=this.session.getNextFoldLine(f,p),k=p?p.start.row:1/0),!(f>s);){var y=this.$lines.createCell(f,e,this.session),v=y.element;this.dom.removeChildren(v),l.setStyle(v.style,"height",this.$lines.computeLineHeight(f,e,this.session)+"px"),l.setStyle(v.style,"top",this.$lines.computeLineTop(f,e,this.session)+"px"),this.$renderLine(v,f,f==k?p:!1),this.$useLineGroups()?v.className="ace_line_group":v.className="ace_line",c.push(y),f++}return c},r.prototype.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var i=e.firstRow,s=e.lastRow,c=this.$lines;c.getLength();)c.pop();c.push(this.$renderLinesFragment(e,i,s))},r.prototype.$renderToken=function(e,i,s,c){for(var f=this,p=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,k=this.dom.createFragment(this.element),y,v=0;y=p.exec(c);){var m=y[1],L=y[2],T=y[3],E=y[4],C=y[5];if(!(!f.showSpaces&&L)){var S=v!=y.index?c.slice(v,y.index):"";if(v=y.index+y[0].length,S&&k.appendChild(this.dom.createTextNode(S,this.element)),m){var I=f.session.getScreenTabSize(i+y.index);k.appendChild(f.$tabStrings[I].cloneNode(!0)),i+=I-1}else if(L)if(f.showSpaces){var A=this.dom.createElement("span");A.className="ace_invisible ace_invisible_space",A.textContent=u.stringRepeat(f.SPACE_CHAR,L.length),k.appendChild(A)}else k.appendChild(this.com.createTextNode(L,this.element));else if(T){var A=this.dom.createElement("span");A.className="ace_invisible ace_invisible_space ace_invalid",A.textContent=u.stringRepeat(f.SPACE_CHAR,T.length),k.appendChild(A)}else if(E){i+=1;var A=this.dom.createElement("span");A.style.width=f.config.characterWidth*2+"px",A.className=f.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",A.textContent=f.showSpaces?f.SPACE_CHAR:E,k.appendChild(A)}else if(C){i+=1;var A=this.dom.createElement("span");A.style.width=f.config.characterWidth*2+"px",A.className="ace_cjk",A.textContent=C,k.appendChild(A)}}}if(k.appendChild(this.dom.createTextNode(v?c.slice(v):c,this.element)),this.$textToken[s.type])e.appendChild(k);else{var w="ace_"+s.type.replace(/\./g," ace_"),A=this.dom.createElement("span");s.type=="fold"&&(A.style.width=s.value.length*this.config.characterWidth+"px",A.setAttribute("title",t("Unfold code"))),A.className=w,A.appendChild(k),e.appendChild(A)}return i+c.length},r.prototype.renderIndentGuide=function(e,i,s){var c=i.search(this.$indentGuideRe);if(c<=0||c>=s)return i;if(i[0]==" "){c-=c%this.tabSize;for(var f=c/this.tabSize,p=0;p<f;p++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),i.substr(c)}else if(i[0]=="	"){for(var p=0;p<c;p++)e.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),i.substr(c)}return this.$highlightIndentGuide(),i},r.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var e=this.session.doc.$lines;if(!!e){var i=this.session.selection.getCursor(),s=/^\s*/.exec(this.session.doc.getLine(i.row))[0].length,c=Math.floor(s/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:c,start:i.row};var f=this.session.$bracketHighlight;if(f){for(var p=this.session.$bracketHighlight.ranges,k=0;k<p.length;k++)if(i.row!==p[k].start.row){this.$highlightIndentGuideMarker.end=p[k].start.row,i.row>p[k].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&e[i.row]!==""&&i.column===e[i.row].length){this.$highlightIndentGuideMarker.dir=1;for(var k=i.row+1;k<e.length;k++){var y=e[k],v=/^\s*/.exec(y)[0].length;if(y!==""&&(this.$highlightIndentGuideMarker.end=k,v<=s))break}}this.$renderHighlightIndentGuide()}}},r.prototype.$clearActiveIndentGuide=function(){for(var e=this.$lines.cells,i=0;i<e.length;i++){var s=e[i],c=s.element.childNodes;if(c.length>0){for(var f=0;f<c.length;f++)if(c[f].classList&&c[f].classList.contains("ace_indent-guide-active")){c[f].classList.remove("ace_indent-guide-active");break}}}},r.prototype.$setIndentGuideActive=function(e,i){var s=this.session.doc.getLine(e.row);if(s!==""){var c=e.element.childNodes;if(c){var f=c[i-1];f&&f.classList&&f.classList.contains("ace_indent-guide")&&f.classList.add("ace_indent-guide-active")}}},r.prototype.$renderHighlightIndentGuide=function(){if(!!this.$lines){var e=this.$lines.cells;this.$clearActiveIndentGuide();var i=this.$highlightIndentGuideMarker.indentLevel;if(i!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var s=0;s<e.length;s++){var c=e[s];if(this.$highlightIndentGuideMarker.end&&c.row>=this.$highlightIndentGuideMarker.start+1){if(c.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(c,i)}}else for(var s=e.length-1;s>=0;s--){var c=e[s];if(this.$highlightIndentGuideMarker.end&&c.row<this.$highlightIndentGuideMarker.start){if(c.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(c,i)}}}},r.prototype.$createLineElement=function(e){var i=this.dom.createElement("div");return i.className="ace_line",i.style.height=this.config.lineHeight+"px",i},r.prototype.$renderWrappedLine=function(e,i,s){var c=0,f=0,p=s[0],k=0,y=this.$createLineElement();e.appendChild(y);for(var v=0;v<i.length;v++){var m=i[v],L=m.value;if(v==0&&this.displayIndentGuides){if(c=L.length,L=this.renderIndentGuide(y,L,p),!L)continue;c-=L.length}if(c+L.length<p)k=this.$renderToken(y,k,m,L),c+=L.length;else{for(;c+L.length>=p;)k=this.$renderToken(y,k,m,L.substring(0,p-c)),L=L.substring(p-c),c=p,y=this.$createLineElement(),e.appendChild(y),y.appendChild(this.dom.createTextNode(u.stringRepeat("\xA0",s.indent),this.element)),f++,k=0,p=s[f]||Number.MAX_VALUE;L.length!=0&&(c+=L.length,k=this.$renderToken(y,k,m,L))}}s[s.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(y,k,null,"",!0)},r.prototype.$renderSimpleLine=function(e,i){for(var s=0,c=0;c<i.length;c++){var f=i[c],p=f.value;if(!(c==0&&this.displayIndentGuides&&(p=this.renderIndentGuide(e,p),!p))){if(s+p.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,s,f,p);s=this.$renderToken(e,s,f,p)}}},r.prototype.$renderOverflowMessage=function(e,i,s,c,f){s&&this.$renderToken(e,i,s,c.slice(0,this.MAX_LINE_LENGTH-i));var p=this.dom.createElement("span");p.className="ace_inline_button ace_keyword ace_toggle_wrap",p.textContent=f?"<hide>":"<click to see more...>",e.appendChild(p)},r.prototype.$renderLine=function(e,i,s){if(!s&&s!=!1&&(s=this.session.getFoldLine(i)),s)var c=this.$getFoldLineTokens(i,s);else var c=this.session.getTokens(i);var f=e;if(c.length){var p=this.session.getRowSplitData(i);if(p&&p.length){this.$renderWrappedLine(e,c,p);var f=e.lastChild}else{var f=e;this.$useLineGroups()&&(f=this.$createLineElement(),e.appendChild(f)),this.$renderSimpleLine(f,c)}}else this.$useLineGroups()&&(f=this.$createLineElement(),e.appendChild(f));if(this.showEOL&&f){s&&(i=s.end.row);var k=this.dom.createElement("span");k.className="ace_invisible ace_invisible_eol",k.textContent=i==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,f.appendChild(k)}},r.prototype.$getFoldLineTokens=function(e,i){var s=this.session,c=[];function f(k,y,v){for(var m=0,L=0;L+k[m].value.length<y;)if(L+=k[m].value.length,m++,m==k.length)return;if(L!=y){var T=k[m].value.substring(y-L);T.length>v-y&&(T=T.substring(0,v-y)),c.push({type:k[m].type,value:T}),L=y+T.length,m+=1}for(;L<v&&m<k.length;){var T=k[m].value;T.length+L>v?c.push({type:k[m].type,value:T.substring(0,v-L)}):c.push(k[m]),L+=T.length,m+=1}}var p=s.getTokens(e);return i.walk(function(k,y,v,m,L){k!=null?c.push({type:"fold",value:k}):(L&&(p=s.getTokens(y)),p.length&&f(p,m,v))},i.end.row,this.session.getLine(i.end.row).length),c},r.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},r}();n.prototype.$textToken={text:!0,rparen:!0,lparen:!0},n.prototype.EOF_CHAR="\xB6",n.prototype.EOL_CHAR_LF="\xAC",n.prototype.EOL_CHAR_CRLF="\xA4",n.prototype.EOL_CHAR=n.prototype.EOL_CHAR_LF,n.prototype.TAB_CHAR="\u2014",n.prototype.SPACE_CHAR="\xB7",n.prototype.$padding=0,n.prototype.MAX_LINE_LENGTH=1e4,n.prototype.showInvisibles=!1,n.prototype.showSpaces=!1,n.prototype.showTabs=!1,n.prototype.showEOL=!1,n.prototype.displayIndentGuides=!0,n.prototype.$highlightIndentGuides=!0,n.prototype.$tabStrings=[],n.prototype.destroy={},n.prototype.onChangeTabSize=n.prototype.$computeTabString,g.implement(n.prototype,a),h.Text=n}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(d,h,b){var g=d("../lib/dom"),l=function(){function u(o){this.element=g.createElement("div"),this.element.className="ace_layer ace_cursor-layer",o.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),g.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return u.prototype.$updateOpacity=function(o){for(var a=this.cursors,t=a.length;t--;)g.setStyle(a[t].style,"opacity",o?"":"0")},u.prototype.$startCssAnimation=function(){for(var o=this.cursors,a=o.length;a--;)o[a].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&g.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},u.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,g.removeCssClass(this.element,"ace_animate-blinking")},u.prototype.setPadding=function(o){this.$padding=o},u.prototype.setSession=function(o){this.session=o},u.prototype.setBlinking=function(o){o!=this.isBlinking&&(this.isBlinking=o,this.restartTimer())},u.prototype.setBlinkInterval=function(o){o!=this.blinkInterval&&(this.blinkInterval=o,this.restartTimer())},u.prototype.setSmoothBlinking=function(o){o!=this.smoothBlinking&&(this.smoothBlinking=o,g.setCssClass(this.element,"ace_smooth-blinking",o),this.$updateCursors(!0),this.restartTimer())},u.prototype.addCursor=function(){var o=g.createElement("div");return o.className="ace_cursor",this.element.appendChild(o),this.cursors.push(o),o},u.prototype.removeCursor=function(){if(this.cursors.length>1){var o=this.cursors.pop();return o.parentNode.removeChild(o),o}},u.prototype.hideCursor=function(){this.isVisible=!1,g.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},u.prototype.showCursor=function(){this.isVisible=!0,g.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},u.prototype.restartTimer=function(){var o=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,g.removeCssClass(this.element,"ace_smooth-blinking")),o(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&g.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),g.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var a=function(){this.timeoutId=setTimeout(function(){o(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){o(!0),a()},this.blinkInterval),a()}},u.prototype.getPixelPosition=function(o,a){if(!this.config||!this.session)return{left:0,top:0};o||(o=this.session.selection.getCursor());var t=this.session.documentToScreenPosition(o),n=this.$padding+(this.session.$bidiHandler.isBidiRow(t.row,o.row)?this.session.$bidiHandler.getPosLeft(t.column):t.column*this.config.characterWidth),r=(t.row-(a?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:n,top:r}},u.prototype.isCursorInView=function(o,a){return o.top>=0&&o.top<a.maxHeight},u.prototype.update=function(o){this.config=o;var a=this.session.$selectionMarkers,t=0,n=0;(a===void 0||a.length===0)&&(a=[{cursor:null}]);for(var t=0,r=a.length;t<r;t++){var e=this.getPixelPosition(a[t].cursor,!0);if(!((e.top>o.height+o.offset||e.top<0)&&t>1)){var i=this.cursors[n++]||this.addCursor(),s=i.style;this.drawCursor?this.drawCursor(i,e,o,a[t],this.session):this.isCursorInView(e,o)?(g.setStyle(s,"display","block"),g.translate(i,e.left,e.top),g.setStyle(s,"width",Math.round(o.characterWidth)+"px"),g.setStyle(s,"height",o.lineHeight+"px")):g.setStyle(s,"display","none")}}for(;this.cursors.length>n;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=e,this.restartTimer()},u.prototype.$setOverwrite=function(o){o!=this.overwrite&&(this.overwrite=o,o?g.addCssClass(this.element,"ace_overwrite-cursors"):g.removeCssClass(this.element,"ace_overwrite-cursors"))},u.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},u}();l.prototype.$padding=0,l.prototype.drawCursor=null,h.Cursor=l}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(d,h,b){var g=this&&this.__extends||function(){var i=function(s,c){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var k in p)Object.prototype.hasOwnProperty.call(p,k)&&(f[k]=p[k])},i(s,c)};return function(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");i(s,c);function f(){this.constructor=s}s.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),l=d("./lib/oop"),u=d("./lib/dom"),o=d("./lib/event"),a=d("./lib/event_emitter").EventEmitter,t=32768,n=function(){function i(s,c){this.element=u.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+c,this.inner=u.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xA0",this.element.appendChild(this.inner),s.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)}return i.prototype.setVisible=function(s){this.element.style.display=s?"":"none",this.isVisible=s,this.coeff=1},i}();l.implement(n.prototype,a);var r=function(i){g(s,i);function s(c,f){var p=i.call(this,c,"-v")||this;return p.scrollTop=0,p.scrollHeight=0,f.$scrollbarWidth=p.width=u.scrollbarWidth(c.ownerDocument),p.inner.style.width=p.element.style.width=(p.width||15)+5+"px",p.$minWidth=0,p}return s.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var c=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-c)/(this.coeff-c)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},s.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},s.prototype.setHeight=function(c){this.element.style.height=c+"px"},s.prototype.setScrollHeight=function(c){this.scrollHeight=c,c>t?(this.coeff=t/c,c=t):this.coeff!=1&&(this.coeff=1),this.inner.style.height=c+"px"},s.prototype.setScrollTop=function(c){this.scrollTop!=c&&(this.skipEvent=!0,this.scrollTop=c,this.element.scrollTop=c*this.coeff)},s}(n);r.prototype.setInnerHeight=r.prototype.setScrollHeight;var e=function(i){g(s,i);function s(c,f){var p=i.call(this,c,"-h")||this;return p.scrollLeft=0,p.height=f.$scrollbarWidth,p.inner.style.height=p.element.style.height=(p.height||15)+5+"px",p}return s.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},s.prototype.getHeight=function(){return this.isVisible?this.height:0},s.prototype.setWidth=function(c){this.element.style.width=c+"px"},s.prototype.setInnerWidth=function(c){this.inner.style.width=c+"px"},s.prototype.setScrollWidth=function(c){this.inner.style.width=c+"px"},s.prototype.setScrollLeft=function(c){this.scrollLeft!=c&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=c)},s}(n);h.ScrollBar=r,h.ScrollBarV=r,h.ScrollBarH=e,h.VScrollBar=r,h.HScrollBar=e}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(d,h,b){var g=this&&this.__extends||function(){var e=function(i,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(c[p]=f[p])},e(i,s)};return function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(i,s);function c(){this.constructor=i}i.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),l=d("./lib/oop"),u=d("./lib/dom"),o=d("./lib/event"),a=d("./lib/event_emitter").EventEmitter;u.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var t=function(){function e(i,s){this.element=u.createElement("div"),this.element.className="ace_sb"+s,this.inner=u.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,i.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return e.prototype.setVisible=function(i){this.element.style.display=i?"":"none",this.isVisible=i,this.coeff=1},e}();l.implement(t.prototype,a);var n=function(e){g(i,e);function i(s,c){var f=e.call(this,s,"-v")||this;return f.scrollTop=0,f.scrollHeight=0,f.parent=s,f.width=f.VScrollWidth,f.renderer=c,f.inner.style.width=f.element.style.width=(f.width||15)+"px",f.$minWidth=0,f}return i.prototype.onMouseDown=function(s,c){if(s==="mousedown"&&!(o.getButton(c)!==0||c.detail===2)){if(c.target===this.inner){var f=this,p=c.clientY,k=function(C){p=C.clientY},y=function(){clearInterval(T)},v=c.clientY,m=this.thumbTop,L=function(){if(p!==void 0){var C=f.scrollTopFromThumbTop(m+p-v);C!==f.scrollTop&&f._emit("scroll",{data:C})}};o.capture(this.inner,k,y);var T=setInterval(L,20);return o.preventDefault(c)}var E=c.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(E)}),o.preventDefault(c)}},i.prototype.getHeight=function(){return this.height},i.prototype.scrollTopFromThumbTop=function(s){var c=s*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return c=c>>0,c<0?c=0:c>this.pageHeight-this.viewHeight&&(c=this.pageHeight-this.viewHeight),c},i.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},i.prototype.setHeight=function(s){this.height=Math.max(0,s),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},i.prototype.setScrollHeight=function(s,c){this.pageHeight===s&&!c||(this.pageHeight=s,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},i.prototype.setScrollTop=function(s){this.scrollTop=s,s<0&&(s=0),this.thumbTop=s*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},i}(t);n.prototype.setInnerHeight=n.prototype.setScrollHeight;var r=function(e){g(i,e);function i(s,c){var f=e.call(this,s,"-h")||this;return f.scrollLeft=0,f.scrollWidth=0,f.height=f.HScrollHeight,f.inner.style.height=f.element.style.height=(f.height||12)+"px",f.renderer=c,f}return i.prototype.onMouseDown=function(s,c){if(s==="mousedown"&&!(o.getButton(c)!==0||c.detail===2)){if(c.target===this.inner){var f=this,p=c.clientX,k=function(C){p=C.clientX},y=function(){clearInterval(T)},v=c.clientX,m=this.thumbLeft,L=function(){if(p!==void 0){var C=f.scrollLeftFromThumbLeft(m+p-v);C!==f.scrollLeft&&f._emit("scroll",{data:C})}};o.capture(this.inner,k,y);var T=setInterval(L,20);return o.preventDefault(c)}var E=c.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(E)}),o.preventDefault(c)}},i.prototype.getHeight=function(){return this.isVisible?this.height:0},i.prototype.scrollLeftFromThumbLeft=function(s){var c=s*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return c=c>>0,c<0?c=0:c>this.pageWidth-this.viewWidth&&(c=this.pageWidth-this.viewWidth),c},i.prototype.setWidth=function(s){this.width=Math.max(0,s),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},i.prototype.setScrollWidth=function(s,c){this.pageWidth===s&&!c||(this.pageWidth=s,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},i.prototype.setScrollLeft=function(s){this.scrollLeft=s,s<0&&(s=0),this.thumbLeft=s*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},i}(t);r.prototype.setInnerWidth=r.prototype.setScrollWidth,h.ScrollBar=n,h.ScrollBarV=n,h.ScrollBarH=r,h.VScrollBar=n,h.HScrollBar=r}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(d,h,b){var g=d("./lib/event"),l=function(){function u(o,a){this.onRender=o,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=a||window;var t=this;this._flush=function(n){t.pending=!1;var r=t.changes;if(r&&(g.blockIdle(100),t.changes=0,t.onRender(r)),t.changes){if(t.$recursionLimit--<0)return;t.schedule()}else t.$recursionLimit=2}}return u.prototype.schedule=function(o){this.changes=this.changes|o,this.changes&&!this.pending&&(g.nextFrame(this._flush),this.pending=!0)},u.prototype.clear=function(o){var a=this.changes;return this.changes=0,a},u}();h.RenderLoop=l}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(d,h,b){var g=d("../lib/oop"),l=d("../lib/dom"),u=d("../lib/lang"),o=d("../lib/event"),a=d("../lib/useragent"),t=d("../lib/event_emitter").EventEmitter,n=512,r=typeof ResizeObserver=="function",e=200,i=function(){function s(c){this.el=l.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=l.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=l.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),c.appendChild(this.el),this.$measureNode.textContent=u.stringRepeat("X",n),this.$characterSize={width:0,height:0},r?this.$addObserver():this.checkForSizeChanges()}return s.prototype.$setMeasureNodeStyles=function(c,f){c.width=c.height="auto",c.left=c.top="0px",c.visibility="hidden",c.position="absolute",c.whiteSpace="pre",a.isIE<8?c["font-family"]="inherit":c.font="inherit",c.overflow=f?"hidden":"visible"},s.prototype.checkForSizeChanges=function(c){if(c===void 0&&(c=this.$measureSizes()),c&&(this.$characterSize.width!==c.width||this.$characterSize.height!==c.height)){this.$measureNode.style.fontWeight="bold";var f=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=c,this.charSizes=Object.create(null),this.allowBoldFonts=f&&f.width===c.width&&f.height===c.height,this._emit("changeCharacterSize",{data:c})}},s.prototype.$addObserver=function(){var c=this;this.$observer=new window.ResizeObserver(function(f){c.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},s.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var c=this;return this.$pollSizeChangesTimer=o.onIdle(function f(){c.checkForSizeChanges(),o.onIdle(f,500)},500)},s.prototype.setPolling=function(c){c?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},s.prototype.$measureSizes=function(c){var f={height:(c||this.$measureNode).clientHeight,width:(c||this.$measureNode).clientWidth/n};return f.width===0||f.height===0?null:f},s.prototype.$measureCharWidth=function(c){this.$main.textContent=u.stringRepeat(c,n);var f=this.$main.getBoundingClientRect();return f.width/n},s.prototype.getCharacterWidth=function(c){var f=this.charSizes[c];return f===void 0&&(f=this.charSizes[c]=this.$measureCharWidth(c)/this.$characterSize.width),f},s.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},s.prototype.$getZoom=function(c){return!c||!c.parentElement?1:(window.getComputedStyle(c).zoom||1)*this.$getZoom(c.parentElement)},s.prototype.$initTransformMeasureNodes=function(){var c=function(f,p){return["div",{style:"position: absolute;top:"+f+"px;left:"+p+"px;"}]};this.els=l.buildDom([c(0,0),c(e,0),c(0,e),c(e,e)],this.el)},s.prototype.transformCoordinates=function(c,f){if(c){var p=this.$getZoom(this.el);c=m(1/p,c)}function k(N,_,G){var H=N[1]*_[0]-N[0]*_[1];return[(-_[1]*G[0]+_[0]*G[1])/H,(+N[1]*G[0]-N[0]*G[1])/H]}function y(N,_){return[N[0]-_[0],N[1]-_[1]]}function v(N,_){return[N[0]+_[0],N[1]+_[1]]}function m(N,_){return[N*_[0],N*_[1]]}this.els||this.$initTransformMeasureNodes();function L(N){var _=N.getBoundingClientRect();return[_.left,_.top]}var T=L(this.els[0]),E=L(this.els[1]),C=L(this.els[2]),S=L(this.els[3]),I=k(y(S,E),y(S,C),y(v(E,C),v(S,T))),A=m(1+I[0],y(E,T)),w=m(1+I[1],y(C,T));if(f){var M=f,R=I[0]*M[0]/e+I[1]*M[1]/e+1,O=v(m(M[0],A),m(M[1],w));return v(m(1/R/e,O),T)}var F=y(c,T),B=k(y(A,m(I[0],F)),y(w,m(I[1],F)),F);return m(e,B)},s}();i.prototype.$characterSize={width:0,height:0},g.implement(i.prototype,t),h.FontMetrics=i}),ace.define("ace/css/editor-css",["require","exports","module"],function(d,h,b){b.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}
.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
    white-space: pre;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(d,h,b){var g=d("../lib/dom"),l=d("../lib/oop"),u=d("../lib/event_emitter").EventEmitter,o=function(){function a(t,n){this.canvas=g.createElement("canvas"),this.renderer=n,this.pixelRatio=1,this.maxHeight=n.layerConfig.maxHeight,this.lineHeight=n.layerConfig.lineHeight,this.canvasHeight=t.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=t.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top=0+"px",this.canvas.style.right=0+"px",this.canvas.style.zIndex=7+"px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},t.element.appendChild(this.canvas)}return a.prototype.$updateDecorators=function(t){var n=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(t){this.maxHeight=t.maxHeight,this.lineHeight=t.lineHeight,this.canvasHeight=t.height;var r=(t.lastRow+1)*this.lineHeight;r<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var e=this.canvas.getContext("2d");function i(S,I){return S.priority<I.priority?-1:S.priority>I.priority?1:0}var s=this.renderer.session.$annotations;if(e.clearRect(0,0,this.canvas.width,this.canvas.height),s){var c={info:1,warning:2,error:3};s.forEach(function(S){S.priority=c[S.type]||null}),s=s.sort(i);for(var f=this.renderer.session.$foldData,p=0;p<s.length;p++){var k=s[p].row,y=this.compensateFoldRows(k,f),v=Math.round((k-y)*this.lineHeight*this.heightRatio),m=Math.round((k-y)*this.lineHeight*this.heightRatio),L=Math.round(((k-y)*this.lineHeight+this.lineHeight)*this.heightRatio),T=L-m;if(T<this.minDecorationHeight){var E=(m+L)/2|0;E<this.halfMinDecorationHeight?E=this.halfMinDecorationHeight:E+this.halfMinDecorationHeight>this.canvasHeight&&(E=this.canvasHeight-this.halfMinDecorationHeight),m=Math.round(E-this.halfMinDecorationHeight),L=Math.round(E+this.halfMinDecorationHeight)}e.fillStyle=n[s[p].type]||null,e.fillRect(0,v,this.canvasWidth,L-m)}}var C=this.renderer.session.selection.getCursor();if(C){var y=this.compensateFoldRows(C.row,f),v=Math.round((C.row-y)*this.lineHeight*this.heightRatio);e.fillStyle="rgba(0, 0, 0, 0.5)",e.fillRect(0,v,this.canvasWidth,2)}},a.prototype.compensateFoldRows=function(t,n){var r=0;if(n&&n.length>0)for(var e=0;e<n.length;e++)t>n[e].start.row&&t<n[e].end.row?r+=t-n[e].start.row:t>=n[e].end.row&&(r+=n[e].end.row-n[e].start.row);return r},a}();l.implement(o.prototype,u),h.Decorator=o}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent"],function(d,h,b){var g=d("./lib/oop"),l=d("./lib/dom"),u=d("./lib/lang"),o=d("./config"),a=d("./layer/gutter").Gutter,t=d("./layer/marker").Marker,n=d("./layer/text").Text,r=d("./layer/cursor").Cursor,e=d("./scrollbar").HScrollBar,i=d("./scrollbar").VScrollBar,s=d("./scrollbar_custom").HScrollBar,c=d("./scrollbar_custom").VScrollBar,f=d("./renderloop").RenderLoop,p=d("./layer/font_metrics").FontMetrics,k=d("./lib/event_emitter").EventEmitter,y=d("./css/editor-css"),v=d("./layer/decorators").Decorator,m=d("./lib/useragent");l.importCssString(y,"ace_editor.css",!1);var L=function(){function T(E,C){var S=this;this.container=E||l.createElement("div"),l.addCssClass(this.container,"ace_editor"),l.HI_DPI&&l.addCssClass(this.container,"ace_hidpi"),this.setTheme(C),o.get("useStrictCSP")==null&&o.set("useStrictCSP",!1),this.$gutter=l.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=l.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=l.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new t(this.content);var I=this.$textLayer=new n(this.content);this.canvas=I.element,this.$markerFront=new t(this.content),this.$cursorLayer=new r(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new i(this.container,this),this.scrollBarH=new e(this.container,this),this.scrollBarV.on("scroll",function(A){S.$scrollAnimation||S.session.setScrollTop(A.data-S.scrollMargin.top)}),this.scrollBarH.on("scroll",function(A){S.$scrollAnimation||S.session.setScrollLeft(A.data-S.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(A){S.updateCharacterSize(),S.onResize(!0,S.gutterWidth,S.$size.width,S.$size.height),S._signal("changeCharacterSize",A)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!m.isIOS,this.$loop=new f(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),o.resetOptions(this),o._signal("renderer",this)}return T.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),l.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},T.prototype.setSession=function(E){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=E,E&&this.scrollMargin.top&&E.getScrollTop()<=0&&E.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(E),this.$markerBack.setSession(E),this.$markerFront.setSession(E),this.$gutterLayer.setSession(E),this.$textLayer.setSession(E),E&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},T.prototype.updateLines=function(E,C,S){if(C===void 0&&(C=1/0),this.$changedLines?(this.$changedLines.firstRow>E&&(this.$changedLines.firstRow=E),this.$changedLines.lastRow<C&&(this.$changedLines.lastRow=C)):this.$changedLines={firstRow:E,lastRow:C},this.$changedLines.lastRow<this.layerConfig.firstRow)if(S)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},T.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},T.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},T.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},T.prototype.updateFull=function(E){E?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},T.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},T.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},T.prototype.onResize=function(E,C,S,I){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=E?1:0;var A=this.container;I||(I=A.clientHeight||A.scrollHeight),S||(S=A.clientWidth||A.scrollWidth);var w=this.$updateCachedSize(E,C,S,I);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!S&&!I)return this.resizing=0;E&&(this.$gutterLayer.$padding=null),E?this.$renderChanges(w|this.$changes,!0):this.$loop.schedule(w|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},T.prototype.$updateCachedSize=function(E,C,S,I){I-=this.$extraHeight||0;var A=0,w=this.$size,M={width:w.width,height:w.height,scrollerHeight:w.scrollerHeight,scrollerWidth:w.scrollerWidth};if(I&&(E||w.height!=I)&&(w.height=I,A|=this.CHANGE_SIZE,w.scrollerHeight=w.height,this.$horizScroll&&(w.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(w.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",A=A|this.CHANGE_SCROLL),S&&(E||w.width!=S)){A|=this.CHANGE_SIZE,w.width=S,C==null&&(C=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=C,l.setStyle(this.scrollBarH.element.style,"left",C+"px"),l.setStyle(this.scroller.style,"left",C+this.margin.left+"px"),w.scrollerWidth=Math.max(0,S-C-this.scrollBarV.getWidth()-this.margin.h),l.setStyle(this.$gutter.style,"left",this.margin.left+"px");var R=this.scrollBarV.getWidth()+"px";l.setStyle(this.scrollBarH.element.style,"right",R),l.setStyle(this.scroller.style,"right",R),l.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(w.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||E)&&(A|=this.CHANGE_FULL)}return w.$dirty=!S||!I,A&&this._signal("resize",M),A},T.prototype.onGutterResize=function(E){var C=this.$showGutter?E:0;C!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,C,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},T.prototype.adjustWrapLimit=function(){var E=this.$size.scrollerWidth-this.$padding*2,C=Math.floor(E/this.characterWidth);return this.session.adjustWrapLimit(C,this.$showPrintMargin&&this.$printMarginColumn)},T.prototype.setAnimatedScroll=function(E){this.setOption("animatedScroll",E)},T.prototype.getAnimatedScroll=function(){return this.$animatedScroll},T.prototype.setShowInvisibles=function(E){this.setOption("showInvisibles",E),this.session.$bidiHandler.setShowInvisibles(E)},T.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},T.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},T.prototype.setDisplayIndentGuides=function(E){this.setOption("displayIndentGuides",E)},T.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},T.prototype.setHighlightIndentGuides=function(E){this.setOption("highlightIndentGuides",E)},T.prototype.setShowPrintMargin=function(E){this.setOption("showPrintMargin",E)},T.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},T.prototype.setPrintMarginColumn=function(E){this.setOption("printMarginColumn",E)},T.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},T.prototype.getShowGutter=function(){return this.getOption("showGutter")},T.prototype.setShowGutter=function(E){return this.setOption("showGutter",E)},T.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},T.prototype.setFadeFoldWidgets=function(E){this.setOption("fadeFoldWidgets",E)},T.prototype.setHighlightGutterLine=function(E){this.setOption("highlightGutterLine",E)},T.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},T.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var E=l.createElement("div");E.className="ace_layer ace_print-margin-layer",this.$printMarginEl=l.createElement("div"),this.$printMarginEl.className="ace_print-margin",E.appendChild(this.$printMarginEl),this.content.insertBefore(E,this.content.firstChild)}var C=this.$printMarginEl.style;C.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",C.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},T.prototype.getContainerElement=function(){return this.container},T.prototype.getMouseEventTarget=function(){return this.scroller},T.prototype.getTextAreaContainer=function(){return this.container},T.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var E=this.textarea.style,C=this.$composition;if(!this.$keepTextAreaAtCursor&&!C){l.translate(this.textarea,-100,0);return}var S=this.$cursorLayer.$pixelPos;if(!!S){C&&C.markerRange&&(S=this.$cursorLayer.getPixelPosition(C.markerRange.start,!0));var I=this.layerConfig,A=S.top,w=S.left;A-=I.offset;var M=C&&C.useTextareaForIME||m.isMobile?this.lineHeight:1;if(A<0||A>I.height-M){l.translate(this.textarea,0,0);return}var R=1,O=this.$size.height-M;if(!C)A+=this.lineHeight;else if(C.useTextareaForIME){var F=this.textarea.value;R=this.characterWidth*this.session.$getStringScreenWidth(F)[0]}else A+=this.lineHeight+2;w-=this.scrollLeft,w>this.$size.scrollerWidth-R&&(w=this.$size.scrollerWidth-R),w+=this.gutterWidth+this.margin.left,l.setStyle(E,"height",M+"px"),l.setStyle(E,"width",R+"px"),l.translate(this.textarea,Math.min(w,this.$size.scrollerWidth-R),Math.min(A,O))}}},T.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},T.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},T.prototype.getLastFullyVisibleRow=function(){var E=this.layerConfig,C=E.lastRow,S=this.session.documentToScreenRow(C,0)*E.lineHeight;return S-this.session.getScrollTop()>E.height-E.lineHeight?C-1:C},T.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},T.prototype.setPadding=function(E){this.$padding=E,this.$textLayer.setPadding(E),this.$cursorLayer.setPadding(E),this.$markerFront.setPadding(E),this.$markerBack.setPadding(E),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},T.prototype.setScrollMargin=function(E,C,S,I){var A=this.scrollMargin;A.top=E|0,A.bottom=C|0,A.right=I|0,A.left=S|0,A.v=A.top+A.bottom,A.h=A.left+A.right,A.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-A.top),this.updateFull()},T.prototype.setMargin=function(E,C,S,I){var A=this.margin;A.top=E|0,A.bottom=C|0,A.right=I|0,A.left=S|0,A.v=A.top+A.bottom,A.h=A.left+A.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},T.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},T.prototype.setHScrollBarAlwaysVisible=function(E){this.setOption("hScrollBarAlwaysVisible",E)},T.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},T.prototype.setVScrollBarAlwaysVisible=function(E){this.setOption("vScrollBarAlwaysVisible",E)},T.prototype.$updateScrollBarV=function(){var E=this.layerConfig.maxHeight,C=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(E-=(C-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>E-C&&(E=this.scrollTop+C,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(E+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},T.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},T.prototype.freeze=function(){this.$frozen=!0},T.prototype.unfreeze=function(){this.$frozen=!1},T.prototype.$renderChanges=function(E,C){if(this.$changes&&(E|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!E&&!C){this.$changes|=E;return}if(this.$size.$dirty)return this.$changes|=E,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",E),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var S=this.layerConfig;if(E&this.CHANGE_FULL||E&this.CHANGE_SIZE||E&this.CHANGE_TEXT||E&this.CHANGE_LINES||E&this.CHANGE_SCROLL||E&this.CHANGE_H_SCROLL){if(E|=this.$computeLayerConfig()|this.$loop.clear(),S.firstRow!=this.layerConfig.firstRow&&S.firstRowScreen==this.layerConfig.firstRowScreen){var I=this.scrollTop+(S.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;I>0&&(this.scrollTop=I,E=E|this.CHANGE_SCROLL,E|=this.$computeLayerConfig()|this.$loop.clear())}S=this.layerConfig,this.$updateScrollBarV(),E&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),l.translate(this.content,-this.scrollLeft,-S.offset);var A=S.width+2*this.$padding+"px",w=S.minHeight+"px";l.setStyle(this.content.style,"width",A),l.setStyle(this.content.style,"height",w)}if(E&this.CHANGE_H_SCROLL&&(l.translate(this.content,-this.scrollLeft,-S.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),E&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(S),this.$showGutter&&this.$gutterLayer.update(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S),this.$markerBack.update(S),this.$markerFront.update(S),this.$cursorLayer.update(S),this.$moveTextAreaToCursor(),this._signal("afterRender",E);return}if(E&this.CHANGE_SCROLL){this.$changedLines=null,E&this.CHANGE_TEXT||E&this.CHANGE_LINES?this.$textLayer.update(S):this.$textLayer.scrollLines(S),this.$showGutter&&(E&this.CHANGE_GUTTER||E&this.CHANGE_LINES?this.$gutterLayer.update(S):this.$gutterLayer.scrollLines(S)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S),this.$markerBack.update(S),this.$markerFront.update(S),this.$cursorLayer.update(S),this.$moveTextAreaToCursor(),this._signal("afterRender",E);return}E&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(S),this.$showGutter&&this.$gutterLayer.update(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S)):E&this.CHANGE_LINES?((this.$updateLines()||E&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S)):E&this.CHANGE_TEXT||E&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S)):E&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S)),E&this.CHANGE_CURSOR&&(this.$cursorLayer.update(S),this.$moveTextAreaToCursor()),E&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(S),E&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(S),this._signal("afterRender",E)},T.prototype.$autosize=function(){var E=this.session.getScreenLength()*this.lineHeight,C=this.$maxLines*this.lineHeight,S=Math.min(C,Math.max((this.$minLines||1)*this.lineHeight,E))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(S+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&S>this.$maxPixelHeight&&(S=this.$maxPixelHeight);var I=S<=2*this.lineHeight,A=!I&&E>C;if(S!=this.desiredHeight||this.$size.height!=this.desiredHeight||A!=this.$vScroll){A!=this.$vScroll&&(this.$vScroll=A,this.scrollBarV.setVisible(A));var w=this.container.clientWidth;this.container.style.height=S+"px",this.$updateCachedSize(!0,this.$gutterWidth,w,S),this.desiredHeight=S,this._signal("autosize")}},T.prototype.$computeLayerConfig=function(){var E=this.session,C=this.$size,S=C.height<=2*this.lineHeight,I=this.session.getScreenLength(),A=I*this.lineHeight,w=this.$getLongestLine(),M=!S&&(this.$hScrollBarAlwaysVisible||C.scrollerWidth-w-2*this.$padding<0),R=this.$horizScroll!==M;R&&(this.$horizScroll=M,this.scrollBarH.setVisible(M));var O=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var F=C.scrollerHeight+this.lineHeight,B=!this.$maxLines&&this.$scrollPastEnd?(C.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;A+=B;var N=this.scrollMargin;this.session.setScrollTop(Math.max(-N.top,Math.min(this.scrollTop,A-C.scrollerHeight+N.bottom))),this.session.setScrollLeft(Math.max(-N.left,Math.min(this.scrollLeft,w+2*this.$padding-C.scrollerWidth+N.right)));var _=!S&&(this.$vScrollBarAlwaysVisible||C.scrollerHeight-A+B<0||this.scrollTop>N.top),G=O!==_;G&&(this.$vScroll=_,this.scrollBarV.setVisible(_));var H=this.scrollTop%this.lineHeight,z=Math.ceil(F/this.lineHeight)-1,j=Math.max(0,Math.round((this.scrollTop-H)/this.lineHeight)),q=j+z,ne,X,ee=this.lineHeight;j=E.screenToDocumentRow(j,0);var ae=E.getFoldLine(j);ae&&(j=ae.start.row),ne=E.documentToScreenRow(j,0),X=E.getRowLength(j)*ee,q=Math.min(E.screenToDocumentRow(q,0),E.getLength()-1),F=C.scrollerHeight+E.getRowLength(q)*ee+X,H=this.scrollTop-ne*ee;var re=0;return(this.layerConfig.width!=w||R)&&(re=this.CHANGE_H_SCROLL),(R||G)&&(re|=this.$updateCachedSize(!0,this.gutterWidth,C.width,C.height),this._signal("scrollbarVisibilityChanged"),G&&(w=this.$getLongestLine())),this.layerConfig={width:w,padding:this.$padding,firstRow:j,firstRowScreen:ne,lastRow:q,lineHeight:ee,characterWidth:this.characterWidth,minHeight:F,maxHeight:A,offset:H,gutterOffset:ee?Math.max(0,Math.ceil((H+C.height-C.scrollerHeight)/ee)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(w-this.$padding),re},T.prototype.$updateLines=function(){if(!!this.$changedLines){var E=this.$changedLines.firstRow,C=this.$changedLines.lastRow;this.$changedLines=null;var S=this.layerConfig;if(!(E>S.lastRow+1)&&!(C<S.firstRow)){if(C===1/0){this.$showGutter&&this.$gutterLayer.update(S),this.$textLayer.update(S);return}return this.$textLayer.updateLines(S,E,C),!0}}},T.prototype.$getLongestLine=function(){var E=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(E+=1),this.$textLayer&&E>this.$textLayer.MAX_LINE_LENGTH&&(E=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(E*this.characterWidth))},T.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},T.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},T.prototype.addGutterDecoration=function(E,C){this.$gutterLayer.addGutterDecoration(E,C)},T.prototype.removeGutterDecoration=function(E,C){this.$gutterLayer.removeGutterDecoration(E,C)},T.prototype.updateBreakpoints=function(E){this.$loop.schedule(this.CHANGE_GUTTER)},T.prototype.setAnnotations=function(E){this.$gutterLayer.setAnnotations(E),this.$loop.schedule(this.CHANGE_GUTTER)},T.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},T.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},T.prototype.showCursor=function(){this.$cursorLayer.showCursor()},T.prototype.scrollSelectionIntoView=function(E,C,S){this.scrollCursorIntoView(E,S),this.scrollCursorIntoView(C,S)},T.prototype.scrollCursorIntoView=function(E,C,S){if(this.$size.scrollerHeight!==0){var I=this.$cursorLayer.getPixelPosition(E),A=I.left,w=I.top,M=S&&S.top||0,R=S&&S.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var O=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;O+M>w?(C&&O+M>w+this.lineHeight&&(w-=C*this.$size.scrollerHeight),w===0&&(w=-this.scrollMargin.top),this.session.setScrollTop(w)):O+this.$size.scrollerHeight-R<w+this.lineHeight&&(C&&O+this.$size.scrollerHeight-R<w-this.lineHeight&&(w+=C*this.$size.scrollerHeight),this.session.setScrollTop(w+this.lineHeight+R-this.$size.scrollerHeight));var F=this.scrollLeft,B=2*this.layerConfig.characterWidth;A-B<F?(A-=B,A<this.$padding+B&&(A=-this.scrollMargin.left),this.session.setScrollLeft(A)):(A+=B,F+this.$size.scrollerWidth<A+this.characterWidth?this.session.setScrollLeft(Math.round(A+this.characterWidth-this.$size.scrollerWidth)):F<=this.$padding&&A-F<this.characterWidth&&this.session.setScrollLeft(0))}},T.prototype.getScrollTop=function(){return this.session.getScrollTop()},T.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},T.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},T.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},T.prototype.scrollToRow=function(E){this.session.setScrollTop(E*this.lineHeight)},T.prototype.alignCursor=function(E,C){typeof E=="number"&&(E={row:E,column:0});var S=this.$cursorLayer.getPixelPosition(E),I=this.$size.scrollerHeight-this.lineHeight,A=S.top-I*(C||0);return this.session.setScrollTop(A),A},T.prototype.$calcSteps=function(E,C){var S=0,I=this.STEPS,A=[],w=function(M,R,O){return O*(Math.pow(M-1,3)+1)+R};for(S=0;S<I;++S)A.push(w(S/this.STEPS,E,C-E));return A},T.prototype.scrollToLine=function(E,C,S,I){var A=this.$cursorLayer.getPixelPosition({row:E,column:0}),w=A.top;C&&(w-=this.$size.scrollerHeight/2);var M=this.scrollTop;this.session.setScrollTop(w),S!==!1&&this.animateScrolling(M,I)},T.prototype.animateScrolling=function(E,C){var S=this.scrollTop;if(!this.$animatedScroll)return;var I=this;if(E==S)return;if(this.$scrollAnimation){var A=this.$scrollAnimation.steps;if(A.length&&(E=A[0],E==S))return}var w=I.$calcSteps(E,S);this.$scrollAnimation={from:E,to:S,steps:w},clearInterval(this.$timer),I.session.setScrollTop(w.shift()),I.session.$scrollTop=S;function M(){I.$timer=clearInterval(I.$timer),I.$scrollAnimation=null,I.$stopAnimation=!1,C&&C()}this.$timer=setInterval(function(){if(I.$stopAnimation){M();return}if(!I.session)return clearInterval(I.$timer);w.length?(I.session.setScrollTop(w.shift()),I.session.$scrollTop=S):S!=null?(I.session.$scrollTop=-1,I.session.setScrollTop(S),S=null):M()},10)},T.prototype.scrollToY=function(E){this.scrollTop!==E&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=E)},T.prototype.scrollToX=function(E){this.scrollLeft!==E&&(this.scrollLeft=E),this.$loop.schedule(this.CHANGE_H_SCROLL)},T.prototype.scrollTo=function(E,C){this.session.setScrollTop(C),this.session.setScrollLeft(E)},T.prototype.scrollBy=function(E,C){C&&this.session.setScrollTop(this.session.getScrollTop()+C),E&&this.session.setScrollLeft(this.session.getScrollLeft()+E)},T.prototype.isScrollableBy=function(E,C){if(C<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||C>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||E<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||E>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},T.prototype.pixelToScreenCoordinates=function(E,C){var S;if(this.$hasCssTransforms){S={top:0,left:0};var I=this.$fontMetrics.transformCoordinates([E,C]);E=I[1]-this.gutterWidth-this.margin.left,C=I[0]}else S=this.scroller.getBoundingClientRect();var A=E+this.scrollLeft-S.left-this.$padding,w=A/this.characterWidth,M=Math.floor((C+this.scrollTop-S.top)/this.lineHeight),R=this.$blockCursor?Math.floor(w):Math.round(w);return{row:M,column:R,side:w-R>0?1:-1,offsetX:A}},T.prototype.screenToTextCoordinates=function(E,C){var S;if(this.$hasCssTransforms){S={top:0,left:0};var I=this.$fontMetrics.transformCoordinates([E,C]);E=I[1]-this.gutterWidth-this.margin.left,C=I[0]}else S=this.scroller.getBoundingClientRect();var A=E+this.scrollLeft-S.left-this.$padding,w=A/this.characterWidth,M=this.$blockCursor?Math.floor(w):Math.round(w),R=Math.floor((C+this.scrollTop-S.top)/this.lineHeight);return this.session.screenToDocumentPosition(R,Math.max(M,0),A)},T.prototype.textToScreenCoordinates=function(E,C){var S=this.scroller.getBoundingClientRect(),I=this.session.documentToScreenPosition(E,C),A=this.$padding+(this.session.$bidiHandler.isBidiRow(I.row,E)?this.session.$bidiHandler.getPosLeft(I.column):Math.round(I.column*this.characterWidth)),w=I.row*this.lineHeight;return{pageX:S.left+A-this.scrollLeft,pageY:S.top+w-this.scrollTop}},T.prototype.visualizeFocus=function(){l.addCssClass(this.container,"ace_focus")},T.prototype.visualizeBlur=function(){l.removeCssClass(this.container,"ace_focus")},T.prototype.showComposition=function(E){this.$composition=E,E.cssText||(E.cssText=this.textarea.style.cssText),E.useTextareaForIME==null&&(E.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(l.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):E.markerId=this.session.addMarker(E.markerRange,"ace_composition_marker","text")},T.prototype.setCompositionText=function(E){var C=this.session.selection.cursor;this.addToken(E,"composition_placeholder",C.row,C.column),this.$moveTextAreaToCursor()},T.prototype.hideComposition=function(){if(!!this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),l.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var E=this.session.selection.cursor;this.removeExtraToken(E.row,E.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},T.prototype.setGhostText=function(E,C){var S=this.session.selection.cursor,I=C||{row:S.row,column:S.column};this.removeGhostText();var A=E.split(`
`);this.addToken(A[0],"ghost_text",I.row,I.column),this.$ghostText={text:E,position:{row:I.row,column:I.column}},A.length>1&&(this.$ghostTextWidget={text:A.slice(1).join(`
`),row:I.row,column:I.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget))},T.prototype.removeGhostText=function(){if(!!this.$ghostText){var E=this.$ghostText.position;this.removeExtraToken(E.row,E.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},T.prototype.addToken=function(E,C,S,I){var A=this.session;A.bgTokenizer.lines[S]=null;var w={type:C,value:E},M=A.getTokens(S);if(I==null||!M.length)M.push(w);else for(var R=0,O=0;O<M.length;O++){var F=M[O];if(R+=F.value.length,I<=R){var B=F.value.length-(R-I),N=F.value.slice(0,B),_=F.value.slice(B);M.splice(O,1,{type:F.type,value:N},w,{type:F.type,value:_});break}}this.updateLines(S,S)},T.prototype.removeExtraToken=function(E,C){this.session.bgTokenizer.lines[E]=null,this.updateLines(E,E)},T.prototype.setTheme=function(E,C){var S=this;if(this.$themeId=E,S._dispatchEvent("themeChange",{theme:E}),!E||typeof E=="string"){var I=E||this.$options.theme.initialValue;o.loadModule(["theme",I],A)}else A(E);function A(w){if(S.$themeId!=E)return C&&C();if(!w||!w.cssClass)throw new Error("couldn't load module "+E+" or it didn't call define");w.$id&&(S.$themeId=w.$id),l.importCssString(w.cssText,w.cssClass,S.container),S.theme&&l.removeCssClass(S.container,S.theme.cssClass);var M="padding"in w?w.padding:"padding"in(S.theme||{})?4:S.$padding;S.$padding&&M!=S.$padding&&S.setPadding(M),S.$theme=w.cssClass,S.theme=w,l.addCssClass(S.container,w.cssClass),l.setCssClass(S.container,"ace_dark",w.isDark),S.$size&&(S.$size.width=0,S.$updateSizeAsync()),S._dispatchEvent("themeLoaded",{theme:w}),C&&C()}},T.prototype.getTheme=function(){return this.$themeId},T.prototype.setStyle=function(E,C){l.setCssClass(this.container,E,C!==!1)},T.prototype.unsetStyle=function(E){l.removeCssClass(this.container,E)},T.prototype.setCursorStyle=function(E){l.setStyle(this.scroller.style,"cursor",E)},T.prototype.setMouseCursor=function(E){l.setStyle(this.scroller.style,"cursor",E)},T.prototype.attachToShadowRoot=function(){l.importCssString(y,"ace_editor.css",this.container)},T.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},T.prototype.$updateCustomScrollbar=function(E){var C=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,E===!0?(this.scrollBarV=new c(this.container,this),this.scrollBarH=new s(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(S){C.$scrollAnimation||C.session.setScrollTop(S.data-C.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(S){C.$scrollAnimation||C.session.setScrollLeft(S.data-C.scrollMargin.left)}),this.$scrollDecorator=new v(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new i(this.container,this),this.scrollBarH=new e(this.container,this),this.scrollBarV.addEventListener("scroll",function(S){C.$scrollAnimation||C.session.setScrollTop(S.data-C.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(S){C.$scrollAnimation||C.session.setScrollLeft(S.data-C.scrollMargin.left)}))},T.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var E=this;this.$resizeTimer=u.delayedCall(function(){E.destroyed||E.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(C){var S=C[0].contentRect.width,I=C[0].contentRect.height;Math.abs(E.$size.width-S)>1||Math.abs(E.$size.height-I)>1?E.$resizeTimer.delay():E.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},T}();L.prototype.CHANGE_CURSOR=1,L.prototype.CHANGE_MARKER=2,L.prototype.CHANGE_GUTTER=4,L.prototype.CHANGE_SCROLL=8,L.prototype.CHANGE_LINES=16,L.prototype.CHANGE_TEXT=32,L.prototype.CHANGE_SIZE=64,L.prototype.CHANGE_MARKER_BACK=128,L.prototype.CHANGE_MARKER_FRONT=256,L.prototype.CHANGE_FULL=512,L.prototype.CHANGE_H_SCROLL=1024,L.prototype.$changes=0,L.prototype.$padding=null,L.prototype.$frozen=!1,L.prototype.STEPS=8,g.implement(L.prototype,k),o.defineOptions(L.prototype,"renderer",{useResizeObserver:{set:function(T){!T&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):T&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(T){this.$textLayer.setShowInvisibles(T)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(T){typeof T=="number"&&(this.$printMarginColumn=T),this.$showPrintMargin=!!T,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(T){this.$gutter.style.display=T?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(T){this.$gutterLayer.$useSvgGutterIcons=T},initialValue:!1},showFoldedAnnotations:{set:function(T){this.$gutterLayer.$showFoldedAnnotations=T},initialValue:!1},fadeFoldWidgets:{set:function(T){l.setCssClass(this.$gutter,"ace_fade-fold-widgets",T)},initialValue:!1},showFoldWidgets:{set:function(T){this.$gutterLayer.setShowFoldWidgets(T),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(T){this.$textLayer.setDisplayIndentGuides(T)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(T){this.$textLayer.setHighlightIndentGuides(T)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(T){this.$gutterLayer.setHighlightGutterLine(T),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(T){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(T){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(T){typeof T=="number"&&(T=T+"px"),this.container.style.fontSize=T,this.updateFontSize()},initialValue:12},fontFamily:{set:function(T){this.container.style.fontFamily=T,this.updateFontSize()}},maxLines:{set:function(T){this.updateFull()}},minLines:{set:function(T){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(T){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(T){T=+T||0,this.$scrollPastEnd!=T&&(this.$scrollPastEnd=T,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(T){this.$gutterLayer.$fixedWidth=!!T,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(T){this.$updateCustomScrollbar(T)},initialValue:!1},theme:{set:function(T){this.setTheme(T)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!m.isMobile&&!m.isIE}}),h.VirtualRenderer=L}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(d,h,b){var g=d("../lib/oop"),l=d("../lib/net"),u=d("../lib/event_emitter").EventEmitter,o=d("../config");function a(e){var i="importScripts('"+l.qualifyURL(e)+"');";try{return new Blob([i],{type:"application/javascript"})}catch(f){var s=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,c=new s;return c.append(i),c.getBlob("application/javascript")}}function t(e){if(typeof Worker=="undefined")return{postMessage:function(){},terminate:function(){}};if(o.get("loadWorkerFromBlob")){var i=a(e),s=window.URL||window.webkitURL,c=s.createObjectURL(i);return new Worker(c)}return new Worker(e)}var n=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){g.implement(this,u),this.$createWorkerFromOldConfig=function(e,i,s,c,f){if(d.nameToUrl&&!d.toUrl&&(d.toUrl=d.nameToUrl),o.get("packaged")||!d.toUrl)c=c||o.moduleUrl(i,"worker");else{var p=this.$normalizePath;c=c||p(d.toUrl("ace/worker/worker.js",null,"_"));var k={};e.forEach(function(y){k[y]=p(d.toUrl(y,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=t(c),f&&this.send("importScripts",f),this.$worker.postMessage({init:!0,tlns:k,module:i,classname:s}),this.$worker},this.onMessage=function(e){var i=e.data;switch(i.type){case"event":this._signal(i.name,{data:i.data});break;case"call":var s=this.callbacks[i.id];s&&(s(i.data),delete this.callbacks[i.id]);break;case"error":this.reportError(i.data);break;case"log":window.console&&console.log&&console.log.apply(console,i.data);break}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return l.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(e){e.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,i){this.$worker.postMessage({command:e,args:i})},this.call=function(e,i,s){if(s){var c=this.callbackId++;this.callbacks[c]=s,i.push(c)}this.send(e,i)},this.emit=function(e,i){try{i.data&&i.data.err&&(i.data.err={message:i.data.err.message,stack:i.data.err.stack,code:i.data.err.code}),this.$worker&&this.$worker.postMessage({event:e,data:{data:i.data}})}catch(s){console.error(s.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener,!0)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),e.action=="insert"?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;!e||(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(n.prototype);var r=function(e,i,s){var c=null,f=!1,p=Object.create(u),k=[],y=new n({messageBuffer:k,terminate:function(){},postMessage:function(m){k.push(m),c&&(f?setTimeout(v):v())}});y.setEmitSync=function(m){f=m};var v=function(){var m=k.shift();m.command?c[m.command].apply(c,m.args):m.event&&p._signal(m.event,m.data)};return p.postMessage=function(m){y.onMessage({data:m})},p.callback=function(m,L){this.postMessage({type:"call",id:L,data:m})},p.emit=function(m,L){this.postMessage({type:"event",name:m,data:L})},o.loadModule(["worker",i],function(m){for(c=new m[s](p);k.length;)v()}),y};h.UIWorkerClient=r,h.WorkerClient=n,h.createWorker=t}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(d,h,b){var g=d("./range").Range,l=d("./lib/event_emitter").EventEmitter,u=d("./lib/oop"),o=function(){function a(t,n,r,e,i,s){var c=this;this.length=n,this.session=t,this.doc=t.getDocument(),this.mainClass=i,this.othersClass=s,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=e,this.$onCursorChange=function(){setTimeout(function(){c.onCursorChange()})},this.$pos=r;var f=t.getUndoManager().$undoStack||t.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=f.length,this.setup(),t.selection.on("changeCursor",this.$onCursorChange)}return a.prototype.setup=function(){var t=this,n=this.doc,r=this.session;this.selectionBefore=r.selection.toJSON(),r.selection.inMultiSelectMode&&r.selection.toSingleRange(),this.pos=n.createAnchor(this.$pos.row,this.$pos.column);var e=this.pos;e.$insertRight=!0,e.detach(),e.markerId=r.addMarker(new g(e.row,e.column,e.row,e.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(i){var s=n.createAnchor(i.row,i.column);s.$insertRight=!0,s.detach(),t.others.push(s)}),r.setUndoSelect(!1)},a.prototype.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,n=this;this.othersActive=!0,this.others.forEach(function(r){r.markerId=t.addMarker(new g(r.row,r.column,r.row,r.column+n.length),n.othersClass,null,!1)})}},a.prototype.hideOtherMarkers=function(){if(!!this.othersActive){this.othersActive=!1;for(var t=0;t<this.others.length;t++)this.session.removeMarker(this.others[t].markerId)}},a.prototype.onUpdate=function(t){if(this.$updating)return this.updateAnchors(t);var n=t;if(n.start.row===n.end.row&&n.start.row===this.pos.row){this.$updating=!0;var r=t.action==="insert"?n.end.column-n.start.column:n.start.column-n.end.column,e=n.start.column>=this.pos.column&&n.start.column<=this.pos.column+this.length+1,i=n.start.column-this.pos.column;if(this.updateAnchors(t),e&&(this.length+=r),e&&!this.session.$fromUndo){if(t.action==="insert")for(var s=this.others.length-1;s>=0;s--){var c=this.others[s],f={row:c.row,column:c.column+i};this.doc.insertMergedLines(f,t.lines)}else if(t.action==="remove")for(var s=this.others.length-1;s>=0;s--){var c=this.others[s],f={row:c.row,column:c.column+i};this.doc.remove(new g(f.row,f.column,f.row,f.column-r))}}this.$updating=!1,this.updateMarkers()}},a.prototype.updateAnchors=function(t){this.pos.onChange(t);for(var n=this.others.length;n--;)this.others[n].onChange(t);this.updateMarkers()},a.prototype.updateMarkers=function(){if(!this.$updating){var t=this,n=this.session,r=function(i,s){n.removeMarker(i.markerId),i.markerId=n.addMarker(new g(i.row,i.column,i.row,i.column+t.length),s,null,!1)};r(this.pos,this.mainClass);for(var e=this.others.length;e--;)r(this.others[e],this.othersClass)}},a.prototype.onCursorChange=function(t){if(!(this.$updating||!this.session)){var n=this.session.selection.getCursor();n.row===this.pos.row&&n.column>=this.pos.column&&n.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",t)):(this.hideOtherMarkers(),this._emit("cursorLeave",t))}},a.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},a.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var t=this.session.getUndoManager(),n=(t.$undoStack||t.$undostack).length-this.$undoStackDepth,r=0;r<n;r++)t.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},a}();u.implement(o.prototype,l),h.PlaceHolder=o}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(d,h,b){var g=d("../lib/event"),l=d("../lib/useragent");function u(a,t){return a.row==t.row&&a.column==t.column}function o(a){var t=a.domEvent,n=t.altKey,r=t.shiftKey,e=t.ctrlKey,i=a.getAccelKey(),s=a.getButton();if(e&&l.isMac&&(s=t.button),a.editor.inMultiSelectMode&&s==2){a.editor.textInput.onContextMenu(a.domEvent);return}if(!e&&!n&&!i){s===0&&a.editor.inMultiSelectMode&&a.editor.exitMultiSelectMode();return}if(s===0){var c=a.editor,f=c.selection,p=c.inMultiSelectMode,k=a.getDocumentPosition(),y=f.getCursor(),v=a.inSelection()||f.isEmpty()&&u(k,y),m=a.x,L=a.y,T=function(_){m=_.clientX,L=_.clientY},E=c.session,C=c.renderer.pixelToScreenCoordinates(m,L),S=C,I;if(c.$mouseHandler.$enableJumpToDef)e&&n||i&&n?I=r?"block":"add":n&&c.$blockSelectEnabled&&(I="block");else if(i&&!n){if(I="add",!p&&r)return}else n&&c.$blockSelectEnabled&&(I="block");if(I&&l.isMac&&t.ctrlKey&&c.$mouseHandler.cancelContextMenu(),I=="add"){if(!p&&v)return;if(!p){var A=f.toOrientedRange();c.addSelectionMarker(A)}var w=f.rangeList.rangeAtPoint(k);c.inVirtualSelectionMode=!0,r&&(w=null,A=f.ranges[0]||A,c.removeSelectionMarker(A)),c.once("mouseup",function(){var _=f.toOrientedRange();w&&_.isEmpty()&&u(w.cursor,_.cursor)?f.substractPoint(_.cursor):(r?f.substractPoint(A.cursor):A&&(c.removeSelectionMarker(A),f.addRange(A)),f.addRange(_)),c.inVirtualSelectionMode=!1})}else if(I=="block"){a.stop(),c.inVirtualSelectionMode=!0;var M,R=[],O=function(){var _=c.renderer.pixelToScreenCoordinates(m,L),G=E.screenToDocumentPosition(_.row,_.column,_.offsetX);u(S,_)&&u(G,f.lead)||(S=_,c.selection.moveToPosition(G),c.renderer.scrollCursorIntoView(),c.removeSelectionMarkers(R),R=f.rectangularRangeBlock(S,C),c.$mouseHandler.$clickSelection&&R.length==1&&R[0].isEmpty()&&(R[0]=c.$mouseHandler.$clickSelection.clone()),R.forEach(c.addSelectionMarker,c),c.updateSelectionMarkers())};p&&!i?f.toSingleRange():!p&&i&&(M=f.toOrientedRange(),c.addSelectionMarker(M)),r?C=E.documentToScreenPosition(f.lead):f.moveToPosition(k),S={row:-1,column:-1};var F=function(_){O(),clearInterval(N),c.removeSelectionMarkers(R),R.length||(R=[f.toOrientedRange()]),M&&(c.removeSelectionMarker(M),f.toSingleRange(M));for(var G=0;G<R.length;G++)f.addRange(R[G]);c.inVirtualSelectionMode=!1,c.$mouseHandler.$clickSelection=null},B=O;g.capture(c.container,T,F);var N=setInterval(function(){B()},20);return a.preventDefault()}}}h.onMouseDown=o}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(d,h,b){h.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(l){l.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(l){l.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(l){l.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(l){l.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(l){l.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(l){l.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(l){l.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(l){l.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(l){l.multiSelect.rangeCount>1?l.multiSelect.joinSelections():l.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(l){l.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(l){l.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(l){l.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],h.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(l){l.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(l){return l&&l.inMultiSelectMode}}];var g=d("../keyboard/hash_handler").HashHandler;h.keyboardHandler=new g(h.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(d,h,b){var g=d("./range_list").RangeList,l=d("./range").Range,u=d("./selection").Selection,o=d("./mouse/multi_select_handler").onMouseDown,a=d("./lib/event"),t=d("./lib/lang"),n=d("./commands/multi_select_commands");h.commands=n.defaultCommands.concat(n.multiSelectCommands);var r=d("./search").Search,e=new r;function i(y,v,m){return e.$options.wrap=!0,e.$options.needle=v,e.$options.backwards=m==-1,e.find(y)}var s=d("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(s.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(y,v){if(!!y){if(!this.inMultiSelectMode&&this.rangeCount===0){var m=this.toOrientedRange();if(this.rangeList.add(m),this.rangeList.add(y),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),v||this.fromOrientedRange(y);this.rangeList.removeAll(),this.rangeList.add(m),this.$onAddRange(m)}y.cursor||(y.cursor=y.end);var L=this.rangeList.add(y);return this.$onAddRange(y),L.length&&this.$onRemoveRange(L),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),v||this.fromOrientedRange(y)}},this.toSingleRange=function(y){y=y||this.ranges[0];var v=this.rangeList.removeAll();v.length&&this.$onRemoveRange(v),y&&this.fromOrientedRange(y)},this.substractPoint=function(y){var v=this.rangeList.substractPoint(y);if(v)return this.$onRemoveRange(v),v[0]},this.mergeOverlappingRanges=function(){var y=this.rangeList.merge();y.length&&this.$onRemoveRange(y)},this.$onAddRange=function(y){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(y),this._signal("addRange",{range:y})},this.$onRemoveRange=function(y){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var v=this.rangeList.ranges.pop();y.push(v),this.rangeCount=0}for(var m=y.length;m--;){var L=this.ranges.indexOf(y[m]);this.ranges.splice(L,1)}this._signal("removeRange",{ranges:y}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),v=v||this.ranges[0],v&&!v.isEqual(this.getRange())&&this.fromOrientedRange(v)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new g,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var y=this.ranges.length?this.ranges:[this.getRange()],v=[],m=0;m<y.length;m++){var L=y[m],T=L.start.row,E=L.end.row;if(T===E)v.push(L.clone());else{for(v.push(new l(T,L.start.column,T,this.session.getLine(T).length));++T<E;)v.push(this.getLineRange(T,!0));v.push(new l(E,0,E,L.end.column))}m==0&&!this.isBackwards()&&(v=v.reverse())}this.toSingleRange();for(var m=v.length;m--;)this.addRange(v[m])},this.joinSelections=function(){var y=this.rangeList.ranges,v=y[y.length-1],m=l.fromPoints(y[0].start,v.end);this.toSingleRange(),this.setSelectionRange(m,v.cursor==v.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var y=this.rangeList.ranges,v=y[y.length-1],m=l.fromPoints(y[0].start,v.end);this.toSingleRange(),this.setSelectionRange(m,v.cursor==v.start)}else{var L=this.session.documentToScreenPosition(this.cursor),T=this.session.documentToScreenPosition(this.anchor),E=this.rectangularRangeBlock(L,T);E.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(y,v,m){var L=[],T=y.column<v.column;if(T)var E=y.column,C=v.column,S=y.offsetX,I=v.offsetX;else var E=v.column,C=y.column,S=v.offsetX,I=y.offsetX;var A=y.row<v.row;if(A)var w=y.row,M=v.row;else var w=v.row,M=y.row;E<0&&(E=0),w<0&&(w=0),w==M&&(m=!0);for(var R,O=w;O<=M;O++){var F=l.fromPoints(this.session.screenToDocumentPosition(O,E,S),this.session.screenToDocumentPosition(O,C,I));if(F.isEmpty()){if(R&&f(F.end,R))break;R=F.end}F.cursor=T?F.start:F.end,L.push(F)}if(A&&L.reverse(),!m){for(var B=L.length-1;L[B].isEmpty()&&B>0;)B--;if(B>0)for(var N=0;L[N].isEmpty();)N++;for(var _=B;_>=N;_--)L[_].isEmpty()&&L.splice(_,1)}return L}}.call(u.prototype);var c=d("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(y){y.cursor||(y.cursor=y.end);var v=this.getSelectionStyle();return y.marker=this.session.addMarker(y,"ace_selection",v),this.session.$selectionMarkers.push(y),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,y},this.removeSelectionMarker=function(y){if(!!y.marker){this.session.removeMarker(y.marker);var v=this.session.$selectionMarkers.indexOf(y);v!=-1&&this.session.$selectionMarkers.splice(v,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(y){for(var v=this.session.$selectionMarkers,m=y.length;m--;){var L=y[m];if(!!L.marker){this.session.removeMarker(L.marker);var T=v.indexOf(L);T!=-1&&v.splice(T,1)}}this.session.selectionMarkerCount=v.length},this.$onAddRange=function(y){this.addSelectionMarker(y.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(y){this.removeSelectionMarkers(y.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(y){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(n.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(y){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(n.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(y){var v=y.command,m=y.editor;if(!!m.multiSelect){if(v.multiSelectAction)v.multiSelectAction=="forEach"?L=m.forEachSelection(v,y.args):v.multiSelectAction=="forEachLine"?L=m.forEachSelection(v,y.args,!0):v.multiSelectAction=="single"?(m.exitMultiSelectMode(),L=v.exec(m,y.args||{})):L=v.multiSelectAction(m,y.args||{});else{var L=v.exec(m,y.args||{});m.multiSelect.addRange(m.multiSelect.toOrientedRange()),m.multiSelect.mergeOverlappingRanges()}return L}},this.forEachSelection=function(y,v,m){if(!this.inVirtualSelectionMode){var L=m&&m.keepOrder,T=m==!0||m&&m.$byLines,E=this.session,C=this.selection,S=C.rangeList,I=(L?C:S).ranges,A;if(!I.length)return y.exec?y.exec(this,v||{}):y(this,v||{});var w=C._eventRegistry;C._eventRegistry={};var M=new u(E);this.inVirtualSelectionMode=!0;for(var R=I.length;R--;){if(T)for(;R>0&&I[R].start.row==I[R-1].end.row;)R--;M.fromOrientedRange(I[R]),M.index=R,this.selection=E.selection=M;var O=y.exec?y.exec(this,v||{}):y(this,v||{});!A&&O!==void 0&&(A=O),M.toOrientedRange(I[R])}M.detach(),this.selection=E.selection=C,this.inVirtualSelectionMode=!1,C._eventRegistry=w,C.mergeOverlappingRanges(),C.ranges[0]&&C.fromOrientedRange(C.ranges[0]);var F=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),F&&F.from==F.to&&this.renderer.animateScrolling(F.from),A}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var y="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var v=this.multiSelect.rangeList.ranges,m=[],L=0;L<v.length;L++)m.push(this.session.getTextRange(v[L]));var T=this.session.getDocument().getNewLineCharacter();y=m.join(T),y.length==(m.length-1)*T.length&&(y="")}else this.selection.isEmpty()||(y=this.session.getTextRange(this.getSelectionRange()));return y},this.$checkMultiselectChange=function(y,v){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var m=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&v==this.multiSelect.anchor)return;var L=v==this.multiSelect.anchor?m.cursor==m.start?m.end:m.start:m.cursor;L.row!=v.row||this.session.$clipPositionToDocument(L.row,L.column).column!=v.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(y,v,m){if(v=v||{},v.needle=y||v.needle,v.needle==null){var L=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();v.needle=this.session.getTextRange(L)}this.$search.set(v);var T=this.$search.findAll(this.session);if(!T.length)return 0;var E=this.multiSelect;m||E.toSingleRange(T[0]);for(var C=T.length;C--;)E.addRange(T[C],!0);return L&&E.rangeList.rangeAtPoint(L.start)&&E.addRange(L,!0),T.length},this.selectMoreLines=function(y,v){var m=this.selection.toOrientedRange(),L=m.cursor==m.end,T=this.session.documentToScreenPosition(m.cursor);this.selection.$desiredColumn&&(T.column=this.selection.$desiredColumn);var E=this.session.screenToDocumentPosition(T.row+y,T.column);if(m.isEmpty())var S=E;else var C=this.session.documentToScreenPosition(L?m.end:m.start),S=this.session.screenToDocumentPosition(C.row+y,C.column);if(L){var I=l.fromPoints(E,S);I.cursor=I.start}else{var I=l.fromPoints(S,E);I.cursor=I.end}if(I.desiredColumn=T.column,!this.selection.inMultiSelectMode)this.selection.addRange(m);else if(v)var A=m.cursor;this.selection.addRange(I),A&&this.selection.substractPoint(A)},this.transposeSelections=function(y){for(var v=this.session,m=v.multiSelect,L=m.ranges,T=L.length;T--;){var E=L[T];if(E.isEmpty()){var C=v.getWordRange(E.start.row,E.start.column);E.start.row=C.start.row,E.start.column=C.start.column,E.end.row=C.end.row,E.end.column=C.end.column}}m.mergeOverlappingRanges();for(var S=[],T=L.length;T--;){var E=L[T];S.unshift(v.getTextRange(E))}y<0?S.unshift(S.pop()):S.push(S.shift());for(var T=L.length;T--;){var E=L[T],C=E.clone();v.replace(E,S[T]),E.start.row=C.start.row,E.start.column=C.start.column}m.fromOrientedRange(m.ranges[0])},this.selectMore=function(y,v,m){var L=this.session,T=L.multiSelect,E=T.toOrientedRange();if(!(E.isEmpty()&&(E=L.getWordRange(E.start.row,E.start.column),E.cursor=y==-1?E.start:E.end,this.multiSelect.addRange(E),m))){var C=L.getTextRange(E),S=i(L,C,y);S&&(S.cursor=y==-1?S.start:S.end,this.session.unfold(S),this.multiSelect.addRange(S),this.renderer.scrollCursorIntoView(null,.5)),v&&this.multiSelect.substractPoint(E.cursor)}},this.alignCursors=function(){var y=this.session,v=y.multiSelect,m=v.ranges,L=-1,T=m.filter(function(B){if(B.cursor.row==L)return!0;L=B.cursor.row});if(!m.length||T.length==m.length-1){var E=this.selection.getRange(),C=E.start.row,S=E.end.row,I=C==S;if(I){var A=this.session.getLength(),w;do w=this.session.getLine(S);while(/[=:]/.test(w)&&++S<A);do w=this.session.getLine(C);while(/[=:]/.test(w)&&--C>0);C<0&&(C=0),S>=A&&(S=A-1)}var M=this.session.removeFullLines(C,S);M=this.$reAlignText(M,I),this.session.insert({row:C,column:0},M.join(`
`)+`
`),I||(E.start.column=0,E.end.column=M[M.length-1].length),this.selection.setRange(E)}else{T.forEach(function(B){v.substractPoint(B.cursor)});var R=0,O=1/0,F=m.map(function(B){var N=B.cursor,_=y.getLine(N.row),G=_.substr(N.column).search(/\S/g);return G==-1&&(G=0),N.column>R&&(R=N.column),G<O&&(O=G),G});m.forEach(function(B,N){var _=B.cursor,G=R-_.column,H=F[N]-O;G>H?y.insert(_,t.stringRepeat(" ",G-H)):y.remove(new l(_.row,_.column,_.row,_.column-G+H)),B.start.column=B.end.column=R,B.start.row=B.end.row=_.row,B.cursor=B.end}),v.fromOrientedRange(m[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(y,v){var m=!0,L=!0,T,E,C;return y.map(function(M){var R=M.match(/(\s*)(.*?)(\s*)([=:].*)/);return R?T==null?(T=R[1].length,E=R[2].length,C=R[3].length,R):(T+E+C!=R[1].length+R[2].length+R[3].length&&(L=!1),T!=R[1].length&&(m=!1),T>R[1].length&&(T=R[1].length),E<R[2].length&&(E=R[2].length),C>R[3].length&&(C=R[3].length),R):[M]}).map(v?I:m?L?A:I:w);function S(M){return t.stringRepeat(" ",M)}function I(M){return M[2]?S(T)+M[2]+S(E-M[2].length+C)+M[4].replace(/^([=:])\s+/,"$1 "):M[0]}function A(M){return M[2]?S(T+E-M[2].length)+M[2]+S(C)+M[4].replace(/^([=:])\s+/,"$1 "):M[0]}function w(M){return M[2]?S(T)+M[2]+S(C)+M[4].replace(/^([=:])\s+/,"$1 "):M[0]}}}).call(c.prototype);function f(y,v){return y.row==v.row&&y.column==v.column}h.onSessionChange=function(y){var v=y.session;v&&!v.multiSelect&&(v.$selectionMarkers=[],v.selection.$initRangeList(),v.multiSelect=v.selection),this.multiSelect=v&&v.multiSelect;var m=y.oldSession;m&&(m.multiSelect.off("addRange",this.$onAddRange),m.multiSelect.off("removeRange",this.$onRemoveRange),m.multiSelect.off("multiSelect",this.$onMultiSelect),m.multiSelect.off("singleSelect",this.$onSingleSelect),m.multiSelect.lead.off("change",this.$checkMultiselectChange),m.multiSelect.anchor.off("change",this.$checkMultiselectChange)),v&&(v.multiSelect.on("addRange",this.$onAddRange),v.multiSelect.on("removeRange",this.$onRemoveRange),v.multiSelect.on("multiSelect",this.$onMultiSelect),v.multiSelect.on("singleSelect",this.$onSingleSelect),v.multiSelect.lead.on("change",this.$checkMultiselectChange),v.multiSelect.anchor.on("change",this.$checkMultiselectChange)),v&&this.inMultiSelectMode!=v.selection.inMultiSelectMode&&(v.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function p(y){y.$multiselectOnSessionChange||(y.$onAddRange=y.$onAddRange.bind(y),y.$onRemoveRange=y.$onRemoveRange.bind(y),y.$onMultiSelect=y.$onMultiSelect.bind(y),y.$onSingleSelect=y.$onSingleSelect.bind(y),y.$multiselectOnSessionChange=h.onSessionChange.bind(y),y.$checkMultiselectChange=y.$checkMultiselectChange.bind(y),y.$multiselectOnSessionChange(y),y.on("changeSession",y.$multiselectOnSessionChange),y.on("mousedown",o),y.commands.addCommands(n.defaultCommands),k(y))}function k(y){if(!y.textInput)return;var v=y.textInput.getElement(),m=!1;a.addListener(v,"keydown",function(T){var E=T.keyCode==18&&!(T.ctrlKey||T.shiftKey||T.metaKey);y.$blockSelectEnabled&&E?m||(y.renderer.setMouseCursor("crosshair"),m=!0):m&&L()},y),a.addListener(v,"keyup",L,y),a.addListener(v,"blur",L,y);function L(T){m&&(y.renderer.setMouseCursor(""),m=!1)}}h.MultiSelect=p,d("./config").defineOptions(c.prototype,"editor",{enableMultiselect:{set:function(y){p(this),y?this.on("mousedown",o):this.off("mousedown",o)},value:!0},enableBlockSelect:{set:function(y){this.$blockSelectEnabled=y},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(d,h,b){var g=d("../../range").Range,l=h.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(u,o,a){var t=u.getLine(a);return this.foldingStartMarker.test(t)?"start":o=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(t)?"end":""},this.getFoldWidgetRange=function(u,o,a){return null},this.indentationBlock=function(u,o,a){var t=/\S/,n=u.getLine(o),r=n.search(t);if(r!=-1){for(var e=a||n.length,i=u.getLength(),s=o,c=o;++o<i;){var f=u.getLine(o).search(t);if(f!=-1){if(f<=r){var p=u.getTokenAt(o,0);if(!p||p.type!=="string")break}c=o}}if(c>s){var k=u.getLine(c).length;return new g(s,e,c,k)}}},this.openingBracketBlock=function(u,o,a,t,n){var r={row:a,column:t+1},e=u.$findClosingBracket(o,r,n);if(!!e){var i=u.foldWidgets[e.row];return i==null&&(i=u.getFoldWidget(e.row)),i=="start"&&e.row>r.row&&(e.row--,e.column=u.getLine(e.row).length),g.fromPoints(r,e)}},this.closingBracketBlock=function(u,o,a,t,n){var r={row:a,column:t},e=u.$findOpeningBracket(o,r);if(!!e)return e.column++,r.column--,g.fromPoints(e,r)}}).call(l.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],function(d,h,b){var g=d("../line_widgets").LineWidgets,l=d("../lib/dom"),u=d("../range").Range,o=d("../config").nls;function a(n,r,e){for(var i=0,s=n.length-1;i<=s;){var c=i+s>>1,f=e(r,n[c]);if(f>0)i=c+1;else if(f<0)s=c-1;else return c}return-(i+1)}function t(n,r,e){var i=n.getAnnotations().sort(u.comparePoints);if(!!i.length){var s=a(i,{row:r,column:-1},u.comparePoints);s<0&&(s=-s-1),s>=i.length?s=e>0?0:i.length-1:s===0&&e<0&&(s=i.length-1);var c=i[s];if(!(!c||!e)){if(c.row===r){do c=i[s+=e];while(c&&c.row===r);if(!c)return i.slice()}var f=[];r=c.row;do f[e<0?"unshift":"push"](c),c=i[s+=e];while(c&&c.row==r);return f.length&&f}}}h.showErrorMarker=function(n,r){var e=n.session;e.widgetManager||(e.widgetManager=new g(e),e.widgetManager.attach(n));var i=n.getCursorPosition(),s=i.row,c=e.widgetManager.getWidgetsAtRow(s).filter(function(E){return E.type=="errorMarker"})[0];c?c.destroy():s-=r;var f=t(e,s,r),p;if(f){var k=f[0];i.column=(k.pos&&typeof k.column!="number"?k.pos.sc:k.column)||0,i.row=k.row,p=n.renderer.$gutterLayer.$annotations[i.row]}else{if(c)return;p={text:[o("Looks good!")],className:"ace_ok"}}n.session.unfold(i.row),n.selection.moveToPosition(i);var y={row:i.row,fixedWidth:!0,coverGutter:!0,el:l.createElement("div"),type:"errorMarker"},v=y.el.appendChild(l.createElement("div")),m=y.el.appendChild(l.createElement("div"));m.className="error_widget_arrow "+p.className;var L=n.renderer.$cursorLayer.getPixelPosition(i).left;m.style.left=L+n.renderer.gutterWidth-5+"px",y.el.className="error_widget_wrapper",v.className="error_widget "+p.className,v.innerHTML=p.text.join("<br>"),v.appendChild(l.createElement("div"));var T=function(E,C,S){if(C===0&&(S==="esc"||S==="return"))return y.destroy(),{command:"null"}};y.destroy=function(){n.$mouseHandler.isMousePressed||(n.keyBinding.removeKeyboardHandler(T),e.widgetManager.removeLineWidget(y),n.off("changeSelection",y.destroy),n.off("changeSession",y.destroy),n.off("mouseup",y.destroy),n.off("change",y.destroy))},n.keyBinding.addKeyboardHandler(T),n.on("changeSelection",y.destroy),n.on("changeSession",y.destroy),n.on("mouseup",y.destroy),n.on("change",y.destroy),n.session.widgetManager.addLineWidget(y),y.el.onmousedown=n.focus.bind(n),n.renderer.scrollCursorIntoView(null,.5,{bottom:y.el.offsetHeight})},l.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(d,h,b){d("./loader_build")(h);var g=d("./lib/dom"),l=d("./range").Range,u=d("./editor").Editor,o=d("./edit_session").EditSession,a=d("./undomanager").UndoManager,t=d("./virtual_renderer").VirtualRenderer;d("./worker/worker_client"),d("./keyboard/hash_handler"),d("./placeholder"),d("./multi_select"),d("./mode/folding/fold_mode"),d("./theme/textmate"),d("./ext/error_marker"),h.config=d("./config"),h.edit=function(n,r){if(typeof n=="string"){var e=n;if(n=document.getElementById(e),!n)throw new Error("ace.edit can't find div #"+e)}if(n&&n.env&&n.env.editor instanceof u)return n.env.editor;var i="";if(n&&/input|textarea/i.test(n.tagName)){var s=n;i=s.value,n=g.createElement("pre"),s.parentNode.replaceChild(n,s)}else n&&(i=n.textContent,n.innerHTML="");var c=h.createEditSession(i),f=new u(new t(n),c,r),p={document:c,editor:f,onResize:f.resize.bind(f,null)};return s&&(p.textarea=s),f.on("destroy",function(){p.editor.container.env=null}),f.container.env=f.env=p,f},h.createEditSession=function(n,r){var e=new o(n,r);return e.setUndoManager(new a),e},h.Range=l,h.Editor=u,h.EditSession=o,h.UndoManager=a,h.VirtualRenderer=t,h.version=h.config.version}),function(){ace.require(["ace/ace"],function(d){d&&(d.config.init(!0),d.define=ace.define),window.ace||(window.ace=d);for(var h in d)d.hasOwnProperty(h)&&(window.ace[h]=d[h]);window.ace.default=window.ace,$&&($.exports=window.ace)})}()})(_r);const Yd=_r.exports;var Xd={exports:{}};(function($,x){ace.define("ace/theme/chrome-css",["require","exports","module"],function(d,h,b){b.exports=`.ace-chrome .ace_gutter {
  background: #ebebeb;
  color: #333;
  overflow : hidden;
}

.ace-chrome .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-chrome {
  background-color: #FFFFFF;
  color: black;
}

.ace-chrome .ace_cursor {
  color: black;
}

.ace-chrome .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-chrome .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-chrome .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-chrome .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-chrome .ace_invalid {
  background-color: rgb(153, 0, 0);
  color: white;
}

.ace-chrome .ace_fold {
}

.ace-chrome .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-chrome .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-chrome .ace_support.ace_type,
.ace-chrome .ace_support.ace_class
.ace-chrome .ace_support.ace_other {
  color: rgb(109, 121, 222);
}

.ace-chrome .ace_variable.ace_parameter {
  font-style:italic;
  color:#FD971F;
}
.ace-chrome .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-chrome .ace_comment {
  color: #236e24;
}

.ace-chrome .ace_comment.ace_doc {
  color: #236e24;
}

.ace-chrome .ace_comment.ace_doc.ace_tag {
  color: #236e24;
}

.ace-chrome .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-chrome .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-chrome .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-chrome .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-chrome .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-chrome .ace_list {
  color:rgb(185, 6, 144);
}

.ace-chrome .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}

.ace-chrome .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-chrome .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-chrome .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-chrome .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-chrome .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-chrome .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-chrome .ace_storage,
.ace-chrome .ace_keyword,
.ace-chrome .ace_meta.ace_tag {
  color: rgb(147, 15, 128);
}

.ace-chrome .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-chrome .ace_string {
  color: #1A1AA6;
}

.ace-chrome .ace_entity.ace_other.ace_attribute-name {
  color: #994409;
}

.ace-chrome .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}
  
.ace-chrome .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/chrome",["require","exports","module","ace/theme/chrome-css","ace/lib/dom"],function(d,h,b){h.isDark=!1,h.cssClass="ace-chrome",h.cssText=d("./chrome-css");var g=d("../lib/dom");g.importCssString(h.cssText,h.cssClass,!1)}),function(){ace.require(["ace/theme/chrome"],function(d){$&&($.exports=d)})}()})(Xd);var Zd={exports:{}};(function($,x){ace.define("ace/theme/twilight-css",["require","exports","module"],function(d,h,b){b.exports=`.ace-twilight .ace_gutter {
  background: #232323;
  color: #E2E2E2
}

.ace-twilight .ace_print-margin {
  width: 1px;
  background: #232323
}

.ace-twilight {
  background-color: #141414;
  color: #F8F8F8
}

.ace-twilight .ace_cursor {
  color: #A7A7A7
}

.ace-twilight .ace_marker-layer .ace_selection {
  background: rgba(221, 240, 255, 0.20)
}

.ace-twilight.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #141414;
}

.ace-twilight .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-twilight .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgba(255, 255, 255, 0.25)
}

.ace-twilight .ace_marker-layer .ace_active-line {
  background: rgba(255, 255, 255, 0.031)
}

.ace-twilight .ace_gutter-active-line {
  background-color: rgba(255, 255, 255, 0.031)
}

.ace-twilight .ace_marker-layer .ace_selected-word {
  border: 1px solid rgba(221, 240, 255, 0.20)
}

.ace-twilight .ace_invisible {
  color: rgba(255, 255, 255, 0.25)
}

.ace-twilight .ace_keyword,
.ace-twilight .ace_meta {
  color: #CDA869
}

.ace-twilight .ace_constant,
.ace-twilight .ace_constant.ace_character,
.ace-twilight .ace_constant.ace_character.ace_escape,
.ace-twilight .ace_constant.ace_other,
.ace-twilight .ace_heading,
.ace-twilight .ace_markup.ace_heading,
.ace-twilight .ace_support.ace_constant {
  color: #CF6A4C
}

.ace-twilight .ace_invalid.ace_illegal {
  color: #F8F8F8;
  background-color: rgba(86, 45, 86, 0.75)
}

.ace-twilight .ace_invalid.ace_deprecated {
  text-decoration: underline;
  font-style: italic;
  color: #D2A8A1
}

.ace-twilight .ace_support {
  color: #9B859D
}

.ace-twilight .ace_fold {
  background-color: #AC885B;
  border-color: #F8F8F8
}

.ace-twilight .ace_support.ace_function {
  color: #DAD085
}

.ace-twilight .ace_list,
.ace-twilight .ace_markup.ace_list,
.ace-twilight .ace_storage {
  color: #F9EE98
}

.ace-twilight .ace_entity.ace_name.ace_function,
.ace-twilight .ace_meta.ace_tag {
  color: #AC885B
}

.ace-twilight .ace_string {
  color: #8F9D6A
}

.ace-twilight .ace_string.ace_regexp {
  color: #E9C062
}

.ace-twilight .ace_comment {
  font-style: italic;
  color: #5F5A60
}

.ace-twilight .ace_variable {
  color: #7587A6
}

.ace-twilight .ace_xml-pe {
  color: #494949
}

.ace-twilight .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWMQERFpYLC1tf0PAAgOAnPnhxyiAAAAAElFTkSuQmCC) right repeat-y
}

.ace-twilight .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/twilight",["require","exports","module","ace/theme/twilight-css","ace/lib/dom"],function(d,h,b){h.isDark=!0,h.cssClass="ace-twilight",h.cssText=d("./twilight-css");var g=d("../lib/dom");g.importCssString(h.cssText,h.cssClass,!1)}),function(){ace.require(["ace/theme/twilight"],function(d){$&&($.exports=d)})}()})(Zd);const Qd={class:"mb-1 text-xs font-bold uppercase text-gray-600"},Jd=Ne({__name:"CodeEditor",props:{modelValue:{type:[Object,String,Array]},type:{type:String,default:"JSON"},label:{type:String,default:""},readonly:{type:Boolean,default:!1},height:{type:String,default:"200px"},showLineNumbers:{type:Boolean,default:!1}},emits:["update:modelValue"],setup($,{emit:x}){const d=$,h=Ta(),b=le(null);return Ft(()=>{let g=d.modelValue;const l=Yd.edit(b.value||"");if(l.setReadOnly(d.readonly),l.setOptions({fontSize:"12px",useWorker:!1,showGutter:d.showLineNumbers}),d.type==="CSS")gn(()=>import("./mode-css.7bc30ff6.js").then(u=>u.m),[]).then(()=>{l.session.setMode("ace/mode/css")});else if(d.type==="JavaScript")gn(()=>import("./mode-javascript.4d55ad72.js").then(u=>u.m),[]).then(()=>{l.session.setMode("ace/mode/javascript")});else if(d.type==="Python")gn(()=>import("./mode-python.23b7fa7c.js").then(u=>u.m),[]).then(()=>{l.session.setMode("ace/mode/python")});else if(d.type==="JSON"){gn(()=>import("./mode-json.837c971c.js").then(u=>u.m),[]).then(()=>{l.session.setMode("ace/mode/json")});try{g=JSON.stringify(g,null,2)}catch(u){}}else gn(()=>import("./mode-html.465d4c71.js").then(u=>u.m),[]).then(()=>{l.session.setMode("ace/mode/html")});l.setValue(g),l.on("blur",()=>{try{let u=l.getValue();if(d.type==="JSON"&&(u=JSON.parse(u)),u===d.modelValue)return;x("update:modelValue",u)}catch(u){}}),gt(h,()=>{l.setTheme(h.value?"ace/theme/twilight":"ace/theme/chrome")},{immediate:!0}),gt(()=>d.modelValue,()=>{let u=d.modelValue;d.type==="JSON"&&(u=JSON.stringify(u,null,2)),l.setValue(u)})}),(g,l)=>(te(),pe("div",{class:"editor",style:He({height:$.height})},[Y("h3",Qd,qe($.label),1),Y("div",{ref_key:"editor",ref:b,class:"border border-gray-200 dark:border-zinc-800"},null,512)],4))}});const Mn=pr(Jd,[["__scopeId","data-v-c09812a0"]]),un=Ne({__name:"DimensionInput",props:{property:{type:String,required:!0},label:{type:String,required:!0}},setup($){const x=$;return(d,h)=>(te(),me(Be,{type:"autocomplete",label:$.label,enableSlider:!0,options:[{label:"Auto",value:"auto"},{label:"Fit Content",value:"fit-content"},{label:"Stretch",value:"100%"}],modelValue:P(V).getStyle(x.property),unitOptions:["px","%","vw","vh"],"onUpdate:modelValue":h[0]||(h[0]=b=>P(V).setStyle($.property,b))},null,8,["label","modelValue"]))}}),qd={key:0,class:"mt-[-10px] flex select-none flex-col gap-3 pb-16"},eh=Y("hr",{class:"dark:border-zinc-700"},null,-1),th={class:"flex items-center justify-between"},nh=Y("span",{class:"inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400"}," Visibility ",-1),ih={class:"flex items-center justify-between"},rh=Y("span",{class:"inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400"}," Overflow ",-1),oh={class:"flex w-[150px] gap-2"},sh={key:1},ah=Y("p",{class:"text-center text-sm text-gray-600 dark:text-zinc-500"},"Select a block to edit properties.",-1),lh=[ah],ch=Ne({__name:"BlockProperties",setup($){const x=b=>{Ti(b).then(()=>{V.setFontFamily(b)})},d=()=>V.getClasses().join(", "),h=b=>{const g=b.split(",").map(l=>l.trim());V.setClasses(g)};return(b,g)=>{const l=it("Input");return P(V).isBLockSelected()?(te(),pe("div",qd,[P(V).multipleBlocksSelected()?ve("",!0):(te(),me(Gt,{key:0,sectionName:"Layout"},{default:Te(()=>[se(Ad)]),_:1})),se(Gt,{sectionName:"Style"},{default:Te(()=>[se(pi,{label:"BG Color",value:P(V).getStyle("background"),onChange:g[0]||(g[0]=u=>P(V).setStyle("background",u))},null,8,["value"]),se(pi,{label:"Text Color",value:P(V).getTextColor(),onChange:g[1]||(g[1]=u=>P(V).setTextColor(u))},null,8,["value"]),se(pi,{label:"Border Color",value:P(V).getStyle("borderColor"),onChange:g[2]||(g[2]=u=>{P(V).setStyle("borderColor",u),u?P(V).getStyle("borderWidth")||(P(V).setStyle("borderWidth","1px"),P(V).setStyle("borderStyle","solid")):(P(V).setStyle("borderWidth",null),P(V).setStyle("borderStyle",null))})},null,8,["value"]),Ie(se(Be,{label:"Border Width",modelValue:P(V).getStyle("borderWidth"),"onUpdate:modelValue":g[3]||(g[3]=u=>P(V).setStyle("borderWidth",u))},null,8,["modelValue"]),[[Oe,P(V).getStyle("borderColor")]]),Ie(se(Be,{label:"Border Style",modelValue:P(V).getStyle("borderStyle"),type:"select",options:["solid","dashed","dotted"],"onUpdate:modelValue":g[4]||(g[4]=u=>P(V).setStyle("borderStyle",u))},null,8,["modelValue"]),[[Oe,P(V).getStyle("borderColor")]]),se(ud),se(Be,{label:"Shadow",type:"select",options:[{value:null,label:"None"},{label:"Small",value:"rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 1px 2px 0px, rgba(0, 0, 0, 0.05) 0px 1px 3px 0px"},{label:"Medium",value:"rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.1) 0px 4px 6px -4px"},{label:"Large",value:"rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0.1) 0px 20px 25px -5px, rgba(0, 0, 0, 0.1) 0px 10px 10px -5px"}],modelValue:P(V).getStyle("boxShadow"),"onUpdate:modelValue":g[5]||(g[5]=u=>P(V).setStyle("boxShadow",u))},null,8,["options","modelValue"]),se(Be,{label:"Border Radius",modelValue:P(V).getStyle("borderRadius"),enableSlider:!0,unitOptions:["px","%"],minValue:0,"onUpdate:modelValue":g[6]||(g[6]=u=>P(V).setStyle("borderRadius",u))},null,8,["modelValue"]),!P(V).multipleBlocksSelected()&&!P(V).isRoot()&&P(V).getStyle("position")!=="static"?(te(),me(Be,{key:0,label:"Z-Index",modelValue:P(V).getStyle("zIndex"),"onUpdate:modelValue":g[7]||(g[7]=u=>P(V).setStyle("zIndex",u))},null,8,["modelValue"])):ve("",!0)]),_:1}),P(V).isText()||P(V).isContainer()?(te(),me(Gt,{key:1,sectionName:"Typography"},{default:Te(()=>[P(V).isText()||P(V).isContainer()?(te(),me(Be,{key:0,label:"Family",type:"autocomplete",options:P(ol),modelValue:P(V).getFontFamily(),"onUpdate:modelValue":g[8]||(g[8]=u=>x(u))},null,8,["options","modelValue"])):ve("",!0),P(V).isText()||P(V).isContainer()?(te(),me(Be,{key:1,label:"Weight",modelValue:P(V).getStyle("fontWeight"),type:"autocomplete",options:P(ll)(P(V).getStyle("fontFamily")||"Inter"),"onUpdate:modelValue":g[9]||(g[9]=u=>P(V).setStyle("fontWeight",u))},null,8,["modelValue","options"])):ve("",!0),P(V).isText()||P(V).isInput()?(te(),me(Be,{key:2,label:"Size",modelValue:P(V).getStyle("fontSize"),enableSlider:!0,"onUpdate:modelValue":g[10]||(g[10]=u=>P(V).setStyle("fontSize",u))},null,8,["modelValue"])):ve("",!0),P(V).isText()?(te(),me(Be,{key:3,label:"Height",modelValue:P(V).getStyle("lineHeight"),"onUpdate:modelValue":g[11]||(g[11]=u=>P(V).setStyle("lineHeight",u))},null,8,["modelValue"])):ve("",!0),P(V).isText()?(te(),me(Be,{key:4,label:"Letter",modelValue:P(V).getStyle("letterSpacing"),"onUpdate:modelValue":g[12]||(g[12]=u=>P(V).setStyle("letterSpacing",u))},null,8,["modelValue"])):ve("",!0),P(V).isText()?(te(),me(Be,{key:5,label:"Transform",modelValue:P(V).getStyle("textTransform"),type:"select",options:[{value:null,label:"None"},{value:"uppercase",label:"Uppercase"},{value:"lowercase",label:"Lowercase"},{value:"capitalize",label:"Capitalize"}],"onUpdate:modelValue":g[13]||(g[13]=u=>P(V).setStyle("textTransform",u))},null,8,["modelValue"])):ve("",!0),P(V).isText()?(te(),me(Be,{key:6,label:"Align",modelValue:P(V).getStyle("textAlign")||"left",type:"select",options:["left","center","right","justify"],"onUpdate:modelValue":g[14]||(g[14]=u=>P(V).setStyle("textAlign",u))},null,8,["modelValue"])):ve("",!0)]),_:1})):ve("",!0),se(Gt,{sectionName:"Dimension"},{default:Te(()=>[se(un,{label:"Width",property:"width"}),se(un,{label:"Min Width",property:"minWidth"}),se(un,{label:"Max Width",property:"maxWidth"}),eh,se(un,{label:"Height",property:"height"}),se(un,{label:"Min Height",property:"minHeight"}),se(un,{label:"Max Height",property:"maxHeight"})]),_:1}),P(V).multipleBlocksSelected()?ve("",!0):(te(),me(Gt,{key:2,sectionName:"Position"},{default:Te(()=>[se(Td)]),_:1})),P(V).multipleBlocksSelected()?ve("",!0):(te(),me(Gt,{key:3,sectionName:"Spacing"},{default:Te(()=>[!P(V).multipleBlocksSelected()&&!P(V).isRoot()?(te(),me(Be,{key:0,label:"Margin",modelValue:P(V).getMargin(),"onUpdate:modelValue":g[15]||(g[15]=u=>P(V).setMargin(u))},null,8,["modelValue"])):ve("",!0),P(V).multipleBlocksSelected()?ve("",!0):(te(),me(Be,{key:1,label:"Padding",modelValue:P(V).getPadding(),"onUpdate:modelValue":g[16]||(g[16]=u=>P(V).setPadding(u))},null,8,["modelValue"]))]),_:1})),se(Gt,{sectionName:"Options"},{default:Te(()=>[P(V).isLink()?(te(),me(Be,{key:0,label:"Link",modelValue:P(V).getAttribute("href"),"onUpdate:modelValue":g[17]||(g[17]=u=>P(V).setAttribute("href",u))},null,8,["modelValue"])):ve("",!0),P(V).isImage()?(te(),me(Be,{key:1,label:"Image URL",modelValue:P(V).getAttribute("src"),"onUpdate:modelValue":g[18]||(g[18]=u=>P(V).setAttribute("src",u))},null,8,["modelValue"])):ve("",!0),P(V).isImage()?(te(),me(Be,{key:2,label:"Image Fit",modelValue:P(V).getStyle("objectFit"),type:"select",options:["fill","contain","cover","none"],"onUpdate:modelValue":g[19]||(g[19]=u=>P(V).setStyle("objectFit",u))},null,8,["modelValue"])):ve("",!0),se(Be,{label:"Tag",modelValue:P(V).getKeyValue("element"),type:"select",options:["span","div","section","button","p","h1","h2","h3","a","input","hr"],"onUpdate:modelValue":g[20]||(g[20]=u=>P(V).setKeyValue("element",u))},null,8,["modelValue"]),P(V).isInput()?(te(),me(Be,{key:3,label:"Input Type",modelValue:P(V).getAttribute("type")||"text",type:"select",options:["text","number","email","password","date","time","search","tel","url","color"],"onUpdate:modelValue":g[21]||(g[21]=u=>P(V).setAttribute("type",u))},null,8,["modelValue"])):ve("",!0),P(V).isInput()?(te(),me(Be,{key:4,label:"Placeholder",modelValue:P(V).getAttribute("placeholder"),"onUpdate:modelValue":g[22]||(g[22]=u=>P(V).setAttribute("placeholder",u))},null,8,["modelValue"])):ve("",!0),P(V).isText()||P(V).isButton()?(te(),me(Be,{key:5,label:"Content",modelValue:P(V).getTextContent(),"onUpdate:modelValue":g[23]||(g[23]=u=>P(V).setKeyValue("innerHTML",u))},null,8,["modelValue"])):ve("",!0),Y("div",th,[nh,se(P(Yt),{class:"[&>div>button[aria-checked='false']]:dark:!bg-transparent [&>div>button[aria-checked='false']]:dark:!text-zinc-400 [&>div>button[aria-checked='true']]:dark:!bg-zinc-700 [&>div>button]:dark:!bg-zinc-700 [&>div>button]:dark:!text-zinc-100 [&>div]:dark:!bg-zinc-800",buttons:[{label:"Visible",value:"flex"},{label:"Hidden",value:"none"}],modelValue:P(V).getStyle("display")||"flex","onUpdate:modelValue":g[24]||(g[24]=u=>P(V).setStyle("display",u))},null,8,["modelValue"])]),Y("div",ih,[rh,Y("div",oh,[se(l,{type:"select",modelValue:P(V).getStyle("overflowX")||"auto",options:["auto","hidden","scroll"],onChange:g[25]||(g[25]=u=>P(V).setStyle("overflowX",u)),class:"flex-1 rounded-md text-sm text-gray-800 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-200 dark:focus:bg-zinc-700"},null,8,["modelValue"]),se(l,{type:"select",modelValue:P(V).getStyle("overflowY")||"auto",options:["auto","hidden","scroll"],onChange:g[26]||(g[26]=u=>P(V).setStyle("overflowY",u)),class:"flex-1 rounded-md text-sm text-gray-800 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-200 dark:focus:bg-zinc-700"},null,8,["modelValue"])])]),P(V).isImage()?(te(),me(Be,{key:6,label:"Alt Text",modelValue:P(V).getAttribute("alt"),"onUpdate:modelValue":g[27]||(g[27]=u=>P(V).setAttribute("alt",u))},null,8,["modelValue"])):ve("",!0),P(V).multipleBlocksSelected()?ve("",!0):(te(),me(Be,{key:7,label:"Class",modelValue:d(),"onUpdate:modelValue":g[28]||(g[28]=u=>h(u))},null,8,["modelValue"])),P(V).isHTML()?(te(),me(Mn,{key:8,class:"mt-8",label:"HTML",type:"HTML",modelValue:P(V).getInnerHTML()||"","onUpdate:modelValue":g[29]||(g[29]=u=>{P(V).setInnerHTML(u)})},null,8,["modelValue"])):ve("",!0)]),_:1}),se(Gt,{sectionName:"Data Key"},{default:Te(()=>[se(Be,{label:"Key",modelValue:P(V).getDataKey("key"),"onUpdate:modelValue":g[30]||(g[30]=u=>P(V).setDataKey("key",u))},null,8,["modelValue"]),se(Be,{label:"Type",modelValue:P(V).getDataKey("type"),"onUpdate:modelValue":g[31]||(g[31]=u=>P(V).setDataKey("type",u))},null,8,["modelValue"]),se(Be,{label:"Property",modelValue:P(V).getDataKey("property"),"onUpdate:modelValue":g[32]||(g[32]=u=>P(V).setDataKey("property",u))},null,8,["modelValue"])]),_:1})])):(te(),pe("div",sh,lh))}}}),uh=Y("span",{class:"text-xs text-gray-600"},[Vt(' data.events = frappe.get_list("Event") '),Y("br"),Y("b",null,"Note:"),Vt(" Each key value of data should be a list. ")],-1),dh=Ne({__name:"PageData",setup($){const x=Ze(),d=le(!1),h=le(x.getActivePage());Ft(()=>{h.value=x.getActivePage()});const b=({close:g})=>{Lt.setValue.submit({name:h.value.name,page_data_script:h.value.page_data_script}).then(()=>{g(),x.setPageData()})};return(g,l)=>{const u=it("Button");return te(),pe("div",null,[se(u,{onClick:l[0]||(l[0]=o=>d.value=!d.value),class:"text-base dark:bg-zinc-800 dark:text-zinc-200 dark:hover:bg-zinc-700","icon-left":"code"},{default:Te(()=>[Vt(" Set Data Script ")]),_:1}),se(Mn,{modelValue:P(x).pageData,"onUpdate:modelValue":l[1]||(l[1]=o=>P(x).pageData=o),type:"JSON",label:"Page Data Preview",readonly:!0,class:"mt-5"},null,8,["modelValue"]),se(P(hr),{style:{"z-index":"40"},options:{title:"Page Data Script",size:"4xl",actions:[{label:"Save",variant:"solid",onClick:b}]},modelValue:d.value,"onUpdate:modelValue":l[3]||(l[3]=o=>d.value=o)},{"body-content":Te(()=>[se(Mn,{modelValue:h.value.page_data_script,"onUpdate:modelValue":l[2]||(l[2]=o=>h.value.page_data_script=o),type:"Python",height:"60vh","show-line-numbers":!0},null,8,["modelValue"]),uh]),_:1},8,["options","modelValue"])])}}}),hh={class:"flex flex-row flex-wrap gap-5"},fh=Y("h3",{class:"mb-1 w-full text-xs font-bold uppercase text-gray-600"},"Page Options",-1),ph={key:0,class:"w-full"},gh=Y("h3",{class:"mt-5 text-xs font-bold uppercase text-gray-600"},"Route Values",-1),vh={class:"mt-5 flex flex-row flex-wrap gap-5"},mh=Ne({__name:"PageSettings",setup($){const x=Ze(),d=$e(()=>x.getActivePage()),h=$e(()=>{var g;return(((g=d.value.route)==null?void 0:g.match(/<\w+>/g))||[]).map(l=>l.slice(1,-1))});return(b,g)=>{const l=it("Button");return te(),pe("div",null,[Y("div",hh,[fh,se(Be,{label:"Title",type:"text",class:"w-full text-sm",modelValue:d.value.page_title,"onUpdate:modelValue":g[0]||(g[0]=u=>P(Lt).setValue.submit({name:d.value.name,page_title:u}))},null,8,["modelValue"]),se(Be,{type:"text",class:"w-full text-sm",label:"Route",modelValue:d.value.route,"onUpdate:modelValue":g[1]||(g[1]=u=>P(Lt).setValue.submit({name:d.value.name,route:u}))},null,8,["modelValue"]),se(Be,{label:"Dynamic Route?",class:"w-full text-sm",type:"checkbox",modelValue:d.value.dynamic_route,"onUpdate:modelValue":g[2]||(g[2]=u=>P(Lt).setValue.submit({name:d.value.name,dynamic_route:u}))},null,8,["modelValue"]),d.value.dynamic_route?(te(),pe("div",ph,[gh,Y("div",vh,[(te(!0),pe(Je,null,st(h.value,(u,o)=>(te(),me(Be,{key:o,type:"text",label:u,class:"w-full text-sm",modelValue:P(x).routeVariables[u],"onUpdate:modelValue":a=>P(x).setRouteVariable(u,a)},null,8,["label","modelValue","onUpdate:modelValue"]))),128))])])):ve("",!0),se(l,{onClick:g[3]||(g[3]=()=>P(x).openInDesk(d.value)),class:"block text-base dark:bg-zinc-800 dark:text-zinc-200 dark:hover:bg-zinc-700","icon-left":"code"},{default:Te(()=>[Vt(" View in Desk ")]),_:1})])])}}}),yh={class:"sticky top-0 z-[12] flex w-full border-gray-200 bg-white p-[16px] text-sm dark:border-zinc-800 dark:bg-zinc-900"},bh=["onClick"],wh={class:"sticky top-0 z-[12] flex flex-col gap-[14px] w-full border-gray-200 bg-white p-[16px] dark:border-zinc-800 dark:bg-zinc-900"},xh={class:"flex items-center rounded-lg justify-between w-full p-[4px] bg-[#F4F4F5]"},Sh=["onClick"],Ch=Ne({__name:"BuilderRightPanel",setup($){const x=Ze();return(d,h)=>(te(),pe("div",{style:He({width:`${P(x).builderLayout.rightPanelWidth}px`})},[se(Li,{dimension:P(x).builderLayout.rightPanelWidth,side:"left",onResize:h[0]||(h[0]=b=>P(x).builderLayout.rightPanelWidth=b),"min-dimension":275,"max-dimension":400},null,8,["dimension"]),Ie(Y("div",null,[Y("div",yh,[(te(),pe(Je,null,st(["Properties","Data","Settings"],b=>Y("button",{key:b,class:ze(["mx-3 flex-1 p-2",{"border-b-[1px] border-gray-900 dark:border-zinc-500 dark:text-zinc-300":P(x).rightPanelActiveTab===b,"text-gray-700 dark:text-zinc-500":P(x).rightPanelActiveTab!==b}]),onClick:g=>P(x).rightPanelActiveTab=b},qe(b),11,bh)),64))]),Ie(se(ch,{class:"p-4"},null,512),[[Oe,P(x).rightPanelActiveTab==="Properties"]]),P(x).selectedPage&&P(x).getActivePage()?Ie((te(),me(dh,{class:"p-4",key:P(x).selectedPage})),[[Oe,P(x).rightPanelActiveTab==="Data"]]):ve("",!0),P(x).selectedPage&&P(x).getActivePage()?Ie((te(),me(mh,{class:"p-4",key:P(x).selectedPage})),[[Oe,P(x).rightPanelActiveTab==="Settings"]]):ve("",!0)],512),[[Oe,P(x).showAvanced]]),Ie(Y("div",null,[Y("div",wh,[Y("div",xh,[(te(),pe(Je,null,st(["Edit","Style"],b=>Y("button",{key:b,class:ze(["px-[12px] text-center flex-1 py-[4px] text-inter text-[13px] leading-[20px] font-medium text-[#09090B]",{"bg-white rounded-md ":P(x).rightPanelSimpleActiveTab===b,"text-[#71717A] dark:text-zinc-500":P(x).rightPanelSimpleActiveTab!==b}]),onClick:g=>P(x).rightPanelSimpleActiveTab=b},qe(b),11,Sh)),64))]),se(Zu)])],512),[[Oe,!P(x).showAvanced]])],4))}}),$h={class:"absolute left-3 flex items-center"},kh=Y("img",{src:Ua,alt:"logo",class:"h-7"},null,-1),Ah=Y("h1",{class:"text-md mt-[2px] font-semibold leading-5 text-gray-800 dark:text-gray-200"},"Builder",-1),Eh={class:"ml-10 flex gap-3"},Lh={class:"absolute right-3 flex items-center"},Th=["onClick"],Mh=Ne({__name:"BuilderToolbar",setup($){const x=le(!1),d=Ze(),h=le(null);return(b,g)=>{const l=it("router-link"),u=it("Button"),o=it("FeatherIcon");return te(),pe("div",{class:"toolbar flex h-14 items-center justify-center bg-white p-2 shadow-sm dark:border-b-[1px] dark:border-gray-800 dark:bg-zinc-900",ref_key:"toolbar",ref:h},[Y("div",$h,[se(l,{class:"flex items-center gap-2",to:{name:"home"}},{default:Te(()=>[kh,Ah]),_:1})]),Y("div",Eh,[(te(),pe(Je,null,st([{mode:"select",icon:"mouse-pointer"},{mode:"text",icon:"type"},{mode:"container",icon:"square"},{mode:"image",icon:"image"},{mode:"html",icon:"code"}],a=>se(u,{variant:"ghost",icon:a.icon,class:"!text-gray-700 dark:!text-gray-200 hover:dark:bg-zinc-800 focus:dark:bg-zinc-700 [&[active='true']]:bg-gray-100 [&[active='true']]:!text-gray-900 [&[active='true']]:dark:bg-zinc-700 [&[active='true']]:dark:!text-zinc-50",onClick:t=>P(d).mode=a.mode,active:P(d).mode===a.mode},null,8,["icon","onClick","active"])),64))]),Y("div",Lh,[se(u,{variant:"solid",class:ze(`border-0 text-xs dark:bg-zinc-800 mr-4 ${!P(d).showAvanced&&"!bg-[#F3F3F3] !text-[#1F272E]"}`),onClick:g[0]||(g[0]=a=>P(d).showAvanced=!P(d).showAvanced)},{default:Te(()=>[Vt(" Advanced ")]),_:1},8,["class"]),se(P(Ma),null,{default:Te(({isDark:a,toggleDark:t})=>[Y("button",{onClick:n=>t()},[se(o,{title:"Toggle Theme",name:a?"moon":"sun",class:"mr-4 h-4 w-4 cursor-pointer text-gray-600 dark:text-gray-400"},null,8,["name"])],8,Th)]),_:1}),se(l,{to:{name:"preview",params:{pageId:P(d).selectedPage}},title:"Preview"},{default:Te(()=>[se(o,{name:"play",class:"mr-4 h-4 w-4 cursor-pointer text-gray-600 dark:text-gray-400"})]),_:1},8,["to"]),se(u,{variant:"solid",onClick:g[1]||(g[1]=()=>{x.value=!0,P(d).publishPage().finally(()=>x.value=!1)}),class:"border-0 text-xs dark:bg-zinc-800",loading:x.value},{default:Te(()=>[Vt(qe(x.value?"Publishing":"Publish"),1)]),_:1},8,["loading"])])],512)}}}),Rh={class:"absolute bottom-0 z-50 h-fit w-full border-t border-gray-200 bg-white p-2 dark:border-zinc-700 dark:bg-gray-900"},Ih={class:"flex flex-col gap-1"},Oh=Ne({__name:"PageScript",props:{page:{type:Object,required:!0}},setup($){const x=$,d=le("script"),h=Ze(),b=(g,l)=>{!x.page||Lt.setValue.submit({name:x.page.name,[g]:l}).then(()=>{h.setPageData()})};return(g,l)=>(te(),pe("div",Rh,[se(Li,{side:"top",dimension:P(h).builderLayout.scriptEditorHeight,minDimension:100,maxDimension:600,onResize:l[0]||(l[0]=u=>P(h).builderLayout.scriptEditorHeight=u)},null,8,["dimension"]),Y("div",Ih,[se(P(Yt),{class:"w-fit [&>div>button[aria-checked='false']]:dark:!bg-transparent [&>div>button[aria-checked='false']]:dark:!text-zinc-400 [&>div>button[aria-checked='true']]:dark:!bg-zinc-700 [&>div>button]:dark:!bg-zinc-700 [&>div>button]:dark:!text-zinc-100 [&>div]:dark:!bg-zinc-800",buttons:[{label:"Script",value:"script"},{label:"Style",value:"style"}],modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=u=>d.value=u)},null,8,["modelValue"]),Ie(se(Mn,{modelValue:$.page.client_script,"onUpdate:modelValue":l[2]||(l[2]=u=>b("client_script",u)),type:"JavaScript",height:P(h).builderLayout.scriptEditorHeight+"px","show-line-numbers":!0},null,8,["modelValue","height"]),[[Oe,d.value==="script"]]),Ie(se(Mn,{modelValue:$.page.style,"onUpdate:modelValue":l[3]||(l[3]=u=>b("style",u)),type:"CSS",height:P(h).builderLayout.scriptEditorHeight+"px","show-line-numbers":!0},null,8,["modelValue","height"]),[[Oe,d.value==="style"]])])]))}}),Dh={class:"page-builder h-screen flex-col overflow-hidden bg-gray-100"},zh=Ne({__name:"PageBuilder",setup($){const x=Ra(),d=Ia(),h=Ze();window.store=h,window.blockController=V;const b=le(null),g=le(null),l=le({x:0,y:0,dragging:!1}),u=le(!1),a=Oa()["Ctrl+`"];Da(a,()=>{u.value=!u.value}),lt(document,"wheel",e=>{const{ctrlKey:i}=e;if(i){e.preventDefault();return}},{passive:!1}),lt(document,"copy",e=>{if(!Dn(e)&&(e.preventDefault(),h.selectedBlocks.length)){const i=[];h.selectedBlocks.forEach(c=>{c.getUsedComponentNames().forEach(p=>{const k=h.getComponent(p);k&&i.push(k)})});const s={blocks:h.selectedBlocks,components:i};Ha(s,e,"builder-copied-blocks")}}),lt(document,"paste",e=>$t(this,null,function*(){var f,p,k,y;if(Dn(e))return;e.stopPropagation();const i=Array.from(((f=e.clipboardData)==null?void 0:f.items)||[]);if(i.some(v=>v.type.includes("image"))){e.preventDefault();const v=(p=i.find(m=>m.type.includes("image")))==null?void 0:p.getAsFile();v&&h.uploadFile(v).then(m=>{const L=V.getSelectedBlocks(),T=L.length?L[0]:h.getFirstBlock();let E=null;T.isImage()?E=T:E=T.addChild(h.getBlockCopy(ei("image"))),E.setAttribute("src",m.fileURL),E.setAttribute("alt",m.fileName)});return}const s=(k=e.clipboardData)==null?void 0:k.getData("builder-copied-blocks");if(s&&Va(s)){const v=JSON.parse(s);for(const m of v.components)delete m.for_web_page,yield h.createComponent(m,!0);h.selectedBlocks.length&&v.blocks[0].blockId!=="root"?v.blocks.forEach(m=>{h.selectedBlocks[0].addChild(h.getBlockCopy(m))}):h.pushBlocks(v.blocks);return}const c=(y=e.clipboardData)==null?void 0:y.getData("text/plain");if(!!c)if(za(c)){if(e.preventDefault(),V.isHTML())V.setInnerHTML(c);else{const v=Mr(c,!0),m=V.getSelectedBlocks()[0];if(!v)return;m?m.addChild(v):h.pushBlocks([v])}return}else{if(V.isText()&&c.includes(":")&&!h.builderState.editableBlock){e.preventDefault();const m=c.replace(/\/\*.*?\*\//g,"").split(";").reduce((L,T)=>{const[E,C]=T.split(":").map(S=>S?S.trim():"");return["font-family","font-size","font-weight","line-height","letter-spacing","text-align","text-transform","color"].includes(E)&&(L[E]=C,E==="font-family"&&String(C).toLowerCase().includes("inter")&&(L["font-family"]="")),L},{});Object.entries(m).forEach(([L,T])=>{V.setBaseStyle(L,T)})}return}})),lt(document,"keydown",e=>{if(!Dn(e)){if(e.key==="z"&&e.metaKey&&!e.shiftKey&&h.history.canUndo){h.history.undo(),e.preventDefault();return}if(e.key==="z"&&e.shiftKey&&e.metaKey&&h.history.canRedo){h.history.redo();return}if(e.key==="0"&&e.metaKey){e.preventDefault(),b.value&&(e.shiftKey?b.value.setScaleAndTranslate():b.value.resetZoom());return}if(e.key==="ArrowRight"&&!V.isBLockSelected()){e.preventDefault(),b.value&&b.value.moveCanvas("right");return}if(e.key==="ArrowLeft"&&!V.isBLockSelected()){e.preventDefault(),b.value&&b.value.moveCanvas("left");return}if(e.key==="ArrowUp"&&!V.isBLockSelected()){e.preventDefault(),b.value&&b.value.moveCanvas("up");return}if(e.key==="ArrowDown"&&!V.isBLockSelected()){e.preventDefault(),b.value&&b.value.moveCanvas("down");return}if(e.key==="="&&e.metaKey){e.preventDefault(),b.value&&b.value.zoomIn();return}if(e.key==="-"&&e.metaKey){e.preventDefault(),b.value&&b.value.zoomOut();return}if(!(e.metaKey||e.ctrlKey||e.shiftKey)){if(e.key==="c"){h.mode="container";return}if(e.key==="i"){h.mode="image";return}if(e.key==="t"){h.mode="text";return}if(e.key==="v"){h.mode="select";return}if(e.key==="s"){h.mode="section";return}}}}),lt(document,"mousedown",e=>{if(e.button===1){l.value={x:e.screenX,y:e.screenY,dragging:!0},document.body.style.cursor="grabbing";return}}),lt(document,"mousemove",e=>{var i;if(l.value.dragging){const s=e.screenX-l.value.x,c=e.screenY-l.value.y;(i=b.value)==null||i.freemoveCanvas(s/3,c/3);return}}),lt(document,"mouseup",e=>{if(e.button===1){l.value.dragging=!1,document.body.style.cursor="default";return}}),lt(document,"keydown",e=>{if(e.key==="\\"&&e.metaKey&&(e.preventDefault(),e.shiftKey?h.showLeftPanel=!h.showLeftPanel:(h.showRightPanel=!h.showRightPanel,h.showLeftPanel=h.showRightPanel)),e.key==="]"){if(e.preventDefault(),h.selectedBlocks.length===0)return;h.moveBlockUp();return}if(e.key==="["){if(e.preventDefault(),h.selectedBlocks.length===0)return;h.moveBlockDown();return}if(e.key==="s"&&(e.ctrlKey||e.metaKey)){e.preventDefault(),h.editingMode==="component"&&(h.editPage(!0),t(),e.stopPropagation(),e.preventDefault());return}if(e.key==="p"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),h.savePage(),d.push({name:"preview",params:{pageId:h.selectedPage}})),e.key==="c"&&e.metaKey&&e.shiftKey&&V.isBLockSelected()&&!V.multipleBlocksSelected()){e.preventDefault();const i=V.getSelectedBlocks()[0];h.copiedStyle={blockId:i.blockId,style:i.getStylesCopy()}}if(e.key==="d"&&e.metaKey&&V.isBLockSelected()&&!V.multipleBlocksSelected()&&(e.preventDefault(),V.getSelectedBlocks()[0].duplicateBlock()),!Dn(e)){if(e.key==="Backspace"&&V.isBLockSelected()){let i=function(s,c){if(c==="root")return Hi({title:"Warning",text:"Cannot Delete Root Block",icon:"alert-circle",iconClasses:"text-yellow-500",position:"top-left"}),!1;s.forEach((f,p)=>{if(f.blockId===c)return f.isChildOfComponentBlock()&&!e.shiftKey?(Hi({title:"Warning",text:"Cannot Delete Block Inside Component",icon:"alert-circle",iconClasses:"text-yellow-500",position:"top-left"}),!1):(h.history.batch(()=>{s.splice(p,1)}),at(()=>{s.length&&s[p]&&s[p].selectBlock()}),!0);if(f.children)return i(f.children,c)})};for(const s of V.getSelectedBlocks())i([h.getFirstBlock()],s.blockId);t(),e.stopPropagation();return}if(e.key==="Escape"&&(h.editPage(!1),t()),e.key.startsWith("Arrow")&&V.isBLockSelected()){const i=e.key.replace("Arrow","").toLowerCase();for(const s of V.getSelectedBlocks())s.move(i)}}});const t=()=>{V.clearSelection(),h.builderState.editableBlock=null,document.activeElement instanceof HTMLElement&&document.activeElement.blur()};xi(()=>$t(this,null,function*(){x.params.pageId!==h.selectedPage&&(Lt.data||(yield Lt.fetchOne.submit(x.params.pageId)),x.params.pageId&&x.params.pageId!=="new"?n(x.params.pageId):Lt.insert.submit({page_title:"My Page",draft_blocks:[h.getRootBlock()]}).then(e=>{d.push({name:"builder",params:{pageId:e.name},force:!0}),n(e.name)}))}));const n=e=>{Lt.fetchOne.submit(e).then(i=>{h.setPage(i[0]),at(()=>{b.value&&b.value.setScaleAndTranslate()})})},r=Fa(h.savePage,500);return gt(()=>h.builderState.blocks,()=>{h.selectedPage&&h.autoSave&&!h.settingPage&&r()},{deep:!0}),(e,i)=>(te(),pe("div",Dh,[se(Mh,{class:"relative z-30"}),Y("div",null,[Ie(se(yu,{class:"fixed bottom-0 left-0 top-[var(--toolbar-height)] z-20 overflow-auto border-r-[1px] bg-white no-scrollbar dark:border-gray-800 dark:bg-zinc-900"},null,512),[[Oe,P(h).showLeftPanel]]),P(h).editingComponent?(te(),me(_i,{key:0,ref_key:"componentEditor",ref:g,block:P(h).getComponentBlock(P(h).editingComponent),"canvas-props":P(h).componentEditorCanvas,"canvas-styles":{width:(P(h).getComponentBlock(P(h).editingComponent).getStyle("width")+"").endsWith("px")?"!fit-content":null,padding:"40px"},style:He({left:`${P(h).showLeftPanel?P(h).builderLayout.leftPanelWidth:0}px`,right:`${P(h).showRightPanel?P(h).builderLayout.rightPanelWidth:0}px`}),class:"canvas-container absolute bottom-0 top-[var(--toolbar-height)] flex justify-center overflow-hidden bg-gray-400 p-10 dark:bg-zinc-700"},null,8,["block","canvas-props","canvas-styles","style"])):ve("",!0),Ie(se(_i,{ref_key:"blockEditor",ref:b,block:P(h).builderState.blocks[0],"canvas-props":P(h).blockEditorCanvas,"canvas-styles":{minHeight:"1000px"},style:He({left:`${P(h).showLeftPanel?P(h).builderLayout.leftPanelWidth:0}px`,right:`${P(h).showRightPanel?P(h).builderLayout.rightPanelWidth:0}px`}),class:"canvas-container absolute bottom-0 top-[var(--toolbar-height)] flex justify-center overflow-hidden bg-gray-200 p-10 dark:bg-zinc-800"},null,8,["block","canvas-props","style"]),[[Oe,!P(h).editingComponent]]),Ie(se(Ch,{class:"fixed bottom-0 right-0 top-[var(--toolbar-height)] z-20 overflow-auto border-l-[1px] bg-white no-scrollbar dark:border-gray-800 dark:bg-zinc-900"},null,512),[[Oe,P(h).showRightPanel]])]),P(h).selectedPage&&P(h).getActivePage()?Ie((te(),me(Oh,{key:0,page:P(h).getActivePage()},null,8,["page"])),[[Oe,u.value]]):ve("",!0)]))}});export{zh as default};
//# sourceMappingURL=PageBuilder.251b10ca.js.map
