var Or=Object.defineProperty,Dr=Object.defineProperties;var Pr=Object.getOwnPropertyDescriptors;var Ri=Object.getOwnPropertySymbols;var Br=Object.prototype.hasOwnProperty,Fr=Object.prototype.propertyIsEnumerable;var Ii=(A,x,d)=>x in A?Or(A,x,{enumerable:!0,configurable:!0,writable:!0,value:d}):A[x]=d,mt=(A,x)=>{for(var d in x||(x={}))Br.call(x,d)&&Ii(A,d,x[d]);if(Ri)for(var d of Ri(x))Fr.call(x,d)&&Ii(A,d,x[d]);return A},qn=(A,x)=>Dr(A,Pr(x));var kt=(A,x,d)=>new Promise((h,b)=>{var g=o=>{try{u(d.next(o))}catch(a){b(a)}},l=o=>{try{u(d.throw(o))}catch(a){b(a)}},u=o=>o.done?h(o.value):Promise.resolve(o.value).then(g,l);u((d=d.apply(A,x)).next())});import{L as Nr,R as Hr,M as Wr,N as zr,O as Vr,Q as _r,S as Ur,V as jr,W as Gr,X as Kr,Y as Yr,Z as Xr,$ as Zr,a0 as Qr,A as zt,a1 as Jr,s as le,a2 as qr,a3 as eo,a4 as to,a5 as no,a6 as qi,a7 as io,a8 as ro,a9 as oo,aa as so,x as F,ab as ao,ac as lo,h as Te,n as co,f as Pe,t as Ge,ad as uo,ae as ho,af as fo,ag as po,F as st,ah as go,ai as vo,aj as mo,ak as er,al as yo,am as bo,an as wo,ao as So,ap as xo,aq as Co,u as ve,c as ge,p as fe,d as me,b as X,ar as $o,as as ko,at as Ao,au as Eo,av as tr,l as Nt,j as re,aw as Lo,q as Ve,ax as To,ay as Mo,az as Ro,aA as Io,aB as Oo,aC as Do,aD as Po,aE as Bo,aF as Fo,g as No,E as Ho,aG as Wo,aH as zo,aI as Vo,aJ as Qt,aK as _o,aL as Uo,aM as jo,aN as Go,aO as Ko,aP as nr,C as dt,v as yi,aQ as ir,aR as rr,aS as Yo,aT as Xo,aU as Zo,aV as Bt,aW as Qo,aX as Jo,aY as qo,aZ as es,a_ as ts,o as q,a$ as or,b0 as sr,b1 as ar,b2 as ns,b3 as is,e as pt,a as hn,r as it,b4 as rs,b5 as An,b6 as os,b7 as ss,b8 as as,b9 as ls,ba as cs,bb as us,bc as ds,bd as hs,be as fs,bf as lr,bg as ps,bh as gs,bi as vs,bj as ms,bk as ys,bl as bs,bm as Ct,bn as _t,bo as ws,bp as Ss,bq as xs,w as Re,br as Cs,bs as Ce,bt as $s,bu as ks,bv as As,bw as Es,bx as Ls,by as Ts,bz as Ms,bA as Rs,bB as Is,bC as Os,bD as Ds,bE as Ps,bF as Bs,bG as Fs,bH as Ns,bI as Hs,bJ as Ws,bK as zs,bL as Vs,bM as $e,k as bi,bN as ze,bO as tn,bP as bt,bQ as _s,bR as Us,bS as js,bT as Gs,bU as Ks,D as cr,B as Ke,bV as Ys,bW as Xs,bX as Oi,bY as Zs,bZ as Qs,b_ as Js,b$ as wi,c0 as Si,c1 as xi,c2 as qs,c3 as ea,c4 as ta,c5 as na,c6 as ia,c7 as ra,c8 as oa,c9 as sa,ca as aa,cb as la,I as ca,cc as ua,cd as da,ce as Nn,cf as ur,cg as ha,ch as fa,z as Ci,ci as pa,_ as dr,cj as ga,ck as va,cl as Di,cm as ma,cn as Pi,P as hr,co as Yt,cp as ya,cq as ba,cr as fn,cs as wa,ct as Sa,cu as xa,cv as Ca,cw as $a,cx as ka,H as Bi}from"./index.99064780.js";import{a as Zn,u as rt,f as Aa,b as Tt,d as Un,g as Qn,B as Wt,e as nt,h as fr,w as Mt,i as di,H as Ea,j as Fi,k as Mn,l as La,m as Ta,n as Ma}from"./store.66b95f51.js";import{_ as $i}from"./PanelResizer.vue_vue_type_script_setup_true_lang.38997f84.js";import{F as Ra}from"./FileUploader.ff4a52cf.js";import{_ as Ia}from"./builder_logo.41e4a9f2.js";import"./fileUploadHandler.7bd6d646.js";const Oa=()=>{},Da=Object.freeze(Object.defineProperty({__proto__:null,compile:Oa,EffectScope:Nr,ReactiveEffect:Hr,customRef:Wr,effect:zr,effectScope:Vr,getCurrentScope:_r,isProxy:Ur,isReactive:jr,isReadonly:Gr,isRef:Kr,isShallow:Yr,markRaw:Xr,onScopeDispose:Zr,proxyRefs:Qr,reactive:zt,readonly:Jr,ref:le,shallowReactive:qr,shallowReadonly:eo,shallowRef:to,stop:no,toRaw:qi,toRef:io,toRefs:ro,toValue:oo,triggerRef:so,unref:F,camelize:ao,capitalize:lo,normalizeClass:Te,normalizeProps:co,normalizeStyle:Pe,toDisplayString:Ge,toHandlerKey:uo,BaseTransition:ho,BaseTransitionPropsValidators:fo,Comment:po,Fragment:st,KeepAlive:go,Static:vo,Suspense:mo,Teleport:er,Text:yo,assertNumber:bo,callWithAsyncErrorHandling:wo,callWithErrorHandling:So,cloneVNode:xo,compatUtils:Co,computed:ve,createBlock:ge,createCommentVNode:fe,createElementBlock:me,createElementVNode:X,createHydrationRenderer:$o,createPropsRestProxy:ko,createRenderer:Ao,createSlots:Eo,createStaticVNode:tr,createTextVNode:Nt,createVNode:re,defineAsyncComponent:Lo,defineComponent:Ve,defineEmits:To,defineExpose:Mo,defineModel:Ro,defineOptions:Io,defineProps:Oo,defineSlots:Do,get devtools(){return Po},getCurrentInstance:Bo,getTransitionRawChildren:Fo,guardReactiveProps:No,h:Ho,handleError:Wo,hasInjectionContext:zo,initCustomFormatter:Vo,inject:Qt,isMemoSame:_o,isRuntimeOnly:Uo,isVNode:jo,mergeDefaults:Go,mergeModels:Ko,mergeProps:nr,nextTick:dt,onActivated:yi,onBeforeMount:ir,onBeforeUnmount:rr,onBeforeUpdate:Yo,onDeactivated:Xo,onErrorCaptured:Zo,onMounted:Bt,onRenderTracked:Qo,onRenderTriggered:Jo,onServerPrefetch:qo,onUnmounted:es,onUpdated:ts,openBlock:q,popScopeId:or,provide:sr,pushScopeId:ar,queuePostFlushCb:ns,registerRuntimeCompiler:is,renderList:pt,renderSlot:hn,resolveComponent:it,resolveDirective:rs,resolveDynamicComponent:An,resolveFilter:os,resolveTransitionHooks:ss,setBlockTracking:as,setDevtoolsHook:ls,setTransitionHooks:cs,ssrContextKey:us,ssrUtils:ds,toHandlers:hs,transformVNodeArgs:fs,useAttrs:lr,useModel:ps,useSSRContext:gs,useSlots:vs,useTransitionState:ms,version:ys,warn:bs,watch:Ct,watchEffect:_t,watchPostEffect:ws,watchSyncEffect:Ss,withAsyncContext:xs,withCtx:Re,withDefaults:Cs,withDirectives:Ce,withMemo:$s,withScopeId:ks,Transition:As,TransitionGroup:Es,VueElement:Ls,createApp:Ts,createSSRApp:Ms,defineCustomElement:Rs,defineSSRCustomElement:Is,hydrate:Os,initDirectivesForSSR:Ds,render:Ps,useCssModule:Bs,useCssVars:Fs,vModelCheckbox:Ns,vModelDynamic:Hs,vModelRadio:Ws,vModelSelect:zs,vModelText:Vs,vShow:$e,withKeys:bi,withModifiers:ze},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=Zn("MinusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=Zn("MoveLeftIcon",[["path",{d:"M6 8L2 12L6 16",key:"kyvwex"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=Zn("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=Zn("SlidersHorizontalIcon",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);function Ha(A,x,d,h={min:.1,max:10}){const b=zt(tn(x));let g=0,l=0,u=0,o=0,a=!1,t;const n=i=>{if(clearTimeout(t),i.ctrlKey){if(A.scaling=!0,!a){b.update();const r=b.left+b.width/2,s=b.top+b.height/2;g=(i.clientX-r)/A.scale,l=(i.clientY-s)/A.scale,u=i.clientX,o=i.clientY,a=!0;let c=()=>{a=!1};d.addEventListener("mousemove",c,{once:!0})}let e=A.scale-i.deltaY*.008*A.scale;e=Math.min(Math.max(e,h.min),h.max),A.scale=e,dt(()=>{b.update();const r=b.left+b.width/2,s=b.top+b.height/2,c=r+g*e,f=s+l*e,p=u-c,$=o-f;A.translateX+=p/e,A.translateY+=$/e})}else A.panning=!0,a=!1,A.translateX-=i.deltaX/A.scale,A.translateY-=i.deltaY/A.scale;t=setTimeout(()=>{A.scaling=!1,A.panning=!1},200)};d.addEventListener("wheel",i=>{i.preventDefault(),requestAnimationFrame(()=>n(i))},{passive:!1})}const Wa=Ve({__name:"BlockSnapGuides",setup(A){const x=rt();return(d,h)=>(q(),me("div",null,[F(x).guides.showX?(q(),me("div",{key:0,class:"x fixed bottom-0 top-0 z-10 w-[1px] bg-pink-600",style:Pe({left:F(x).guides.x+"px"})},null,4)):fe("",!0),F(x).guides.showY?(q(),me("div",{key:1,class:"y fixed left-0 right-0 z-10 h-[1px] bg-pink-600",style:Pe({top:F(x).guides.y+"px"})},null,4)):fe("",!0)]))}}),za=[{family:"Inter",variants:["100","100italic","200","200italic","300","300italic","400","400italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"]},{family:"Roboto",variants:["regular","italic","500","500italic","700","700italic"]},{family:"Open Sans",variants:["regular","italic","300","300italic","600","600italic","700","700italic","800","800italic"]},{family:"Lato",variants:["regular","italic","100","100italic","300","300italic","700","700italic","900","900italic"]},{family:"Montserrat",variants:["regular","italic","100","100italic","200","200italic","300","300italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"]},{family:"Raleway",variants:["regular","italic","100","100italic","200","200italic","300","300italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"]},{family:"Source Sans Pro",variants:["regular","italic","200","200italic","300","300italic","600","600italic","700","700italic","900","900italic"]},{family:"Oswald",variants:["regular","200","300","500","600","700"]},{family:"Poppins",variants:["regular","italic","200","200italic","300","300italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"]},{family:"Ubuntu",variants:["regular","italic","300","300italic","500","500italic","700","700italic"]},{family:"Playfair Display",variants:["regular","italic","700","700italic","900","900italic"]},{family:"Noto Sans",variants:["regular","italic","700","700italic"]},{family:"Quicksand",variants:["regular","italic","300","300italic","500","500italic","700","700italic"]},{family:"Merriweather",variants:["regular","italic","700","700italic","900","900italic"]},{family:"Lora",variants:["regular","italic","500","500italic","600","600italic","700","700italic"]},{family:"Pacifico",variants:["regular"]},{family:"Comfortaa",variants:["regular"]},{family:"Dosis",variants:["regular","200","300","500","600","700","800"]},{family:"Montserrat Alternates",variants:["regular","italic","500","500italic","600","600italic","700","700italic","800","800italic"]},{family:"Work Sans",variants:["regular","italic","100","100italic","200","200italic","300","300italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"]},{family:"Roboto Condensed",variants:["regular","italic","300","300italic","700","700italic"]},{family:"Josefin Sans",variants:["regular","italic","100","100italic","300","300italic","600","600italic","700","700italic"]},{family:"Indie Flower",variants:["regular"]},{family:"Dancing Script",variants:["regular","700"]},{family:"Archivo",variants:["regular","italic","500","500italic","600","600italic","700","700italic"]},{family:"Titillium Web",variants:["regular","italic","200","200italic","300","300italic","600","600italic","700","700italic","900","900italic"]},{family:"Exo",variants:["regular","italic","100","100italic","200","200italic","300","300italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"]},{family:"Cabin",variants:["regular","italic","500","500italic","600","600italic","700","700italic"]},{family:"Yanone Kaffeesatz",variants:["regular","200","300","700"]},{family:"Lobster",variants:["regular"]},{family:"Arvo",variants:["regular","italic","700","700italic"]},{family:"PT Sans",variants:["regular","italic","700","700italic"]},{family:"Fira Sans",variants:["regular","italic","300","300italic","500","500italic","700","700italic"]},{family:"Bitter",variants:["regular","italic","700"]},{family:"Lobster Two",variants:["regular","italic","700","700italic"]},{family:"Merriweather Sans",variants:["regular","italic","300","300italic","700","700italic","800","800italic"]},{family:"Cabin Condensed",variants:["regular","500","600","700"]},{family:"Lato Latin",variants:["100","100italic","300","300italic","regular","italic","700","700italic","900","900italic"]},{family:"Source Code Pro",variants:["regular","200","300","500","600","700","900"]},{family:"Inconsolata",variants:["regular","700"]},{family:"Nunito",variants:["regular","italic","200","200italic","300","300italic","600","600italic","700","700italic","800","800italic","900","900italic"]},{family:"PT Serif",variants:["regular","italic","700","700italic"]},{family:"Cabin Sketch",variants:["regular","700"]},{family:"Righteous",variants:["regular"]},{family:"Amatic SC",variants:["regular","700"]},{family:"Droid Sans",variants:["regular","700"]},{family:"Fira Mono",variants:["regular","500","700"]},{family:"Quattrocento",variants:["regular","700"]},{family:"Archivo Black",variants:["regular"]},{family:"PT Sans Narrow",variants:["regular","700"]},{family:"Pacifico Latin",variants:["regular"]}],pr={items:za};var gr={exports:{}};(function(A){(function(){function x(D,N,Z){return D.call.apply(D.bind,arguments)}function d(D,N,Z){if(!D)throw Error();if(2<arguments.length){var Q=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,Q),D.apply(N,ne)}}return function(){return D.apply(N,arguments)}}function h(D,N,Z){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:d,h.apply(null,arguments)}var b=Date.now||function(){return+new Date};function g(D,N){this.a=D,this.o=N||D,this.c=this.o.document}var l=!!window.FontFace;function u(D,N,Z,Q){if(N=D.c.createElement(N),Z)for(var ne in Z)Z.hasOwnProperty(ne)&&(ne=="style"?N.style.cssText=Z[ne]:N.setAttribute(ne,Z[ne]));return Q&&N.appendChild(D.c.createTextNode(Q)),N}function o(D,N,Z){D=D.c.getElementsByTagName(N)[0],D||(D=document.documentElement),D.insertBefore(Z,D.lastChild)}function a(D){D.parentNode&&D.parentNode.removeChild(D)}function t(D,N,Z){N=N||[],Z=Z||[];for(var Q=D.className.split(/\s+/),ne=0;ne<N.length;ne+=1){for(var de=!1,oe=0;oe<Q.length;oe+=1)if(N[ne]===Q[oe]){de=!0;break}de||Q.push(N[ne])}for(N=[],ne=0;ne<Q.length;ne+=1){for(de=!1,oe=0;oe<Z.length;oe+=1)if(Q[ne]===Z[oe]){de=!0;break}de||N.push(Q[ne])}D.className=N.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function n(D,N){for(var Z=D.className.split(/\s+/),Q=0,ne=Z.length;Q<ne;Q++)if(Z[Q]==N)return!0;return!1}function i(D){return D.o.location.hostname||D.a.location.hostname}function e(D,N,Z){function Q(){ae&&ne&&de&&(ae(oe),ae=null)}N=u(D,"link",{rel:"stylesheet",href:N,media:"all"});var ne=!1,de=!0,oe=null,ae=Z||null;l?(N.onload=function(){ne=!0,Q()},N.onerror=function(){ne=!0,oe=Error("Stylesheet failed to load"),Q()}):setTimeout(function(){ne=!0,Q()},0),o(D,"head",N)}function r(D,N,Z,Q){var ne=D.c.getElementsByTagName("head")[0];if(ne){var de=u(D,"script",{src:N}),oe=!1;return de.onload=de.onreadystatechange=function(){oe||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(oe=!0,Z&&Z(null),de.onload=de.onreadystatechange=null,de.parentNode.tagName=="HEAD"&&ne.removeChild(de))},ne.appendChild(de),setTimeout(function(){oe||(oe=!0,Z&&Z(Error("Script load timeout")))},Q||5e3),de}return null}function s(){this.a=0,this.c=null}function c(D){return D.a++,function(){D.a--,p(D)}}function f(D,N){D.c=N,p(D)}function p(D){D.a==0&&D.c&&(D.c(),D.c=null)}function $(D){this.a=D||"-"}$.prototype.c=function(D){for(var N=[],Z=0;Z<arguments.length;Z++)N.push(arguments[Z].replace(/[\W_]+/g,"").toLowerCase());return N.join(this.a)};function m(D,N){this.c=D,this.f=4,this.a="n";var Z=(N||"n4").match(/^([nio])([1-9])$/i);Z&&(this.a=Z[1],this.f=parseInt(Z[2],10))}function y(D){return M(D)+" "+(D.f+"00")+" 300px "+v(D.c)}function v(D){var N=[];D=D.split(/,\s*/);for(var Z=0;Z<D.length;Z++){var Q=D[Z].replace(/['"]/g,"");Q.indexOf(" ")!=-1||/^\d/.test(Q)?N.push("'"+Q+"'"):N.push(Q)}return N.join(",")}function T(D){return D.a+D.f}function M(D){var N="normal";return D.a==="o"?N="oblique":D.a==="i"&&(N="italic"),N}function E(D){var N=4,Z="n",Q=null;return D&&((Q=D.match(/(normal|oblique|italic)/i))&&Q[1]&&(Z=Q[1].substr(0,1).toLowerCase()),(Q=D.match(/([1-9]00|normal|bold)/i))&&Q[1]&&(/bold/i.test(Q[1])?N=7:/[1-9]00/.test(Q[1])&&(N=parseInt(Q[1].substr(0,1),10)))),Z+N}function C(D,N){this.c=D,this.f=D.o.document.documentElement,this.h=N,this.a=new $("-"),this.j=N.events!==!1,this.g=N.classes!==!1}function S(D){D.g&&t(D.f,[D.a.c("wf","loading")]),k(D,"loading")}function I(D){if(D.g){var N=n(D.f,D.a.c("wf","active")),Z=[],Q=[D.a.c("wf","loading")];N||Z.push(D.a.c("wf","inactive")),t(D.f,Z,Q)}k(D,"inactive")}function k(D,N,Z){D.j&&D.h[N]&&(Z?D.h[N](Z.c,T(Z)):D.h[N]())}function w(){this.c={}}function R(D,N,Z){var Q=[],ne;for(ne in N)if(N.hasOwnProperty(ne)){var de=D.c[ne];de&&Q.push(de(N[ne],Z))}return Q}function L(D,N){this.c=D,this.f=N,this.a=u(this.c,"span",{"aria-hidden":"true"},this.f)}function O(D){o(D.c,"body",D.a)}function P(D){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+v(D.c)+";"+("font-style:"+M(D)+";font-weight:"+(D.f+"00")+";")}function B(D,N,Z,Q,ne,de){this.g=D,this.j=N,this.a=Q,this.c=Z,this.f=ne||3e3,this.h=de||void 0}B.prototype.start=function(){var D=this.c.o.document,N=this,Z=b(),Q=new Promise(function(oe,ae){function ue(){b()-Z>=N.f?ae():D.fonts.load(y(N.a),N.h).then(function(we){1<=we.length?oe():setTimeout(ue,25)},function(){ae()})}ue()}),ne=null,de=new Promise(function(oe,ae){ne=setTimeout(ae,N.f)});Promise.race([de,Q]).then(function(){ne&&(clearTimeout(ne),ne=null),N.g(N.a)},function(){N.j(N.a)})};function H(D,N,Z,Q,ne,de,oe){this.v=D,this.B=N,this.c=Z,this.a=Q,this.s=oe||"BESbswy",this.f={},this.w=ne||3e3,this.u=de||null,this.m=this.j=this.h=this.g=null,this.g=new L(this.c,this.s),this.h=new L(this.c,this.s),this.j=new L(this.c,this.s),this.m=new L(this.c,this.s),D=new m(this.a.c+",serif",T(this.a)),D=P(D),this.g.a.style.cssText=D,D=new m(this.a.c+",sans-serif",T(this.a)),D=P(D),this.h.a.style.cssText=D,D=new m("serif",T(this.a)),D=P(D),this.j.a.style.cssText=D,D=new m("sans-serif",T(this.a)),D=P(D),this.m.a.style.cssText=D,O(this.g),O(this.h),O(this.j),O(this.m)}var V={D:"serif",C:"sans-serif"},U=null;function _(){if(U===null){var D=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);U=!!D&&(536>parseInt(D[1],10)||parseInt(D[1],10)===536&&11>=parseInt(D[2],10))}return U}H.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=b(),K(this)};function z(D,N,Z){for(var Q in V)if(V.hasOwnProperty(Q)&&N===D.f[V[Q]]&&Z===D.f[V[Q]])return!0;return!1}function K(D){var N=D.g.a.offsetWidth,Z=D.h.a.offsetWidth,Q;(Q=N===D.f.serif&&Z===D.f["sans-serif"])||(Q=_()&&z(D,N,Z)),Q?b()-D.A>=D.w?_()&&z(D,N,Z)&&(D.u===null||D.u.hasOwnProperty(D.a.c))?ee(D,D.v):ee(D,D.B):J(D):ee(D,D.v)}function J(D){setTimeout(h(function(){K(this)},D),50)}function ee(D,N){setTimeout(h(function(){a(this.g.a),a(this.h.a),a(this.j.a),a(this.m.a),N(this.a)},D),0)}function ie(D,N,Z){this.c=D,this.a=N,this.f=0,this.m=this.j=!1,this.s=Z}var se=null;ie.prototype.g=function(D){var N=this.a;N.g&&t(N.f,[N.a.c("wf",D.c,T(D).toString(),"active")],[N.a.c("wf",D.c,T(D).toString(),"loading"),N.a.c("wf",D.c,T(D).toString(),"inactive")]),k(N,"fontactive",D),this.m=!0,he(this)},ie.prototype.h=function(D){var N=this.a;if(N.g){var Z=n(N.f,N.a.c("wf",D.c,T(D).toString(),"active")),Q=[],ne=[N.a.c("wf",D.c,T(D).toString(),"loading")];Z||Q.push(N.a.c("wf",D.c,T(D).toString(),"inactive")),t(N.f,Q,ne)}k(N,"fontinactive",D),he(this)};function he(D){--D.f==0&&D.j&&(D.m?(D=D.a,D.g&&t(D.f,[D.a.c("wf","active")],[D.a.c("wf","loading"),D.a.c("wf","inactive")]),k(D,"active")):I(D.a))}function pe(D){this.j=D,this.a=new w,this.h=0,this.f=this.g=!0}pe.prototype.load=function(D){this.c=new g(this.j,D.context||this.j),this.g=D.events!==!1,this.f=D.classes!==!1,Ie(this,new C(this.c,D),D)};function Me(D,N,Z,Q,ne){var de=--D.h==0;(D.f||D.g)&&setTimeout(function(){var oe=ne||null,ae=Q||null||{};if(Z.length===0&&de)I(N.a);else{N.f+=Z.length,de&&(N.j=de);var ue,we=[];for(ue=0;ue<Z.length;ue++){var Se=Z[ue],_e=ae[Se.c],vt=N.a,jt=Se;if(vt.g&&t(vt.f,[vt.a.c("wf",jt.c,T(jt).toString(),"loading")]),k(vt,"fontloading",jt),vt=null,se===null)if(window.FontFace){var jt=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),rn=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);se=jt?42<parseInt(jt[1],10):!rn}else se=!1;se?vt=new B(h(N.g,N),h(N.h,N),N.c,Se,N.s,_e):vt=new H(h(N.g,N),h(N.h,N),N.c,Se,N.s,oe,_e),we.push(vt)}for(ue=0;ue<we.length;ue++)we[ue].start()}},0)}function Ie(D,N,Z){var ne=[],Q=Z.timeout;S(N);var ne=R(D.a,Z,D.c),de=new ie(D.c,N,Q);for(D.h=ne.length,N=0,Z=ne.length;N<Z;N++)ne[N].load(function(oe,ae,ue){Me(D,de,oe,ae,ue)})}function Ee(D,N){this.c=D,this.a=N}Ee.prototype.load=function(D){function N(){if(de["__mti_fntLst"+Q]){var oe=de["__mti_fntLst"+Q](),ae=[],ue;if(oe)for(var we=0;we<oe.length;we++){var Se=oe[we].fontfamily;oe[we].fontStyle!=null&&oe[we].fontWeight!=null?(ue=oe[we].fontStyle+oe[we].fontWeight,ae.push(new m(Se,ue))):ae.push(new m(Se))}D(ae)}else setTimeout(function(){N()},50)}var Z=this,Q=Z.a.projectId,ne=Z.a.version;if(Q){var de=Z.c.o;r(this.c,(Z.a.api||"https://fast.fonts.net/jsapi")+"/"+Q+".js"+(ne?"?v="+ne:""),function(oe){oe?D([]):(de["__MonotypeConfiguration__"+Q]=function(){return Z.a},N())}).id="__MonotypeAPIScript__"+Q}else D([])};function Oe(D,N){this.c=D,this.a=N}Oe.prototype.load=function(D){var N,Z,Q=this.a.urls||[],ne=this.a.families||[],de=this.a.testStrings||{},oe=new s;for(N=0,Z=Q.length;N<Z;N++)e(this.c,Q[N],c(oe));var ae=[];for(N=0,Z=ne.length;N<Z;N++)if(Q=ne[N].split(":"),Q[1])for(var ue=Q[1].split(","),we=0;we<ue.length;we+=1)ae.push(new m(Q[0],ue[we]));else ae.push(new m(Q[0]));f(oe,function(){D(ae,de)})};function Ye(D,N){D?this.c=D:this.c=lt,this.a=[],this.f=[],this.g=N||""}var lt="https://fonts.googleapis.com/css";function gt(D,N){for(var Z=N.length,Q=0;Q<Z;Q++){var ne=N[Q].split(":");ne.length==3&&D.f.push(ne.pop());var de="";ne.length==2&&ne[1]!=""&&(de=":"),D.a.push(ne.join(de))}}function Pt(D){if(D.a.length==0)throw Error("No fonts to load!");if(D.c.indexOf("kit=")!=-1)return D.c;for(var N=D.a.length,Z=[],Q=0;Q<N;Q++)Z.push(D.a[Q].replace(/ /g,"+"));return N=D.c+"?family="+Z.join("%7C"),0<D.f.length&&(N+="&subset="+D.f.join(",")),0<D.g.length&&(N+="&text="+encodeURIComponent(D.g)),N}function ct(D){this.f=D,this.a=[],this.c={}}var $t={latin:"BESbswy","latin-ext":"\xE7\xF6\xFC\u011F\u015F",cyrillic:"\u0439\u044F\u0416",greek:"\u03B1\u03B2\u03A3",khmer:"\u1780\u1781\u1782",Hanuman:"\u1780\u1781\u1782"},te={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ye={i:"i",italic:"i",n:"n",normal:"n"},xe=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Be(D){for(var N=D.f.length,Z=0;Z<N;Z++){var Q=D.f[Z].split(":"),ne=Q[0].replace(/\+/g," "),de=["n4"];if(2<=Q.length){var oe,ae=Q[1];if(oe=[],ae)for(var ae=ae.split(","),ue=ae.length,we=0;we<ue;we++){var Se;if(Se=ae[we],Se.match(/^[\w-]+$/)){var _e=xe.exec(Se.toLowerCase());if(_e==null)Se="";else{if(Se=_e[2],Se=Se==null||Se==""?"n":ye[Se],_e=_e[1],_e==null||_e=="")_e="4";else var vt=te[_e],_e=vt||(isNaN(_e)?"4":_e.substr(0,1));Se=[Se,_e].join("")}}else Se="";Se&&oe.push(Se)}0<oe.length&&(de=oe),Q.length==3&&(Q=Q[2],oe=[],Q=Q?Q.split(","):oe,0<Q.length&&(Q=$t[Q[0]])&&(D.c[ne]=Q))}for(D.c[ne]||(Q=$t[ne])&&(D.c[ne]=Q),Q=0;Q<de.length;Q+=1)D.a.push(new m(ne,de[Q]))}}function We(D,N){this.c=D,this.a=N}var Ue={Arimo:!0,Cousine:!0,Tinos:!0};We.prototype.load=function(D){var N=new s,Z=this.c,Q=new Ye(this.a.api,this.a.text),ne=this.a.families;gt(Q,ne);var de=new ct(ne);Be(de),e(Z,Pt(Q),c(N)),f(N,function(){D(de.a,de.c,Ue)})};function je(D,N){this.c=D,this.a=N}je.prototype.load=function(D){var N=this.a.id,Z=this.c.o;N?r(this.c,(this.a.api||"https://use.typekit.net")+"/"+N+".js",function(Q){if(Q)D([]);else if(Z.Typekit&&Z.Typekit.config&&Z.Typekit.config.fn){Q=Z.Typekit.config.fn;for(var ne=[],de=0;de<Q.length;de+=2)for(var oe=Q[de],ae=Q[de+1],ue=0;ue<ae.length;ue++)ne.push(new m(oe,ae[ue]));try{Z.Typekit.load({events:!1,classes:!1,async:!0})}catch(we){}D(ne)}},2e3):D([])};function G(D,N){this.c=D,this.f=N,this.a=[]}G.prototype.load=function(D){var N=this.f.id,Z=this.c.o,Q=this;N?(Z.__webfontfontdeckmodule__||(Z.__webfontfontdeckmodule__={}),Z.__webfontfontdeckmodule__[N]=function(ne,de){for(var oe=0,ae=de.fonts.length;oe<ae;++oe){var ue=de.fonts[oe];Q.a.push(new m(ue.name,E("font-weight:"+ue.weight+";font-style:"+ue.style)))}D(Q.a)},r(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+i(this.c)+"/"+N+".js",function(ne){ne&&D([])})):D([])};var j=new pe(window);j.a.c.custom=function(D,N){return new Oe(N,D)},j.a.c.fontdeck=function(D,N){return new G(N,D)},j.a.c.monotype=function(D,N){return new Ee(N,D)},j.a.c.typekit=function(D,N){return new je(N,D)},j.a.c.google=function(D,N){return new We(N,D)};var Y={load:h(j.load,j)};A.exports?A.exports=Y:(window.WebFont=Y,window.WebFontConfig&&j.load(window.WebFontConfig))})()})(gr);const Va=gr.exports,_a=pr.items.filter(A=>A.variants.length>=3).map(A=>A.family),vr=new Set,Ua=A=>vr.has(A),ja=A=>{vr.add(A)},ki=A=>new Promise(x=>{if(!A||Ua(A))return x(A);ja(A),Va.load({google:{families:[A],crossOrigin:"anonymous"},active:x(A)})}),Ga=A=>{const x=[{value:"400",label:"Regular"}];if(!A)return x;const d=pr.items.find(h=>h.family===A);return d?d.variants.filter(h=>!h.includes("italic")).map(h=>{switch(h){case"regular":return{value:"400",label:"Regular"};case"100":return{value:"100",label:"Thin"};case"200":return{value:"200",label:"Extra Light"};case"300":return{value:"300",label:"Light"};case"400":return{value:"400",label:"Regular"};case"500":return{value:"500",label:"Medium"};case"600":return{value:"600",label:"Semi Bold"};case"700":return{value:"700",label:"Bold"};case"800":return{value:"800",label:"Extra Bold"};case"900":return{value:"900",label:"Black"};default:return{value:h,label:h}}}):x};function Ka(A){var d;const x=(d=A.match(/font-family: ([^;"]+)["|;]/g))==null?void 0:d.map(h=>h.replace(/font-family: ([^;"]+)["|;]/,"$1"));x&&x.forEach(h=>{ki(h)})}const Rn=rt();function Ya(A,x,d){let h=null;const b=n=>{var i;if((i=n.dataTransfer)==null||i.setData("draggingBlockId",A.blockId),h=x.cloneNode(!0),h.id="ghost",h.style.position="absolute",h.style.transform=`scale(${d.ghostScale||1})`,h.style.pointerEvents="none",h.style.zIndex="999999",document.body.appendChild(h),n.dataTransfer){n.dataTransfer.effectAllowed="move";const e=new Image;e.src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1' height='1'></svg>",n.dataTransfer.setDragImage(e,n.offsetX,n.offsetY)}n.stopPropagation()},g=n=>{const i=n.target;h=h,h.style.left=n.clientX-i.offsetWidth/2+"px",h.style.top=n.clientY-i.offsetHeight/2+"px",n.stopPropagation()},l=n=>{if(Rn.history.pause(),n.dataTransfer){const i=n.dataTransfer.getData("draggingBlockId"),e=Rn.findBlock(i),r=Aa(n);if(e){const s=A,c=e.getParentBlock();s.blockId===c.blockId?s.moveChild(e,r):s.canHaveChildren()&&s.isContainer()&&(c&&c.removeChild(e),s.addChild(e,r),Rn.selectBlock(e,n)),n.stopPropagation()}}Rn.history.resume()},u=n=>{h&&h.remove(),n.dataTransfer&&n.dataTransfer.getData("draggingBlockId")&&(n.dataTransfer.dropEffect="none",n.stopPropagation())},o=n=>{n.preventDefault(),n.stopPropagation()},a=n=>{n.preventDefault(),n.stopPropagation()},t=n=>{n.preventDefault(),n.stopPropagation()};bt(x,"dragstart",b),bt(x,"drag",g),bt(x,"drop",l),bt(x,"dragend",u),bt(x,"dragenter",o),bt(x,"dragover",a),bt(x,"dragleave",t)}const De=rt(),xt={clearSelection:()=>{De.selectedBlocks=[]},getSelectedBlocks:()=>De.selectedBlocks,isRoot(){return xt.isBLockSelected()&&De.selectedBlocks[0].isRoot()},isSection(){return xt.isBLockSelected()&&De.selectedBlocks[0].isSection()},setStyle:(A,x)=>{De.selectedBlocks.forEach(d=>{d.setStyle(A,x)})},setBaseStyle:(A,x)=>{De.selectedBlocks.forEach(d=>{d.setBaseStyle(A,x)})},getStyle:A=>{let x="__initial__";return De.selectedBlocks.forEach(d=>{x==="__initial__"?x=d.getStyle(A):x!==d.getStyle(A)&&(x="Mixed")}),x},isBLockSelected:()=>De.selectedBlocks.length>0,multipleBlocksSelected:()=>De.selectedBlocks.length>1,isText:()=>xt.isBLockSelected()&&De.selectedBlocks[0].isText(),isContainer:()=>xt.isBLockSelected()&&De.selectedBlocks[0].isContainer(),isImage:()=>xt.isBLockSelected()&&De.selectedBlocks[0].isImage(),isButton:()=>xt.isBLockSelected()&&De.selectedBlocks[0].isButton(),isLink:()=>xt.isBLockSelected()&&De.selectedBlocks[0].isLink(),isInput:()=>xt.isBLockSelected()&&De.selectedBlocks[0].isInput(),getAttribute:A=>{let x="__initial__";return De.selectedBlocks.forEach(d=>{x==="__initial__"?x=d.getAttribute(A):x!==d.getAttribute(A)&&(x="Mixed")}),x},setAttribute:(A,x)=>{De.selectedBlocks.forEach(d=>{d.setAttribute(A,x)})},getKeyValue:A=>{let x="__initial__";return De.selectedBlocks.forEach(d=>{x==="__initial__"?x=d[A]:x!==d[A]&&(x="Mixed")}),x},setKeyValue:(A,x)=>{De.selectedBlocks.forEach(d=>{d[A]=x})},getClasses:()=>{let A=[];return A=De.selectedBlocks[0].getClasses(),A},setClasses:A=>{De.selectedBlocks[0].classes=A},getRawStyles:()=>xt.isBLockSelected()&&De.selectedBlocks[0].rawStyles,setRawStyles:A=>{De.selectedBlocks.forEach(x=>{x.rawStyles=A})},getParentBlock:()=>xt.isBLockSelected()&&De.selectedBlocks[0].getParentBlock(),setTextColor:A=>{De.selectedBlocks.forEach(x=>{x.setTextColor(A)})},getTextColor:()=>{let A="__initial__";return De.selectedBlocks.forEach(x=>{A==="__initial__"?A=x.getTextColor():A!==x.getTextColor()&&(A="Mixed")}),A},setFontFamily:A=>{De.selectedBlocks.forEach(x=>{x.setFontFamily(A)})},getFontFamily:()=>{let A="__initial__";return De.selectedBlocks.forEach(x=>{A==="__initial__"?A=x.getFontFamily():A!==x.getFontFamily()&&(A="Mixed")}),A},isHTML:()=>xt.isBLockSelected()&&De.selectedBlocks[0].isHTML(),getInnerHTML:()=>xt.isBLockSelected()&&De.selectedBlocks[0].getInnerHTML(),setInnerHTML:A=>{De.selectedBlocks.forEach(x=>{x.setInnerHTML(A)})},getTextContent:()=>De.selectedBlocks[0].getTextContent(),setDataKey:(A,x)=>{De.selectedBlocks.forEach(d=>{d.setDataKey(A,x)})},getDataKey:A=>De.selectedBlocks[0].getDataKey(A),isRepeater:()=>xt.isBLockSelected()&&De.selectedBlocks[0].isRepeater(),getPadding:()=>De.selectedBlocks[0].getPadding(),setPadding:A=>{De.selectedBlocks[0].setPadding(A)},getMargin:()=>De.selectedBlocks[0].getMargin(),setMargin:A=>{De.selectedBlocks[0].setMargin(A)}},W=xt,at=rt(),Ni=[{point:0,strength:10},{point:.25,strength:2},{point:.5,strength:10},{point:.75,strength:2},{point:1,strength:10}];function mr(A,x){const h=A.closest(".canvas"),b=zt(tn(h)),g=zt(tn(A)),l=zt(tn(A.parentElement));return{getFinalWidth:r=>{g.update(),b.update(),l.update();const{scale:s}=x,c=g.left+r*s;let f=r,p=!1;return Ni.forEach($=>{const m=b.left+b.width*$.point,y=l.left+l.width*$.point;Math.abs(c-m)<$.strength?(f=(m-g.left)/s,at.guides.x=m,p=!0):Math.abs(c-y)<$.strength&&(f=(y-g.left)/s,at.guides.x=y,p=!0)}),p||(at.guides.x=-1),Math.round(f)},getFinalHeight:r=>{g.update(),b.update(),l.update();const{scale:s}=x,c=g.top+r*s;let f=r,p=!1;return Ni.forEach($=>{const m=b.top+b.height*$.point,y=l.top+l.height*$.point;Math.abs(c-m)<$.strength?(f=(m-g.top)/s,at.guides.y=m,p=!0):Math.abs(c-y)<$.strength&&(f=(y-g.top)/s,at.guides.y=y,p=!0)}),p||(at.guides.y=-1),Math.round(f)},showX:()=>{at.guides.x=-1,at.guides.showX=!0},showY:()=>{at.guides.y=-1,at.guides.showY=!0},hideX:()=>{at.guides.showX=!1},hideY:()=>{at.guides.showY=!1},getPositionOffset:()=>{g.update(),b.update();let{scale:r}=x,s=0,c=0;const f=b.left+b.width/2;return Math.abs(g.left-b.left)<10&&(s=(b.left-g.left)/r,at.guides.x=b.left),Math.abs(g.left-f)<10&&(s=(f-g.left)/r,at.guides.x=f),Math.abs(g.left-b.right)<10&&(s=(b.right-g.left)/r,at.guides.x=b.right),Math.abs(g.right-b.left)<10&&(c=(b.left-g.right)/r,at.guides.x=b.left),Math.abs(g.right-f)<10&&(c=(f-g.right)/r,at.guides.x=f),Math.abs(g.right-b.right)<10&&(c=(b.right-g.right)/r,at.guides.x=b.right),(s&&c||!s&&!c)&&(at.guides.x=-1),{leftOffset:Math.round(s),rightOffset:Math.round(c)}}}}window.observer=null;const Hi=[];function Xa(A,x,d){const h=zt(tn(A)),b=A.closest(".canvas-container");if(Hi.push(h.update),Ct(d,()=>dt(h.update),{deep:!0}),!window.observer){let g=()=>{dt(()=>{Hi.forEach(l=>{l()})})};window.observer=_s(b,g,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["style","class"],characterData:!0})}return _t(()=>{x.style.width=Tt(h.width,!1),x.style.height=Tt(h.height,!1),x.style.top=Tt(h.top,!1),x.style.left=Tt(h.left,!1)}),h.update}const Za=["onClick"],Qa=Ve({__name:"ContextMenu",props:{posX:{type:Number,required:!0},posY:{type:Number,required:!0},options:Array},emits:{select:A=>A},setup(A,{emit:x}){const d=A,h=le(null),b=ve(()=>{var t;const u=(t=h.value)==null?void 0:t.$el.clientWidth,a=window.innerWidth-(d.posX+u);return a<0?d.posX+a-10:d.posX}),g=ve(()=>{var t;const u=(t=h.value)==null?void 0:t.$el.clientHeight,a=window.innerHeight-(d.posY+u);return a<0?d.posY+a-10:d.posY}),l=u=>{x("select",u)};return(u,o)=>(q(),ge(F(Gs),{class:"fixed z-50 h-fit w-fit min-w-[120px] rounded-lg bg-white p-1 shadow-xl dark:bg-zinc-900",style:Pe({top:g.value+"px",left:b.value+"px"}),ref_key:"menu",ref:h},{default:Re(()=>[re(F(Us),{static:"",class:"text-sm"},{default:Re(()=>[(q(!0),me(st,null,pt(A.options,(a,t)=>Ce((q(),ge(F(js),{class:"block cursor-pointer rounded-md px-3 py-1 dark:text-zinc-50"},{default:Re(({active:n,disabled:i})=>[X("div",{onClick:ze(e=>(!a.condition||a.condition())&&l(a.action),["prevent","stop"]),class:Te({"text-gray-900":!i,"bg-gray-200 dark:bg-zinc-700":n,"text-gray-400 dark:text-zinc-500":i})},Ge(a.label),11,Za)]),_:2},1536)),[[$e,!a.condition||a.condition()]])),256))]),_:1})]),_:1},8,["style"]))}}),Ja={class:"mt-3"},yr=Ve({__name:"BlockContextMenu",props:{block:{},editable:{type:Boolean}},setup(A){const x=A,d=rt(),h=le(!1),b=le(0),g=le(0),l=le(!1),u=le({componentName:"",isGlobalComponent:0}),o=s=>{x.block.isRoot()||x.editable||(h.value=!0,b.value=s.pageX,g.value=s.pageY,s.preventDefault(),s.stopPropagation())},a=s=>{s(),h.value=!1},t=()=>{d.copiedStyle={blockId:x.block.blockId,style:x.block.getStylesCopy()}},n=()=>{var s;x.block.updateStyles((s=d.copiedStyle)==null?void 0:s.style)},i=()=>{x.block.duplicateBlock()},e=({close:s})=>{var f;const c=d.getBlockCopy(x.block,!0);Un.insert.submit({block:c,component_name:u.value.componentName,for_web_page:u.value.isGlobalComponent?null:(f=d.getActivePage())==null?void 0:f.name}).then(p=>kt(this,null,function*(){yield Un.list.promise;const $=d.findBlock(x.block.blockId);!$||$.extendFromComponent(p.name)})),s()},r=[{label:"Copy",action:()=>document.execCommand("copy")},{label:"Copy Style",action:t},{label:"Paste Style",action:n,condition:()=>Boolean(d.copiedStyle&&d.copiedStyle.blockId!==x.block.blockId)},{label:"Duplicate",action:i},{label:"Wrap in Container",action:()=>{const s=Qn("fit-container"),c=x.block.getParentBlock();if(!c)return;const f=d.selectedBlocks,p=Math.min(...f.map(c.getChildIndex.bind(c))),$=c==null?void 0:c.addChild(s,p);f.sort((m,y)=>c.getChildIndex(m)-c.getChildIndex(y)).forEach(m=>{c==null||c.removeChild(m),$==null||$.addChild(m)}),dt(()=>{$&&$.selectBlock()})},condition:()=>{if(x.block.isRoot())return!1;if(d.selectedBlocks.length===1)return!0;const s=x.block.getParentBlock();return s?d.selectedBlocks.every(f=>f.getParentBlock()===s):!1}},{label:"Save as Component",action:()=>l.value=!0,condition:()=>!x.block.isExtendedFromComponent()},{label:"Convert To Repeater",action:()=>{x.block.convertToRepeater()},condition:()=>x.block.isContainer()&&!x.block.isExtendedFromComponent()&&!x.block.isRoot()},{label:"Reset Changes",condition:()=>Boolean(x.block.extendedFromComponent),action:()=>{x.block.resetChanges()}},{label:"Edit Component",action:()=>{d.editComponent(x.block)},condition:()=>Boolean(x.block.extendedFromComponent)},{label:"Convert to Link",action:()=>{W.getSelectedBlocks().forEach(s=>{s.convertToLink()})},condition:()=>(x.block.isContainer()||x.block.isText())&&!x.block.isExtendedFromComponent()&&!x.block.isRoot()}];return(s,c)=>{const f=it("Input");return q(),me("div",null,[hn(s.$slots,"default",{onContextMenu:o}),h.value?Ce((q(),ge(Qa,{key:0,"pos-x":b.value,"pos-y":g.value,options:r,onSelect:a},null,8,["pos-x","pos-y"])),[[F(Ks),()=>h.value=!1]]):fe("",!0),re(F(cr),{style:{"z-index":"40"},options:{title:"New Component",size:"sm",actions:[{label:"Save",appearance:"primary",onClick:e},{label:"Cancel"}]},modelValue:l.value,"onUpdate:modelValue":c[2]||(c[2]=p=>l.value=p)},{"body-content":Re(()=>[re(f,{type:"text",modelValue:u.value.componentName,"onUpdate:modelValue":c[0]||(c[0]=p=>u.value.componentName=p),label:"Component Name",required:""},null,8,["modelValue"]),X("div",Ja,[re(f,{class:"text-sm [&>span]:!text-sm",type:"checkbox",modelValue:u.value.isGlobalComponent,"onUpdate:modelValue":c[1]||(c[1]=p=>u.value.isGlobalComponent=p),label:"Global Component"},null,8,["modelValue"])])]),_:1},8,["options","modelValue"])])}}}),qa=["onMousedown"],el=Ve({__name:"BorderRadiusHandler",props:{targetBlock:{type:Wt,required:!0},target:{type:Object,required:!0}},setup(A){const x=A,d=x.targetBlock,h=x.target,b=le(parseInt(h.style.borderRadius,10)||0),g=le(!1),l=Qt("canvasProps"),u=le(),o=le(10),a=le(10);let t=10,n=10;const i=m=>{const y=m.clientX,v=m.clientY,T=window.getComputedStyle(u.value),M=parseInt(T.height,10),E=parseInt(T.width,10);let C=y,S=v;g.value=!0;const I=k=>{k.preventDefault();const w=k.clientX-C,R=k.clientY-S,L=(w+R)/2*2;L<0&&(n=-(M/2),t=-(E/2));let O=Math.round(nt(h.style.borderRadius)+L);O=Math.max(0,Math.min(O,p)),$(O),b.value=O,d.setStyle("borderRadius",`${O}px`),C=k.clientX,S=k.clientY};document.addEventListener("mousemove",I),document.addEventListener("mouseup",k=>{k.preventDefault(),nt(d.getStyle("borderRadius"))<10&&(o.value=10,a.value=10),g.value=!1,document.removeEventListener("mousemove",I)},{once:!0})},e=window.getComputedStyle(h),r=parseInt(e.width,10),s=parseInt(e.height,10),c=h.getBoundingClientRect(),f=Math.min(c.height,c.width)/2,p=Math.min(s,r)/2,$=m=>{const y=window.getComputedStyle(u.value),v=parseInt(y.height,10),T=parseInt(y.width,10),M=m/p;o.value=Math.max(n,f*M-v/2),a.value=Math.max(t,f*M-T/2)};return Bt(()=>{$(b.value)}),(m,y)=>(q(),me("div",{ref_key:"handler",ref:u,class:Te(["border-radius-resize pointer-events-auto absolute left-2 top-2 h-[10px] w-[10px] cursor-pointer rounded-full border-2 border-blue-400 bg-white",{hidden:F(l).scale<.4}]),style:Pe({top:o.value+"px",left:a.value+"px"}),onMousedown:ze(i,["stop"])},[Ce(X("div",{class:"absolute left-2 top-2 w-fit rounded-full bg-zinc-800 px-3 py-2 text-xs text-white opacity-60"},Ge(b.value),513),[[$e,g.value]])],46,qa))}}),tl={key:0,class:"resize-dimensions absolute bottom-[-40px] right-[-40px] flex h-8 w-20 items-center justify-center whitespace-nowrap rounded-full bg-gray-600 p-2 text-sm text-white opacity-80"},nl={key:1,class:"resize-dimensions absolute bottom-[-40px] right-[-40px] flex h-8 w-fit items-center justify-center whitespace-nowrap rounded-full bg-gray-600 p-2 text-sm text-white opacity-80"},il=X("div",{class:"left-handle ew-resize pointer-events-auto absolute bottom-0 left-[-2px] top-0 w-2 border-none bg-transparent"},null,-1),rl=["onMousedown"],ol=X("div",{class:"top-handle ns-resize pointer-events-auto absolute left-0 right-0 top-[-2px] h-2 border-none bg-transparent"},null,-1),sl=["onMousedown"],al=["onMousedown"],ll=Ve({__name:"BoxResizer",props:{targetBlock:{type:Wt,default:null},target:{type:[HTMLElement,SVGElement],default:null}},emits:["resizing"],setup(A,{emit:x}){const d=A,h=rt(),b=d.targetBlock,g=d.target,l=le(!1);let u=null;const o=Qt("canvasProps");Bt(()=>{u=mr(g,o)}),_t(()=>{x("resizing",l.value),l.value?h.history.pause():h.history.resume()});const a=ve(()=>(b.getStyle("width"),Math.round(nt(getComputedStyle(g).getPropertyValue("width"))))),t=ve(()=>(b.getStyle("height"),Math.round(nt(getComputedStyle(g).getPropertyValue("height"))))),n=ve(()=>(b.getStyle("fontSize"),Math.round(nt(getComputedStyle(g).getPropertyValue("font-size"))))),i=s=>{var v;const c=s.clientX,f=g.offsetWidth,p=((v=g.parentElement)==null?void 0:v.offsetWidth)||0,$=n.value,m=document.body.style.cursor;document.body.style.cursor=window.getComputedStyle(s.target).cursor,l.value=!0,u.showX();const y=T=>{const M=(T.clientX-c)/o.scale,E=Math.abs(u.getFinalWidth(f+M));if(b.isText()&&!T.shiftKey){const C=Ke(Math.round($+.5*M),10,150);return b.setStyle("fontSize",`${C}px`),T.preventDefault()}if(T.shiftKey){const C=M/p*100,S=f/p*100,I=Math.abs(Math.round(S+C));b.setStyle("width",`${I}%`)}else b.setStyle("width",`${E}px`);T.preventDefault()};document.addEventListener("mousemove",y),document.addEventListener("mouseup",T=>{document.body.style.cursor=m,document.removeEventListener("mousemove",y),T.preventDefault(),l.value=!1,u.hideX()},{once:!0})},e=s=>{const c=s.clientY,f=g.offsetHeight,p=n.value||0,$=document.body.style.cursor;document.body.style.cursor=window.getComputedStyle(s.target).cursor,l.value=!0,u.showY();const m=y=>{const v=(y.clientY-c)/o.scale;let T=Math.round(Math.abs(u.getFinalHeight(f+v)));if(b.isText()&&!y.shiftKey){const M=Ke(Math.round(p+.5*v),10,300);return b.setStyle("fontSize",`${M}px`),y.preventDefault()}b.setStyle("height",`${T}px`),y.preventDefault()};document.addEventListener("mousemove",m),document.addEventListener("mouseup",y=>{document.body.style.cursor=$,document.removeEventListener("mousemove",m),y.preventDefault(),l.value=!1,u.hideY()},{once:!0})},r=s=>{const c=s.clientX,f=s.clientY,p=g.offsetHeight,$=g.offsetWidth,m=n.value||0,y=document.body.style.cursor;document.body.style.cursor=window.getComputedStyle(s.target).cursor,l.value=!0;const v=T=>{const M=(T.clientX-c)/o.scale,E=Math.round($+M);if(b.isText()&&!T.shiftKey){const C=Ke(Math.round(m+.5*M),10,300);return b.setStyle("fontSize",`${C}px`),T.preventDefault()}if(T.shiftKey)b.setStyle("width",`${E}px`),b.setStyle("height",`${E}px`);else{b.setStyle("width",`${E}px`);const C=(T.clientY-f)/o.scale,S=Math.round(p+C);b.setStyle("height",`${S}px`),T.preventDefault()}};document.addEventListener("mousemove",v),document.addEventListener("mouseup",T=>{document.body.style.cursor=y,document.removeEventListener("mousemove",v),T.preventDefault(),l.value=!1},{once:!0})};return(s,c)=>(q(),me(st,null,[l.value&&!F(b).isText()?(q(),me("span",tl,Ge(a.value)+" x "+Ge(t.value),1)):fe("",!0),l.value&&F(b).isText()?(q(),me("span",nl,Ge(n.value),1)):fe("",!0),il,X("div",{class:Te(["right-handle pointer-events-auto absolute bottom-0 right-[-2px] top-0 w-2 border-none bg-transparent",{"cursor-ew-resize":!0}]),onMousedown:ze(i,["stop"])},null,40,rl),ol,X("div",{class:Te(["bottom-handle pointer-events-auto absolute bottom-[-2px] left-0 right-0 h-2 border-none bg-transparent",{"cursor-ns-resize":!0}]),onMousedown:ze(e,["stop"])},null,40,sl),X("div",{class:"pointer-events-auto absolute bottom-[-5px] right-[-5px] h-[12px] w-[12px] cursor-nwse-resize rounded-full border-[2.5px] border-blue-400 bg-white",onMousedown:ze(r,["stop"])},null,40,al)],64))}}),cl=Ve({__name:"MarginHandler",props:{targetBlock:{type:Wt,required:!0},target:{type:[HTMLElement,SVGElement],required:!0},disableHandlers:{type:Boolean,default:!1},onUpdate:{type:Function,default:null},breakpoint:{type:String,default:"desktop"}},emits:["update"],setup(A,{emit:x}){const d=A,h=d.targetBlock,b=le(!1),g=Qt("canvasProps");_t(()=>{x("update",b.value)});const l=ve(()=>{let f=d.targetBlock.baseStyles;return d.breakpoint==="mobile"?f=mt(mt({},f),d.targetBlock.mobileStyles):d.breakpoint==="tablet"&&(f=mt(mt({},f),d.targetBlock.tabletStyles)),f}),u=ve(()=>{l.value.marginTop,l.value.display,l.value.margin;let f=window.getComputedStyle(d.target).marginTop;return nt(f)*g.scale}),o=ve(()=>{l.value.marginBottom,l.value.display,l.value.margin;let f=window.getComputedStyle(d.target).marginBottom;return nt(f)*g.scale}),a=ve(()=>{l.value.marginLeft,l.value.display,l.value.margin;let f=window.getComputedStyle(d.target).marginLeft;return nt(f)*g.scale}),t=ve(()=>{l.value.marginRight,l.value.display,l.value.margin;let f=window.getComputedStyle(d.target).marginRight;return nt(f)*g.scale}),n=ve(()=>`${Ke(1*g.scale,1,2)}px`),i=ve(()=>{const f=Ke(16*g.scale,8,32),p=Ke(4*g.scale,2,8);return{width:f,height:p,bottom:`clamp(0px, calc(4px * ${g.scale}), 12px)`,left:`calc(50% - ${f/2}px)`}}),e=ve(()=>{const f=Ke(16*g.scale,8,32),p=Ke(4*g.scale,2,8);return{width:f,height:p,bottom:`clamp(-16px, calc(-8px * ${g.scale}), 2px)`,left:`calc(50% - ${f/2}px)`}}),r=ve(()=>{const f=Ke(4*g.scale,2,8),p=Ke(16*g.scale,8,32);return{width:f,height:p,right:`clamp(0px, calc(4px * ${g.scale}), 12px)`,top:`calc(50% - ${p/2}px)`}}),s=ve(()=>{const f=Ke(4*g.scale,2,8),p=Ke(16*g.scale,8,32);return{width:f,height:p,right:`clamp(-16px, calc(-8px * ${g.scale}), 2px)`,top:`calc(50% - ${p/2}px)`}}),c=(f,p)=>{if(d.disableHandlers)return;b.value=!0;const $=f.clientY,m=f.clientX,y=f.target,v=nt(l.value.marginTop)||0,T=nt(l.value.marginBottom)||0,M=nt(l.value.marginLeft)||0,E=nt(l.value.marginRight)||0,C=document.body.style.cursor;document.body.style.cursor=window.getComputedStyle(y).cursor;const S=I=>{let k=0,w=null;d.onUpdate&&d.onUpdate(),p==="top"?(k=Math.max(v+I.clientY-$,0),h.setStyle("marginTop",k+"px"),w="y"):p==="bottom"?(k=Math.max(T+I.clientY-$,0),h.setStyle("marginBottom",k+"px"),w="y"):p==="left"?(k=Math.max(M+I.clientX-m,0),h.setStyle("marginLeft",k+"px"),w="x"):p==="right"&&(k=Math.max(E+I.clientX-m,0),h.setStyle("marginRight",k+"px"),w="x"),I.shiftKey?(h.setStyle("marginTop",k+"px"),h.setStyle("marginBottom",k+"px"),h.setStyle("marginLeft",k+"px"),h.setStyle("marginRight",k+"px")):I.altKey&&(w==="y"?(h.setStyle("marginTop",k+"px"),h.setStyle("marginBottom",k+"px")):w==="x"&&(h.setStyle("marginLeft",k+"px"),h.setStyle("marginRight",k+"px"))),I.preventDefault()};document.addEventListener("mousemove",S),document.addEventListener("mouseup",I=>{document.body.style.cursor=C,document.removeEventListener("mousemove",S),b.value=!1,I.preventDefault()},{once:!0})};return(f,p)=>(q(),me("div",{class:Te(["group",{"opacity-40":!b.value,"opacity-70":b.value}]),onClick:p[4]||(p[4]=ze(()=>{},["stop"]))},[X("div",{class:Te(["margin-handler pointer-events-none absolute flex w-full bg-yellow-200",{"bg-transparent":!F(h).isSelected(),"bg-yellow-200":F(h).isSelected()}]),style:Pe({height:u.value+"px",top:`calc(0% - ${u.value}px)`}),ref:"topMarginHandler"},[Ce(X("div",{class:Te(["pointer-events-auto absolute left-[50%] rounded-full border-2 border-yellow-800 bg-yellow-400 hover:scale-125",{"cursor-ns-resize":!A.disableHandlers,hidden:b.value}]),style:Pe({borderWidth:n.value,bottom:i.value.bottom,left:i.value.left,height:i.value.height+"px",width:i.value.width+"px"}),onMousedown:p[0]||(p[0]=ze($=>c($,"top"),["stop"]))},null,38),[[$e,F(g).scale>.5]]),Ce(X("div",{class:"m-auto text-sm text-yellow-900"},Ge(l.value.marginTop||"auto"),513),[[$e,b.value]])],6),X("div",{class:Te(["margin-handler pointer-events-none absolute bottom-0 flex w-full",{"bg-transparent":!F(h).isSelected,"bg-yellow-200":F(h).isSelected}]),style:Pe({height:o.value+"px",bottom:`calc(0% - ${o.value}px)`}),ref:"bottomMarginHandler"},[Ce(X("div",{class:Te(["pointer-events-auto absolute left-[50%] rounded-full border-2 border-yellow-800 bg-yellow-400 hover:scale-125",{"cursor-ns-resize":!A.disableHandlers,hidden:b.value}]),style:Pe({borderWidth:n.value,bottom:e.value.bottom,left:e.value.left,height:e.value.height+"px",width:e.value.width+"px"}),onMousedown:p[1]||(p[1]=ze($=>c($,"bottom"),["stop"]))},null,38),[[$e,F(g).scale>.5]]),Ce(X("div",{class:"m-auto text-sm text-yellow-900"},Ge(l.value.marginBottom||"auto"),513),[[$e,b.value]])],6),X("div",{class:Te(["margin-handler pointer-events-none absolute left-0 flex h-full",{"bg-transparent":!F(h).isSelected,"bg-yellow-200":F(h).isSelected}]),style:Pe({width:a.value+"px",left:`calc(0% - ${a.value}px)`}),ref:"leftMarginHandler"},[Ce(X("div",{class:Te(["pointer-events-auto absolute top-[50%] rounded-full border-2 border-yellow-800 bg-yellow-400 hover:scale-125",{"cursor-ew-resize":!A.disableHandlers,hidden:b.value}]),style:Pe({borderWidth:n.value,right:r.value.right,top:r.value.top,height:r.value.height+"px",width:r.value.width+"px"}),onMousedown:p[2]||(p[2]=ze($=>c($,"left"),["stop"]))},null,38),[[$e,F(g).scale>.5]]),Ce(X("div",{class:"m-auto text-sm text-yellow-900"},Ge(l.value.marginLeft||"auto"),513),[[$e,b.value]])],6),X("div",{class:Te(["margin-handler pointer-events-none absolute right-0 flex h-full",{"bg-transparent":!F(h).isSelected,"bg-yellow-200":F(h).isSelected}]),style:Pe({width:t.value+"px",right:`calc(0% - ${t.value}px)`}),ref:"rightMarginHandler"},[Ce(X("div",{class:Te(["pointer-events-auto absolute top-[50%] rounded-full border-2 border-yellow-800 bg-yellow-400 hover:scale-125",{"cursor-ew-resize":!A.disableHandlers,hidden:b.value}]),style:Pe({borderWidth:n.value,right:s.value.right,top:s.value.top,height:s.value.height+"px",width:s.value.width+"px"}),onMousedown:p[3]||(p[3]=ze($=>c($,"right"),["stop"]))},null,38),[[$e,F(g).scale>.5]]),Ce(X("div",{class:"m-auto text-sm text-yellow-900"},Ge(l.value.marginRight||"auto"),513),[[$e,b.value]])],6)],2))}}),ul=Ve({__name:"PaddingHandler",props:{targetBlock:{type:Wt,required:!0},disableHandlers:{type:Boolean,default:!1},onUpdate:{type:Function,default:null},breakpoint:{type:String,default:"desktop"},target:{type:[HTMLElement,SVGElement],required:!0}},emits:["update"],setup(A,{emit:x}){const d=A,h=Qt("canvasProps"),b=d.targetBlock,g=le(!1);_t(()=>{x("update",g.value)});const l=ve(()=>{let p=d.targetBlock.baseStyles;return d.breakpoint==="mobile"?p=mt(mt({},p),d.targetBlock.mobileStyles):d.breakpoint==="tablet"&&(p=mt(mt({},p),d.targetBlock.tabletStyles)),p}),u=ve(()=>n("Top")),o=ve(()=>n("Bottom")),a=ve(()=>n("Left")),t=ve(()=>n("Right")),n=p=>(l.value.paddingRight,l.value.paddingTop,l.value.paddingBottom,l.value.paddingLeft,l.value.padding,nt(getComputedStyle(d.target)[`padding${p}`])*h.scale),i=ve(()=>`${Ke(1*h.scale,1,2)}px`),e=ve(()=>{const p=Ke(16*h.scale,8,32),$=Ke(4*h.scale,2,8);return{width:p,height:$,bottom:`clamp(-20px, calc(-6px * ${h.scale}), -8px)`,left:`calc(50% - ${p/2}px)`}}),r=ve(()=>{const p=Ke(16*h.scale,8,32),$=Ke(4*h.scale,2,8);return{width:p,height:$,top:`clamp(-20px, calc(-6px * ${h.scale}), -8px)`,left:`calc(50% - ${p/2}px)`}}),s=ve(()=>{const p=Ke(4*h.scale,2,8),$=Ke(16*h.scale,8,32);return{width:p,height:$,right:`clamp(-20px, calc(-6px * ${h.scale}), -8px)`,top:`calc(50% - ${$/2}px)`}}),c=ve(()=>{const p=Ke(4*h.scale,2,8),$=Ke(16*h.scale,8,32);return{width:p,height:$,left:`clamp(-20px, calc(-6px * ${h.scale}), -8px)`,top:`calc(50% - ${$/2}px)`}});le(!1);const f=(p,$)=>{if(d.disableHandlers)return;g.value=!0;const m=p.clientY,y=p.clientX,v=p.target,T=nt(l.value.paddingTop)||5,M=nt(l.value.paddingBottom)||5,E=nt(l.value.paddingLeft)||5,C=nt(l.value.paddingRight)||5,S=document.body.style.cursor;document.body.style.cursor=window.getComputedStyle(v).cursor;const I=k=>{let w=0,R=null;d.onUpdate&&d.onUpdate(),$==="top"?(w=Math.max(T+k.clientY-m,0),b.setStyle("paddingTop",w+"px"),R="y"):$==="bottom"?(w=Math.max(M+m-k.clientY,0),b.setStyle("paddingBottom",w+"px"),R="y"):$==="left"?(w=Math.max(E+k.clientX-y,0),b.setStyle("paddingLeft",w+"px"),R="x"):$==="right"&&(w=Math.max(C+y-k.clientX,0),b.setStyle("paddingRight",w+"px"),R="x"),k.altKey?R==="y"?(b.setStyle("paddingTop",w+"px"),b.setStyle("paddingBottom",w+"px")):R==="x"&&(b.setStyle("paddingLeft",w+"px"),b.setStyle("paddingRight",w+"px")):k.shiftKey&&(b.setStyle("paddingTop",w+"px"),b.setStyle("paddingBottom",w+"px"),b.setStyle("paddingLeft",w+"px"),b.setStyle("paddingRight",w+"px")),k.preventDefault(),k.stopPropagation()};document.addEventListener("mousemove",I),document.addEventListener("mouseup",k=>{document.body.style.cursor=S,document.removeEventListener("mousemove",I),g.value=!1,k.preventDefault()},{once:!0})};return(p,$)=>(q(),me("div",{class:Te(["group",{"opacity-40":!g.value,"opacity-70":g.value}]),onClick:$[4]||($[4]=ze(()=>{},["stop"]))},[X("div",{class:Te(["padding-handler pointer-events-none absolute flex w-full",{"bg-transparent":!F(b).isSelected(),"bg-purple-400":F(b).isSelected()}]),style:Pe({height:u.value+"px"}),ref:"topPaddingHandler"},[Ce(X("div",{class:Te(["pointer-events-auto absolute left-[50%] rounded-full border-2 border-purple-500 bg-purple-400 hover:scale-125",{"cursor-ns-resize":!A.disableHandlers,hidden:g.value}]),style:Pe({borderWidth:i.value,bottom:e.value.bottom,left:e.value.left,height:e.value.height+"px",width:e.value.width+"px"}),onMousedown:$[0]||($[0]=ze(m=>f(m,"top"),["stop"]))},null,38),[[$e,F(h).scale>.5]]),Ce(X("div",{class:"m-auto text-sm text-purple-900"},Ge(l.value.paddingTop),513),[[$e,g.value]])],6),X("div",{class:Te(["padding-handler pointer-events-none absolute bottom-0 flex w-full",{"bg-transparent":!F(b).isSelected(),"bg-purple-400":F(b).isSelected()}]),style:Pe({height:o.value+"px"}),ref:"bottomPaddingHandler"},[Ce(X("div",{class:Te(["pointer-events-auto absolute left-[50%] rounded-full border-2 border-purple-500 bg-purple-400 hover:scale-125",{"cursor-ns-resize":!A.disableHandlers,hidden:g.value}]),style:Pe({borderWidth:i.value,top:r.value.top,left:r.value.left,height:r.value.height+"px",width:r.value.width+"px"}),onMousedown:$[1]||($[1]=ze(m=>f(m,"bottom"),["stop"]))},null,38),[[$e,F(h).scale>.5]]),Ce(X("div",{class:"m-auto text-sm text-purple-900"},Ge(l.value.paddingBottom),513),[[$e,g.value]])],6),X("div",{class:Te(["padding-handler pointer-events-none absolute left-0 flex h-full",{"bg-transparent":!F(b).isSelected(),"bg-purple-400":F(b).isSelected()}]),style:Pe({width:a.value+"px"}),ref:"leftPaddingHandler"},[Ce(X("div",{class:Te(["pointer-events-auto absolute top-[50%] rounded-full border-2 border-purple-500 bg-purple-400 hover:scale-125",{"cursor-ew-resize":!A.disableHandlers,hidden:g.value}]),style:Pe({borderWidth:i.value,right:s.value.right,top:s.value.top,height:s.value.height+"px",width:s.value.width+"px"}),onMousedown:$[2]||($[2]=ze(m=>f(m,"left"),["stop"]))},null,38),[[$e,F(h).scale>.5]]),Ce(X("div",{class:"m-auto text-sm text-purple-900"},Ge(l.value.paddingLeft),513),[[$e,g.value]])],6),X("div",{class:Te(["padding-handler pointer-events-none absolute right-0 flex h-full",{"bg-transparent":!F(b).isSelected(),"bg-purple-400":F(b).isSelected()}]),style:Pe({width:t.value+"px"}),ref:"rightPaddingHandler"},[Ce(X("div",{class:Te(["pointer-events-auto absolute top-[50%] rounded-full border-2 border-purple-500 bg-purple-400 hover:scale-125",{"cursor-ew-resize":!A.disableHandlers,hidden:g.value}]),style:Pe({borderWidth:i.value,left:c.value.left,top:c.value.top,height:c.value.height+"px",width:c.value.width+"px"}),onMousedown:$[3]||($[3]=ze(m=>f(m,"right"),["stop"]))},null,38),[[$e,F(h).scale>.5]]),Ce(X("div",{class:"m-auto text-sm text-purple-900"},Ge(l.value.paddingRight),513),[[$e,g.value]])],6)],2))}}),dl=["onClick","onMousedown","onDrop","onContextmenu","data-block-id"],hl=Ve({__name:"BlockEditor",props:{block:{type:Wt,required:!0},breakpoint:{type:String,default:"desktop"},target:{type:[HTMLElement,SVGElement],required:!0},editable:{type:Boolean,default:!1}},setup(A,{expose:x}){const d=A,h=le(!1),b=Qt("canvasProps"),g=ve(()=>!d.block.isRoot()&&!d.editable&&e.value&&!W.multipleBlocksSelected()&&!d.block.isSVG()&&!d.block.isHTML()),l=rt(),u=le(null),o=le(()=>{}),a=le(!1),t=mr(d.target,b),n=le(!1),i=le(!1);_t(()=>{d.block.getStyle("top"),d.block.getStyle("left"),d.block.getStyle("bottom"),d.block.getStyle("right"),d.block.getStyle("position");const m=d.block.getParentBlock();m==null||m.getStyle("display"),m==null||m.getStyle("justifyContent"),m==null||m.getStyle("alignItems"),m==null||m.getStyle("flexDirection"),l.builderLayout.leftPanelWidth,l.builderLayout.rightPanelWidth,l.showRightPanel,l.showLeftPanel,l.activeBreakpoint,l.deviceBreakpoints.map(y=>y.visible),dt(()=>{o.value()})});const e=ve(()=>d.block.isSelected()&&d.breakpoint===l.activeBreakpoint),r=ve(()=>{const m=[];return s.value&&!d.block.isRoot()&&m.push("cursor-grab"),Boolean(d.block.extendedFromComponent)?m.push("ring-purple-400"):m.push("ring-blue-400"),d.block.isSelected()&&d.breakpoint===l.activeBreakpoint&&!d.editable&&!d.block.isRoot()&&!d.block.isRepeater()&&(m.push("pointer-events-auto"),m.push("!z-[19]")),m});Ct(l.builderState.blocks,()=>{dt(()=>{o.value()})});const s=ve(()=>d.block.getStyle("position")==="absolute");Bt(()=>{o.value=Xa(d.target,u.value,b)});const c=m=>{if(d.editable)return;if(i.value){i.value=!1;return}u.value.classList.add("pointer-events-none");let v=document.elementFromPoint(m.x,m.y);v.classList.contains("editor")&&(v.classList.remove("pointer-events-auto"),v.classList.add("pointer-events-none"),v=document.elementFromPoint(m.x,m.y)),v.classList.contains("__builder_component__")&&v.dispatchEvent(new MouseEvent("click",m))},f=m=>{if(d.editable)return;const y=new DragEvent("drop",m);d.target.dispatchEvent(y)},p=()=>{d.editable||(d.block.isText()||d.block.isButton()||d.block.isLink())&&(l.builderState.editableBlock=d.block)},$=m=>{if(l.mode==="text"&&(l.builderState.editableBlock=d.block),!s.value||d.block.isRoot())return;const y=m.target,v=m.clientX,T=m.clientY,M=d.target.offsetLeft,E=d.target.offsetTop;n.value=!0,t.showX();const C=document.body.style.cursor;document.body.style.cursor=window.getComputedStyle(y).cursor;const S=document.getElementById(l.activeBreakpoint);function I(L){const O=document.querySelectorAll(`[data-block-id="${L}"]`);O[0].appendChild(O[1].cloneNode(!0)),["!block","!grid","!place-items-center","!w-full","!h-full","!bg-white","!shadow-sm","!static","!text-lg"].forEach(B=>{O[0].lastElementChild.classList.add(B)})}function k(L){const O=document.querySelectorAll(`[data-block-id="${L}"]`);O[0].removeChild(O[0].lastElementChild),console.log(O)}function w(L,O){const{left:P,top:B,bottom:H,right:V}=S.getBoundingClientRect(),U=L-P,_=L-V,z=O-B,K=O-H;if(U<0||_>0||z<0||K>0){if(h.value)return;h.value=!0,I(d.block.blockId)}else h.value&&(k(d.block.blockId),h.value=!1)}const R=L=>kt(this,null,function*(){const O=b.scale,P=(L.clientX-v)/O,B=(L.clientY-T)/O;let H=M+P;d.block.setStyle("left",Tt(H)),d.block.setStyle("top",Tt(E+B)),yield dt();const{leftOffset:V,rightOffset:U}=t.getPositionOffset();w(L.clientX,L.clientY),V!==0&&d.block.setStyle("left",Tt(H+V)),U!==0&&d.block.setStyle("left",Tt(H+U)),L.preventDefault(),i.value=!0});document.addEventListener("mousemove",R),document.addEventListener("mouseup",L=>{n.value=!1,document.body.style.cursor=C,document.removeEventListener("mousemove",R),L.preventDefault(),t.hideX()},{once:!0})};return x({element:u}),(m,y)=>(q(),ge(yr,{block:A.block,editable:A.editable},{default:Re(({onContextMenu:v})=>[X("div",{class:Te(["editor pointer-events-none fixed z-[18] box-content select-none ring-2 ring-inset",r.value]),ref_key:"editor",ref:u,onClick:ze(c,["stop"]),onDblclick:p,onMousedown:ze($,["prevent"]),onDrop:ze(f,["prevent","stop"]),onContextmenu:v,"data-block-id":A.block.blockId},[e.value&&!a.value&&!A.editable&&!F(W).multipleBlocksSelected()?(q(),ge(ul,{key:0,"target-block":A.block,target:A.target,"on-update":o.value,"disable-handlers":!1,breakpoint:A.breakpoint},null,8,["target-block","target","on-update","breakpoint"])):fe("",!0),e.value&&!A.block.isRoot()&&!a.value&&!A.editable&&!F(W).multipleBlocksSelected()?(q(),ge(cl,{key:1,"target-block":A.block,target:A.target,"on-update":o.value,"disable-handlers":!1,breakpoint:A.breakpoint},null,8,["target-block","target","on-update","breakpoint"])):fe("",!0),e.value&&!A.block.isRoot()&&!A.block.isText()&&!A.block.isHTML()&&!A.block.isSVG()&&!A.editable&&!F(W).multipleBlocksSelected()?(q(),ge(el,{key:2,"target-block":A.block,target:A.target},null,8,["target-block","target"])):fe("",!0),g.value?(q(),ge(ll,{key:3,targetBlock:A.block,onResizing:y[0]||(y[0]=T=>a.value=T),target:A.target},null,8,["targetBlock","target"])):fe("",!0)],42,dl)]),_:1},8,["block","editable"]))}}),fl=["innerHTML"],pl=Ve({__name:"BlockHTML",props:{block:{type:Wt,required:!0}},setup(A,{expose:x}){const d=le(null);return x({component:d}),(h,b)=>(q(),me("div",{innerHTML:A.block.getInnerHTML(),ref_key:"component",ref:d},null,8,fl))}}),gl={key:0,class:"pointer-events-none flex h-52 w-52 items-center justify-center font-semibold"},vl=Ve({__name:"DataLoaderBlock",props:{block:{type:Wt,required:!0},preview:{type:Boolean,default:!1},breakpoint:{type:String,default:"desktop"},data:{type:Object,default:null}},setup(A,{expose:x}){const d=A,h=rt(),b=le(null),g=ve(()=>{const l=d.data||h.pageData;return l&&d.block.getDataKey("key")?l[d.block.getDataKey("key")]:[{}]});return x({component:b}),(l,u)=>(q(),me("div",{ref_key:"component",ref:b},[A.block.hasChildren()?(q(!0),me(st,{key:1},pt(g.value,(o,a)=>(q(),ge(Ai,{data:o,block:A.block.children[0],preview:a!==0||A.preview,breakpoint:A.breakpoint,isChildOfComponent:A.block.isExtendedFromComponent()},null,8,["data","block","preview","breakpoint","isChildOfComponent"]))),256)):(q(),me("div",gl," Drop A Component "))],512))}}),ml=Ys.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:A=>{var x;return(x=A.style.fontFamily)===null||x===void 0?void 0:x.replace(/['"]+/g,"")},renderHTML:A=>A.fontFamily?{style:`font-family: ${A.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:A=>({chain:x})=>x().setMark("textStyle",{fontFamily:A}).run(),unsetFontFamily:()=>({chain:A})=>A().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}});function yl(A){return new Si({key:new xi("autolink"),appendTransaction:(x,d,h)=>{const b=x.some(a=>a.docChanged)&&!d.doc.eq(h.doc),g=x.some(a=>a.getMeta("preventAutolink"));if(!b||g)return;const{tr:l}=h,u=qs(d.doc,[...x]);if(ea(u).forEach(({newRange:a})=>{const t=ta(h.doc,a,e=>e.isTextblock);let n,i;if(t.length>1?(n=t[0],i=h.doc.textBetween(n.pos,n.pos+n.node.nodeSize,void 0," ")):t.length&&h.doc.textBetween(a.from,a.to," "," ").endsWith(" ")&&(n=t[0],i=h.doc.textBetween(n.pos,a.to,void 0," ")),n&&i){const e=i.split(" ").filter(c=>c!=="");if(e.length<=0)return!1;const r=e[e.length-1],s=n.pos+i.lastIndexOf(r);if(!r)return!1;wi(r).filter(c=>c.isLink).map(c=>qn(mt({},c),{from:s+c.start+1,to:s+c.end+1})).filter(c=>h.schema.marks.code?!h.doc.rangeHasMark(c.from,c.to,h.schema.marks.code):!0).filter(c=>A.validate?A.validate(c.value):!0).forEach(c=>{na(c.from,c.to,h.doc).some(f=>f.mark.type===A.type)||l.addMark(c.from,c.to,A.type.create({href:c.href}))})}}),!!l.steps.length)return l}})}function bl(A){return new Si({key:new xi("handleClickLink"),props:{handleClick:(x,d,h)=>{var b,g;if(h.button!==0||h.target.nodeName!=="A")return!1;const u=ia(x.state,A.type.name),o=h.target,a=(b=o==null?void 0:o.href)!==null&&b!==void 0?b:u.href,t=(g=o==null?void 0:o.target)!==null&&g!==void 0?g:u.target;return o&&a?(x.editable&&window.open(a,t),!0):!1}}})}function wl(A){return new Si({key:new xi("handlePasteLink"),props:{handlePaste:(x,d,h)=>{var b;const{state:g}=x,{selection:l}=g,{empty:u}=l;if(u)return!1;let o="";h.content.forEach(r=>{o+=r.textContent});const a=wi(o).find(r=>r.isLink&&r.value===o);if(!o||!a)return!1;const t=(b=d.clipboardData)===null||b===void 0?void 0:b.getData("text/html"),n=/href="([^"]*)"/,i=t==null?void 0:t.match(n),e=i?i[1]:a.href;return A.editor.commands.setMark(A.type,{href:e}),!0}}})}const Sl=Xs.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(A=>{if(typeof A=="string"){Oi(A);return}Oi(A.scheme,A.optionalSlashes)})},onDestroy(){Zs()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:A}){return["a",Qs(this.options.HTMLAttributes,A),0]},addCommands(){return{setLink:A=>({chain:x})=>x().setMark(this.name,A).setMeta("preventAutolink",!0).run(),toggleLink:A=>({chain:x})=>x().toggleMark(this.name,A,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:A})=>A().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Js({find:A=>wi(A).filter(x=>this.options.validate?this.options.validate(x.value):!0).filter(x=>x.isLink).map(x=>({text:x.value,index:x.start,data:x})),type:this.type,getAttributes:(A,x)=>{var d,h;const b=(d=x==null?void 0:x.clipboardData)===null||d===void 0?void 0:d.getData("text/html"),g=/href="([^"]*)"/,l=b==null?void 0:b.match(g);return l?{href:l[1]}:{href:(h=A.data)===null||h===void 0?void 0:h.href}}})]},addProseMirrorPlugins(){const A=[];return this.options.autolink&&A.push(yl({type:this.type,validate:this.options.validate})),this.options.openOnClick&&A.push(bl({type:this.type})),this.options.linkOnPaste&&A.push(wl({editor:this.editor,type:this.type})),A}}),xl=["innerHTML"],Cl={key:0,class:"flex"},$l={class:"flex gap-1"},kl=X("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 256 256"},[X("path",{fill:"currentColor",d:"M224 128a8 8 0 0 1-8 8h-40.07c9.19 7.11 16.07 17.2 16.07 32c0 13.34-7 25.7-19.75 34.79C160.33 211.31 144.61 216 128 216s-32.33-4.69-44.25-13.21C71 193.7 64 181.34 64 168a8 8 0 0 1 16 0c0 17.35 22 32 48 32s48-14.65 48-32c0-14.85-10.54-23.58-38.77-32H40a8 8 0 0 1 0-16h176a8 8 0 0 1 8 8ZM76.33 104a8 8 0 0 0 7.61-10.49a17.3 17.3 0 0 1-.83-5.51c0-18.24 19.3-32 44.89-32c18.84 0 34.16 7.42 41 19.85a8 8 0 0 0 14-7.7C173.33 50.52 152.77 40 128 40c-34.71 0-60.89 20.63-60.89 48a33.73 33.73 0 0 0 1.62 10.49a8 8 0 0 0 7.6 5.51Z"})],-1),Al=[kl],El=Ve({__name:"TextBlock",props:{block:{type:Wt,required:!0},preview:{type:Boolean,default:!1},data:{type:Object,default:()=>({})}},setup(A,{expose:x}){const d=A,h=document.querySelector("#overlay"),b=rt(),g=le(null),l=Qt("canvasProps"),u=le(!1),o=le(""),a=le(null),t=p=>{var $,m;!p&&!o.value?($=i.value)==null||$.chain().focus().unsetLink().run():((m=i.value)==null||m.chain().focus().setLink({href:p||o.value}).run(),o.value=""),u.value=!1},n=ve(()=>{let p=d.block.getInnerHTML();return d.data&&d.block.getDataKey("property")==="innerHTML"&&(p=fr(d.data,d.block.getDataKey("key"))||p),p});let i=le(null);const e=ve(()=>b.builderState.editableBlock===d.block),r=ve(()=>n.value&&!(d.block.isLink()&&d.block.hasChildren())),s=p=>{e.value&&p.stopPropagation()};Ct(()=>e.value,p=>{var $,m;($=i.value)==null||$.setEditable(p),p?(b.history.pause(),(m=i.value)==null||m.commands.focus("all")):b.history.resume()},{immediate:!0}),Ct(()=>n.value,(p,$)=>{var y,v;p!==((y=i.value)==null?void 0:y.getHTML())&&((v=i.value)==null||v.commands.setContent(p||"",!1))}),d.preview||(Ct(()=>d.block.isSelected(),()=>{var p,$;d.block.isSelected()&&!W.multipleBlocksSelected()?(i.value=new ra({content:n.value,extensions:[oa,sa,aa,ml,Sl.configure({openOnClick:!1})],onUpdate({editor:m}){const y=m.isEmpty?"":m.getHTML();d.block.getInnerHTML()!==y&&d.block.setInnerHTML(y)},onSelectionUpdate:({editor:m})=>{u.value=!1,o.value=""},autofocus:!1,injectCSS:!1}),d.block.getEditor=()=>i.value||null,(p=i.value)==null||p.setEditable(e.value)):(($=i.value)==null||$.destroy(),i.value=null)},{immediate:!0}),rr(()=>{var p;(p=i.value)==null||p.destroy()})),ir(()=>{let p=d.block.getInnerHTML()||"";Ka(p)}),x({component:g});const c=p=>{p.key==="k"&&p.metaKey&&f()},f=()=>{u.value=!0,dt(()=>{a.value&&document.querySelector(".link-input").focus()})};return(p,$)=>{const m=it("FeatherIcon"),y=it("Button");return q(),ge(An(A.block.getTag()),{ref_key:"component",ref:g,onClick:$[6]||($[6]=ze(()=>{},["stop"])),onDblclick:$[7]||($[7]=ze(()=>{},["stop"])),key:F(i)},{default:Re(()=>[Ce(X("div",{innerHTML:n.value,onClick:s},null,8,xl),[[$e,!F(i)&&n.value]]),F(i)?(q(),ge(F(la),{key:0,ref:"menu",editor:F(i),"tippy-options":{appendTo:F(h),onCreate:v=>{Ct(()=>F(l),()=>{F(l).panning||F(l).scaling?v.hide():v.show()},{deep:!0})}},class:"z-50 rounded-md border border-gray-300 bg-white p-1 text-lg"},{default:Re(()=>[u.value?(q(),me("div",Cl,[re(F(ca),{modelValue:o.value,"onUpdate:modelValue":$[0]||($[0]=v=>o.value=v),placeholder:"https://example.com",class:"link-input w-56 text-sm",onKeydown:$[1]||($[1]=bi(()=>{var v;!a.value||t((v=a.value)==null?void 0:v.getInputValue())},["enter"])),ref_key:"linkInput",ref:a},null,8,["modelValue"]),re(y,{onClick:t,class:"ml-1"},{default:Re(()=>[re(m,{class:"h-3 w-3",name:"check"})]),_:1})])):fe("",!0),Ce(X("div",$l,[X("button",{onClick:$[2]||($[2]=v=>F(i).chain().focus().toggleBold().run()),class:Te(["rounded px-2 py-1 hover:bg-gray-100",{"bg-gray-200":F(i).isActive("bold")}])},[re(m,{class:"h-3 w-3",name:"bold"})],2),X("button",{onClick:$[3]||($[3]=v=>F(i).chain().focus().toggleItalic().run()),class:Te(["rounded px-2 py-1 hover:bg-gray-100",{"bg-gray-200":F(i).isActive("italic")}])},[re(m,{class:"h-3 w-3",name:"italic"})],2),X("button",{onClick:$[4]||($[4]=v=>F(i).chain().focus().toggleStrike().run()),class:Te(["rounded px-2 py-1 hover:bg-gray-100",{"bg-gray-200":F(i).isActive("strike")}])},Al,2),X("button",{onClick:$[5]||($[5]=()=>{!F(i)||(F(i).isActive("link")?F(i).chain().focus().unsetLink().run():f())}),class:Te(["rounded px-2 py-1 hover:bg-gray-100",{"bg-gray-200":F(i).isActive("link")}])},[re(m,{class:"h-3 w-3",name:"link"})],2)],512),[[$e,!u.value]])]),_:1},8,["editor","tippy-options"])):fe("",!0),F(i)&&r.value?(q(),ge(F(ua),{key:1,onClick:s,editor:F(i),class:"relative z-50",onKeydown:c},null,8,["editor"])):fe("",!0),hn(p.$slots,"default")]),_:3},32)}}}),Ai=Ve({__name:"BuilderBlock",props:{block:{type:Wt,required:!0},isChildOfComponent:{type:Boolean,default:!1},breakpoint:{type:String,default:"desktop"},preview:{type:Boolean,default:!1},data:{type:Object,default:null}},emits:["mounted"],setup(A,{emit:x}){const d=A,h=le(null),b=lr(),g=rt(),l=le(null),u=()=>{g.newBlockSection(d.block)},o=ve(()=>!d.block.isRoot()&&!d.preview&&!1),a=v=>v.isRepeater()?vl:v.isText()||v.isLink()||v.isButton()?El:v.isHTML()?pl:v.getTag(),t=ve(()=>[b.class,"__builder_component__","outline-none","select-none",...d.block.getClasses()]),n=ve(()=>{const v=mt(mt({},d.block.getAttributes()),b);return(d.block.isText()||d.block.isHTML()||d.block.isLink()||d.block.isButton()||d.block.isRepeater())&&(v.block=d.block,v.preview=d.preview,v.breakpoint=d.breakpoint),v.data=d.data,d.data&&d.block.getDataKey("type")==="attribute"&&(v[d.block.getDataKey("property")]=fr(d.data,d.block.getDataKey("key"))||v[d.block.getDataKey("property")]),v}),i=d.preview?null:Qt("canvasProps"),e=ve(()=>h.value?h.value instanceof HTMLElement||h.value instanceof SVGElement?h.value:h.value.component:null),r=ve(()=>mt(mt({},d.block.getStyles(d.breakpoint)),d.block.getEditorStyles())),s=ve(()=>!(i!=null&&i.scaling)&&!(i!=null&&i.panning)&&e.value&&d.block.getStyle("display")!=="none"&&(d.block.isSelected()&&d.breakpoint===g.activeBreakpoint||d.block.isHovered()&&g.hoveredBreakpoint===d.breakpoint));_t(()=>{ki(d.block.getStyle("fontFamily"))}),Bt(()=>kt(this,null,function*(){yield dt(),x("mounted",e.value),o.value&&Ya(d.block,h.value,zt({ghostScale:(i==null?void 0:i.scale)||1}))}));const c=ve(()=>g.builderState.editableBlock===d.block&&g.activeBreakpoint===d.breakpoint),f=v=>{g.builderState.editableBlock===d.block||g.mode!=="select"||d.preview||(g.selectBlock(d.block,v),g.activeBreakpoint=d.breakpoint,d.preview||(g.leftPanelActiveTab="layers",g.rightPanelActiveTab="Properties"))},p=v=>{d.block.isRoot()||c.value||(v.stopPropagation(),v.preventDefault(),f(v),dt(()=>{var T;(T=l.value)==null||T.element.dispatchEvent(new MouseEvent("contextmenu",v))}))},$=v=>{c.value||(f(v),v.stopPropagation(),v.preventDefault())},m=v=>{if(c.value)return;g.builderState.editableBlock=null,(d.block.isText()||d.block.isLink()||d.block.isButton())&&(g.builderState.editableBlock=d.block,v.stopPropagation());let T=d.block.getChildren();if(d.block.isContainer())if(T.length)T.length===1&&T[0].isText()&&(T[0].makeBlockEditable(),v.stopPropagation());else{const M=Qn("text");d.block.setBaseStyle("alignItems","center"),d.block.setBaseStyle("justifyContent","center"),d.block.addChild(M).makeBlockEditable(),v.stopPropagation()}},y=v=>{g.hoveredBlock===d.block.blockId&&(g.hoveredBlock=null,v.stopPropagation())};return(v,T)=>{var C;const M=it("BuilderBlock",!0),E=it("Button");return q(),me(st,null,[(q(),ge(An(a(A.block)),nr({class:["relative",t.value],onClick:$,onDblclick:m,onContextmenu:T[0]||(T[0]=S=>p(S)),onMouseleave:y,"data-block-id":A.block.blockId,draggable:o.value},n.value,{style:r.value,ref_key:"component",ref:h}),{default:Re(()=>{var S;return[(q(!0),me(st,null,pt(A.block.getChildren(),I=>(q(),ge(M,{data:A.data,block:I,breakpoint:A.breakpoint,preview:A.preview,isChildOfComponent:A.block.isExtendedFromComponent()||A.isChildOfComponent,key:I.blockId},null,8,["data","block","breakpoint","preview","isChildOfComponent"]))),128)),A.block.getTag()==="section"&&((S=A.block.getParentBlock())==null?void 0:S.isRoot())==!0?(q(),ge(E,{key:0,onClick:u,class:"absolute bottom-0 z-[99999999] left-1/2 origin-center -translate-x-1/2 translate-y-1/2"},{default:Re(()=>[Nt("Add Section")]),_:1})):fe("",!0)]}),_:1},16,["data-block-id","draggable","class","style"])),((C=F(i))==null?void 0:C.overlayElement)&&!A.preview&&F(i)?(q(),ge(er,{key:0,to:"#overlay"},[s.value?(q(),ge(hl,{key:0,ref_key:"editor",ref:l,block:A.block,breakpoint:A.breakpoint,editable:c.value,target:e.value},null,8,["block","breakpoint","editable","target"])):fe("",!0)])):fe("",!0)],64)}}}),Ll={key:0,class:"pointer-events-none absolute bottom-0 left-0 right-0 top-0 z-30 bg-cyan-300 opacity-20"},Tl=["id"],Ml={id:"moovable",class:"absolute hover:cursor-grab left-0 right-0 top-[-60px] w-full flex justify-between items-center rounded-md bg-[#E6E6E6] px-[10px] py-[8px]"},Rl={class:"flex flex-row gap-[10px] items-center"},Il=["onClick"],Ol={class:"text-[#949494] text-[14px] font-[600] leading-[19.5px]"},Dl={class:"w-auto flex flex-row gap-[10px] items-center"},Pl=X("div",{class:"text-[#A9A9A9] text-right font-[600] leading-[19.5px]"},"Breakpoint",-1),Bl=["onClick"],Fl={class:"fixed bottom-12 left-[50%] z-40 flex translate-x-[-50%] items-center justify-center gap-2 rounded-lg bg-white px-3 py-2 text-center text-sm font-semibold text-gray-600 shadow-md dark:bg-zinc-900 dark:text-zinc-400"},Nl=X("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24"},[X("path",{fill:"currentColor",d:"M20 9V6h-3V4h3q.825 0 1.413.588T22 6v3h-2ZM2 9V6q0-.825.588-1.413T4 4h3v2H4v3H2Zm15 11v-2h3v-3h2v3q0 .825-.588 1.413T20 20h-3ZM4 20q-.825 0-1.413-.588T2 18v-3h2v3h3v2H4Zm12-4H8q-.825 0-1.413-.588T6 14v-4q0-.825.588-1.413T8 8h8q.825 0 1.413.588T18 10v4q0 .825-.588 1.413T16 16Zm-8-2h8v-4H8v4Zm0 0v-4v4Z"})],-1),Hl=[Nl],Wi=Ve({__name:"BuilderCanvas",props:{block:{type:Wt,default:!1},canvasProps:{type:Object,default:()=>({})},canvasStyles:{type:Object,default:()=>({})}},setup(A,{expose:x}){const d=A,h=rt(),b=le(null),g=le(null),l=le(!1),u=le(null),o=window.location.pathname,a=o.substring(o.lastIndexOf("/")+1),t=le(0),n=le(!1),i=[{idx:le(0),id:le("desktop"),div:le(null),initialX:le(0),initialY:le(0),offsetX:le(0),offsetY:le(0),ofsetFinalX:le(0),ofsetFinalY:le(0)},{idx:le(1),id:le("tablet"),div:le(null),initialX:le(0),initialY:le(0),offsetX:le(0),offsetY:le(0),ofsetFinalX:le(0),ofsetFinalY:le(0)},{idx:le(2),id:le("mobile"),div:le(null),initialX:le(0),initialY:le(0),offsetX:le(0),offsetY:le(0),ofsetFinalX:le(0),ofsetFinalY:le(0)}],e=()=>{h.deviceBreakpoints.forEach(L=>{L.visible=!0})},r=L=>{let O=L;for(;typeof i.find(P=>P.id.value===O.id)=="undefined";){if(O.parentElement===null)return null;O=O.parentElement}return O},s=({x:L,y:O,element:P})=>{const B=JSON.parse($.value[0].canvas_position);B.find((V,U)=>V.element===P?(B[U]={x:L,y:O,element:P},!0):!1)||B.push({x:L,y:O,element:P}),Mt.setValue.submit({name:a,canvas_position:JSON.stringify(B)})},c=L=>{if(L.button!==0)return;const O=L.target;if(O.id!=="moovable")return;const P=r(O);if(P===null)return;n.value=!0;const B=i.find(H=>H.id.value===P.id);B.initialX.value=L.screenX,B.initialY.value=L.screenY,B.div.value=P,i[B.idx.value]=B,t.value=B.idx.value};Bt(()=>{g&&g.value.addEventListener("mousedown",c)});const f=()=>{!n.value||(i[t.value].ofsetFinalX.value=i[t.value].offsetX.value,i[t.value].ofsetFinalY.value=i[t.value].offsetY.value,s({x:i[t.value].ofsetFinalX.value,y:i[t.value].ofsetFinalY.value,element:i[t.value].id.value}),n.value=!1)},p=L=>{!n.value||(i[t.value].offsetX.value=i[t.value].ofsetFinalX.value+(L.screenX-i[t.value].initialX.value)*1.75,i[t.value].offsetY.value=i[t.value].ofsetFinalY.value+(L.screenY-i[t.value].initialY.value)*1.75,i[t.value].div.value.style.transform=`translate(${i[t.value].offsetX.value}px, ${i[t.value].offsetY.value}px)`)};document.addEventListener("mousemove",L=>p(L)),document.addEventListener("mouseup",f);const $=ve(()=>(Mt.data||[]).filter(L=>a===L.name?(JSON.parse(L.canvas_position).forEach(P=>{const B=i.find(H=>H.id.value===P.element);B.ofsetFinalX.value=P.x,B.ofsetFinalY.value=P.y,i[B.idx.value]=B}),!0):!1));sr("canvasProps",d.canvasProps),Bt(()=>{d.canvasProps.overlayElement=u.value,v()});const{isOverDropZone:m}=da(b,{onDrop:(L,O)=>{var V;let P=document.elementFromPoint(O.x,O.y),B=d.block;P&&P.dataset.blockId&&(B=h.findBlock(P.dataset.blockId)||B);let H=(V=O.dataTransfer)==null?void 0:V.getData("componentName");if(H){const U=h.getBlockCopy(Un.getRow(H).block,!0);for(U.extendFromComponent(H);B&&(B.isImage()||B.isSVG());)B=B.getParentBlock();if(!B)return;B.addChild(U),O.stopPropagation()}else L&&L.length&&h.uploadFile(L[0]).then(U=>{!B||(B.isImage()?(B.setAttribute("src",U.fileURL),B.setAttribute("alt",U.fileName)):B.isContainer()&&O.shiftKey?B.setStyle("background",`url(${U.fileURL})`):B.addChild(h.getImageBlock(U.fileURL,U.fileName)))})}}),y=ve(()=>h.deviceBreakpoints.filter(L=>L.visible||L.device==="desktop"));function v(){const L=document.body.querySelector(".canvas-container");bt(L,"mousedown",O=>{const P=O.clientX,B=O.clientY;if(h.mode!=="select"){h.history.pause(),O.stopPropagation();let H=document.elementFromPoint(O.x,O.y),V=h.getFirstBlock();H&&H.dataset.blockId&&(V=h.findBlock(H.dataset.blockId)||V);let U=h.getFirstBlock();if(H.dataset.blockId)for(U=h.findBlock(H.dataset.blockId)||U;U&&!U.canHaveChildren();)U=U.getParentBlock()||h.getFirstBlock();const _=Qn(h.mode),z=document.body.querySelector(`.canvas [data-block-id="${U.blockId}"]`),K=U.getStyle("position");U.setBaseStyle("position",K||"absolute");const J=z.getBoundingClientRect();let ee=(O.x-J.left)/d.canvasProps.scale,ie=(O.y-J.top)/d.canvasProps.scale;const se=nt(getComputedStyle(z).width),he=nt(getComputedStyle(z).height),pe=U.addChild(_);pe.setBaseStyle("position","absolute"),pe.setBaseStyle("top",Tt(ie)),pe.setBaseStyle("left",Tt(ee));const Me=Ie=>{if(!(h.mode==="text"||h.mode==="html")){Ie.preventDefault();let Ee=(Ie.clientX-P)/d.canvasProps.scale,Oe=(Ie.clientY-B)/d.canvasProps.scale;Ee=Ke(Ee,0,se),Oe=Ke(Oe,0,he),pe.setBaseStyle("width",Tt(Ee)),pe.setBaseStyle("height",Tt(Oe))}};bt(document,"mousemove",Me),bt(document,"mouseup",()=>{document.removeEventListener("mousemove",Me),pe.setBaseStyle("position","absolute"),(h.mode==="text"||h.mode==="html")&&h.history.resume(),nt(pe.getStyle("width"))<100&&pe.setBaseStyle("width","100%"),nt(pe.getStyle("height"))<100&&pe.setBaseStyle("height","200px"),setTimeout(()=>{h.mode="select"},50),h.history.resume()},{once:!0})}})}const T=zt(tn(b)),M=zt(tn(g)),E=()=>kt(this,null,function*(){document.readyState!=="complete"&&(yield new Promise(z=>{window.addEventListener("load",z)}));const L=300,O=400;yield dt(),M.update();const P=T.width,B=T.height,H=M.width/d.canvasProps.scale,V=M.height/d.canvasProps.scale;d.canvasProps.scale=Math.min(P/(H+L*2),B/(V+O*2)),d.canvasProps.translateX=0,d.canvasProps.translateY=0,yield dt();const U=d.canvasProps.scale;M.update();const _=T.top-M.top+O*U;_!==0&&(d.canvasProps.translateY=_/U),d.canvasProps.settingCanvas=!1});Bt(()=>{E();const L=b.value,O=g.value;Ha(d.canvasProps,O,L),l.value=!0}),x({setScaleAndTranslate:E,resetZoom:()=>{d.canvasProps.scale=1,d.canvasProps.translateX=0,d.canvasProps.translateY=0},moveCanvas:L=>{L==="up"?d.canvasProps.translateY-=20:L==="down"?d.canvasProps.translateY+=20:L==="right"?d.canvasProps.translateX+=20:L==="left"&&(d.canvasProps.translateX-=20)},zoomIn:()=>{d.canvasProps.scale+=.1},zoomOut:()=>{d.canvasProps.scale-=.1}}),_t(()=>{h.deviceBreakpoints.map(L=>L.visible),!d.canvasProps.settingCanvas&&E()}),_t(()=>{w(h.mode)});function w(L){if(!b.value)return;const O=b.value;L==="text"?O.style.cursor="text":["container","image","html"].includes(L)?O.style.cursor="crosshair":O.style.cursor="default"}const R=L=>{const O=document.elementFromPoint(L.clientX,L.clientY);O!=null&&O.classList.contains("canvas-container")&&h.clearSelection()};return yi(()=>{Mt.fetch()}),(L,O)=>(q(),me("div",{ref_key:"canvasContainer",ref:b,onClick:R},[X("div",{class:"overlay absolute",id:"overlay",ref_key:"overlay",ref:u},null,512),re(Wa),F(m)?(q(),me("div",Ll)):fe("",!0),X("div",{class:"fixed flex gap-40",ref_key:"canvas",ref:g,style:Pe({transform:`scale(${A.canvasProps.scale}) translate(${A.canvasProps.translateX}px, ${A.canvasProps.translateY}px)`})},[$.value.length>0?(q(!0),me(st,{key:0},pt(y.value,P=>{var B,H;return q(),me("div",{class:"canvas relative flex h-full rounded-md bg-white shadow-2xl",style:Pe(qn(mt({},A.canvasStyles),{background:A.canvasProps.background,width:`${P.width}px`,transform:`translate(${(B=i.find(V=>V.id.value==P.device))==null?void 0:B.ofsetFinalX.value}px, ${(H=i.find(V=>V.id.value==P.device))==null?void 0:H.ofsetFinalY.value}px)`})),id:P.device,key:P.device},[X("div",Ml,[X("div",Rl,[Ce(X("div",{class:"w-[25px] grid place-items-center h-[25px] bg-[#A9A9A9] rounded-sm",onClick:ze(V=>P.visible=!P.visible,["stop"])},[re(F(Nn),{name:P.icon,class:"h-[16px] w-[16px] text-white"},null,8,["name"])],8,Il),[[$e,!A.canvasProps.scaling&&!A.canvasProps.panning]]),X("div",Ol,Ge(P.displayName)+" "+Ge(P.width),1)]),X("div",Dl,[Pl,X("div",{class:"grid place-items-center w-[25px] h-[25px] bg-[#A9A9A9] rounded-sm hover:cursor-pointer",onClick:ze(()=>{P.device==="desktop"?e():P.visible=!P.visible},["stop"])},[Ce(re(F(Fa),{class:"w-[16px] h-[16px] text-white"},null,512),[[$e,P.device=="desktop"]]),Ce(re(F(Pa),{class:"w-[16px] h-[16px] text-white"},null,512),[[$e,P.device!="desktop"]])],8,Bl)])]),l.value?(q(),ge(Ai,{key:0,block:A.block,breakpoint:P.device,data:F(h).pageData},null,8,["block","breakpoint","data"])):fe("",!0)],12,Tl)}),128)):fe("",!0)],4),Ce(X("div",Fl,[Nt(Ge(Math.round(A.canvasProps.scale*100)+"%")+" ",1),X("div",{class:"ml-2 cursor-pointer",onClick:E},Hl)],512),[[$e,!A.canvasProps.panning]])],512))}});function br(A,x=!1){const d=A.indexOf("```");let h;if(d===-1)h=A;else{const l=A.lastIndexOf("```");h=A.substring(d+3,l)}const b=new DOMParser().parseFromString(h,"text/html"),{body:g}=b;return hi(g,x)}function hi(A,x=!1){const d=A.tagName.toLowerCase(),h={element:d};if(d==="body"){if(x)return hi(A.children[0]);h.originalElement="body",h.element="div"}if(A.style.length){h.styles={};for(let b=0;b<A.style.length;b++){const g=A.style[b];h.styles[g]=A.style.getPropertyValue(g)}}if(A.attributes.length){h.attributes={};for(let b=0;b<A.attributes.length;b++){const g=A.attributes[b];g.name!=="style"&&(h.attributes[g.name]=g.value)}}if(A.classList.length){h.classes=[];for(let b=0;b<A.classList.length;b++)h.classes.push(A.classList[b])}if(A.hasChildNodes()){h.children=[];const{childNodes:b}=A;for(let g=0;g<b.length;g++){const l=b[g];l.nodeType===Node.ELEMENT_NODE?h.children.push(hi(l)):l.nodeType===Node.TEXT_NODE&&(h.innerHTML=(l.textContent||"").trim())}}return h}window.convertHTMLToBlocks=br;var wr={exports:{}};const Wl=ur(Da);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function zi(A,x){var d=Object.keys(A);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(A);x&&(h=h.filter(function(b){return Object.getOwnPropertyDescriptor(A,b).enumerable})),d.push.apply(d,h)}return d}function Ht(A){for(var x=1;x<arguments.length;x++){var d=arguments[x]!=null?arguments[x]:{};x%2?zi(Object(d),!0).forEach(function(h){zl(A,h,d[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(d)):zi(Object(d)).forEach(function(h){Object.defineProperty(A,h,Object.getOwnPropertyDescriptor(d,h))})}return A}function Hn(A){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hn=function(x){return typeof x}:Hn=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Hn(A)}function zl(A,x,d){return x in A?Object.defineProperty(A,x,{value:d,enumerable:!0,configurable:!0,writable:!0}):A[x]=d,A}function Rt(){return Rt=Object.assign||function(A){for(var x=1;x<arguments.length;x++){var d=arguments[x];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(A[h]=d[h])}return A},Rt.apply(this,arguments)}function Vl(A,x){if(A==null)return{};var d={},h=Object.keys(A),b,g;for(g=0;g<h.length;g++)b=h[g],!(x.indexOf(b)>=0)&&(d[b]=A[b]);return d}function _l(A,x){if(A==null)return{};var d=Vl(A,x),h,b;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(A);for(b=0;b<g.length;b++)h=g[b],!(x.indexOf(h)>=0)&&(!Object.prototype.propertyIsEnumerable.call(A,h)||(d[h]=A[h]))}return d}function Ul(A){return jl(A)||Gl(A)||Kl(A)||Yl()}function jl(A){if(Array.isArray(A))return fi(A)}function Gl(A){if(typeof Symbol!="undefined"&&A[Symbol.iterator]!=null||A["@@iterator"]!=null)return Array.from(A)}function Kl(A,x){if(!!A){if(typeof A=="string")return fi(A,x);var d=Object.prototype.toString.call(A).slice(8,-1);if(d==="Object"&&A.constructor&&(d=A.constructor.name),d==="Map"||d==="Set")return Array.from(A);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return fi(A,x)}}function fi(A,x){(x==null||x>A.length)&&(x=A.length);for(var d=0,h=new Array(x);d<x;d++)h[d]=A[d];return h}function Yl(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Xl="1.14.0";function Vt(A){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(A)}var Ut=Vt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ln=Vt(/Edge/i),Vi=Vt(/firefox/i),Sn=Vt(/safari/i)&&!Vt(/chrome/i)&&!Vt(/android/i),Sr=Vt(/iP(ad|od|hone)/i),Zl=Vt(/chrome/i)&&Vt(/android/i),xr={capture:!1,passive:!1};function He(A,x,d){A.addEventListener(x,d,!Ut&&xr)}function Fe(A,x,d){A.removeEventListener(x,d,!Ut&&xr)}function jn(A,x){if(!!x){if(x[0]===">"&&(x=x.substring(1)),A)try{if(A.matches)return A.matches(x);if(A.msMatchesSelector)return A.msMatchesSelector(x);if(A.webkitMatchesSelector)return A.webkitMatchesSelector(x)}catch(d){return!1}return!1}}function Ql(A){return A.host&&A!==document&&A.host.nodeType?A.host:A.parentNode}function Dt(A,x,d,h){if(A){d=d||document;do{if(x!=null&&(x[0]===">"?A.parentNode===d&&jn(A,x):jn(A,x))||h&&A===d)return A;if(A===d)break}while(A=Ql(A))}return null}var _i=/\s+/g;function Je(A,x,d){if(A&&x)if(A.classList)A.classList[d?"add":"remove"](x);else{var h=(" "+A.className+" ").replace(_i," ").replace(" "+x+" "," ");A.className=(h+(d?" "+x:"")).replace(_i," ")}}function be(A,x,d){var h=A&&A.style;if(h){if(d===void 0)return document.defaultView&&document.defaultView.getComputedStyle?d=document.defaultView.getComputedStyle(A,""):A.currentStyle&&(d=A.currentStyle),x===void 0?d:d[x];!(x in h)&&x.indexOf("webkit")===-1&&(x="-webkit-"+x),h[x]=d+(typeof d=="string"?"":"px")}}function nn(A,x){var d="";if(typeof A=="string")d=A;else do{var h=be(A,"transform");h&&h!=="none"&&(d=h+" "+d)}while(!x&&(A=A.parentNode));var b=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return b&&new b(d)}function Cr(A,x,d){if(A){var h=A.getElementsByTagName(x),b=0,g=h.length;if(d)for(;b<g;b++)d(h[b],b);return h}return[]}function Ft(){var A=document.scrollingElement;return A||document.documentElement}function Qe(A,x,d,h,b){if(!(!A.getBoundingClientRect&&A!==window)){var g,l,u,o,a,t,n;if(A!==window&&A.parentNode&&A!==Ft()?(g=A.getBoundingClientRect(),l=g.top,u=g.left,o=g.bottom,a=g.right,t=g.height,n=g.width):(l=0,u=0,o=window.innerHeight,a=window.innerWidth,t=window.innerHeight,n=window.innerWidth),(x||d)&&A!==window&&(b=b||A.parentNode,!Ut))do if(b&&b.getBoundingClientRect&&(be(b,"transform")!=="none"||d&&be(b,"position")!=="static")){var i=b.getBoundingClientRect();l-=i.top+parseInt(be(b,"border-top-width")),u-=i.left+parseInt(be(b,"border-left-width")),o=l+g.height,a=u+g.width;break}while(b=b.parentNode);if(h&&A!==window){var e=nn(b||A),r=e&&e.a,s=e&&e.d;e&&(l/=s,u/=r,n/=r,t/=s,o=l+t,a=u+n)}return{top:l,left:u,bottom:o,right:a,width:n,height:t}}}function Ui(A,x,d){for(var h=Zt(A,!0),b=Qe(A)[x];h;){var g=Qe(h)[d],l=void 0;if(d==="top"||d==="left"?l=b>=g:l=b<=g,!l)return h;if(h===Ft())break;h=Zt(h,!1)}return!1}function dn(A,x,d,h){for(var b=0,g=0,l=A.children;g<l.length;){if(l[g].style.display!=="none"&&l[g]!==ke.ghost&&(h||l[g]!==ke.dragged)&&Dt(l[g],d.draggable,A,!1)){if(b===x)return l[g];b++}g++}return null}function Ei(A,x){for(var d=A.lastElementChild;d&&(d===ke.ghost||be(d,"display")==="none"||x&&!jn(d,x));)d=d.previousElementSibling;return d||null}function tt(A,x){var d=0;if(!A||!A.parentNode)return-1;for(;A=A.previousElementSibling;)A.nodeName.toUpperCase()!=="TEMPLATE"&&A!==ke.clone&&(!x||jn(A,x))&&d++;return d}function ji(A){var x=0,d=0,h=Ft();if(A)do{var b=nn(A),g=b.a,l=b.d;x+=A.scrollLeft*g,d+=A.scrollTop*l}while(A!==h&&(A=A.parentNode));return[x,d]}function Jl(A,x){for(var d in A)if(!!A.hasOwnProperty(d)){for(var h in x)if(x.hasOwnProperty(h)&&x[h]===A[d][h])return Number(d)}return-1}function Zt(A,x){if(!A||!A.getBoundingClientRect)return Ft();var d=A,h=!1;do if(d.clientWidth<d.scrollWidth||d.clientHeight<d.scrollHeight){var b=be(d);if(d.clientWidth<d.scrollWidth&&(b.overflowX=="auto"||b.overflowX=="scroll")||d.clientHeight<d.scrollHeight&&(b.overflowY=="auto"||b.overflowY=="scroll")){if(!d.getBoundingClientRect||d===document.body)return Ft();if(h||x)return d;h=!0}}while(d=d.parentNode);return Ft()}function ql(A,x){if(A&&x)for(var d in x)x.hasOwnProperty(d)&&(A[d]=x[d]);return A}function ei(A,x){return Math.round(A.top)===Math.round(x.top)&&Math.round(A.left)===Math.round(x.left)&&Math.round(A.height)===Math.round(x.height)&&Math.round(A.width)===Math.round(x.width)}var xn;function $r(A,x){return function(){if(!xn){var d=arguments,h=this;d.length===1?A.call(h,d[0]):A.apply(h,d),xn=setTimeout(function(){xn=void 0},x)}}}function ec(){clearTimeout(xn),xn=void 0}function kr(A,x,d){A.scrollLeft+=x,A.scrollTop+=d}function Li(A){var x=window.Polymer,d=window.jQuery||window.Zepto;return x&&x.dom?x.dom(A).cloneNode(!0):d?d(A).clone(!0)[0]:A.cloneNode(!0)}function Gi(A,x){be(A,"position","absolute"),be(A,"top",x.top),be(A,"left",x.left),be(A,"width",x.width),be(A,"height",x.height)}function ti(A){be(A,"position",""),be(A,"top",""),be(A,"left",""),be(A,"width",""),be(A,"height","")}var ft="Sortable"+new Date().getTime();function tc(){var A=[],x;return{captureAnimationState:function(){if(A=[],!!this.options.animation){var h=[].slice.call(this.el.children);h.forEach(function(b){if(!(be(b,"display")==="none"||b===ke.ghost)){A.push({target:b,rect:Qe(b)});var g=Ht({},A[A.length-1].rect);if(b.thisAnimationDuration){var l=nn(b,!0);l&&(g.top-=l.f,g.left-=l.e)}b.fromRect=g}})}},addAnimationState:function(h){A.push(h)},removeAnimationState:function(h){A.splice(Jl(A,{target:h}),1)},animateAll:function(h){var b=this;if(!this.options.animation){clearTimeout(x),typeof h=="function"&&h();return}var g=!1,l=0;A.forEach(function(u){var o=0,a=u.target,t=a.fromRect,n=Qe(a),i=a.prevFromRect,e=a.prevToRect,r=u.rect,s=nn(a,!0);s&&(n.top-=s.f,n.left-=s.e),a.toRect=n,a.thisAnimationDuration&&ei(i,n)&&!ei(t,n)&&(r.top-n.top)/(r.left-n.left)===(t.top-n.top)/(t.left-n.left)&&(o=ic(r,i,e,b.options)),ei(n,t)||(a.prevFromRect=t,a.prevToRect=n,o||(o=b.options.animation),b.animate(a,r,n,o)),o&&(g=!0,l=Math.max(l,o),clearTimeout(a.animationResetTimer),a.animationResetTimer=setTimeout(function(){a.animationTime=0,a.prevFromRect=null,a.fromRect=null,a.prevToRect=null,a.thisAnimationDuration=null},o),a.thisAnimationDuration=o)}),clearTimeout(x),g?x=setTimeout(function(){typeof h=="function"&&h()},l):typeof h=="function"&&h(),A=[]},animate:function(h,b,g,l){if(l){be(h,"transition",""),be(h,"transform","");var u=nn(this.el),o=u&&u.a,a=u&&u.d,t=(b.left-g.left)/(o||1),n=(b.top-g.top)/(a||1);h.animatingX=!!t,h.animatingY=!!n,be(h,"transform","translate3d("+t+"px,"+n+"px,0)"),this.forRepaintDummy=nc(h),be(h,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),be(h,"transform","translate3d(0,0,0)"),typeof h.animated=="number"&&clearTimeout(h.animated),h.animated=setTimeout(function(){be(h,"transition",""),be(h,"transform",""),h.animated=!1,h.animatingX=!1,h.animatingY=!1},l)}}}}function nc(A){return A.offsetWidth}function ic(A,x,d,h){return Math.sqrt(Math.pow(x.top-A.top,2)+Math.pow(x.left-A.left,2))/Math.sqrt(Math.pow(x.top-d.top,2)+Math.pow(x.left-d.left,2))*h.animation}var on=[],ni={initializeByDefault:!0},Tn={mount:function(x){for(var d in ni)ni.hasOwnProperty(d)&&!(d in x)&&(x[d]=ni[d]);on.forEach(function(h){if(h.pluginName===x.pluginName)throw"Sortable: Cannot mount plugin ".concat(x.pluginName," more than once")}),on.push(x)},pluginEvent:function(x,d,h){var b=this;this.eventCanceled=!1,h.cancel=function(){b.eventCanceled=!0};var g=x+"Global";on.forEach(function(l){!d[l.pluginName]||(d[l.pluginName][g]&&d[l.pluginName][g](Ht({sortable:d},h)),d.options[l.pluginName]&&d[l.pluginName][x]&&d[l.pluginName][x](Ht({sortable:d},h)))})},initializePlugins:function(x,d,h,b){on.forEach(function(u){var o=u.pluginName;if(!(!x.options[o]&&!u.initializeByDefault)){var a=new u(x,d,x.options);a.sortable=x,a.options=x.options,x[o]=a,Rt(h,a.defaults)}});for(var g in x.options)if(!!x.options.hasOwnProperty(g)){var l=this.modifyOption(x,g,x.options[g]);typeof l!="undefined"&&(x.options[g]=l)}},getEventProperties:function(x,d){var h={};return on.forEach(function(b){typeof b.eventProperties=="function"&&Rt(h,b.eventProperties.call(d[b.pluginName],x))}),h},modifyOption:function(x,d,h){var b;return on.forEach(function(g){!x[g.pluginName]||g.optionListeners&&typeof g.optionListeners[d]=="function"&&(b=g.optionListeners[d].call(x[g.pluginName],h))}),b}};function mn(A){var x=A.sortable,d=A.rootEl,h=A.name,b=A.targetEl,g=A.cloneEl,l=A.toEl,u=A.fromEl,o=A.oldIndex,a=A.newIndex,t=A.oldDraggableIndex,n=A.newDraggableIndex,i=A.originalEvent,e=A.putSortable,r=A.extraEventProperties;if(x=x||d&&d[ft],!!x){var s,c=x.options,f="on"+h.charAt(0).toUpperCase()+h.substr(1);window.CustomEvent&&!Ut&&!Ln?s=new CustomEvent(h,{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent(h,!0,!0)),s.to=l||d,s.from=u||d,s.item=b||d,s.clone=g,s.oldIndex=o,s.newIndex=a,s.oldDraggableIndex=t,s.newDraggableIndex=n,s.originalEvent=i,s.pullMode=e?e.lastPutMode:void 0;var p=Ht(Ht({},r),Tn.getEventProperties(h,x));for(var $ in p)s[$]=p[$];d&&d.dispatchEvent(s),c[f]&&c[f].call(x,s)}}var rc=["evt"],wt=function(x,d){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=h.evt,g=_l(h,rc);Tn.pluginEvent.bind(ke)(x,d,Ht({dragEl:ce,parentEl:qe,ghostEl:Le,rootEl:Ze,nextEl:en,lastDownEl:Wn,cloneEl:et,cloneHidden:Xt,dragStarted:yn,putSortable:ut,activeSortable:ke.active,originalEvent:b,oldIndex:un,oldDraggableIndex:Cn,newIndex:Et,newDraggableIndex:Kt,hideGhostForTarget:Tr,unhideGhostForTarget:Mr,cloneNowHidden:function(){Xt=!0},cloneNowShown:function(){Xt=!1},dispatchSortableEvent:function(u){yt({sortable:d,name:u,originalEvent:b})}},g))};function yt(A){mn(Ht({putSortable:ut,cloneEl:et,targetEl:ce,rootEl:Ze,oldIndex:un,oldDraggableIndex:Cn,newIndex:Et,newDraggableIndex:Kt},A))}var ce,qe,Le,Ze,en,Wn,et,Xt,un,Et,Cn,Kt,In,ut,cn=!1,Gn=!1,Kn=[],Jt,It,ii,ri,Ki,Yi,yn,sn,$n,kn=!1,On=!1,zn,ht,oi=[],pi=!1,Yn=[],Jn=typeof document!="undefined",Dn=Sr,Xi=Ln||Ut?"cssFloat":"float",oc=Jn&&!Zl&&!Sr&&"draggable"in document.createElement("div"),Ar=function(){if(!!Jn){if(Ut)return!1;var A=document.createElement("x");return A.style.cssText="pointer-events:auto",A.style.pointerEvents==="auto"}}(),Er=function(x,d){var h=be(x),b=parseInt(h.width)-parseInt(h.paddingLeft)-parseInt(h.paddingRight)-parseInt(h.borderLeftWidth)-parseInt(h.borderRightWidth),g=dn(x,0,d),l=dn(x,1,d),u=g&&be(g),o=l&&be(l),a=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+Qe(g).width,t=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+Qe(l).width;if(h.display==="flex")return h.flexDirection==="column"||h.flexDirection==="column-reverse"?"vertical":"horizontal";if(h.display==="grid")return h.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(g&&u.float&&u.float!=="none"){var n=u.float==="left"?"left":"right";return l&&(o.clear==="both"||o.clear===n)?"vertical":"horizontal"}return g&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||a>=b&&h[Xi]==="none"||l&&h[Xi]==="none"&&a+t>b)?"vertical":"horizontal"},sc=function(x,d,h){var b=h?x.left:x.top,g=h?x.right:x.bottom,l=h?x.width:x.height,u=h?d.left:d.top,o=h?d.right:d.bottom,a=h?d.width:d.height;return b===u||g===o||b+l/2===u+a/2},ac=function(x,d){var h;return Kn.some(function(b){var g=b[ft].options.emptyInsertThreshold;if(!(!g||Ei(b))){var l=Qe(b),u=x>=l.left-g&&x<=l.right+g,o=d>=l.top-g&&d<=l.bottom+g;if(u&&o)return h=b}}),h},Lr=function(x){function d(g,l){return function(u,o,a,t){var n=u.options.group.name&&o.options.group.name&&u.options.group.name===o.options.group.name;if(g==null&&(l||n))return!0;if(g==null||g===!1)return!1;if(l&&g==="clone")return g;if(typeof g=="function")return d(g(u,o,a,t),l)(u,o,a,t);var i=(l?u:o).options.group.name;return g===!0||typeof g=="string"&&g===i||g.join&&g.indexOf(i)>-1}}var h={},b=x.group;(!b||Hn(b)!="object")&&(b={name:b}),h.name=b.name,h.checkPull=d(b.pull,!0),h.checkPut=d(b.put),h.revertClone=b.revertClone,x.group=h},Tr=function(){!Ar&&Le&&be(Le,"display","none")},Mr=function(){!Ar&&Le&&be(Le,"display","")};Jn&&document.addEventListener("click",function(A){if(Gn)return A.preventDefault(),A.stopPropagation&&A.stopPropagation(),A.stopImmediatePropagation&&A.stopImmediatePropagation(),Gn=!1,!1},!0);var qt=function(x){if(ce){x=x.touches?x.touches[0]:x;var d=ac(x.clientX,x.clientY);if(d){var h={};for(var b in x)x.hasOwnProperty(b)&&(h[b]=x[b]);h.target=h.rootEl=d,h.preventDefault=void 0,h.stopPropagation=void 0,d[ft]._onDragOver(h)}}},lc=function(x){ce&&ce.parentNode[ft]._isOutsideThisEl(x.target)};function ke(A,x){if(!(A&&A.nodeType&&A.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(A));this.el=A,this.options=x=Rt({},x),A[ft]=this;var d={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(A.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Er(A,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,u){l.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ke.supportPointer!==!1&&"PointerEvent"in window&&!Sn,emptyInsertThreshold:5};Tn.initializePlugins(this,A,d);for(var h in d)!(h in x)&&(x[h]=d[h]);Lr(x);for(var b in this)b.charAt(0)==="_"&&typeof this[b]=="function"&&(this[b]=this[b].bind(this));this.nativeDraggable=x.forceFallback?!1:oc,this.nativeDraggable&&(this.options.touchStartThreshold=1),x.supportPointer?He(A,"pointerdown",this._onTapStart):(He(A,"mousedown",this._onTapStart),He(A,"touchstart",this._onTapStart)),this.nativeDraggable&&(He(A,"dragover",this),He(A,"dragenter",this)),Kn.push(this.el),x.store&&x.store.get&&this.sort(x.store.get(this)||[]),Rt(this,tc())}ke.prototype={constructor:ke,_isOutsideThisEl:function(x){!this.el.contains(x)&&x!==this.el&&(sn=null)},_getDirection:function(x,d){return typeof this.options.direction=="function"?this.options.direction.call(this,x,d,ce):this.options.direction},_onTapStart:function(x){if(!!x.cancelable){var d=this,h=this.el,b=this.options,g=b.preventOnFilter,l=x.type,u=x.touches&&x.touches[0]||x.pointerType&&x.pointerType==="touch"&&x,o=(u||x).target,a=x.target.shadowRoot&&(x.path&&x.path[0]||x.composedPath&&x.composedPath()[0])||o,t=b.filter;if(vc(h),!ce&&!(/mousedown|pointerdown/.test(l)&&x.button!==0||b.disabled)&&!a.isContentEditable&&!(!this.nativeDraggable&&Sn&&o&&o.tagName.toUpperCase()==="SELECT")&&(o=Dt(o,b.draggable,h,!1),!(o&&o.animated)&&Wn!==o)){if(un=tt(o),Cn=tt(o,b.draggable),typeof t=="function"){if(t.call(this,x,o,this)){yt({sortable:d,rootEl:a,name:"filter",targetEl:o,toEl:h,fromEl:h}),wt("filter",d,{evt:x}),g&&x.cancelable&&x.preventDefault();return}}else if(t&&(t=t.split(",").some(function(n){if(n=Dt(a,n.trim(),h,!1),n)return yt({sortable:d,rootEl:n,name:"filter",targetEl:o,fromEl:h,toEl:h}),wt("filter",d,{evt:x}),!0}),t)){g&&x.cancelable&&x.preventDefault();return}b.handle&&!Dt(a,b.handle,h,!1)||this._prepareDragStart(x,u,o)}}},_prepareDragStart:function(x,d,h){var b=this,g=b.el,l=b.options,u=g.ownerDocument,o;if(h&&!ce&&h.parentNode===g){var a=Qe(h);if(Ze=g,ce=h,qe=ce.parentNode,en=ce.nextSibling,Wn=h,In=l.group,ke.dragged=ce,Jt={target:ce,clientX:(d||x).clientX,clientY:(d||x).clientY},Ki=Jt.clientX-a.left,Yi=Jt.clientY-a.top,this._lastX=(d||x).clientX,this._lastY=(d||x).clientY,ce.style["will-change"]="all",o=function(){if(wt("delayEnded",b,{evt:x}),ke.eventCanceled){b._onDrop();return}b._disableDelayedDragEvents(),!Vi&&b.nativeDraggable&&(ce.draggable=!0),b._triggerDragStart(x,d),yt({sortable:b,name:"choose",originalEvent:x}),Je(ce,l.chosenClass,!0)},l.ignore.split(",").forEach(function(t){Cr(ce,t.trim(),si)}),He(u,"dragover",qt),He(u,"mousemove",qt),He(u,"touchmove",qt),He(u,"mouseup",b._onDrop),He(u,"touchend",b._onDrop),He(u,"touchcancel",b._onDrop),Vi&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ce.draggable=!0),wt("delayStart",this,{evt:x}),l.delay&&(!l.delayOnTouchOnly||d)&&(!this.nativeDraggable||!(Ln||Ut))){if(ke.eventCanceled){this._onDrop();return}He(u,"mouseup",b._disableDelayedDrag),He(u,"touchend",b._disableDelayedDrag),He(u,"touchcancel",b._disableDelayedDrag),He(u,"mousemove",b._delayedDragTouchMoveHandler),He(u,"touchmove",b._delayedDragTouchMoveHandler),l.supportPointer&&He(u,"pointermove",b._delayedDragTouchMoveHandler),b._dragStartTimer=setTimeout(o,l.delay)}else o()}},_delayedDragTouchMoveHandler:function(x){var d=x.touches?x.touches[0]:x;Math.max(Math.abs(d.clientX-this._lastX),Math.abs(d.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ce&&si(ce),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var x=this.el.ownerDocument;Fe(x,"mouseup",this._disableDelayedDrag),Fe(x,"touchend",this._disableDelayedDrag),Fe(x,"touchcancel",this._disableDelayedDrag),Fe(x,"mousemove",this._delayedDragTouchMoveHandler),Fe(x,"touchmove",this._delayedDragTouchMoveHandler),Fe(x,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(x,d){d=d||x.pointerType=="touch"&&x,!this.nativeDraggable||d?this.options.supportPointer?He(document,"pointermove",this._onTouchMove):d?He(document,"touchmove",this._onTouchMove):He(document,"mousemove",this._onTouchMove):(He(ce,"dragend",this),He(Ze,"dragstart",this._onDragStart));try{document.selection?Vn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(h){}},_dragStarted:function(x,d){if(cn=!1,Ze&&ce){wt("dragStarted",this,{evt:d}),this.nativeDraggable&&He(document,"dragover",lc);var h=this.options;!x&&Je(ce,h.dragClass,!1),Je(ce,h.ghostClass,!0),ke.active=this,x&&this._appendGhost(),yt({sortable:this,name:"start",originalEvent:d})}else this._nulling()},_emulateDragOver:function(){if(It){this._lastX=It.clientX,this._lastY=It.clientY,Tr();for(var x=document.elementFromPoint(It.clientX,It.clientY),d=x;x&&x.shadowRoot&&(x=x.shadowRoot.elementFromPoint(It.clientX,It.clientY),x!==d);)d=x;if(ce.parentNode[ft]._isOutsideThisEl(x),d)do{if(d[ft]){var h=void 0;if(h=d[ft]._onDragOver({clientX:It.clientX,clientY:It.clientY,target:x,rootEl:d}),h&&!this.options.dragoverBubble)break}x=d}while(d=d.parentNode);Mr()}},_onTouchMove:function(x){if(Jt){var d=this.options,h=d.fallbackTolerance,b=d.fallbackOffset,g=x.touches?x.touches[0]:x,l=Le&&nn(Le,!0),u=Le&&l&&l.a,o=Le&&l&&l.d,a=Dn&&ht&&ji(ht),t=(g.clientX-Jt.clientX+b.x)/(u||1)+(a?a[0]-oi[0]:0)/(u||1),n=(g.clientY-Jt.clientY+b.y)/(o||1)+(a?a[1]-oi[1]:0)/(o||1);if(!ke.active&&!cn){if(h&&Math.max(Math.abs(g.clientX-this._lastX),Math.abs(g.clientY-this._lastY))<h)return;this._onDragStart(x,!0)}if(Le){l?(l.e+=t-(ii||0),l.f+=n-(ri||0)):l={a:1,b:0,c:0,d:1,e:t,f:n};var i="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");be(Le,"webkitTransform",i),be(Le,"mozTransform",i),be(Le,"msTransform",i),be(Le,"transform",i),ii=t,ri=n,It=g}x.cancelable&&x.preventDefault()}},_appendGhost:function(){if(!Le){var x=this.options.fallbackOnBody?document.body:Ze,d=Qe(ce,!0,Dn,!0,x),h=this.options;if(Dn){for(ht=x;be(ht,"position")==="static"&&be(ht,"transform")==="none"&&ht!==document;)ht=ht.parentNode;ht!==document.body&&ht!==document.documentElement?(ht===document&&(ht=Ft()),d.top+=ht.scrollTop,d.left+=ht.scrollLeft):ht=Ft(),oi=ji(ht)}Le=ce.cloneNode(!0),Je(Le,h.ghostClass,!1),Je(Le,h.fallbackClass,!0),Je(Le,h.dragClass,!0),be(Le,"transition",""),be(Le,"transform",""),be(Le,"box-sizing","border-box"),be(Le,"margin",0),be(Le,"top",d.top),be(Le,"left",d.left),be(Le,"width",d.width),be(Le,"height",d.height),be(Le,"opacity","0.8"),be(Le,"position",Dn?"absolute":"fixed"),be(Le,"zIndex","100000"),be(Le,"pointerEvents","none"),ke.ghost=Le,x.appendChild(Le),be(Le,"transform-origin",Ki/parseInt(Le.style.width)*100+"% "+Yi/parseInt(Le.style.height)*100+"%")}},_onDragStart:function(x,d){var h=this,b=x.dataTransfer,g=h.options;if(wt("dragStart",this,{evt:x}),ke.eventCanceled){this._onDrop();return}wt("setupClone",this),ke.eventCanceled||(et=Li(ce),et.draggable=!1,et.style["will-change"]="",this._hideClone(),Je(et,this.options.chosenClass,!1),ke.clone=et),h.cloneId=Vn(function(){wt("clone",h),!ke.eventCanceled&&(h.options.removeCloneOnHide||Ze.insertBefore(et,ce),h._hideClone(),yt({sortable:h,name:"clone"}))}),!d&&Je(ce,g.dragClass,!0),d?(Gn=!0,h._loopId=setInterval(h._emulateDragOver,50)):(Fe(document,"mouseup",h._onDrop),Fe(document,"touchend",h._onDrop),Fe(document,"touchcancel",h._onDrop),b&&(b.effectAllowed="move",g.setData&&g.setData.call(h,b,ce)),He(document,"drop",h),be(ce,"transform","translateZ(0)")),cn=!0,h._dragStartId=Vn(h._dragStarted.bind(h,d,x)),He(document,"selectstart",h),yn=!0,Sn&&be(document.body,"user-select","none")},_onDragOver:function(x){var d=this.el,h=x.target,b,g,l,u=this.options,o=u.group,a=ke.active,t=In===o,n=u.sort,i=ut||a,e,r=this,s=!1;if(pi)return;function c(P,B){wt(P,r,Ht({evt:x,isOwner:t,axis:e?"vertical":"horizontal",revert:l,dragRect:b,targetRect:g,canSort:n,fromSortable:i,target:h,completed:p,onMove:function(V,U){return Pn(Ze,d,ce,b,V,Qe(V),x,U)},changed:$},B))}function f(){c("dragOverAnimationCapture"),r.captureAnimationState(),r!==i&&i.captureAnimationState()}function p(P){return c("dragOverCompleted",{insertion:P}),P&&(t?a._hideClone():a._showClone(r),r!==i&&(Je(ce,ut?ut.options.ghostClass:a.options.ghostClass,!1),Je(ce,u.ghostClass,!0)),ut!==r&&r!==ke.active?ut=r:r===ke.active&&ut&&(ut=null),i===r&&(r._ignoreWhileAnimating=h),r.animateAll(function(){c("dragOverAnimationComplete"),r._ignoreWhileAnimating=null}),r!==i&&(i.animateAll(),i._ignoreWhileAnimating=null)),(h===ce&&!ce.animated||h===d&&!h.animated)&&(sn=null),!u.dragoverBubble&&!x.rootEl&&h!==document&&(ce.parentNode[ft]._isOutsideThisEl(x.target),!P&&qt(x)),!u.dragoverBubble&&x.stopPropagation&&x.stopPropagation(),s=!0}function $(){Et=tt(ce),Kt=tt(ce,u.draggable),yt({sortable:r,name:"change",toEl:d,newIndex:Et,newDraggableIndex:Kt,originalEvent:x})}if(x.preventDefault!==void 0&&x.cancelable&&x.preventDefault(),h=Dt(h,u.draggable,d,!0),c("dragOver"),ke.eventCanceled)return s;if(ce.contains(x.target)||h.animated&&h.animatingX&&h.animatingY||r._ignoreWhileAnimating===h)return p(!1);if(Gn=!1,a&&!u.disabled&&(t?n||(l=qe!==Ze):ut===this||(this.lastPutMode=In.checkPull(this,a,ce,x))&&o.checkPut(this,a,ce,x))){if(e=this._getDirection(x,h)==="vertical",b=Qe(ce),c("dragOverValid"),ke.eventCanceled)return s;if(l)return qe=Ze,f(),this._hideClone(),c("revert"),ke.eventCanceled||(en?Ze.insertBefore(ce,en):Ze.appendChild(ce)),p(!0);var m=Ei(d,u.draggable);if(!m||hc(x,e,this)&&!m.animated){if(m===ce)return p(!1);if(m&&d===x.target&&(h=m),h&&(g=Qe(h)),Pn(Ze,d,ce,b,h,g,x,!!h)!==!1)return f(),d.appendChild(ce),qe=d,$(),p(!0)}else if(m&&dc(x,e,this)){var y=dn(d,0,u,!0);if(y===ce)return p(!1);if(h=y,g=Qe(h),Pn(Ze,d,ce,b,h,g,x,!1)!==!1)return f(),d.insertBefore(ce,y),qe=d,$(),p(!0)}else if(h.parentNode===d){g=Qe(h);var v=0,T,M=ce.parentNode!==d,E=!sc(ce.animated&&ce.toRect||b,h.animated&&h.toRect||g,e),C=e?"top":"left",S=Ui(h,"top","top")||Ui(ce,"top","top"),I=S?S.scrollTop:void 0;sn!==h&&(T=g[C],kn=!1,On=!E&&u.invertSwap||M),v=fc(x,h,g,e,E?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,On,sn===h);var k;if(v!==0){var w=tt(ce);do w-=v,k=qe.children[w];while(k&&(be(k,"display")==="none"||k===Le))}if(v===0||k===h)return p(!1);sn=h,$n=v;var R=h.nextElementSibling,L=!1;L=v===1;var O=Pn(Ze,d,ce,b,h,g,x,L);if(O!==!1)return(O===1||O===-1)&&(L=O===1),pi=!0,setTimeout(uc,30),f(),L&&!R?d.appendChild(ce):h.parentNode.insertBefore(ce,L?R:h),S&&kr(S,0,I-S.scrollTop),qe=ce.parentNode,T!==void 0&&!On&&(zn=Math.abs(T-Qe(h)[C])),$(),p(!0)}if(d.contains(ce))return p(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Fe(document,"mousemove",this._onTouchMove),Fe(document,"touchmove",this._onTouchMove),Fe(document,"pointermove",this._onTouchMove),Fe(document,"dragover",qt),Fe(document,"mousemove",qt),Fe(document,"touchmove",qt)},_offUpEvents:function(){var x=this.el.ownerDocument;Fe(x,"mouseup",this._onDrop),Fe(x,"touchend",this._onDrop),Fe(x,"pointerup",this._onDrop),Fe(x,"touchcancel",this._onDrop),Fe(document,"selectstart",this)},_onDrop:function(x){var d=this.el,h=this.options;if(Et=tt(ce),Kt=tt(ce,h.draggable),wt("drop",this,{evt:x}),qe=ce&&ce.parentNode,Et=tt(ce),Kt=tt(ce,h.draggable),ke.eventCanceled){this._nulling();return}cn=!1,On=!1,kn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),gi(this.cloneId),gi(this._dragStartId),this.nativeDraggable&&(Fe(document,"drop",this),Fe(d,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Sn&&be(document.body,"user-select",""),be(ce,"transform",""),x&&(yn&&(x.cancelable&&x.preventDefault(),!h.dropBubble&&x.stopPropagation()),Le&&Le.parentNode&&Le.parentNode.removeChild(Le),(Ze===qe||ut&&ut.lastPutMode!=="clone")&&et&&et.parentNode&&et.parentNode.removeChild(et),ce&&(this.nativeDraggable&&Fe(ce,"dragend",this),si(ce),ce.style["will-change"]="",yn&&!cn&&Je(ce,ut?ut.options.ghostClass:this.options.ghostClass,!1),Je(ce,this.options.chosenClass,!1),yt({sortable:this,name:"unchoose",toEl:qe,newIndex:null,newDraggableIndex:null,originalEvent:x}),Ze!==qe?(Et>=0&&(yt({rootEl:qe,name:"add",toEl:qe,fromEl:Ze,originalEvent:x}),yt({sortable:this,name:"remove",toEl:qe,originalEvent:x}),yt({rootEl:qe,name:"sort",toEl:qe,fromEl:Ze,originalEvent:x}),yt({sortable:this,name:"sort",toEl:qe,originalEvent:x})),ut&&ut.save()):Et!==un&&Et>=0&&(yt({sortable:this,name:"update",toEl:qe,originalEvent:x}),yt({sortable:this,name:"sort",toEl:qe,originalEvent:x})),ke.active&&((Et==null||Et===-1)&&(Et=un,Kt=Cn),yt({sortable:this,name:"end",toEl:qe,originalEvent:x}),this.save()))),this._nulling()},_nulling:function(){wt("nulling",this),Ze=ce=qe=Le=en=et=Wn=Xt=Jt=It=yn=Et=Kt=un=Cn=sn=$n=ut=In=ke.dragged=ke.ghost=ke.clone=ke.active=null,Yn.forEach(function(x){x.checked=!0}),Yn.length=ii=ri=0},handleEvent:function(x){switch(x.type){case"drop":case"dragend":this._onDrop(x);break;case"dragenter":case"dragover":ce&&(this._onDragOver(x),cc(x));break;case"selectstart":x.preventDefault();break}},toArray:function(){for(var x=[],d,h=this.el.children,b=0,g=h.length,l=this.options;b<g;b++)d=h[b],Dt(d,l.draggable,this.el,!1)&&x.push(d.getAttribute(l.dataIdAttr)||gc(d));return x},sort:function(x,d){var h={},b=this.el;this.toArray().forEach(function(g,l){var u=b.children[l];Dt(u,this.options.draggable,b,!1)&&(h[g]=u)},this),d&&this.captureAnimationState(),x.forEach(function(g){h[g]&&(b.removeChild(h[g]),b.appendChild(h[g]))}),d&&this.animateAll()},save:function(){var x=this.options.store;x&&x.set&&x.set(this)},closest:function(x,d){return Dt(x,d||this.options.draggable,this.el,!1)},option:function(x,d){var h=this.options;if(d===void 0)return h[x];var b=Tn.modifyOption(this,x,d);typeof b!="undefined"?h[x]=b:h[x]=d,x==="group"&&Lr(h)},destroy:function(){wt("destroy",this);var x=this.el;x[ft]=null,Fe(x,"mousedown",this._onTapStart),Fe(x,"touchstart",this._onTapStart),Fe(x,"pointerdown",this._onTapStart),this.nativeDraggable&&(Fe(x,"dragover",this),Fe(x,"dragenter",this)),Array.prototype.forEach.call(x.querySelectorAll("[draggable]"),function(d){d.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Kn.splice(Kn.indexOf(this.el),1),this.el=x=null},_hideClone:function(){if(!Xt){if(wt("hideClone",this),ke.eventCanceled)return;be(et,"display","none"),this.options.removeCloneOnHide&&et.parentNode&&et.parentNode.removeChild(et),Xt=!0}},_showClone:function(x){if(x.lastPutMode!=="clone"){this._hideClone();return}if(Xt){if(wt("showClone",this),ke.eventCanceled)return;ce.parentNode==Ze&&!this.options.group.revertClone?Ze.insertBefore(et,ce):en?Ze.insertBefore(et,en):Ze.appendChild(et),this.options.group.revertClone&&this.animate(ce,et),be(et,"display",""),Xt=!1}}};function cc(A){A.dataTransfer&&(A.dataTransfer.dropEffect="move"),A.cancelable&&A.preventDefault()}function Pn(A,x,d,h,b,g,l,u){var o,a=A[ft],t=a.options.onMove,n;return window.CustomEvent&&!Ut&&!Ln?o=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(o=document.createEvent("Event"),o.initEvent("move",!0,!0)),o.to=x,o.from=A,o.dragged=d,o.draggedRect=h,o.related=b||x,o.relatedRect=g||Qe(x),o.willInsertAfter=u,o.originalEvent=l,A.dispatchEvent(o),t&&(n=t.call(a,o,l)),n}function si(A){A.draggable=!1}function uc(){pi=!1}function dc(A,x,d){var h=Qe(dn(d.el,0,d.options,!0)),b=10;return x?A.clientX<h.left-b||A.clientY<h.top&&A.clientX<h.right:A.clientY<h.top-b||A.clientY<h.bottom&&A.clientX<h.left}function hc(A,x,d){var h=Qe(Ei(d.el,d.options.draggable)),b=10;return x?A.clientX>h.right+b||A.clientX<=h.right&&A.clientY>h.bottom&&A.clientX>=h.left:A.clientX>h.right&&A.clientY>h.top||A.clientX<=h.right&&A.clientY>h.bottom+b}function fc(A,x,d,h,b,g,l,u){var o=h?A.clientY:A.clientX,a=h?d.height:d.width,t=h?d.top:d.left,n=h?d.bottom:d.right,i=!1;if(!l){if(u&&zn<a*b){if(!kn&&($n===1?o>t+a*g/2:o<n-a*g/2)&&(kn=!0),kn)i=!0;else if($n===1?o<t+zn:o>n-zn)return-$n}else if(o>t+a*(1-b)/2&&o<n-a*(1-b)/2)return pc(x)}return i=i||l,i&&(o<t+a*g/2||o>n-a*g/2)?o>t+a/2?1:-1:0}function pc(A){return tt(ce)<tt(A)?1:-1}function gc(A){for(var x=A.tagName+A.className+A.src+A.href+A.textContent,d=x.length,h=0;d--;)h+=x.charCodeAt(d);return h.toString(36)}function vc(A){Yn.length=0;for(var x=A.getElementsByTagName("input"),d=x.length;d--;){var h=x[d];h.checked&&Yn.push(h)}}function Vn(A){return setTimeout(A,0)}function gi(A){return clearTimeout(A)}Jn&&He(document,"touchmove",function(A){(ke.active||cn)&&A.cancelable&&A.preventDefault()});ke.utils={on:He,off:Fe,css:be,find:Cr,is:function(x,d){return!!Dt(x,d,x,!1)},extend:ql,throttle:$r,closest:Dt,toggleClass:Je,clone:Li,index:tt,nextTick:Vn,cancelNextTick:gi,detectDirection:Er,getChild:dn};ke.get=function(A){return A[ft]};ke.mount=function(){for(var A=arguments.length,x=new Array(A),d=0;d<A;d++)x[d]=arguments[d];x[0].constructor===Array&&(x=x[0]),x.forEach(function(h){if(!h.prototype||!h.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(h));h.utils&&(ke.utils=Ht(Ht({},ke.utils),h.utils)),Tn.mount(h)})};ke.create=function(A,x){return new ke(A,x)};ke.version=Xl;var ot=[],bn,vi,mi=!1,ai,li,Xn,wn;function mc(){function A(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var x in this)x.charAt(0)==="_"&&typeof this[x]=="function"&&(this[x]=this[x].bind(this))}return A.prototype={dragStarted:function(d){var h=d.originalEvent;this.sortable.nativeDraggable?He(document,"dragover",this._handleAutoScroll):this.options.supportPointer?He(document,"pointermove",this._handleFallbackAutoScroll):h.touches?He(document,"touchmove",this._handleFallbackAutoScroll):He(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(d){var h=d.originalEvent;!this.options.dragOverBubble&&!h.rootEl&&this._handleAutoScroll(h)},drop:function(){this.sortable.nativeDraggable?Fe(document,"dragover",this._handleAutoScroll):(Fe(document,"pointermove",this._handleFallbackAutoScroll),Fe(document,"touchmove",this._handleFallbackAutoScroll),Fe(document,"mousemove",this._handleFallbackAutoScroll)),Zi(),_n(),ec()},nulling:function(){Xn=vi=bn=mi=wn=ai=li=null,ot.length=0},_handleFallbackAutoScroll:function(d){this._handleAutoScroll(d,!0)},_handleAutoScroll:function(d,h){var b=this,g=(d.touches?d.touches[0]:d).clientX,l=(d.touches?d.touches[0]:d).clientY,u=document.elementFromPoint(g,l);if(Xn=d,h||this.options.forceAutoScrollFallback||Ln||Ut||Sn){ci(d,this.options,u,h);var o=Zt(u,!0);mi&&(!wn||g!==ai||l!==li)&&(wn&&Zi(),wn=setInterval(function(){var a=Zt(document.elementFromPoint(g,l),!0);a!==o&&(o=a,_n()),ci(d,b.options,a,h)},10),ai=g,li=l)}else{if(!this.options.bubbleScroll||Zt(u,!0)===Ft()){_n();return}ci(d,this.options,Zt(u,!1),!1)}}},Rt(A,{pluginName:"scroll",initializeByDefault:!0})}function _n(){ot.forEach(function(A){clearInterval(A.pid)}),ot=[]}function Zi(){clearInterval(wn)}var ci=$r(function(A,x,d,h){if(!!x.scroll){var b=(A.touches?A.touches[0]:A).clientX,g=(A.touches?A.touches[0]:A).clientY,l=x.scrollSensitivity,u=x.scrollSpeed,o=Ft(),a=!1,t;vi!==d&&(vi=d,_n(),bn=x.scroll,t=x.scrollFn,bn===!0&&(bn=Zt(d,!0)));var n=0,i=bn;do{var e=i,r=Qe(e),s=r.top,c=r.bottom,f=r.left,p=r.right,$=r.width,m=r.height,y=void 0,v=void 0,T=e.scrollWidth,M=e.scrollHeight,E=be(e),C=e.scrollLeft,S=e.scrollTop;e===o?(y=$<T&&(E.overflowX==="auto"||E.overflowX==="scroll"||E.overflowX==="visible"),v=m<M&&(E.overflowY==="auto"||E.overflowY==="scroll"||E.overflowY==="visible")):(y=$<T&&(E.overflowX==="auto"||E.overflowX==="scroll"),v=m<M&&(E.overflowY==="auto"||E.overflowY==="scroll"));var I=y&&(Math.abs(p-b)<=l&&C+$<T)-(Math.abs(f-b)<=l&&!!C),k=v&&(Math.abs(c-g)<=l&&S+m<M)-(Math.abs(s-g)<=l&&!!S);if(!ot[n])for(var w=0;w<=n;w++)ot[w]||(ot[w]={});(ot[n].vx!=I||ot[n].vy!=k||ot[n].el!==e)&&(ot[n].el=e,ot[n].vx=I,ot[n].vy=k,clearInterval(ot[n].pid),(I!=0||k!=0)&&(a=!0,ot[n].pid=setInterval(function(){h&&this.layer===0&&ke.active._onTouchMove(Xn);var R=ot[this.layer].vy?ot[this.layer].vy*u:0,L=ot[this.layer].vx?ot[this.layer].vx*u:0;typeof t=="function"&&t.call(ke.dragged.parentNode[ft],L,R,A,Xn,ot[this.layer].el)!=="continue"||kr(ot[this.layer].el,L,R)}.bind({layer:n}),24))),n++}while(x.bubbleScroll&&i!==o&&(i=Zt(i,!1)));mi=a}},30),Rr=function(x){var d=x.originalEvent,h=x.putSortable,b=x.dragEl,g=x.activeSortable,l=x.dispatchSortableEvent,u=x.hideGhostForTarget,o=x.unhideGhostForTarget;if(!!d){var a=h||g;u();var t=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:d,n=document.elementFromPoint(t.clientX,t.clientY);o(),a&&!a.el.contains(n)&&(l("spill"),this.onSpill({dragEl:b,putSortable:h}))}};function Ti(){}Ti.prototype={startIndex:null,dragStart:function(x){var d=x.oldDraggableIndex;this.startIndex=d},onSpill:function(x){var d=x.dragEl,h=x.putSortable;this.sortable.captureAnimationState(),h&&h.captureAnimationState();var b=dn(this.sortable.el,this.startIndex,this.options);b?this.sortable.el.insertBefore(d,b):this.sortable.el.appendChild(d),this.sortable.animateAll(),h&&h.animateAll()},drop:Rr};Rt(Ti,{pluginName:"revertOnSpill"});function Mi(){}Mi.prototype={onSpill:function(x){var d=x.dragEl,h=x.putSortable,b=h||this.sortable;b.captureAnimationState(),d.parentNode&&d.parentNode.removeChild(d),b.animateAll()},drop:Rr};Rt(Mi,{pluginName:"removeOnSpill"});var Lt;function yc(){function A(){this.defaults={swapClass:"sortable-swap-highlight"}}return A.prototype={dragStart:function(d){var h=d.dragEl;Lt=h},dragOverValid:function(d){var h=d.completed,b=d.target,g=d.onMove,l=d.activeSortable,u=d.changed,o=d.cancel;if(!!l.options.swap){var a=this.sortable.el,t=this.options;if(b&&b!==a){var n=Lt;g(b)!==!1?(Je(b,t.swapClass,!0),Lt=b):Lt=null,n&&n!==Lt&&Je(n,t.swapClass,!1)}u(),h(!0),o()}},drop:function(d){var h=d.activeSortable,b=d.putSortable,g=d.dragEl,l=b||this.sortable,u=this.options;Lt&&Je(Lt,u.swapClass,!1),Lt&&(u.swap||b&&b.options.swap)&&g!==Lt&&(l.captureAnimationState(),l!==h&&h.captureAnimationState(),bc(g,Lt),l.animateAll(),l!==h&&h.animateAll())},nulling:function(){Lt=null}},Rt(A,{pluginName:"swap",eventProperties:function(){return{swapItem:Lt}}})}function bc(A,x){var d=A.parentNode,h=x.parentNode,b,g;!d||!h||d.isEqualNode(x)||h.isEqualNode(A)||(b=tt(A),g=tt(x),d.isEqualNode(h)&&b<g&&g++,d.insertBefore(x,d.children[b]),h.insertBefore(A,h.children[g]))}var Ae=[],At=[],pn,Ot,gn=!1,St=!1,an=!1,Xe,vn,Bn;function wc(){function A(x){for(var d in this)d.charAt(0)==="_"&&typeof this[d]=="function"&&(this[d]=this[d].bind(this));x.options.supportPointer?He(document,"pointerup",this._deselectMultiDrag):(He(document,"mouseup",this._deselectMultiDrag),He(document,"touchend",this._deselectMultiDrag)),He(document,"keydown",this._checkKeyDown),He(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(b,g){var l="";Ae.length&&Ot===x?Ae.forEach(function(u,o){l+=(o?", ":"")+u.textContent}):l=g.textContent,b.setData("Text",l)}}}return A.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(d){var h=d.dragEl;Xe=h},delayEnded:function(){this.isMultiDrag=~Ae.indexOf(Xe)},setupClone:function(d){var h=d.sortable,b=d.cancel;if(!!this.isMultiDrag){for(var g=0;g<Ae.length;g++)At.push(Li(Ae[g])),At[g].sortableIndex=Ae[g].sortableIndex,At[g].draggable=!1,At[g].style["will-change"]="",Je(At[g],this.options.selectedClass,!1),Ae[g]===Xe&&Je(At[g],this.options.chosenClass,!1);h._hideClone(),b()}},clone:function(d){var h=d.sortable,b=d.rootEl,g=d.dispatchSortableEvent,l=d.cancel;!this.isMultiDrag||this.options.removeCloneOnHide||Ae.length&&Ot===h&&(Qi(!0,b),g("clone"),l())},showClone:function(d){var h=d.cloneNowShown,b=d.rootEl,g=d.cancel;!this.isMultiDrag||(Qi(!1,b),At.forEach(function(l){be(l,"display","")}),h(),Bn=!1,g())},hideClone:function(d){var h=this;d.sortable;var b=d.cloneNowHidden,g=d.cancel;!this.isMultiDrag||(At.forEach(function(l){be(l,"display","none"),h.options.removeCloneOnHide&&l.parentNode&&l.parentNode.removeChild(l)}),b(),Bn=!0,g())},dragStartGlobal:function(d){d.sortable,!this.isMultiDrag&&Ot&&Ot.multiDrag._deselectMultiDrag(),Ae.forEach(function(h){h.sortableIndex=tt(h)}),Ae=Ae.sort(function(h,b){return h.sortableIndex-b.sortableIndex}),an=!0},dragStarted:function(d){var h=this,b=d.sortable;if(!!this.isMultiDrag){if(this.options.sort&&(b.captureAnimationState(),this.options.animation)){Ae.forEach(function(l){l!==Xe&&be(l,"position","absolute")});var g=Qe(Xe,!1,!0,!0);Ae.forEach(function(l){l!==Xe&&Gi(l,g)}),St=!0,gn=!0}b.animateAll(function(){St=!1,gn=!1,h.options.animation&&Ae.forEach(function(l){ti(l)}),h.options.sort&&Fn()})}},dragOver:function(d){var h=d.target,b=d.completed,g=d.cancel;St&&~Ae.indexOf(h)&&(b(!1),g())},revert:function(d){var h=d.fromSortable,b=d.rootEl,g=d.sortable,l=d.dragRect;Ae.length>1&&(Ae.forEach(function(u){g.addAnimationState({target:u,rect:St?Qe(u):l}),ti(u),u.fromRect=l,h.removeAnimationState(u)}),St=!1,Sc(!this.options.removeCloneOnHide,b))},dragOverCompleted:function(d){var h=d.sortable,b=d.isOwner,g=d.insertion,l=d.activeSortable,u=d.parentEl,o=d.putSortable,a=this.options;if(g){if(b&&l._hideClone(),gn=!1,a.animation&&Ae.length>1&&(St||!b&&!l.options.sort&&!o)){var t=Qe(Xe,!1,!0,!0);Ae.forEach(function(i){i!==Xe&&(Gi(i,t),u.appendChild(i))}),St=!0}if(!b)if(St||Fn(),Ae.length>1){var n=Bn;l._showClone(h),l.options.animation&&!Bn&&n&&At.forEach(function(i){l.addAnimationState({target:i,rect:vn}),i.fromRect=vn,i.thisAnimationDuration=null})}else l._showClone(h)}},dragOverAnimationCapture:function(d){var h=d.dragRect,b=d.isOwner,g=d.activeSortable;if(Ae.forEach(function(u){u.thisAnimationDuration=null}),g.options.animation&&!b&&g.multiDrag.isMultiDrag){vn=Rt({},h);var l=nn(Xe,!0);vn.top-=l.f,vn.left-=l.e}},dragOverAnimationComplete:function(){St&&(St=!1,Fn())},drop:function(d){var h=d.originalEvent,b=d.rootEl,g=d.parentEl,l=d.sortable,u=d.dispatchSortableEvent,o=d.oldIndex,a=d.putSortable,t=a||this.sortable;if(!!h){var n=this.options,i=g.children;if(!an)if(n.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Je(Xe,n.selectedClass,!~Ae.indexOf(Xe)),~Ae.indexOf(Xe))Ae.splice(Ae.indexOf(Xe),1),pn=null,mn({sortable:l,rootEl:b,name:"deselect",targetEl:Xe,originalEvt:h});else{if(Ae.push(Xe),mn({sortable:l,rootEl:b,name:"select",targetEl:Xe,originalEvt:h}),h.shiftKey&&pn&&l.el.contains(pn)){var e=tt(pn),r=tt(Xe);if(~e&&~r&&e!==r){var s,c;for(r>e?(c=e,s=r):(c=r,s=e+1);c<s;c++)~Ae.indexOf(i[c])||(Je(i[c],n.selectedClass,!0),Ae.push(i[c]),mn({sortable:l,rootEl:b,name:"select",targetEl:i[c],originalEvt:h}))}}else pn=Xe;Ot=t}if(an&&this.isMultiDrag){if(St=!1,(g[ft].options.sort||g!==b)&&Ae.length>1){var f=Qe(Xe),p=tt(Xe,":not(."+this.options.selectedClass+")");if(!gn&&n.animation&&(Xe.thisAnimationDuration=null),t.captureAnimationState(),!gn&&(n.animation&&(Xe.fromRect=f,Ae.forEach(function(m){if(m.thisAnimationDuration=null,m!==Xe){var y=St?Qe(m):f;m.fromRect=y,t.addAnimationState({target:m,rect:y})}})),Fn(),Ae.forEach(function(m){i[p]?g.insertBefore(m,i[p]):g.appendChild(m),p++}),o===tt(Xe))){var $=!1;Ae.forEach(function(m){if(m.sortableIndex!==tt(m)){$=!0;return}}),$&&u("update")}Ae.forEach(function(m){ti(m)}),t.animateAll()}Ot=t}(b===g||a&&a.lastPutMode!=="clone")&&At.forEach(function(m){m.parentNode&&m.parentNode.removeChild(m)})}},nullingGlobal:function(){this.isMultiDrag=an=!1,At.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Fe(document,"pointerup",this._deselectMultiDrag),Fe(document,"mouseup",this._deselectMultiDrag),Fe(document,"touchend",this._deselectMultiDrag),Fe(document,"keydown",this._checkKeyDown),Fe(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(d){if(!(typeof an!="undefined"&&an)&&Ot===this.sortable&&!(d&&Dt(d.target,this.options.draggable,this.sortable.el,!1))&&!(d&&d.button!==0))for(;Ae.length;){var h=Ae[0];Je(h,this.options.selectedClass,!1),Ae.shift(),mn({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:h,originalEvt:d})}},_checkKeyDown:function(d){d.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(d){d.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Rt(A,{pluginName:"multiDrag",utils:{select:function(d){var h=d.parentNode[ft];!h||!h.options.multiDrag||~Ae.indexOf(d)||(Ot&&Ot!==h&&(Ot.multiDrag._deselectMultiDrag(),Ot=h),Je(d,h.options.selectedClass,!0),Ae.push(d))},deselect:function(d){var h=d.parentNode[ft],b=Ae.indexOf(d);!h||!h.options.multiDrag||!~b||(Je(d,h.options.selectedClass,!1),Ae.splice(b,1))}},eventProperties:function(){var d=this,h=[],b=[];return Ae.forEach(function(g){h.push({multiDragElement:g,index:g.sortableIndex});var l;St&&g!==Xe?l=-1:St?l=tt(g,":not(."+d.options.selectedClass+")"):l=tt(g),b.push({multiDragElement:g,index:l})}),{items:Ul(Ae),clones:[].concat(At),oldIndicies:h,newIndicies:b}},optionListeners:{multiDragKey:function(d){return d=d.toLowerCase(),d==="ctrl"?d="Control":d.length>1&&(d=d.charAt(0).toUpperCase()+d.substr(1)),d}}})}function Sc(A,x){Ae.forEach(function(d,h){var b=x.children[d.sortableIndex+(A?Number(h):0)];b?x.insertBefore(d,b):x.appendChild(d)})}function Qi(A,x){At.forEach(function(d,h){var b=x.children[d.sortableIndex+(A?Number(h):0)];b?x.insertBefore(d,b):x.appendChild(d)})}function Fn(){Ae.forEach(function(A){A!==Xe&&A.parentNode&&A.parentNode.removeChild(A)})}ke.mount(new mc);ke.mount(Mi,Ti);const xc=Object.freeze(Object.defineProperty({__proto__:null,default:ke,MultiDrag:wc,Sortable:ke,Swap:yc},Symbol.toStringTag,{value:"Module"})),Cc=ur(xc);(function(A,x){(function(h,b){A.exports=b(Wl,Cc)})(typeof self!="undefined"?self:ha,function(d,h){return function(b){var g={};function l(u){if(g[u])return g[u].exports;var o=g[u]={i:u,l:!1,exports:{}};return b[u].call(o.exports,o,o.exports,l),o.l=!0,o.exports}return l.m=b,l.c=g,l.d=function(u,o,a){l.o(u,o)||Object.defineProperty(u,o,{enumerable:!0,get:a})},l.r=function(u){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},l.t=function(u,o){if(o&1&&(u=l(u)),o&8||o&4&&typeof u=="object"&&u&&u.__esModule)return u;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:u}),o&2&&typeof u!="string")for(var t in u)l.d(a,t,function(n){return u[n]}.bind(null,t));return a},l.n=function(u){var o=u&&u.__esModule?function(){return u.default}:function(){return u};return l.d(o,"a",o),o},l.o=function(u,o){return Object.prototype.hasOwnProperty.call(u,o)},l.p="",l(l.s="fb15")}({"00ee":function(b,g,l){var u=l("b622"),o=u("toStringTag"),a={};a[o]="z",b.exports=String(a)==="[object z]"},"0366":function(b,g,l){var u=l("1c0b");b.exports=function(o,a,t){if(u(o),a===void 0)return o;switch(t){case 0:return function(){return o.call(a)};case 1:return function(n){return o.call(a,n)};case 2:return function(n,i){return o.call(a,n,i)};case 3:return function(n,i,e){return o.call(a,n,i,e)}}return function(){return o.apply(a,arguments)}}},"057f":function(b,g,l){var u=l("fc6a"),o=l("241c").f,a={}.toString,t=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],n=function(i){try{return o(i)}catch(e){return t.slice()}};b.exports.f=function(e){return t&&a.call(e)=="[object Window]"?n(e):o(u(e))}},"06cf":function(b,g,l){var u=l("83ab"),o=l("d1e7"),a=l("5c6c"),t=l("fc6a"),n=l("c04e"),i=l("5135"),e=l("0cfb"),r=Object.getOwnPropertyDescriptor;g.f=u?r:function(c,f){if(c=t(c),f=n(f,!0),e)try{return r(c,f)}catch(p){}if(i(c,f))return a(!o.f.call(c,f),c[f])}},"0cfb":function(b,g,l){var u=l("83ab"),o=l("d039"),a=l("cc12");b.exports=!u&&!o(function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(b,g,l){var u=l("23e7"),o=l("d58f").left,a=l("a640"),t=l("ae40"),n=a("reduce"),i=t("reduce",{1:0});u({target:"Array",proto:!0,forced:!n||!i},{reduce:function(r){return o(this,r,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(b,g,l){var u=l("c6b6"),o=l("9263");b.exports=function(a,t){var n=a.exec;if(typeof n=="function"){var i=n.call(a,t);if(typeof i!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return i}if(u(a)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return o.call(a,t)}},"159b":function(b,g,l){var u=l("da84"),o=l("fdbc"),a=l("17c2"),t=l("9112");for(var n in o){var i=u[n],e=i&&i.prototype;if(e&&e.forEach!==a)try{t(e,"forEach",a)}catch(r){e.forEach=a}}},"17c2":function(b,g,l){var u=l("b727").forEach,o=l("a640"),a=l("ae40"),t=o("forEach"),n=a("forEach");b.exports=!t||!n?function(e){return u(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(b,g,l){var u=l("d066");b.exports=u("document","documentElement")},"1c0b":function(b,g){b.exports=function(l){if(typeof l!="function")throw TypeError(String(l)+" is not a function");return l}},"1c7e":function(b,g,l){var u=l("b622"),o=u("iterator"),a=!1;try{var t=0,n={next:function(){return{done:!!t++}},return:function(){a=!0}};n[o]=function(){return this},Array.from(n,function(){throw 2})}catch(i){}b.exports=function(i,e){if(!e&&!a)return!1;var r=!1;try{var s={};s[o]=function(){return{next:function(){return{done:r=!0}}}},i(s)}catch(c){}return r}},"1d80":function(b,g){b.exports=function(l){if(l==null)throw TypeError("Can't call method on "+l);return l}},"1dde":function(b,g,l){var u=l("d039"),o=l("b622"),a=l("2d00"),t=o("species");b.exports=function(n){return a>=51||!u(function(){var i=[],e=i.constructor={};return e[t]=function(){return{foo:1}},i[n](Boolean).foo!==1})}},"23cb":function(b,g,l){var u=l("a691"),o=Math.max,a=Math.min;b.exports=function(t,n){var i=u(t);return i<0?o(i+n,0):a(i,n)}},"23e7":function(b,g,l){var u=l("da84"),o=l("06cf").f,a=l("9112"),t=l("6eeb"),n=l("ce4e"),i=l("e893"),e=l("94ca");b.exports=function(r,s){var c=r.target,f=r.global,p=r.stat,$,m,y,v,T,M;if(f?m=u:p?m=u[c]||n(c,{}):m=(u[c]||{}).prototype,m)for(y in s){if(T=s[y],r.noTargetGet?(M=o(m,y),v=M&&M.value):v=m[y],$=e(f?y:c+(p?".":"#")+y,r.forced),!$&&v!==void 0){if(typeof T==typeof v)continue;i(T,v)}(r.sham||v&&v.sham)&&a(T,"sham",!0),t(m,y,T,r)}}},"241c":function(b,g,l){var u=l("ca84"),o=l("7839"),a=o.concat("length","prototype");g.f=Object.getOwnPropertyNames||function(n){return u(n,a)}},"25f0":function(b,g,l){var u=l("6eeb"),o=l("825a"),a=l("d039"),t=l("ad6d"),n="toString",i=RegExp.prototype,e=i[n],r=a(function(){return e.call({source:"a",flags:"b"})!="/a/b"}),s=e.name!=n;(r||s)&&u(RegExp.prototype,n,function(){var f=o(this),p=String(f.source),$=f.flags,m=String($===void 0&&f instanceof RegExp&&!("flags"in i)?t.call(f):$);return"/"+p+"/"+m},{unsafe:!0})},"2ca0":function(b,g,l){var u=l("23e7"),o=l("06cf").f,a=l("50c4"),t=l("5a34"),n=l("1d80"),i=l("ab13"),e=l("c430"),r="".startsWith,s=Math.min,c=i("startsWith"),f=!e&&!c&&!!function(){var p=o(String.prototype,"startsWith");return p&&!p.writable}();u({target:"String",proto:!0,forced:!f&&!c},{startsWith:function($){var m=String(n(this));t($);var y=a(s(arguments.length>1?arguments[1]:void 0,m.length)),v=String($);return r?r.call(m,v,y):m.slice(y,y+v.length)===v}})},"2d00":function(b,g,l){var u=l("da84"),o=l("342f"),a=u.process,t=a&&a.versions,n=t&&t.v8,i,e;n?(i=n.split("."),e=i[0]+i[1]):o&&(i=o.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/),i&&(e=i[1]))),b.exports=e&&+e},"342f":function(b,g,l){var u=l("d066");b.exports=u("navigator","userAgent")||""},"35a1":function(b,g,l){var u=l("f5df"),o=l("3f8c"),a=l("b622"),t=a("iterator");b.exports=function(n){if(n!=null)return n[t]||n["@@iterator"]||o[u(n)]}},"37e8":function(b,g,l){var u=l("83ab"),o=l("9bf2"),a=l("825a"),t=l("df75");b.exports=u?Object.defineProperties:function(i,e){a(i);for(var r=t(e),s=r.length,c=0,f;s>c;)o.f(i,f=r[c++],e[f]);return i}},"3bbe":function(b,g,l){var u=l("861d");b.exports=function(o){if(!u(o)&&o!==null)throw TypeError("Can't set "+String(o)+" as a prototype");return o}},"3ca3":function(b,g,l){var u=l("6547").charAt,o=l("69f3"),a=l("7dd0"),t="String Iterator",n=o.set,i=o.getterFor(t);a(String,"String",function(e){n(this,{type:t,string:String(e),index:0})},function(){var r=i(this),s=r.string,c=r.index,f;return c>=s.length?{value:void 0,done:!0}:(f=u(s,c),r.index+=f.length,{value:f,done:!1})})},"3f8c":function(b,g){b.exports={}},4160:function(b,g,l){var u=l("23e7"),o=l("17c2");u({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"428f":function(b,g,l){var u=l("da84");b.exports=u},"44ad":function(b,g,l){var u=l("d039"),o=l("c6b6"),a="".split;b.exports=u(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return o(t)=="String"?a.call(t,""):Object(t)}:Object},"44d2":function(b,g,l){var u=l("b622"),o=l("7c73"),a=l("9bf2"),t=u("unscopables"),n=Array.prototype;n[t]==null&&a.f(n,t,{configurable:!0,value:o(null)}),b.exports=function(i){n[t][i]=!0}},"44e7":function(b,g,l){var u=l("861d"),o=l("c6b6"),a=l("b622"),t=a("match");b.exports=function(n){var i;return u(n)&&((i=n[t])!==void 0?!!i:o(n)=="RegExp")}},4930:function(b,g,l){var u=l("d039");b.exports=!!Object.getOwnPropertySymbols&&!u(function(){return!String(Symbol())})},"4d64":function(b,g,l){var u=l("fc6a"),o=l("50c4"),a=l("23cb"),t=function(n){return function(i,e,r){var s=u(i),c=o(s.length),f=a(r,c),p;if(n&&e!=e){for(;c>f;)if(p=s[f++],p!=p)return!0}else for(;c>f;f++)if((n||f in s)&&s[f]===e)return n||f||0;return!n&&-1}};b.exports={includes:t(!0),indexOf:t(!1)}},"4de4":function(b,g,l){var u=l("23e7"),o=l("b727").filter,a=l("1dde"),t=l("ae40"),n=a("filter"),i=t("filter");u({target:"Array",proto:!0,forced:!n||!i},{filter:function(r){return o(this,r,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(b,g,l){var u=l("0366"),o=l("7b0b"),a=l("9bdd"),t=l("e95a"),n=l("50c4"),i=l("8418"),e=l("35a1");b.exports=function(s){var c=o(s),f=typeof this=="function"?this:Array,p=arguments.length,$=p>1?arguments[1]:void 0,m=$!==void 0,y=e(c),v=0,T,M,E,C,S,I;if(m&&($=u($,p>2?arguments[2]:void 0,2)),y!=null&&!(f==Array&&t(y)))for(C=y.call(c),S=C.next,M=new f;!(E=S.call(C)).done;v++)I=m?a(C,$,[E.value,v],!0):E.value,i(M,v,I);else for(T=n(c.length),M=new f(T);T>v;v++)I=m?$(c[v],v):c[v],i(M,v,I);return M.length=v,M}},"4fad":function(b,g,l){var u=l("23e7"),o=l("6f53").entries;u({target:"Object",stat:!0},{entries:function(t){return o(t)}})},"50c4":function(b,g,l){var u=l("a691"),o=Math.min;b.exports=function(a){return a>0?o(u(a),9007199254740991):0}},5135:function(b,g){var l={}.hasOwnProperty;b.exports=function(u,o){return l.call(u,o)}},5319:function(b,g,l){var u=l("d784"),o=l("825a"),a=l("7b0b"),t=l("50c4"),n=l("a691"),i=l("1d80"),e=l("8aa5"),r=l("14c3"),s=Math.max,c=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,$=/\$([$&'`]|\d\d?)/g,m=function(y){return y===void 0?y:String(y)};u("replace",2,function(y,v,T,M){var E=M.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,C=M.REPLACE_KEEPS_$0,S=E?"$":"$0";return[function(w,R){var L=i(this),O=w==null?void 0:w[y];return O!==void 0?O.call(w,L,R):v.call(String(L),w,R)},function(k,w){if(!E&&C||typeof w=="string"&&w.indexOf(S)===-1){var R=T(v,k,this,w);if(R.done)return R.value}var L=o(k),O=String(this),P=typeof w=="function";P||(w=String(w));var B=L.global;if(B){var H=L.unicode;L.lastIndex=0}for(var V=[];;){var U=r(L,O);if(U===null||(V.push(U),!B))break;var _=String(U[0]);_===""&&(L.lastIndex=e(O,t(L.lastIndex),H))}for(var z="",K=0,J=0;J<V.length;J++){U=V[J];for(var ee=String(U[0]),ie=s(c(n(U.index),O.length),0),se=[],he=1;he<U.length;he++)se.push(m(U[he]));var pe=U.groups;if(P){var Me=[ee].concat(se,ie,O);pe!==void 0&&Me.push(pe);var Ie=String(w.apply(void 0,Me))}else Ie=I(ee,O,ie,se,pe,w);ie>=K&&(z+=O.slice(K,ie)+Ie,K=ie+ee.length)}return z+O.slice(K)}];function I(k,w,R,L,O,P){var B=R+k.length,H=L.length,V=$;return O!==void 0&&(O=a(O),V=p),v.call(P,V,function(U,_){var z;switch(_.charAt(0)){case"$":return"$";case"&":return k;case"`":return w.slice(0,R);case"'":return w.slice(B);case"<":z=O[_.slice(1,-1)];break;default:var K=+_;if(K===0)return U;if(K>H){var J=f(K/10);return J===0?U:J<=H?L[J-1]===void 0?_.charAt(1):L[J-1]+_.charAt(1):U}z=L[K-1]}return z===void 0?"":z})}})},5692:function(b,g,l){var u=l("c430"),o=l("c6cd");(b.exports=function(a,t){return o[a]||(o[a]=t!==void 0?t:{})})("versions",[]).push({version:"3.6.5",mode:u?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(b,g,l){var u=l("d066"),o=l("241c"),a=l("7418"),t=l("825a");b.exports=u("Reflect","ownKeys")||function(i){var e=o.f(t(i)),r=a.f;return r?e.concat(r(i)):e}},"5a34":function(b,g,l){var u=l("44e7");b.exports=function(o){if(u(o))throw TypeError("The method doesn't accept regular expressions");return o}},"5c6c":function(b,g){b.exports=function(l,u){return{enumerable:!(l&1),configurable:!(l&2),writable:!(l&4),value:u}}},"5db7":function(b,g,l){var u=l("23e7"),o=l("a2bf"),a=l("7b0b"),t=l("50c4"),n=l("1c0b"),i=l("65f0");u({target:"Array",proto:!0},{flatMap:function(r){var s=a(this),c=t(s.length),f;return n(r),f=i(s,0),f.length=o(f,s,s,c,0,1,r,arguments.length>1?arguments[1]:void 0),f}})},6547:function(b,g,l){var u=l("a691"),o=l("1d80"),a=function(t){return function(n,i){var e=String(o(n)),r=u(i),s=e.length,c,f;return r<0||r>=s?t?"":void 0:(c=e.charCodeAt(r),c<55296||c>56319||r+1===s||(f=e.charCodeAt(r+1))<56320||f>57343?t?e.charAt(r):c:t?e.slice(r,r+2):(c-55296<<10)+(f-56320)+65536)}};b.exports={codeAt:a(!1),charAt:a(!0)}},"65f0":function(b,g,l){var u=l("861d"),o=l("e8b5"),a=l("b622"),t=a("species");b.exports=function(n,i){var e;return o(n)&&(e=n.constructor,typeof e=="function"&&(e===Array||o(e.prototype))?e=void 0:u(e)&&(e=e[t],e===null&&(e=void 0))),new(e===void 0?Array:e)(i===0?0:i)}},"69f3":function(b,g,l){var u=l("7f9a"),o=l("da84"),a=l("861d"),t=l("9112"),n=l("5135"),i=l("f772"),e=l("d012"),r=o.WeakMap,s,c,f,p=function(E){return f(E)?c(E):s(E,{})},$=function(E){return function(C){var S;if(!a(C)||(S=c(C)).type!==E)throw TypeError("Incompatible receiver, "+E+" required");return S}};if(u){var m=new r,y=m.get,v=m.has,T=m.set;s=function(E,C){return T.call(m,E,C),C},c=function(E){return y.call(m,E)||{}},f=function(E){return v.call(m,E)}}else{var M=i("state");e[M]=!0,s=function(E,C){return t(E,M,C),C},c=function(E){return n(E,M)?E[M]:{}},f=function(E){return n(E,M)}}b.exports={set:s,get:c,has:f,enforce:p,getterFor:$}},"6eeb":function(b,g,l){var u=l("da84"),o=l("9112"),a=l("5135"),t=l("ce4e"),n=l("8925"),i=l("69f3"),e=i.get,r=i.enforce,s=String(String).split("String");(b.exports=function(c,f,p,$){var m=$?!!$.unsafe:!1,y=$?!!$.enumerable:!1,v=$?!!$.noTargetGet:!1;if(typeof p=="function"&&(typeof f=="string"&&!a(p,"name")&&o(p,"name",f),r(p).source=s.join(typeof f=="string"?f:"")),c===u){y?c[f]=p:t(f,p);return}else m?!v&&c[f]&&(y=!0):delete c[f];y?c[f]=p:o(c,f,p)})(Function.prototype,"toString",function(){return typeof this=="function"&&e(this).source||n(this)})},"6f53":function(b,g,l){var u=l("83ab"),o=l("df75"),a=l("fc6a"),t=l("d1e7").f,n=function(i){return function(e){for(var r=a(e),s=o(r),c=s.length,f=0,p=[],$;c>f;)$=s[f++],(!u||t.call(r,$))&&p.push(i?[$,r[$]]:r[$]);return p}};b.exports={entries:n(!0),values:n(!1)}},"73d9":function(b,g,l){var u=l("44d2");u("flatMap")},7418:function(b,g){g.f=Object.getOwnPropertySymbols},"746f":function(b,g,l){var u=l("428f"),o=l("5135"),a=l("e538"),t=l("9bf2").f;b.exports=function(n){var i=u.Symbol||(u.Symbol={});o(i,n)||t(i,n,{value:a.f(n)})}},7839:function(b,g){b.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(b,g,l){var u=l("1d80");b.exports=function(o){return Object(u(o))}},"7c73":function(b,g,l){var u=l("825a"),o=l("37e8"),a=l("7839"),t=l("d012"),n=l("1be4"),i=l("cc12"),e=l("f772"),r=">",s="<",c="prototype",f="script",p=e("IE_PROTO"),$=function(){},m=function(E){return s+f+r+E+s+"/"+f+r},y=function(E){E.write(m("")),E.close();var C=E.parentWindow.Object;return E=null,C},v=function(){var E=i("iframe"),C="java"+f+":",S;return E.style.display="none",n.appendChild(E),E.src=String(C),S=E.contentWindow.document,S.open(),S.write(m("document.F=Object")),S.close(),S.F},T,M=function(){try{T=document.domain&&new ActiveXObject("htmlfile")}catch(C){}M=T?y(T):v();for(var E=a.length;E--;)delete M[c][a[E]];return M()};t[p]=!0,b.exports=Object.create||function(C,S){var I;return C!==null?($[c]=u(C),I=new $,$[c]=null,I[p]=C):I=M(),S===void 0?I:o(I,S)}},"7dd0":function(b,g,l){var u=l("23e7"),o=l("9ed3"),a=l("e163"),t=l("d2bb"),n=l("d44e"),i=l("9112"),e=l("6eeb"),r=l("b622"),s=l("c430"),c=l("3f8c"),f=l("ae93"),p=f.IteratorPrototype,$=f.BUGGY_SAFARI_ITERATORS,m=r("iterator"),y="keys",v="values",T="entries",M=function(){return this};b.exports=function(E,C,S,I,k,w,R){o(S,C,I);var L=function(J){if(J===k&&V)return V;if(!$&&J in B)return B[J];switch(J){case y:return function(){return new S(this,J)};case v:return function(){return new S(this,J)};case T:return function(){return new S(this,J)}}return function(){return new S(this)}},O=C+" Iterator",P=!1,B=E.prototype,H=B[m]||B["@@iterator"]||k&&B[k],V=!$&&H||L(k),U=C=="Array"&&B.entries||H,_,z,K;if(U&&(_=a(U.call(new E)),p!==Object.prototype&&_.next&&(!s&&a(_)!==p&&(t?t(_,p):typeof _[m]!="function"&&i(_,m,M)),n(_,O,!0,!0),s&&(c[O]=M))),k==v&&H&&H.name!==v&&(P=!0,V=function(){return H.call(this)}),(!s||R)&&B[m]!==V&&i(B,m,V),c[C]=V,k)if(z={values:L(v),keys:w?V:L(y),entries:L(T)},R)for(K in z)($||P||!(K in B))&&e(B,K,z[K]);else u({target:C,proto:!0,forced:$||P},z);return z}},"7f9a":function(b,g,l){var u=l("da84"),o=l("8925"),a=u.WeakMap;b.exports=typeof a=="function"&&/native code/.test(o(a))},"825a":function(b,g,l){var u=l("861d");b.exports=function(o){if(!u(o))throw TypeError(String(o)+" is not an object");return o}},"83ab":function(b,g,l){var u=l("d039");b.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(b,g,l){var u=l("c04e"),o=l("9bf2"),a=l("5c6c");b.exports=function(t,n,i){var e=u(n);e in t?o.f(t,e,a(0,i)):t[e]=i}},"861d":function(b,g){b.exports=function(l){return typeof l=="object"?l!==null:typeof l=="function"}},8875:function(b,g,l){var u,o,a;(function(t,n){o=[],u=n,a=typeof u=="function"?u.apply(g,o):u,a!==void 0&&(b.exports=a)})(typeof self!="undefined"?self:this,function(){function t(){var n=Object.getOwnPropertyDescriptor(document,"currentScript");if(!n&&"currentScript"in document&&document.currentScript||n&&n.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(T){var i=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,e=/@([^@]*):(\d+):(\d+)\s*$/ig,r=i.exec(T.stack)||e.exec(T.stack),s=r&&r[1]||!1,c=r&&r[2]||!1,f=document.location.href.replace(document.location.hash,""),p,$,m,y=document.getElementsByTagName("script");s===f&&(p=document.documentElement.outerHTML,$=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),m=p.replace($,"$1").trim());for(var v=0;v<y.length;v++)if(y[v].readyState==="interactive"||y[v].src===s||s===f&&y[v].innerHTML&&y[v].innerHTML.trim()===m)return y[v];return null}}return t})},8925:function(b,g,l){var u=l("c6cd"),o=Function.toString;typeof u.inspectSource!="function"&&(u.inspectSource=function(a){return o.call(a)}),b.exports=u.inspectSource},"8aa5":function(b,g,l){var u=l("6547").charAt;b.exports=function(o,a,t){return a+(t?u(o,a).length:1)}},"8bbf":function(b,g){b.exports=d},"90e3":function(b,g){var l=0,u=Math.random();b.exports=function(o){return"Symbol("+String(o===void 0?"":o)+")_"+(++l+u).toString(36)}},9112:function(b,g,l){var u=l("83ab"),o=l("9bf2"),a=l("5c6c");b.exports=u?function(t,n,i){return o.f(t,n,a(1,i))}:function(t,n,i){return t[n]=i,t}},9263:function(b,g,l){var u=l("ad6d"),o=l("9f7f"),a=RegExp.prototype.exec,t=String.prototype.replace,n=a,i=function(){var c=/a/,f=/b*/g;return a.call(c,"a"),a.call(f,"a"),c.lastIndex!==0||f.lastIndex!==0}(),e=o.UNSUPPORTED_Y||o.BROKEN_CARET,r=/()??/.exec("")[1]!==void 0,s=i||r||e;s&&(n=function(f){var p=this,$,m,y,v,T=e&&p.sticky,M=u.call(p),E=p.source,C=0,S=f;return T&&(M=M.replace("y",""),M.indexOf("g")===-1&&(M+="g"),S=String(f).slice(p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&f[p.lastIndex-1]!==`
`)&&(E="(?: "+E+")",S=" "+S,C++),m=new RegExp("^(?:"+E+")",M)),r&&(m=new RegExp("^"+E+"$(?!\\s)",M)),i&&($=p.lastIndex),y=a.call(T?m:p,S),T?y?(y.input=y.input.slice(C),y[0]=y[0].slice(C),y.index=p.lastIndex,p.lastIndex+=y[0].length):p.lastIndex=0:i&&y&&(p.lastIndex=p.global?y.index+y[0].length:$),r&&y&&y.length>1&&t.call(y[0],m,function(){for(v=1;v<arguments.length-2;v++)arguments[v]===void 0&&(y[v]=void 0)}),y}),b.exports=n},"94ca":function(b,g,l){var u=l("d039"),o=/#|\.prototype\./,a=function(r,s){var c=n[t(r)];return c==e?!0:c==i?!1:typeof s=="function"?u(s):!!s},t=a.normalize=function(r){return String(r).replace(o,".").toLowerCase()},n=a.data={},i=a.NATIVE="N",e=a.POLYFILL="P";b.exports=a},"99af":function(b,g,l){var u=l("23e7"),o=l("d039"),a=l("e8b5"),t=l("861d"),n=l("7b0b"),i=l("50c4"),e=l("8418"),r=l("65f0"),s=l("1dde"),c=l("b622"),f=l("2d00"),p=c("isConcatSpreadable"),$=9007199254740991,m="Maximum allowed index exceeded",y=f>=51||!o(function(){var E=[];return E[p]=!1,E.concat()[0]!==E}),v=s("concat"),T=function(E){if(!t(E))return!1;var C=E[p];return C!==void 0?!!C:a(E)},M=!y||!v;u({target:"Array",proto:!0,forced:M},{concat:function(C){var S=n(this),I=r(S,0),k=0,w,R,L,O,P;for(w=-1,L=arguments.length;w<L;w++)if(P=w===-1?S:arguments[w],T(P)){if(O=i(P.length),k+O>$)throw TypeError(m);for(R=0;R<O;R++,k++)R in P&&e(I,k,P[R])}else{if(k>=$)throw TypeError(m);e(I,k++,P)}return I.length=k,I}})},"9bdd":function(b,g,l){var u=l("825a");b.exports=function(o,a,t,n){try{return n?a(u(t)[0],t[1]):a(t)}catch(e){var i=o.return;throw i!==void 0&&u(i.call(o)),e}}},"9bf2":function(b,g,l){var u=l("83ab"),o=l("0cfb"),a=l("825a"),t=l("c04e"),n=Object.defineProperty;g.f=u?n:function(e,r,s){if(a(e),r=t(r,!0),a(s),o)try{return n(e,r,s)}catch(c){}if("get"in s||"set"in s)throw TypeError("Accessors not supported");return"value"in s&&(e[r]=s.value),e}},"9ed3":function(b,g,l){var u=l("ae93").IteratorPrototype,o=l("7c73"),a=l("5c6c"),t=l("d44e"),n=l("3f8c"),i=function(){return this};b.exports=function(e,r,s){var c=r+" Iterator";return e.prototype=o(u,{next:a(1,s)}),t(e,c,!1,!0),n[c]=i,e}},"9f7f":function(b,g,l){var u=l("d039");function o(a,t){return RegExp(a,t)}g.UNSUPPORTED_Y=u(function(){var a=o("a","y");return a.lastIndex=2,a.exec("abcd")!=null}),g.BROKEN_CARET=u(function(){var a=o("^r","gy");return a.lastIndex=2,a.exec("str")!=null})},a2bf:function(b,g,l){var u=l("e8b5"),o=l("50c4"),a=l("0366"),t=function(n,i,e,r,s,c,f,p){for(var $=s,m=0,y=f?a(f,p,3):!1,v;m<r;){if(m in e){if(v=y?y(e[m],m,i):e[m],c>0&&u(v))$=t(n,i,v,o(v.length),$,c-1)-1;else{if($>=9007199254740991)throw TypeError("Exceed the acceptable array length");n[$]=v}$++}m++}return $};b.exports=t},a352:function(b,g){b.exports=h},a434:function(b,g,l){var u=l("23e7"),o=l("23cb"),a=l("a691"),t=l("50c4"),n=l("7b0b"),i=l("65f0"),e=l("8418"),r=l("1dde"),s=l("ae40"),c=r("splice"),f=s("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,$=Math.min,m=9007199254740991,y="Maximum allowed length exceeded";u({target:"Array",proto:!0,forced:!c||!f},{splice:function(T,M){var E=n(this),C=t(E.length),S=o(T,C),I=arguments.length,k,w,R,L,O,P;if(I===0?k=w=0:I===1?(k=0,w=C-S):(k=I-2,w=$(p(a(M),0),C-S)),C+k-w>m)throw TypeError(y);for(R=i(E,w),L=0;L<w;L++)O=S+L,O in E&&e(R,L,E[O]);if(R.length=w,k<w){for(L=S;L<C-w;L++)O=L+w,P=L+k,O in E?E[P]=E[O]:delete E[P];for(L=C;L>C-w+k;L--)delete E[L-1]}else if(k>w)for(L=C-w;L>S;L--)O=L+w-1,P=L+k-1,O in E?E[P]=E[O]:delete E[P];for(L=0;L<k;L++)E[L+S]=arguments[L+2];return E.length=C-w+k,R}})},a4d3:function(b,g,l){var u=l("23e7"),o=l("da84"),a=l("d066"),t=l("c430"),n=l("83ab"),i=l("4930"),e=l("fdbf"),r=l("d039"),s=l("5135"),c=l("e8b5"),f=l("861d"),p=l("825a"),$=l("7b0b"),m=l("fc6a"),y=l("c04e"),v=l("5c6c"),T=l("7c73"),M=l("df75"),E=l("241c"),C=l("057f"),S=l("7418"),I=l("06cf"),k=l("9bf2"),w=l("d1e7"),R=l("9112"),L=l("6eeb"),O=l("5692"),P=l("f772"),B=l("d012"),H=l("90e3"),V=l("b622"),U=l("e538"),_=l("746f"),z=l("d44e"),K=l("69f3"),J=l("b727").forEach,ee=P("hidden"),ie="Symbol",se="prototype",he=V("toPrimitive"),pe=K.set,Me=K.getterFor(ie),Ie=Object[se],Ee=o.Symbol,Oe=a("JSON","stringify"),Ye=I.f,lt=k.f,gt=C.f,Pt=w.f,ct=O("symbols"),$t=O("op-symbols"),te=O("string-to-symbol-registry"),ye=O("symbol-to-string-registry"),xe=O("wks"),Be=o.QObject,We=!Be||!Be[se]||!Be[se].findChild,Ue=n&&r(function(){return T(lt({},"a",{get:function(){return lt(this,"a",{value:7}).a}})).a!=7})?function(oe,ae,ue){var we=Ye(Ie,ae);we&&delete Ie[ae],lt(oe,ae,ue),we&&oe!==Ie&&lt(Ie,ae,we)}:lt,je=function(oe,ae){var ue=ct[oe]=T(Ee[se]);return pe(ue,{type:ie,tag:oe,description:ae}),n||(ue.description=ae),ue},G=e?function(oe){return typeof oe=="symbol"}:function(oe){return Object(oe)instanceof Ee},j=function(ae,ue,we){ae===Ie&&j($t,ue,we),p(ae);var Se=y(ue,!0);return p(we),s(ct,Se)?(we.enumerable?(s(ae,ee)&&ae[ee][Se]&&(ae[ee][Se]=!1),we=T(we,{enumerable:v(0,!1)})):(s(ae,ee)||lt(ae,ee,v(1,{})),ae[ee][Se]=!0),Ue(ae,Se,we)):lt(ae,Se,we)},Y=function(ae,ue){p(ae);var we=m(ue),Se=M(we).concat(ne(we));return J(Se,function(_e){(!n||N.call(we,_e))&&j(ae,_e,we[_e])}),ae},D=function(ae,ue){return ue===void 0?T(ae):Y(T(ae),ue)},N=function(ae){var ue=y(ae,!0),we=Pt.call(this,ue);return this===Ie&&s(ct,ue)&&!s($t,ue)?!1:we||!s(this,ue)||!s(ct,ue)||s(this,ee)&&this[ee][ue]?we:!0},Z=function(ae,ue){var we=m(ae),Se=y(ue,!0);if(!(we===Ie&&s(ct,Se)&&!s($t,Se))){var _e=Ye(we,Se);return _e&&s(ct,Se)&&!(s(we,ee)&&we[ee][Se])&&(_e.enumerable=!0),_e}},Q=function(ae){var ue=gt(m(ae)),we=[];return J(ue,function(Se){!s(ct,Se)&&!s(B,Se)&&we.push(Se)}),we},ne=function(ae){var ue=ae===Ie,we=gt(ue?$t:m(ae)),Se=[];return J(we,function(_e){s(ct,_e)&&(!ue||s(Ie,_e))&&Se.push(ct[_e])}),Se};if(i||(Ee=function(){if(this instanceof Ee)throw TypeError("Symbol is not a constructor");var ae=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),ue=H(ae),we=function(Se){this===Ie&&we.call($t,Se),s(this,ee)&&s(this[ee],ue)&&(this[ee][ue]=!1),Ue(this,ue,v(1,Se))};return n&&We&&Ue(Ie,ue,{configurable:!0,set:we}),je(ue,ae)},L(Ee[se],"toString",function(){return Me(this).tag}),L(Ee,"withoutSetter",function(oe){return je(H(oe),oe)}),w.f=N,k.f=j,I.f=Z,E.f=C.f=Q,S.f=ne,U.f=function(oe){return je(V(oe),oe)},n&&(lt(Ee[se],"description",{configurable:!0,get:function(){return Me(this).description}}),t||L(Ie,"propertyIsEnumerable",N,{unsafe:!0}))),u({global:!0,wrap:!0,forced:!i,sham:!i},{Symbol:Ee}),J(M(xe),function(oe){_(oe)}),u({target:ie,stat:!0,forced:!i},{for:function(oe){var ae=String(oe);if(s(te,ae))return te[ae];var ue=Ee(ae);return te[ae]=ue,ye[ue]=ae,ue},keyFor:function(ae){if(!G(ae))throw TypeError(ae+" is not a symbol");if(s(ye,ae))return ye[ae]},useSetter:function(){We=!0},useSimple:function(){We=!1}}),u({target:"Object",stat:!0,forced:!i,sham:!n},{create:D,defineProperty:j,defineProperties:Y,getOwnPropertyDescriptor:Z}),u({target:"Object",stat:!0,forced:!i},{getOwnPropertyNames:Q,getOwnPropertySymbols:ne}),u({target:"Object",stat:!0,forced:r(function(){S.f(1)})},{getOwnPropertySymbols:function(ae){return S.f($(ae))}}),Oe){var de=!i||r(function(){var oe=Ee();return Oe([oe])!="[null]"||Oe({a:oe})!="{}"||Oe(Object(oe))!="{}"});u({target:"JSON",stat:!0,forced:de},{stringify:function(ae,ue,we){for(var Se=[ae],_e=1,vt;arguments.length>_e;)Se.push(arguments[_e++]);if(vt=ue,!(!f(ue)&&ae===void 0||G(ae)))return c(ue)||(ue=function(jt,rn){if(typeof vt=="function"&&(rn=vt.call(this,jt,rn)),!G(rn))return rn}),Se[1]=ue,Oe.apply(null,Se)}})}Ee[se][he]||R(Ee[se],he,Ee[se].valueOf),z(Ee,ie),B[ee]=!0},a630:function(b,g,l){var u=l("23e7"),o=l("4df4"),a=l("1c7e"),t=!a(function(n){Array.from(n)});u({target:"Array",stat:!0,forced:t},{from:o})},a640:function(b,g,l){var u=l("d039");b.exports=function(o,a){var t=[][o];return!!t&&u(function(){t.call(null,a||function(){throw 1},1)})}},a691:function(b,g){var l=Math.ceil,u=Math.floor;b.exports=function(o){return isNaN(o=+o)?0:(o>0?u:l)(o)}},ab13:function(b,g,l){var u=l("b622"),o=u("match");b.exports=function(a){var t=/./;try{"/./"[a](t)}catch(n){try{return t[o]=!1,"/./"[a](t)}catch(i){}}return!1}},ac1f:function(b,g,l){var u=l("23e7"),o=l("9263");u({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},ad6d:function(b,g,l){var u=l("825a");b.exports=function(){var o=u(this),a="";return o.global&&(a+="g"),o.ignoreCase&&(a+="i"),o.multiline&&(a+="m"),o.dotAll&&(a+="s"),o.unicode&&(a+="u"),o.sticky&&(a+="y"),a}},ae40:function(b,g,l){var u=l("83ab"),o=l("d039"),a=l("5135"),t=Object.defineProperty,n={},i=function(e){throw e};b.exports=function(e,r){if(a(n,e))return n[e];r||(r={});var s=[][e],c=a(r,"ACCESSORS")?r.ACCESSORS:!1,f=a(r,0)?r[0]:i,p=a(r,1)?r[1]:void 0;return n[e]=!!s&&!o(function(){if(c&&!u)return!0;var $={length:-1};c?t($,1,{enumerable:!0,get:i}):$[1]=1,s.call($,f,p)})}},ae93:function(b,g,l){var u=l("e163"),o=l("9112"),a=l("5135"),t=l("b622"),n=l("c430"),i=t("iterator"),e=!1,r=function(){return this},s,c,f;[].keys&&(f=[].keys(),"next"in f?(c=u(u(f)),c!==Object.prototype&&(s=c)):e=!0),s==null&&(s={}),!n&&!a(s,i)&&o(s,i,r),b.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:e}},b041:function(b,g,l){var u=l("00ee"),o=l("f5df");b.exports=u?{}.toString:function(){return"[object "+o(this)+"]"}},b0c0:function(b,g,l){var u=l("83ab"),o=l("9bf2").f,a=Function.prototype,t=a.toString,n=/^\s*function ([^ (]*)/,i="name";u&&!(i in a)&&o(a,i,{configurable:!0,get:function(){try{return t.call(this).match(n)[1]}catch(e){return""}}})},b622:function(b,g,l){var u=l("da84"),o=l("5692"),a=l("5135"),t=l("90e3"),n=l("4930"),i=l("fdbf"),e=o("wks"),r=u.Symbol,s=i?r:r&&r.withoutSetter||t;b.exports=function(c){return a(e,c)||(n&&a(r,c)?e[c]=r[c]:e[c]=s("Symbol."+c)),e[c]}},b64b:function(b,g,l){var u=l("23e7"),o=l("7b0b"),a=l("df75"),t=l("d039"),n=t(function(){a(1)});u({target:"Object",stat:!0,forced:n},{keys:function(e){return a(o(e))}})},b727:function(b,g,l){var u=l("0366"),o=l("44ad"),a=l("7b0b"),t=l("50c4"),n=l("65f0"),i=[].push,e=function(r){var s=r==1,c=r==2,f=r==3,p=r==4,$=r==6,m=r==5||$;return function(y,v,T,M){for(var E=a(y),C=o(E),S=u(v,T,3),I=t(C.length),k=0,w=M||n,R=s?w(y,I):c?w(y,0):void 0,L,O;I>k;k++)if((m||k in C)&&(L=C[k],O=S(L,k,E),r)){if(s)R[k]=O;else if(O)switch(r){case 3:return!0;case 5:return L;case 6:return k;case 2:i.call(R,L)}else if(p)return!1}return $?-1:f||p?p:R}};b.exports={forEach:e(0),map:e(1),filter:e(2),some:e(3),every:e(4),find:e(5),findIndex:e(6)}},c04e:function(b,g,l){var u=l("861d");b.exports=function(o,a){if(!u(o))return o;var t,n;if(a&&typeof(t=o.toString)=="function"&&!u(n=t.call(o))||typeof(t=o.valueOf)=="function"&&!u(n=t.call(o))||!a&&typeof(t=o.toString)=="function"&&!u(n=t.call(o)))return n;throw TypeError("Can't convert object to primitive value")}},c430:function(b,g){b.exports=!1},c6b6:function(b,g){var l={}.toString;b.exports=function(u){return l.call(u).slice(8,-1)}},c6cd:function(b,g,l){var u=l("da84"),o=l("ce4e"),a="__core-js_shared__",t=u[a]||o(a,{});b.exports=t},c740:function(b,g,l){var u=l("23e7"),o=l("b727").findIndex,a=l("44d2"),t=l("ae40"),n="findIndex",i=!0,e=t(n);n in[]&&Array(1)[n](function(){i=!1}),u({target:"Array",proto:!0,forced:i||!e},{findIndex:function(s){return o(this,s,arguments.length>1?arguments[1]:void 0)}}),a(n)},c8ba:function(b,g){var l;l=function(){return this}();try{l=l||new Function("return this")()}catch(u){typeof window=="object"&&(l=window)}b.exports=l},c975:function(b,g,l){var u=l("23e7"),o=l("4d64").indexOf,a=l("a640"),t=l("ae40"),n=[].indexOf,i=!!n&&1/[1].indexOf(1,-0)<0,e=a("indexOf"),r=t("indexOf",{ACCESSORS:!0,1:0});u({target:"Array",proto:!0,forced:i||!e||!r},{indexOf:function(c){return i?n.apply(this,arguments)||0:o(this,c,arguments.length>1?arguments[1]:void 0)}})},ca84:function(b,g,l){var u=l("5135"),o=l("fc6a"),a=l("4d64").indexOf,t=l("d012");b.exports=function(n,i){var e=o(n),r=0,s=[],c;for(c in e)!u(t,c)&&u(e,c)&&s.push(c);for(;i.length>r;)u(e,c=i[r++])&&(~a(s,c)||s.push(c));return s}},caad:function(b,g,l){var u=l("23e7"),o=l("4d64").includes,a=l("44d2"),t=l("ae40"),n=t("indexOf",{ACCESSORS:!0,1:0});u({target:"Array",proto:!0,forced:!n},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},cc12:function(b,g,l){var u=l("da84"),o=l("861d"),a=u.document,t=o(a)&&o(a.createElement);b.exports=function(n){return t?a.createElement(n):{}}},ce4e:function(b,g,l){var u=l("da84"),o=l("9112");b.exports=function(a,t){try{o(u,a,t)}catch(n){u[a]=t}return t}},d012:function(b,g){b.exports={}},d039:function(b,g){b.exports=function(l){try{return!!l()}catch(u){return!0}}},d066:function(b,g,l){var u=l("428f"),o=l("da84"),a=function(t){return typeof t=="function"?t:void 0};b.exports=function(t,n){return arguments.length<2?a(u[t])||a(o[t]):u[t]&&u[t][n]||o[t]&&o[t][n]}},d1e7:function(b,g,l){var u={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,a=o&&!u.call({1:2},1);g.f=a?function(n){var i=o(this,n);return!!i&&i.enumerable}:u},d28b:function(b,g,l){var u=l("746f");u("iterator")},d2bb:function(b,g,l){var u=l("825a"),o=l("3bbe");b.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var a=!1,t={},n;try{n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,n.call(t,[]),a=t instanceof Array}catch(i){}return function(e,r){return u(e),o(r),a?n.call(e,r):e.__proto__=r,e}}():void 0)},d3b7:function(b,g,l){var u=l("00ee"),o=l("6eeb"),a=l("b041");u||o(Object.prototype,"toString",a,{unsafe:!0})},d44e:function(b,g,l){var u=l("9bf2").f,o=l("5135"),a=l("b622"),t=a("toStringTag");b.exports=function(n,i,e){n&&!o(n=e?n:n.prototype,t)&&u(n,t,{configurable:!0,value:i})}},d58f:function(b,g,l){var u=l("1c0b"),o=l("7b0b"),a=l("44ad"),t=l("50c4"),n=function(i){return function(e,r,s,c){u(r);var f=o(e),p=a(f),$=t(f.length),m=i?$-1:0,y=i?-1:1;if(s<2)for(;;){if(m in p){c=p[m],m+=y;break}if(m+=y,i?m<0:$<=m)throw TypeError("Reduce of empty array with no initial value")}for(;i?m>=0:$>m;m+=y)m in p&&(c=r(c,p[m],m,f));return c}};b.exports={left:n(!1),right:n(!0)}},d784:function(b,g,l){l("ac1f");var u=l("6eeb"),o=l("d039"),a=l("b622"),t=l("9263"),n=l("9112"),i=a("species"),e=!o(function(){var p=/./;return p.exec=function(){var $=[];return $.groups={a:"7"},$},"".replace(p,"$<a>")!=="7"}),r=function(){return"a".replace(/./,"$0")==="$0"}(),s=a("replace"),c=function(){return/./[s]?/./[s]("a","$0")==="":!1}(),f=!o(function(){var p=/(?:)/,$=p.exec;p.exec=function(){return $.apply(this,arguments)};var m="ab".split(p);return m.length!==2||m[0]!=="a"||m[1]!=="b"});b.exports=function(p,$,m,y){var v=a(p),T=!o(function(){var k={};return k[v]=function(){return 7},""[p](k)!=7}),M=T&&!o(function(){var k=!1,w=/a/;return p==="split"&&(w={},w.constructor={},w.constructor[i]=function(){return w},w.flags="",w[v]=/./[v]),w.exec=function(){return k=!0,null},w[v](""),!k});if(!T||!M||p==="replace"&&!(e&&r&&!c)||p==="split"&&!f){var E=/./[v],C=m(v,""[p],function(k,w,R,L,O){return w.exec===t?T&&!O?{done:!0,value:E.call(w,R,L)}:{done:!0,value:k.call(R,w,L)}:{done:!1}},{REPLACE_KEEPS_$0:r,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:c}),S=C[0],I=C[1];u(String.prototype,p,S),u(RegExp.prototype,v,$==2?function(k,w){return I.call(k,this,w)}:function(k){return I.call(k,this)})}y&&n(RegExp.prototype[v],"sham",!0)}},d81d:function(b,g,l){var u=l("23e7"),o=l("b727").map,a=l("1dde"),t=l("ae40"),n=a("map"),i=t("map");u({target:"Array",proto:!0,forced:!n||!i},{map:function(r){return o(this,r,arguments.length>1?arguments[1]:void 0)}})},da84:function(b,g,l){(function(u){var o=function(a){return a&&a.Math==Math&&a};b.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof u=="object"&&u)||Function("return this")()}).call(this,l("c8ba"))},dbb4:function(b,g,l){var u=l("23e7"),o=l("83ab"),a=l("56ef"),t=l("fc6a"),n=l("06cf"),i=l("8418");u({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(r){for(var s=t(r),c=n.f,f=a(s),p={},$=0,m,y;f.length>$;)y=c(s,m=f[$++]),y!==void 0&&i(p,m,y);return p}})},dbf1:function(b,g,l){(function(u){l.d(g,"a",function(){return a});function o(){return typeof window!="undefined"?window.console:u.console}var a=o()}).call(this,l("c8ba"))},ddb0:function(b,g,l){var u=l("da84"),o=l("fdbc"),a=l("e260"),t=l("9112"),n=l("b622"),i=n("iterator"),e=n("toStringTag"),r=a.values;for(var s in o){var c=u[s],f=c&&c.prototype;if(f){if(f[i]!==r)try{t(f,i,r)}catch($){f[i]=r}if(f[e]||t(f,e,s),o[s]){for(var p in a)if(f[p]!==a[p])try{t(f,p,a[p])}catch($){f[p]=a[p]}}}}},df75:function(b,g,l){var u=l("ca84"),o=l("7839");b.exports=Object.keys||function(t){return u(t,o)}},e01a:function(b,g,l){var u=l("23e7"),o=l("83ab"),a=l("da84"),t=l("5135"),n=l("861d"),i=l("9bf2").f,e=l("e893"),r=a.Symbol;if(o&&typeof r=="function"&&(!("description"in r.prototype)||r().description!==void 0)){var s={},c=function(){var v=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),T=this instanceof c?new r(v):v===void 0?r():r(v);return v===""&&(s[T]=!0),T};e(c,r);var f=c.prototype=r.prototype;f.constructor=c;var p=f.toString,$=String(r("test"))=="Symbol(test)",m=/^Symbol\((.*)\)[^)]+$/;i(f,"description",{configurable:!0,get:function(){var v=n(this)?this.valueOf():this,T=p.call(v);if(t(s,v))return"";var M=$?T.slice(7,-1):T.replace(m,"$1");return M===""?void 0:M}}),u({global:!0,forced:!0},{Symbol:c})}},e163:function(b,g,l){var u=l("5135"),o=l("7b0b"),a=l("f772"),t=l("e177"),n=a("IE_PROTO"),i=Object.prototype;b.exports=t?Object.getPrototypeOf:function(e){return e=o(e),u(e,n)?e[n]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},e177:function(b,g,l){var u=l("d039");b.exports=!u(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},e260:function(b,g,l){var u=l("fc6a"),o=l("44d2"),a=l("3f8c"),t=l("69f3"),n=l("7dd0"),i="Array Iterator",e=t.set,r=t.getterFor(i);b.exports=n(Array,"Array",function(s,c){e(this,{type:i,target:u(s),index:0,kind:c})},function(){var s=r(this),c=s.target,f=s.kind,p=s.index++;return!c||p>=c.length?(s.target=void 0,{value:void 0,done:!0}):f=="keys"?{value:p,done:!1}:f=="values"?{value:c[p],done:!1}:{value:[p,c[p]],done:!1}},"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")},e439:function(b,g,l){var u=l("23e7"),o=l("d039"),a=l("fc6a"),t=l("06cf").f,n=l("83ab"),i=o(function(){t(1)}),e=!n||i;u({target:"Object",stat:!0,forced:e,sham:!n},{getOwnPropertyDescriptor:function(s,c){return t(a(s),c)}})},e538:function(b,g,l){var u=l("b622");g.f=u},e893:function(b,g,l){var u=l("5135"),o=l("56ef"),a=l("06cf"),t=l("9bf2");b.exports=function(n,i){for(var e=o(i),r=t.f,s=a.f,c=0;c<e.length;c++){var f=e[c];u(n,f)||r(n,f,s(i,f))}}},e8b5:function(b,g,l){var u=l("c6b6");b.exports=Array.isArray||function(a){return u(a)=="Array"}},e95a:function(b,g,l){var u=l("b622"),o=l("3f8c"),a=u("iterator"),t=Array.prototype;b.exports=function(n){return n!==void 0&&(o.Array===n||t[a]===n)}},f5df:function(b,g,l){var u=l("00ee"),o=l("c6b6"),a=l("b622"),t=a("toStringTag"),n=o(function(){return arguments}())=="Arguments",i=function(e,r){try{return e[r]}catch(s){}};b.exports=u?o:function(e){var r,s,c;return e===void 0?"Undefined":e===null?"Null":typeof(s=i(r=Object(e),t))=="string"?s:n?o(r):(c=o(r))=="Object"&&typeof r.callee=="function"?"Arguments":c}},f772:function(b,g,l){var u=l("5692"),o=l("90e3"),a=u("keys");b.exports=function(t){return a[t]||(a[t]=o(t))}},fb15:function(b,g,l){if(l.r(g),typeof window!="undefined"){var u=window.document.currentScript;{var o=l("8875");u=o(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:o})}var a=u&&u.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(l.p=a[1])}l("99af"),l("4de4"),l("4160"),l("c975"),l("d81d"),l("a434"),l("159b"),l("a4d3"),l("e439"),l("dbb4"),l("b64b");function t(G,j,Y){return j in G?Object.defineProperty(G,j,{value:Y,enumerable:!0,configurable:!0,writable:!0}):G[j]=Y,G}function n(G,j){var Y=Object.keys(G);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(G);j&&(D=D.filter(function(N){return Object.getOwnPropertyDescriptor(G,N).enumerable})),Y.push.apply(Y,D)}return Y}function i(G){for(var j=1;j<arguments.length;j++){var Y=arguments[j]!=null?arguments[j]:{};j%2?n(Object(Y),!0).forEach(function(D){t(G,D,Y[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(Y)):n(Object(Y)).forEach(function(D){Object.defineProperty(G,D,Object.getOwnPropertyDescriptor(Y,D))})}return G}function e(G){if(Array.isArray(G))return G}l("e01a"),l("d28b"),l("e260"),l("d3b7"),l("3ca3"),l("ddb0");function r(G,j){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(G)))){var Y=[],D=!0,N=!1,Z=void 0;try{for(var Q=G[Symbol.iterator](),ne;!(D=(ne=Q.next()).done)&&(Y.push(ne.value),!(j&&Y.length===j));D=!0);}catch(de){N=!0,Z=de}finally{try{!D&&Q.return!=null&&Q.return()}finally{if(N)throw Z}}return Y}}l("a630"),l("fb6a"),l("b0c0"),l("25f0");function s(G,j){(j==null||j>G.length)&&(j=G.length);for(var Y=0,D=new Array(j);Y<j;Y++)D[Y]=G[Y];return D}function c(G,j){if(!!G){if(typeof G=="string")return s(G,j);var Y=Object.prototype.toString.call(G).slice(8,-1);if(Y==="Object"&&G.constructor&&(Y=G.constructor.name),Y==="Map"||Y==="Set")return Array.from(G);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return s(G,j)}}function f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(G,j){return e(G)||r(G,j)||c(G,j)||f()}function $(G){if(Array.isArray(G))return s(G)}function m(G){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(G))return Array.from(G)}function y(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(G){return $(G)||m(G)||c(G)||y()}var T=l("a352"),M=l.n(T);function E(G){G.parentElement!==null&&G.parentElement.removeChild(G)}function C(G,j,Y){var D=Y===0?G.children[0]:G.children[Y-1].nextSibling;G.insertBefore(j,D)}var S=l("dbf1");l("13d5"),l("4fad"),l("ac1f"),l("5319");function I(G){var j=Object.create(null);return function(D){var N=j[D];return N||(j[D]=G(D))}}var k=/-(\w)/g,w=I(function(G){return G.replace(k,function(j,Y){return Y.toUpperCase()})});l("5db7"),l("73d9");var R=["Start","Add","Remove","Update","End"],L=["Choose","Unchoose","Sort","Filter","Clone"],O=["Move"],P=[O,R,L].flatMap(function(G){return G}).map(function(G){return"on".concat(G)}),B={manage:O,manageAndEmit:R,emit:L};function H(G){return P.indexOf(G)!==-1}l("caad"),l("2ca0");var V=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function U(G){return V.includes(G)}function _(G){return["transition-group","TransitionGroup"].includes(G)}function z(G){return["id","class","role","style"].includes(G)||G.startsWith("data-")||G.startsWith("aria-")||G.startsWith("on")}function K(G){return G.reduce(function(j,Y){var D=p(Y,2),N=D[0],Z=D[1];return j[N]=Z,j},{})}function J(G){var j=G.$attrs,Y=G.componentData,D=Y===void 0?{}:Y,N=K(Object.entries(j).filter(function(Z){var Q=p(Z,2),ne=Q[0];return Q[1],z(ne)}));return i(i({},N),D)}function ee(G){var j=G.$attrs,Y=G.callBackBuilder,D=K(ie(j));Object.entries(Y).forEach(function(Z){var Q=p(Z,2),ne=Q[0],de=Q[1];B[ne].forEach(function(oe){D["on".concat(oe)]=de(oe)})});var N="[data-draggable]".concat(D.draggable||"");return i(i({},D),{},{draggable:N})}function ie(G){return Object.entries(G).filter(function(j){var Y=p(j,2),D=Y[0];return Y[1],!z(D)}).map(function(j){var Y=p(j,2),D=Y[0],N=Y[1];return[w(D),N]}).filter(function(j){var Y=p(j,2),D=Y[0];return Y[1],!H(D)})}l("c740");function se(G,j){if(!(G instanceof j))throw new TypeError("Cannot call a class as a function")}function he(G,j){for(var Y=0;Y<j.length;Y++){var D=j[Y];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(G,D.key,D)}}function pe(G,j,Y){return j&&he(G.prototype,j),Y&&he(G,Y),G}var Me=function(j){var Y=j.el;return Y},Ie=function(j,Y){return j.__draggable_context=Y},Ee=function(j){return j.__draggable_context},Oe=function(){function G(j){var Y=j.nodes,D=Y.header,N=Y.default,Z=Y.footer,Q=j.root,ne=j.realList;se(this,G),this.defaultNodes=N,this.children=[].concat(v(D),v(N),v(Z)),this.externalComponent=Q.externalComponent,this.rootTransition=Q.transition,this.tag=Q.tag,this.realList=ne}return pe(G,[{key:"render",value:function(Y,D){var N=this.tag,Z=this.children,Q=this._isRootComponent,ne=Q?{default:function(){return Z}}:Z;return Y(N,D,ne)}},{key:"updated",value:function(){var Y=this.defaultNodes,D=this.realList;Y.forEach(function(N,Z){Ie(Me(N),{element:D[Z],index:Z})})}},{key:"getUnderlyingVm",value:function(Y){return Ee(Y)}},{key:"getVmIndexFromDomIndex",value:function(Y,D){var N=this.defaultNodes,Z=N.length,Q=D.children,ne=Q.item(Y);if(ne===null)return Z;var de=Ee(ne);if(de)return de.index;if(Z===0)return 0;var oe=Me(N[0]),ae=v(Q).findIndex(function(ue){return ue===oe});return Y<ae?0:Z}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),G}(),Ye=l("8bbf");function lt(G,j){var Y=G[j];return Y?Y():[]}function gt(G){var j=G.$slots,Y=G.realList,D=G.getKey,N=Y||[],Z=["header","footer"].map(function(ue){return lt(j,ue)}),Q=p(Z,2),ne=Q[0],de=Q[1],oe=j.item;if(!oe)throw new Error("draggable element must have an item slot");var ae=N.flatMap(function(ue,we){return oe({element:ue,index:we}).map(function(Se){return Se.key=D(ue),Se.props=i(i({},Se.props||{}),{},{"data-draggable":!0}),Se})});if(ae.length!==N.length)throw new Error("Item slot must have only one child");return{header:ne,footer:de,default:ae}}function Pt(G){var j=_(G),Y=!U(G)&&!j;return{transition:j,externalComponent:Y,tag:Y?Object(Ye.resolveComponent)(G):j?Ye.TransitionGroup:G}}function ct(G){var j=G.$slots,Y=G.tag,D=G.realList,N=G.getKey,Z=gt({$slots:j,realList:D,getKey:N}),Q=Pt(Y);return new Oe({nodes:Z,root:Q,realList:D})}function $t(G,j){var Y=this;Object(Ye.nextTick)(function(){return Y.$emit(G.toLowerCase(),j)})}function te(G){var j=this;return function(Y,D){if(j.realList!==null)return j["onDrag".concat(G)](Y,D)}}function ye(G){var j=this,Y=te.call(this,G);return function(D,N){Y.call(j,D,N),$t.call(j,G,D)}}var xe=null,Be={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(j){return j}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},We=["update:modelValue","change"].concat(v([].concat(v(B.manageAndEmit),v(B.emit)).map(function(G){return G.toLowerCase()}))),Ue=Object(Ye.defineComponent)({name:"draggable",inheritAttrs:!1,props:Be,emits:We,data:function(){return{error:!1}},render:function(){try{this.error=!1;var j=this.$slots,Y=this.$attrs,D=this.tag,N=this.componentData,Z=this.realList,Q=this.getKey,ne=ct({$slots:j,tag:D,realList:Z,getKey:Q});this.componentStructure=ne;var de=J({$attrs:Y,componentData:N});return ne.render(Ye.h,de)}catch(oe){return this.error=!0,Object(Ye.h)("pre",{style:{color:"red"}},oe.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&S.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var j=this;if(!this.error){var Y=this.$attrs,D=this.$el,N=this.componentStructure;N.updated();var Z=ee({$attrs:Y,callBackBuilder:{manageAndEmit:function(de){return ye.call(j,de)},emit:function(de){return $t.bind(j,de)},manage:function(de){return te.call(j,de)}}}),Q=D.nodeType===1?D:D.parentElement;this._sortable=new M.a(Q,Z),this.targetDomElement=Q,Q.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var j=this.list;return j||this.modelValue},getKey:function(){var j=this.itemKey;return typeof j=="function"?j:function(Y){return Y[j]}}},watch:{$attrs:{handler:function(j){var Y=this._sortable;!Y||ie(j).forEach(function(D){var N=p(D,2),Z=N[0],Q=N[1];Y.option(Z,Q)})},deep:!0}},methods:{getUnderlyingVm:function(j){return this.componentStructure.getUnderlyingVm(j)||null},getUnderlyingPotencialDraggableComponent:function(j){return j.__draggable_component__},emitChanges:function(j){var Y=this;Object(Ye.nextTick)(function(){return Y.$emit("change",j)})},alterList:function(j){if(this.list){j(this.list);return}var Y=v(this.modelValue);j(Y),this.$emit("update:modelValue",Y)},spliceList:function(){var j=arguments,Y=function(N){return N.splice.apply(N,v(j))};this.alterList(Y)},updatePosition:function(j,Y){var D=function(Z){return Z.splice(Y,0,Z.splice(j,1)[0])};this.alterList(D)},getRelatedContextFromMoveEvent:function(j){var Y=j.to,D=j.related,N=this.getUnderlyingPotencialDraggableComponent(Y);if(!N)return{component:N};var Z=N.realList,Q={list:Z,component:N};if(Y!==D&&Z){var ne=N.getUnderlyingVm(D)||{};return i(i({},ne),Q)}return Q},getVmIndexFromDomIndex:function(j){return this.componentStructure.getVmIndexFromDomIndex(j,this.targetDomElement)},onDragStart:function(j){this.context=this.getUnderlyingVm(j.item),j.item._underlying_vm_=this.clone(this.context.element),xe=j.item},onDragAdd:function(j){var Y=j.item._underlying_vm_;if(Y!==void 0){E(j.item);var D=this.getVmIndexFromDomIndex(j.newIndex);this.spliceList(D,0,Y);var N={element:Y,newIndex:D};this.emitChanges({added:N})}},onDragRemove:function(j){if(C(this.$el,j.item,j.oldIndex),j.pullMode==="clone"){E(j.clone);return}var Y=this.context,D=Y.index,N=Y.element;this.spliceList(D,1);var Z={element:N,oldIndex:D};this.emitChanges({removed:Z})},onDragUpdate:function(j){E(j.item),C(j.from,j.item,j.oldIndex);var Y=this.context.index,D=this.getVmIndexFromDomIndex(j.newIndex);this.updatePosition(Y,D);var N={element:this.context.element,oldIndex:Y,newIndex:D};this.emitChanges({moved:N})},computeFutureIndex:function(j,Y){if(!j.element)return 0;var D=v(Y.to.children).filter(function(ne){return ne.style.display!=="none"}),N=D.indexOf(Y.related),Z=j.component.getVmIndexFromDomIndex(N),Q=D.indexOf(xe)!==-1;return Q||!Y.willInsertAfter?Z:Z+1},onDragMove:function(j,Y){var D=this.move,N=this.realList;if(!D||!N)return!0;var Z=this.getRelatedContextFromMoveEvent(j),Q=this.computeFutureIndex(Z,j),ne=i(i({},this.context),{},{futureIndex:Q}),de=i(i({},j),{},{relatedContext:Z,draggedContext:ne});return D(de,Y)},onDragEnd:function(){xe=null}}}),je=Ue;g.default=je},fb6a:function(b,g,l){var u=l("23e7"),o=l("861d"),a=l("e8b5"),t=l("23cb"),n=l("50c4"),i=l("fc6a"),e=l("8418"),r=l("b622"),s=l("1dde"),c=l("ae40"),f=s("slice"),p=c("slice",{ACCESSORS:!0,0:0,1:2}),$=r("species"),m=[].slice,y=Math.max;u({target:"Array",proto:!0,forced:!f||!p},{slice:function(T,M){var E=i(this),C=n(E.length),S=t(T,C),I=t(M===void 0?C:M,C),k,w,R;if(a(E)&&(k=E.constructor,typeof k=="function"&&(k===Array||a(k.prototype))?k=void 0:o(k)&&(k=k[$],k===null&&(k=void 0)),k===Array||k===void 0))return m.call(E,S,I);for(w=new(k===void 0?Array:k)(y(I-S,0)),R=0;S<I;S++,R++)S in E&&e(w,R,E[S]);return w.length=R,w}})},fc6a:function(b,g,l){var u=l("44ad"),o=l("1d80");b.exports=function(a){return u(o(a))}},fdbc:function(b,g){b.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(b,g,l){var u=l("4930");b.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(wr);const $c=fa(wr.exports),kc=["data-block-layer-id","title","onContextmenu","onClick","onMouseover"],Ac=X("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[X("rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}),X("rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}),X("rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}),X("rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"})],-1),Ec=[Ac],Lc=["contenteditable","title","onDblclick","onKeydown","onBlur"],Tc={key:4,class:"ml-auto mr-2 text-gray-400 dark:text-zinc-600"},Ji=Ve({__name:"BlockLayers",props:{blocks:{type:Array,default:()=>[]}},setup(A){const x=rt(),d=(l,u)=>{const o=l.target;u.blockName=o.innerText.trim(),u.editable=!1},h=le(new Set(["root"])),b=l=>h.value.has(l.blockId),g=l=>{b(l)&&!l.isRoot()?h.value.delete(l.blockId):h.value.add(l.blockId)};return Ct(()=>x.selectedBlocks,()=>{x.selectedBlocks.length&&x.selectedBlocks.forEach(l=>{if(l){h.value.add(l.blockId);let u=l.getParentBlock();for(;u&&!u.isRoot();)h.value.add(u==null?void 0:u.blockId),u=u.getParentBlock()}})},{immediate:!0}),(l,u)=>{const o=it("BlockLayers",!0);return q(),me("div",null,[re(F($c),{class:"block-tree",list:A.blocks,group:{name:"block-tree"},"item-key":"blockId",disabled:A.blocks.length&&(A.blocks[0].isRoot()||A.blocks[0].isChildOfComponentBlock())},{item:Re(({element:a})=>[X("div",null,[re(yr,{block:a,editable:!1},{default:Re(({onContextMenu:t})=>[X("div",{"data-block-layer-id":a.blockId,title:a.blockId,onContextmenu:ze(t,["prevent","stop"]),class:Te(["cursor-pointer rounded border bg-white pl-2 pr-[2px] text-sm text-gray-700 dark:bg-zinc-900",{"border-transparent dark:text-gray-500":!a.isSelected()&&!a.isHovered(),"border-blue-300 text-gray-700 dark:border-blue-800 dark:text-gray-500":a.isHovered()&&!a.isSelected(),"border-blue-400 text-gray-900 dark:border-blue-600 dark:text-gray-200":a.isSelected()}]),onClick:ze(n=>{a.expanded=!0,F(x).selectBlock(a,n,!1)},["stop"]),onMouseover:ze(n=>F(x).hoveredBlock=a.blockId,["stop"]),onMouseleave:u[0]||(u[0]=ze(n=>F(x).hoveredBlock=null,["stop"]))},[X("span",{class:Te(["group my-[6px] flex items-center font-medium",{"!opacity-50":!a.isVisible()}])},[a.children&&a.children.length&&!a.isRoot()&&!a.isImage()&&!a.isSVG()?(q(),ge(F(Nn),{key:0,name:b(a)?"chevron-down":"chevron-right",class:"mr-1 h-3 w-3",onClick:ze(n=>g(a),["stop"])},null,8,["name","onClick"])):fe("",!0),Boolean(a.extendedFromComponent)?fe("",!0):(q(),ge(F(Nn),{key:1,name:a.getIcon(),class:Te(["mr-1 h-3 w-3",{"text-purple-500 opacity-80 dark:opacity-100 dark:brightness-125 dark:saturate-[0.3]":a.isExtendedFromComponent()}])},null,8,["name","class"])),Boolean(a.extendedFromComponent)?(q(),me("svg",{key:2,class:Te(["mr-1 h-3 w-3",{"text-purple-500 opacity-80 dark:opacity-100 dark:brightness-125 dark:saturate-[0.3]":a.isExtendedFromComponent()}]),xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},Ec,2)):fe("",!0),X("span",{class:Te(["min-h-[1em] min-w-[2em] truncate",{"text-purple-500 opacity-80 dark:opacity-100 dark:brightness-125 dark:saturate-[0.3]":a.isExtendedFromComponent()}]),contenteditable:a.editable,title:a.blockId,onDblclick:n=>a.editable=!0,onKeydown:bi(ze(n=>a.editable=!1,["stop","prevent"]),["enter"]),onBlur:n=>d(n,a)},Ge(a.getBlockDescription()),43,Lc),a.isRoot()?fe("",!0):(q(),ge(F(Nn),{key:3,name:a.isVisible()?"eye":"eye-off",class:"ml-auto mr-2 hidden h-3 w-3 group-hover:block",onClick:ze(n=>a.toggleVisibility(),["stop"])},null,8,["name","onClick"])),a.isRoot()?(q(),me("span",Tc,Ge(F(x).activeBreakpoint),1)):fe("",!0)],2),Ce(X("div",null,[re(o,{blocks:a.children,class:"ml-3"},null,8,["blocks"])],512),[[$e,b(a)&&a.isVisible()&&!a.isSVG()&&!a.isImage()]])],42,kc)]),_:2},1032,["block"])])]),_:1},8,["list","disabled"])])}}}),Mc=A=>kt(void 0,null,function*(){const x=Ci({method:"GET",doctype:"Builder Tag Map",fields:["*"],parent:"Builder template",orderBy:"creation",cache:"Tags",start:0,pageLength:100,auto:!1,transform(d){return d}});return x.update({filters:[["parent","=",A]]}),x.fetch(),yield x.list.promise}),Rc=A=>kt(void 0,null,function*(){const x=Ci({method:"GET",doctype:"Builder Component Map",fields:["*"],parent:"Builder template",orderBy:"creation",cache:"Sections",start:0,pageLength:100,auto:!1,transform(d){return d}});return x.update({filters:[["parent","=",A]]}),x.fetch(),yield x.list.promise}),Ic=Ci({method:"GET",doctype:"Builder template",fields:["*"],orderBy:"creation",cache:"Templates",start:0,pageLength:100,auto:!0,transform:A=>kt(void 0,null,function*(){return yield Promise.all(A.map(x=>kt(void 0,null,function*(){x.tags=yield Mc(x.name),x.section=yield Rc(x.name)}))),A})}),Oc={class:"flex flex-col gap-[16px] h-full"},Dc={class:"flex flex-col justify-center items-start gap-[12px]"},Pc={class:"w-[63px] text-[#09090B] font-sans text-[14px] leading-[14px] font-[500]"},Bc={class:"flex justify-center flex-row w-full px-[12px] py-[4px] border rounded-md border-[#E4E4E7] shadow-sm"},Fc={class:"text-sm italic text-gray-600"},Nc={class:"text-[#71717A] font-sans text-[14px] leading-[14px] font-[500]"},Hc={class:"grid grid-cols-2 grid-raws-auto grid-flow-dense h-auto w-full gap-[8px]"},Wc=["onClick","src"],zc={class:"flex flex-col justify-center items-start gap-[16px]"},Vc={class:"flex flex-row gap-[8px] items-center w-full"},_c=X("h1",{class:"text-[14px] font-[500] leading-[14px] text-[#09090B] dark:text-gray-200"},"Section",-1),Uc={class:"text-[#71717A] font-sans text-[14px] leading-[14px] font-[500]"},jc={class:"grid grid-cols-2 grid-raws-auto grid-flow-dense h-auto w-full gap-[8px]"},Gc={class:"component-container group w-full h-full relative block"},Kc=["onDragstart"],Yc=Ve({__name:"BuilderCategory",setup(A){const x=rt(),d=le(""),h=le(),b=le(),g=le();Ct(()=>Ic.data,s=>{l(s)});const l=s=>kt(this,null,function*(){try{const c=yield s;g.value=c}catch(c){console.error(c)}}),u=ve(()=>(g.value||[]).filter(s=>h.value?h.value.includes(s.template_name)?s:!1:s)),o=ve(()=>(Un.data||[]).filter(s=>{var c;return h.value?h.value.includes(s.component_name)?(c=s.component_name)==null?void 0:c.toLowerCase().includes(d.value.toLowerCase()):!1:s})),a=()=>{b.value=null},t=ve(()=>{if(!u.value[0])return[];const s=u.value.flatMap(c=>{var p;return(p=qi(c).tags)==null?void 0:p.map($=>$.name)});return[...new Set(s)]}),n=ve(()=>{if(!b.value)return[];const c=b.value.section.map(f=>f.name).map(f=>o.value.filter(p=>p.name===f)[0].component_name);return[...new Set(c)]}),i=s=>{b.value=s},e=(s,c)=>kt(this,null,function*(){const{stop:f}=pa(s.closest(".component-container"),([{isIntersecting:p}],$)=>{if(p){const m=Math.max(Math.min(60/s.offsetHeight,200/s.offsetWidth),.1);c.scale=m,f()}})}),r=(s,c)=>{var f;!c.name||(f=s==null?void 0:s.dataTransfer)==null||f.setData("componentName",c.name)};return(s,c)=>{const f=it("Input"),p=it("Button");return q(),me("div",Oc,[Ce(X("div",Dc,[X("h3",Pc,Ge(F(x).leftPanelActiveTab==="templates"?"Template":"Element"),1),X("div",Bc,[re(f,{class:"rounded-none bg-transparent p-0 hover:bg-transparent outline-none focus:bg-transparent focus:border-none focus:outline-none focus:shadow-none border-none flex-grow",type:"text",placeholder:"Search...",inputClass:"w-full",modelValue:d.value,"onUpdate:modelValue":c[0]||(c[0]=$=>d.value=$),onInput:c[1]||(c[1]=$=>{d.value=$})},null,8,["modelValue"]),re(p,{class:"bg-transparent !p-0 hover:bg-transparent"},{default:Re(()=>[re(F(Na),{class:"w-[14px] h-[14px]"})]),_:1})])],512),[[$e,!b.value]]),Ce(X("div",Fc,"Nothing saved",512),[[$e,!t.value.length]]),(q(!0),me(st,null,pt(t.value,$=>Ce((q(),me("div",{key:$,class:"flex flex-col justify-center items-start gap-[12px]"},[X("h4",Nc,Ge($),1),X("div",Hc,[(q(!0),me(st,null,pt(u.value.filter(m=>m.tags.some(y=>y.name===$)),m=>(q(),me("img",{onClick:ze(y=>i(m),["stop"]),src:m.template_icon,class:"h-[74px] w-[134px] bg-cover rounded-md hover:cursor-pointer border col-span-1 row-span-1",alt:"Error"},null,8,Wc))),256))])])),[[$e,!b.value]])),128)),Ce(X("div",zc,[X("div",Vc,[re(F(Ba),{onClick:ze(a,["stop"]),class:"w-[16px] h-[16px] hover:cursor-pointer"},null,8,["onClick"]),_c]),(q(!0),me(st,null,pt(n.value,$=>Ce((q(),me("div",{key:$,class:"flex flex-col justify-center items-start gap-[12px]"},[X("h4",Uc,Ge($),1),Ce(X("div",jc,[(q(!0),me(st,null,pt(o.value.filter(m=>m.component_name===$),m=>(q(),me("div",{key:m.name,class:"flex h-[74px] w-[134px] border rounded-md col-span-1 row-span-1"},[X("div",Gc,[X("div",{class:"relative flex w-full h-full cursor-pointer items-center justify-center overflow-hidden rounded-md border bg-gray-50 p-2 shadow-sm last:mr-0 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-200",draggable:"true",onDragstart:y=>r(y,m)},[X("div",{class:"pointer-events-none absolute flex justify-center self-center",style:Pe({transform:"scale("+m.scale+")"})},[re(Ai,{class:"h-fit max-w-fit",block:m.block,onMounted:y=>e(y,m),preview:!0},null,8,["block","onMounted"])],4)],40,Kc)])]))),128))],512),[[$e,o.value[0]]])])),[[$e,b.value]])),128))],512),[[$e,b.value]])])}}}),Xc=A=>(ar("data-v-4ae6c664"),A=A(),or(),A),Zc={class:"flex flex-col w-[64px] h-full p-[12px] gap-[10px] border-r col-span-1"},Qc=Xc(()=>X("div",{class:"bg-[#E4E4E7] w-[32px] h-[1px]"},null,-1)),Jc={class:"h-full"},qc=Ve({__name:"BuilderLeftPanel",setup(A){le(null);const x=rt();le(!1);const d=h=>{x.leftPanelActiveTab=h};return(h,b)=>{const g=it("Button");return q(),me("div",{class:"grid grid-flow-col h-full overflow-hidden",style:Pe({width:`${F(x).builderLayout.leftPanelWidth}px`})},[X("div",Zc,[(q(!0),me(st,null,pt(F(x).categories.slice(0,-1),l=>(q(),ge(g,{key:l.name,class:Te(["grid dark:text-white bg-transparent w-[36px] h-[36px] place-items-center rounded-md cursor-pointer",{["custom-bg text-white  "]:F(x).leftPanelActiveTab===l.name}]),style:Pe({"--bg-color":l.focus}),onClick:u=>d(l.name)},{default:Re(()=>[(q(),ge(An(l.Icon),{size:"16"}))]),_:2},1032,["style","class","onClick"]))),128)),Qc,re(g,{class:Te(["grid dark:text-white bg-transparent w-[36px] h-[36px] place-items-center rounded-md cursor-pointer",{["custom-bg text-white  "]:F(x).leftPanelActiveTab===F(x).categories[F(x).categories.length-1].name}]),style:Pe({"--bg-color":F(x).categories[F(x).categories.length-1].focus}),onClick:b[0]||(b[0]=l=>d(F(x).categories[F(x).categories.length-1].name))},{default:Re(()=>[(q(),ge(An(F(x).categories[F(x).categories.length-1].Icon),{size:"16"}))]),_:1},8,["style","class"])]),fe("",!0),re($i,{dimension:F(x).builderLayout.leftPanelWidth,side:"right",onResize:b[2]||(b[2]=l=>F(x).builderLayout.leftPanelWidth=l)},null,8,["dimension"]),Ce(X("div",Jc,[re(Yc,{class:"w-[300px] px-[12px] py-[16px] flex flex-col gap-[16px]"})],512),[[$e,F(x).leftPanelActiveTab==="templates"||F(x).leftPanelActiveTab==="components"]]),Ce(X("div",null,[F(x).editingComponent?fe("",!0):Ce((q(),ge(Ji,{key:0,class:"w-[300px] px-[12px] py-[16px] flex flex-col gap-[16px]",blocks:F(x).builderState.blocks},null,8,["blocks"])),[[$e,F(x).editingMode=="page"]]),F(x).editingComponent?(q(),ge(Ji,{key:1,class:"w-[300px] px-[12px] py-[16px] flex flex-col gap-[16px]",blocks:[F(x).getComponentBlock(F(x).editingComponent)]},null,8,["blocks"])):fe("",!0)],512),[[$e,F(x).leftPanelActiveTab==="layers"]])],4)}}});const eu=dr(qc,[["__scopeId","data-v-4ae6c664"]]),tu={class:"form-input flex h-7 w-full items-center justify-between gap-2 rounded border-gray-400 px-2 py-1 pr-6 text-sm transition-colors dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-200 dark:focus:bg-zinc-700"},nu=X("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[X("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),iu=[nu],ru=Ve({__name:"Autocomplete",props:{options:{type:Array,default:()=>[]},modelValue:{},placeholder:{type:String,default:"Search"}},emits:["update:modelValue"],setup(A,{emit:x}){const d=A,h=le(""),b=ve(()=>Array.isArray(d.modelValue)),g=ve(()=>!b.value);ve(()=>{var a;return Array.isArray(d.modelValue)&&d.modelValue.length>0?d.modelValue.join(", "):(a=d.modelValue)==null?void 0:a.label});const l=ve(()=>d.modelValue instanceof String||typeof d.modelValue=="string"||d.modelValue instanceof Number||typeof d.modelValue=="number"?{label:d.modelValue,value:d.modelValue}:d.modelValue),u=ve(()=>h.value===""?d.options:d.options.filter(a=>a.label.toLowerCase().includes(h.value.toLowerCase())||a.value.toLowerCase().includes(h.value.toLowerCase()))),o=()=>x("update:modelValue",null);return(a,t)=>(q(),me("div",null,[re(F(ma),{modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=n=>{x("update:modelValue",n)}),nullable:g.value,multiple:b.value},{default:Re(({open:n})=>[X("div",tu,[re(F(ga),{autocomplete:"off",onChange:t[0]||(t[0]=i=>h.value=i.target.value),onFocus:()=>n,displayValue:i=>Array.isArray(i)?i.map(e=>e.label).join(", "):i&&(i.label||i.value)||"",placeholder:A.modelValue?null:A.placeholder,class:"h-full w-full border-none bg-transparent p-0 text-xs focus:border-none focus:ring-0"},null,8,["onFocus","displayValue","placeholder"])]),Ce(re(F(va),{class:"absolute right-0 z-50 max-h-[15rem] w-full max-w-[150px] overflow-y-auto rounded-lg bg-white px-1.5 py-1.5 shadow-2xl"},{default:Re(()=>[h.value?(q(),ge(F(Di),{key:0,value:h.value,class:"flex items-center"},null,8,["value"])):fe("",!0),(q(!0),me(st,null,pt(u.value,i=>(q(),ge(F(Di),{key:i.value,value:i,class:"flex items-center"},{default:Re(({active:e,selected:r})=>[X("li",{class:Te(["w-full select-none rounded px-2.5 py-1.5 text-xs",{"bg-gray-100":e,"bg-gray-300":r}])},Ge(i.label),3)]),_:2},1032,["value"]))),128))]),_:1},512),[[$e,u.value.length]])]),_:1},8,["modelValue","nullable","multiple"]),Ce(X("div",{class:"absolute right-1 top-[3px] cursor-pointer p-1 text-gray-700 dark:text-zinc-300",onClick:o},iu,512),[[$e,A.modelValue]])]))}}),ou={class:"relative flex items-center justify-between"},su=X("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[X("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),au=[su],Ne=Ve({__name:"InlineInput",props:{modelValue:{},label:{type:String,default:""},type:{type:String,default:"text"},unitOptions:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]},enableSlider:{type:Boolean,default:!1},minValue:{type:Number,default:null},maxValue:{type:Number,default:null}},emits:["update:modelValue"],setup(A,{emit:x}){const d=A,h=ve(()=>(d.options||[]).map(u=>typeof u=="string"||typeof u=="number"&&d.type==="autocomplete"?{label:u,value:u}:u)),b=u=>{if(typeof u=="object"&&u!==null&&"value"in u&&(u=u.value),u&&typeof u=="string"){let[o,a,t]=u.match(/([0-9]+)([a-z%]*)/)||["","",""];!t&&d.unitOptions.length&&a&&(u=a+d.unitOptions[0])}x("update:modelValue",u)},g=u=>{if(!d.enableSlider)return;const o=d.modelValue||"";let[a,t,n]=o.match(/([0-9]+)([a-z%]*)/)||["","",""];!n&&d.unitOptions.length&&t&&(n=d.unitOptions[0]);const i=u.clientY,e=Number(t),r=c=>{const f=i-c.clientY;let p=e+f;Pi(d.minValue)&&p<d.minValue&&(p=d.minValue),Pi(d.maxValue)&&p>d.maxValue&&(p=d.maxValue),b(p+""+n)},s=()=>{window.removeEventListener("mousemove",r)};window.addEventListener("mousemove",r),window.addEventListener("mouseup",s,{once:!0})},l=()=>x("update:modelValue",null);return(u,o)=>{const a=it("Input");return q(),me("div",ou,[X("span",{class:Te(["inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400",{"cursor-ns-resize":A.enableSlider}]),onMousedown:g},Ge(A.label),35),A.type!="autocomplete"?(q(),ge(a,{key:0,type:A.type,placeholder:"unset",value:A.modelValue,options:h.value,onChange:b,onMousedown:g,inputClass:A.type=="checkbox"?" ml-2 !w-4":"pr-6",class:Te(["rounded-md text-sm text-gray-800 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-200 dark:focus:bg-zinc-700",{"w-[150px]":A.type!="checkbox"}])},null,8,["type","value","options","inputClass","class"])):fe("",!0),A.type=="autocomplete"?(q(),ge(ru,{key:1,placeholder:"unset",modelValue:A.modelValue,options:h.value,"onUpdate:modelValue":b,class:"!dark:text-zinc-200 !dark:focus:bg-zinc-700 w-[150px] rounded-md text-sm text-gray-800 dark:bg-zinc-800"},null,8,["modelValue","options"])):fe("",!0),["autocomplete","select","checkbox"].includes(A.type)?fe("",!0):Ce((q(),me("div",{key:2,class:"absolute right-1 top-[3px] cursor-pointer p-1 text-gray-700 dark:text-zinc-300",onClick:l},au,512)),[[$e,A.modelValue]])])}}}),lu={class:"flex items-center justify-between"},cu={class:"inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400"},uu={class:"relative w-[150px]"},du=["onClick"],hu={class:"rounded-lg bg-white p-3 shadow-lg dark:bg-zinc-900"},fu=["onClick"],pu=Ve({__name:"BackgroundHandler",setup(A){const x=ve(()=>{const l=W==null?void 0:W.getStyle("background");if(l){const{bgImageURL:u}=g(l);return u}return null}),d=ve(()=>{const l=W==null?void 0:W.getStyle("background");if(l){const{bgSize:u}=g(l);return u}}),h=l=>{const u=window.location.origin+l.file_url;W==null||W.setStyle("background",`url('${u}') center / ${d.value||"cover"} no-repeat`)},b=l=>{W==null||W.setStyle("background",`url(${x.value}) center / ${l} no-repeat`)},g=l=>{var n,i,e,r;const u=(n=l.match(/url\((.*?)\)/))==null?void 0:n[1],o=(i=l.match(/center|top|bottom|left|right/g))==null?void 0:i[0],a=(e=l.match(/contain|cover/g))==null?void 0:e[0],t=(r=l.match(/repeat|no-repeat/g))==null?void 0:r[0];return{bgImageURL:u,bgPosition:o,bgSize:a,bgRepeat:t}};return(l,u)=>{const o=it("Input");return q(),ge(F(hr),{transition:"default",placement:"left",class:"!block w-full",popoverClass:"!min-w-fit !mr-[30px]"},{target:Re(({togglePopover:a,isOpen:t})=>{var n;return[X("div",lu,[X("span",cu,[hn(l.$slots,"default",{},()=>[Nt("BG Image")])]),X("div",uu,[X("div",null,[re(o,{type:"text",class:"rounded-md text-sm text-gray-700 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-200 dark:focus:bg-zinc-700 [&>div_input]:pl-8",placeholder:"Set Background",value:(n=x.value)==null?void 0:n.replace(/^'|'$/g,"")},null,8,["value"]),X("div",{class:Te(["absolute left-2 top-[6px] z-10 h-4 w-4 rounded shadow-sm",{"bg-gray-400 dark:bg-zinc-600":!x.value}]),onClick:a,style:Pe({backgroundImage:x.value?`url(${x.value})`:"",backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat"})},null,14,du)])])])]}),body:Re(()=>[X("div",hu,[X("div",{class:"image-preview group relative h-24 w-48 cursor-pointer overflow-hidden rounded bg-gray-200 dark:bg-zinc-700",style:Pe({backgroundImage:x.value?`url(${x.value})`:"",backgroundPosition:"center",backgroundSize:d.value||"contain",backgroundRepeat:"no-repeat"})},[re(F(Ra),{onSuccess:h},{default:Re(({openFileSelector:a})=>[X("div",{class:Te(["absolute bottom-0 left-0 right-0 top-0 hidden place-items-center bg-gray-500 bg-opacity-20",{"!grid":!x.value,"group-hover:grid":x.value}])},[X("div",{class:"rounded bg-gray-200 p-2 text-xs text-gray-900 dark:bg-zinc-700 dark:text-zinc-200",onClick:a}," Upload ",8,fu)],2)]),_:1})],4),re(Ne,{label:"Size",class:"mt-4",modelValue:d.value,type:"select",options:["contain","cover"],"onUpdate:modelValue":b},null,8,["modelValue"])])]),_:3})}}}),gu={class:"flex items-center justify-between"},vu=X("span",{class:"inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400"},"Type",-1),mu={key:0,class:"flex items-center justify-between"},yu=X("span",{class:"inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400"}," Direction ",-1),bu={key:1,class:"items-top relative flex justify-between"},wu=X("span",{class:"inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400"}," Placement ",-1),Su={class:"grid h-16 w-16 grid-cols-3 items-center justify-items-center rounded-sm bg-gray-200 p-1 dark:bg-zinc-800"},xu=["onClick"],Cu={key:4,class:"flex items-center justify-between"},$u=X("span",{class:"inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400"},"Wrap",-1),ku={key:5,class:"flex flex-col gap-3"},Au={class:"flex items-center justify-between"},Eu=X("span",{class:"inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400"}," Grow ",-1),Lu={class:"flex items-center justify-between"},Tu=X("span",{class:"inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400"}," Shrink ",-1),Mu=Ve({__name:"BlockLayoutHandler",setup(A){const x=g=>{W.setStyle("display",g),g==="flex"&&(W.setStyle("flexDirection",W.getStyle("flexDirection")||"row"),W.setStyle("flexWrap",W.getStyle("flexWrap")||"nowrap"),W.setStyle("justifyContent",W.getStyle("justifyContent")||"flex-start"),W.setStyle("alignItems",W.getStyle("alignItems")||"flex-start"))},d=["top-left","top-middle","top-right","middle-left","middle-middle","middle-right","bottom-left","bottom-middle","bottom-right"],h=ve(()=>d.filter(g=>{const l=W.getStyle("flexDirection"),u=W.getStyle("justifyContent"),o=W.getStyle("alignItems");switch(g){case"top-left":return u==="flex-start"&&o==="flex-start";case"top-middle":return l==="row"&&u==="center"&&o==="flex-start"||l==="column"&&u==="flex-start"&&o==="center";case"top-right":return l==="row"&&u==="flex-end"&&o==="flex-start"||l==="column"&&u==="flex-start"&&o==="flex-end";case"middle-left":return l==="row"&&u==="flex-start"&&o==="center"||l==="column"&&u==="center"&&o==="flex-start";case"middle-middle":return u==="center"&&o==="center";case"middle-right":return l==="row"&&u==="flex-end"&&o==="center"||l==="column"&&u==="center"&&o==="flex-end";case"bottom-left":return l==="row"&&u==="flex-start"&&o==="flex-end"||l==="column"&&u==="flex-end"&&o==="flex-start";case"bottom-middle":return l==="row"&&u==="center"&&o==="flex-end"||l==="column"&&u==="flex-end"&&o==="center";case"bottom-right":return u==="flex-end"&&o==="flex-end"}})[0]),b=g=>{W.setStyle("display","flex");const l=W.getStyle("flexDirection");switch(g){case"top-right":l==="row"?(W.setStyle("justifyContent","flex-end"),W.setStyle("alignItems","flex-start")):(W.setStyle("justifyContent","flex-start"),W.setStyle("alignItems","flex-end"));break;case"top-middle":l==="row"?(W.setStyle("justifyContent","center"),W.setStyle("alignItems","flex-start")):(W.setStyle("justifyContent","flex-start"),W.setStyle("alignItems","center"));break;case"top-left":W.setStyle("justifyContent","flex-start"),W.setStyle("alignItems","flex-start");break;case"middle-right":l==="row"?(W.setStyle("justifyContent","flex-end"),W.setStyle("alignItems","center")):(W.setStyle("justifyContent","center"),W.setStyle("alignItems","flex-end"));break;case"middle-middle":W.setStyle("justifyContent","center"),W.setStyle("alignItems","center");break;case"middle-left":l==="row"?(W.setStyle("justifyContent","flex-start"),W.setStyle("alignItems","center")):(W.setStyle("justifyContent","center"),W.setStyle("alignItems","flex-start"));break;case"bottom-right":W.setStyle("justifyContent","flex-end"),W.setStyle("alignItems","flex-end");break;case"bottom-middle":l==="row"?(W.setStyle("justifyContent","center"),W.setStyle("alignItems","flex-end")):(W.setStyle("justifyContent","flex-end"),W.setStyle("alignItems","center"));break;case"bottom-left":l==="row"?(W.setStyle("justifyContent","flex-start"),W.setStyle("alignItems","flex-end")):(W.setStyle("justifyContent","flex-end"),W.setStyle("alignItems","flex-start"));break}};return(g,l)=>{var u;return q(),me(st,null,[X("div",gu,[vu,re(F(Yt),{modelValue:F(W).getStyle("display")||"block",buttons:[{label:"Stack",value:"flex"},{label:"Block",value:"block"}],"onUpdate:modelValue":x,class:"w-fit self-end [&>div>button[aria-checked='false']]:dark:!bg-transparent [&>div>button[aria-checked='false']]:dark:!text-zinc-400 [&>div>button[aria-checked='true']]:dark:!bg-zinc-700 [&>div>button]:dark:!bg-zinc-700 [&>div>button]:dark:!text-zinc-100 [&>div]:dark:!bg-zinc-800"},null,8,["modelValue"])]),F(W).getStyle("display")==="flex"?(q(),me("div",mu,[yu,re(F(Yt),{modelValue:F(W).getStyle("flexDirection")||"column",buttons:[{label:"Horizontal",value:"row"},{label:"Vertical",value:"column"}],"onUpdate:modelValue":l[0]||(l[0]=o=>F(W).setStyle("flexDirection",o)),class:"w-fit self-end [&>div>button[aria-checked='false']]:dark:!bg-transparent [&>div>button[aria-checked='false']]:dark:!text-zinc-400 [&>div>button[aria-checked='true']]:dark:!bg-zinc-700 [&>div>button]:dark:!bg-zinc-700 [&>div>button]:dark:!text-zinc-100 [&>div]:dark:!bg-zinc-800"},null,8,["modelValue"])])):fe("",!0),F(W).getStyle("display")==="flex"?(q(),me("div",bu,[wu,X("div",Su,[(q(),me(st,null,pt(d,o=>X("div",{class:Te(["h-3 w-3 cursor-pointer rounded-sm bg-gray-300 hover:bg-gray-400 dark:bg-zinc-700 dark:hover:bg-zinc-600",{"bg-gray-700 dark:!bg-zinc-500":h.value===o}]),key:o,onClick:a=>b(o)},null,10,xu)),64))])])):fe("",!0),F(W).getStyle("display")==="flex"?(q(),ge(Ne,{key:2,modelValue:F(W).getStyle("justifyContent"),type:"select",label:"Arrangement",options:[{label:"Space Between",value:"space-between"},{label:"Space Around",value:"space-around"},{label:"Space Evenly",value:"space-evenly"}],"onUpdate:modelValue":l[1]||(l[1]=o=>F(W).setStyle("justifyContent",o))},null,8,["modelValue"])):fe("",!0),F(W).getStyle("display")==="flex"?(q(),ge(Ne,{key:3,label:"Gap",type:"text",enableSlider:!0,unitOptions:["px","em","rem"],modelValue:F(W).getStyle("gap"),"onUpdate:modelValue":l[2]||(l[2]=o=>F(W).setStyle("gap",o))},null,8,["modelValue"])):fe("",!0),F(W).getStyle("display")==="flex"?(q(),me("div",Cu,[$u,re(F(Yt),{modelValue:F(W).getStyle("flexWrap")||"nowrap",buttons:[{label:"No Wrap",value:"nowrap"},{label:"Wrap",value:"wrap"}],"onUpdate:modelValue":l[3]||(l[3]=o=>F(W).setStyle("flexWrap",o)),class:"w-fit self-end [&>div>button[aria-checked='false']]:dark:!bg-transparent [&>div>button[aria-checked='false']]:dark:!text-zinc-400 [&>div>button[aria-checked='true']]:dark:!bg-zinc-700 [&>div>button]:dark:!bg-zinc-700 [&>div>button]:dark:!text-zinc-100 [&>div]:dark:!bg-zinc-800"},null,8,["modelValue"])])):fe("",!0),(u=F(W).getParentBlock())!=null&&u.isFlex()?(q(),me("div",ku,[re(Ne,{label:"Basis",type:"text",enableSlider:!0,unitOptions:["px","em","rem"],modelValue:F(W).getStyle("flexBasis"),"onUpdate:modelValue":l[4]||(l[4]=o=>F(W).setStyle("flexBasis",o))},null,8,["modelValue"]),X("div",Au,[Eu,re(F(Yt),{label:"Grow",modelValue:F(W).getStyle("flexGrow")||0,buttons:[{label:"Yes",value:1},{label:"No",value:0}],"onUpdate:modelValue":l[5]||(l[5]=o=>F(W).setStyle("flexGrow",o)),class:"w-fit self-end [&>div>button[aria-checked='false']]:dark:!bg-transparent [&>div>button[aria-checked='false']]:dark:!text-zinc-400 [&>div>button[aria-checked='true']]:dark:!bg-zinc-700 [&>div>button]:dark:!bg-zinc-700 [&>div>button]:dark:!text-zinc-100 [&>div]:dark:!bg-zinc-800"},null,8,["modelValue"])]),X("div",Lu,[Tu,re(F(Yt),{label:"Shrink",modelValue:F(W).getStyle("flexShrink")||0,buttons:[{label:"Yes",value:1},{label:"No",value:0}],"onUpdate:modelValue":l[6]||(l[6]=o=>F(W).setStyle("flexShrink",o)),class:"w-fit self-end [&>div>button[aria-checked='false']]:dark:!bg-transparent [&>div>button[aria-checked='false']]:dark:!text-zinc-400 [&>div>button[aria-checked='true']]:dark:!bg-zinc-700 [&>div>button]:dark:!bg-zinc-700 [&>div>button]:dark:!text-zinc-100 [&>div]:dark:!bg-zinc-800"},null,8,["modelValue"])]),re(Ne,{label:"Order",type:"number",min:"0",modelValue:F(W).getStyle("order"),"onUpdate:modelValue":l[7]||(l[7]=o=>F(W).setStyle("order",o))},null,8,["modelValue"])])):fe("",!0)],64)}}}),Ru={class:"grid-rows grid grid-cols-3 gap-2"},Iu=tr('<div class="grid-col-3 grid h-16 w-16 grid-rows-3 gap-1 self-center justify-self-center rounded bg-gray-50 p-2 dark:bg-zinc-800"><div class="col-span-3 row-start-1 h-2 w-[2px] self-center justify-self-center rounded bg-gray-400 dark:bg-zinc-900"></div><div class="col-span-3 row-start-3 h-2 w-[2px] self-center justify-self-center rounded bg-gray-400 dark:bg-zinc-900"></div><div class="h-5 w-5 self-center justify-self-center rounded bg-gray-400 shadow-md dark:bg-zinc-900"></div><div class="col-span-1 col-start-1 row-start-2 h-[2px] w-2 self-center justify-self-center rounded bg-gray-400 dark:bg-zinc-900"></div><div class="col-span-1 col-start-3 row-start-2 h-[2px] w-2 self-center justify-self-center rounded bg-gray-400 dark:bg-zinc-900"></div></div>',1),Ou=Ve({__name:"BlockPositionHandler",setup(A){const x=ve({get(){return W.getStyle("top")},set(l){W.setStyle("top",l)}}),d=ve({get(){return W.getStyle("right")},set(l){W.setStyle("right",l)}}),h=ve({get(){return W.getStyle("left")},set(l){W.setStyle("left",l)}}),b=ve({get(){return W.getStyle("bottom")},set(l){W.setStyle("bottom",l)}}),g=ve({get(){return W.getStyle("position")||"absolute"},set(l){W.setStyle("position",l)}});return(l,u)=>{const o=it("Input");return q(),me(st,null,[X("div",Ru,[re(o,{type:"text",placeholder:"top",modelValue:x.value,"onUpdate:modelValue":u[0]||(u[0]=a=>x.value=a),class:"col-span-1 col-start-2 h-8 w-16 self-end justify-self-center rounded-md text-center text-xs text-gray-800 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-200 dark:focus:bg-zinc-700"},null,8,["modelValue"]),re(o,{type:"text",placeholder:"left",modelValue:h.value,"onUpdate:modelValue":u[1]||(u[1]=a=>h.value=a),class:"col-span-1 col-start-1 h-8 w-16 self-center justify-self-end rounded-md text-center text-xs text-gray-800 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-200 dark:focus:bg-zinc-700"},null,8,["modelValue"]),Iu,re(o,{type:"text",placeholder:"right",modelValue:d.value,"onUpdate:modelValue":u[2]||(u[2]=a=>d.value=a),class:"col-span-1 col-start-3 h-8 w-16 self-center justify-self-start rounded-md text-center text-xs text-gray-800 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-200 dark:focus:bg-zinc-700"},null,8,["modelValue"]),re(o,{type:"text",placeholder:"bottom",modelValue:b.value,"onUpdate:modelValue":u[3]||(u[3]=a=>b.value=a),class:"col-span-1 col-start-2 h-8 w-16 self-start justify-self-center rounded-md text-center text-xs text-gray-800 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-200 dark:focus:bg-zinc-700"},null,8,["modelValue"])]),re(F(Yt),{buttons:[{label:"Auto",value:"static"},{label:"Free",value:"absolute"},{label:"Fixed",value:"fixed"},{label:"Sticky",value:"sticky"}],modelValue:g.value,"onUpdate:modelValue":u[4]||(u[4]=a=>g.value=a),class:"mx-auto w-fit [&>div>button[aria-checked='false']]:dark:!bg-transparent [&>div>button[aria-checked='false']]:dark:!text-zinc-400 [&>div>button[aria-checked='true']]:dark:!bg-zinc-700 [&>div>button]:dark:!bg-zinc-700 [&>div>button]:dark:!text-zinc-100 [&>div]:dark:!bg-zinc-800"},null,8,["modelValue"])],64)}}}),Du={class:"text-2xs font-bold uppercase text-gray-600"},Pu={key:0},Bu={class:"mb-4 mt-3 flex flex-col gap-3"},Gt=Ve({__name:"CollapsibleSection",props:{sectionName:{type:String,required:!0},sectionCollapsed:{type:Boolean,default:!0}},emits:["update:sectionCollapsed"],setup(A,{emit:x}){const h=le(A.sectionCollapsed),b=()=>{h.value=!h.value,x("update:sectionCollapsed",h.value)};return(g,l)=>{const u=it("Button");return q(),me("div",null,[X("div",{class:"flex cursor-pointer items-center justify-between text-sm dark:text-zinc-400",onClick:b},[X("h3",Du,Ge(A.sectionName),1),re(u,{class:"dark:text-zinc-400 dark:hover:bg-zinc-700",icon:h.value?"minus":"plus",variant:"ghost",size:"sm"},null,8,["icon"])]),h.value?(q(),me("div",Pu,[X("div",Bu,[hn(g.$slots,"default")])])):fe("",!0)])}}}),Fu={ref:"colorPicker",class:"rounded-lg bg-white p-3 shadow-lg dark:bg-zinc-900"},Nu=["onMousedown","onClick"],Hu=["onMousedown"],Wu={ref:"colorPalette"},zu={class:"mt-3 flex flex-wrap gap-1.5"},Vu=["onClick"],_u=X("g",{fill:"none","fill-rule":"evenodd"},[X("path",{d:"M24 0v24H0V0h24ZM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018Zm.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022Zm-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01l-.184-.092Z"}),X("path",{fill:"currentColor",d:"M20.477 3.511a3 3 0 0 0-4.243 0l-1.533 1.533a2.991 2.991 0 0 0-3.41.581l-.713.714a2 2 0 0 0 0 2.829l-6.486 6.485a3 3 0 0 0-.878 2.122v1.8a1.2 1.2 0 0 0 1.2 1.2h1.8a3 3 0 0 0 2.12-.88l6.486-6.484a2 2 0 0 0 2.829 0l.714-.715a2.991 2.991 0 0 0 .581-3.41l1.533-1.532a3 3 0 0 0 0-4.243ZM5.507 17.067l6.485-6.485l1.414 1.414l-6.485 6.486a1 1 0 0 1-.707.293h-1v-1a1 1 0 0 1 .293-.707Z"})],-1),Uu=[_u],ju=Ve({__name:"ColorPicker",props:{modelValue:{type:String,default:null}},emits:["update:modelValue"],setup(A,{emit:x}){const d=A,h=rt(),b=le(null),g=le(null),l=le(null),u=le(null),o=le({x:0,y:0}),a=le({x:0,y:0});let t="#FFF";const{isSupported:n,sRGBHex:i,open:e}=ya(),r=ve(()=>di(d.modelValue)),s=["#FFB3E6","#00B3E6","#E6B333","#3366E6","#999966","#99FF99","#B34D4D","#80B300"];n.value||s.push("#B34D4D");const c=E=>{const{width:C,height:S}=g.value.getBoundingClientRect(),{s:I,v:k}=Fi(E);let w=Ke(I*C,0,C),R=Ke((1-k)*S,0,S);o.value={x:w,y:R}},f=E=>{const{width:C}=b.value.getBoundingClientRect(),{h:S}=Fi(E),I=S/360*C;a.value={x:I,y:0}},p=E=>{m(E);const C=S=>{S.preventDefault(),m(S)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",S=>{document.removeEventListener("mousemove",C),S.preventDefault()},{once:!0})},$=E=>{y(E),h.history.pause();const C=S=>{S.preventDefault(),y(S)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",S=>{document.removeEventListener("mousemove",C),S.preventDefault(),h.history.resume()},{once:!0})};function m(E){const C=E.clientX,S=E.clientY,I=g.value.getBoundingClientRect();let k=C-I.left,w=S-I.top;k=Ke(k,0,I.width),w=Ke(w,0,I.height),o.value={x:k,y:w},M()}function y(E){const C=b.value.getBoundingClientRect(),{clientX:S}=E;let I=S-C.left;I=Ke(I,0,C.width),a.value={x:I,y:0},M()}function v(E){if(!E){o.value={x:0,y:0},a.value={x:0,y:0};return}dt(()=>{c(E),f(E)})}const T=ve(()=>{if(!b.value)return 0;const E=a.value.x||0,C=b.value.getBoundingClientRect().width||1;return Math.round(E/C*360)}),M=()=>{dt(()=>{const E=g.value.getBoundingClientRect(),C=Math.round(o.value.x/E.width*100),S=100-Math.round(o.value.y/E.height*100),I=T.value;t=Ea(I,C,S),x("update:modelValue",t)})};return Ct(i,()=>{!n.value||!i.value||x("update:modelValue",i.value)}),Ct(()=>d.modelValue,E=>{E!==t&&v(di(E))},{immediate:!0}),(E,C)=>(q(),ge(F(hr),{transition:"default",placement:"left",class:"!block w-full",popoverClass:"!min-w-fit !mr-[30px]"},{target:Re(({togglePopover:S,isOpen:I})=>[hn(E.$slots,"target",{togglePopover:()=>{S(),v(r.value)},isOpen:I})]),body:Re(()=>[X("div",Fu,[X("div",{ref_key:"colorMap",ref:g,style:Pe({background:`
							linear-gradient(0deg, black, transparent),
							linear-gradient(90deg, white, transparent),
							hsl(${T.value}, 100%, 50%)
						`}),onMousedown:ze(p,["stop"]),class:"relative m-auto h-24 w-44 rounded-md",onClick:ze(m,["prevent"])},[X("div",{ref_key:"colorSelector",ref:u,onMousedown:ze(p,["stop"]),class:"absolute rounded-full border border-black border-opacity-20 before:absolute before:h-full before:w-full before:rounded-full before:border-2 before:border-white before:bg-[currentColor] after:absolute after:left-[2px] after:top-[2px] after:h-[calc(100%-4px)] after:w-[calc(100%-4px)] after:rounded-full after:border after:border-black after:border-opacity-20 after:bg-transparent",style:Pe({height:"12px",width:"12px",left:`calc(${o.value.x}px - 6px)`,top:`calc(${o.value.y}px - 6px)`,color:r.value||"#FFF",background:"transparent"})},null,44,Hu)],44,Nu),X("div",{ref_key:"hueMap",ref:b,class:"relative m-auto mt-2 h-3 w-44 rounded-md",onClick:y,onMousedown:$,style:Pe({background:`
							linear-gradient(90deg, hsl(0, 100%, 50%),
							hsl(60, 100%, 50%), hsl(120, 100%, 50%),
							hsl(180, 100%, 50%), hsl(240, 100%, 50%),
							hsl(300, 100%, 50%), hsl(360, 100%, 50%))
						`})},[X("div",{ref_key:"hueSelector",ref:l,onMousedown:$,class:"absolute rounded-full border border-[rgba(0,0,0,.2)] before:absolute before:h-full before:w-full before:rounded-full before:border-2 before:border-white before:bg-[currentColor] after:absolute after:left-[2px] after:top-[2px] after:h-[calc(100%-4px)] after:w-[calc(100%-4px)] after:rounded-full after:border after:border-[rgba(0,0,0,.2)] after:bg-transparent",style:Pe({height:"12px",width:"12px",left:`calc(${a.value.x}px - 6px)`,color:`hsl(${T.value}, 100%, 50%)`,background:"transparent"})},null,36)],36),X("div",Wu,[X("div",zu,[(q(),me(st,null,pt(s,S=>X("div",{key:S,class:"h-3.5 w-3.5 cursor-pointer rounded-full shadow-sm",onClick:()=>{v(S),M()},style:Pe({background:S})},null,12,Vu)),64)),F(n)?(q(),me("svg",{key:0,class:"text-gray-700 dark:text-zinc-300",onClick:C[0]||(C[0]=()=>F(e)()),xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},Uu)):fe("",!0)])],512)],512)]),_:3}))}}),Gu={class:"flex items-center justify-between"},Ku={class:"inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400"},Yu={class:"relative w-[150px]"},Xu=["onClick"],Zu=X("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[X("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Qu=[Zu],ui=Ve({__name:"ColorInput",props:{value:{type:String,default:null},label:{type:String,default:""}},emits:["change"],setup(A,{emit:x}){const d=()=>x("change",null);return(h,b)=>{const g=it("Input");return q(),ge(ju,{modelValue:A.value,"onUpdate:modelValue":b[1]||(b[1]=l=>x("change",l))},{target:Re(({togglePopover:l,isOpen:u})=>[X("div",Gu,[X("span",Ku,Ge(A.label),1),X("div",Yu,[X("div",{class:"absolute left-2 top-[6px] z-10 h-4 w-4 rounded shadow-sm",onClick:l,style:Pe({background:A.value?A.value:"url(/assets/builder/images/color-circle.png) center / contain"})},null,12,Xu),re(g,{type:"text",class:"rounded-md text-sm text-gray-700 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-300 dark:focus:bg-zinc-700",placeholder:"Set Color",inputClass:"pl-8 pr-6",value:A.value,onChange:b[0]||(b[0]=o=>{o=F(di)(o),x("change",o)})},null,8,["value"]),Ce(X("div",{class:"absolute right-1 top-[3px] cursor-pointer p-1 text-gray-700 dark:text-zinc-300",onClick:d},Qu,512),[[$e,A.value]])])])]),_:1},8,["modelValue"])}}});var Ir={exports:{}};(function(A,x){(function(){var d="ace",h=function(){return this}();!h&&typeof window!="undefined"&&(h=window);var b=function(t,n,i){if(typeof t!="string"){b.original?b.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(i=n),b.modules[t]||(b.payloads[t]=i,b.modules[t]=null)};b.modules={},b.payloads={};var g=function(t,n,i){if(typeof n=="string"){var e=o(t,n);if(e!=null)return i&&i(),e}else if(Object.prototype.toString.call(n)==="[object Array]"){for(var r=[],s=0,c=n.length;s<c;++s){var f=o(t,n[s]);if(f==null&&l.original)return;r.push(f)}return i&&i.apply(null,r)||!0}},l=function(t,n){var i=g("",t,n);return i==null&&l.original?l.original.apply(this,arguments):i},u=function(t,n){if(n.indexOf("!")!==-1){var i=n.split("!");return u(t,i[0])+"!"+u(t,i[1])}if(n.charAt(0)=="."){var e=t.split("/").slice(0,-1).join("/");for(n=e+"/"+n;n.indexOf(".")!==-1&&r!=n;){var r=n;n=n.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return n},o=function(t,n){n=u(t,n);var i=b.modules[n];if(!i){if(i=b.payloads[n],typeof i=="function"){var e={},r={id:n,uri:"",exports:e,packaged:!0},s=function(f,p){return g(n,f,p)},c=i(s,e,r);e=c||r.exports,b.modules[n]=e,delete b.payloads[n]}i=b.modules[n]=e||i}return i};function a(t){var n=h;t&&(h[t]||(h[t]={}),n=h[t]),(!n.define||!n.define.packaged)&&(b.original=n.define,n.define=b,n.define.packaged=!0),(!n.require||!n.require.packaged)&&(l.original=n.require,n.require=l,n.require.packaged=!0)}a(d)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(d,h,b){function g(l,u,o){Object.defineProperty(l,u,{value:o,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||g(String.prototype,"startsWith",function(l,u){return u=u||0,this.lastIndexOf(l,u)===u}),String.prototype.endsWith||g(String.prototype,"endsWith",function(l,u){var o=this;(u===void 0||u>o.length)&&(u=o.length),u-=l.length;var a=o.indexOf(l,u);return a!==-1&&a===u}),String.prototype.repeat||g(String.prototype,"repeat",function(l){for(var u="",o=this;l>0;)l&1&&(u+=o),(l>>=1)&&(o+=o);return u}),String.prototype.includes||g(String.prototype,"includes",function(l,u){return this.indexOf(l,u)!=-1}),Object.assign||(Object.assign=function(l){if(l==null)throw new TypeError("Cannot convert undefined or null to object");for(var u=Object(l),o=1;o<arguments.length;o++){var a=arguments[o];a!=null&&Object.keys(a).forEach(function(t){u[t]=a[t]})}return u}),Object.values||(Object.values=function(l){return Object.keys(l).map(function(u){return l[u]})}),Array.prototype.find||g(Array.prototype,"find",function(l){for(var u=this.length,o=arguments[1],a=0;a<u;a++){var t=this[a];if(l.call(o,t,a,this))return t}}),Array.prototype.findIndex||g(Array.prototype,"findIndex",function(l){for(var u=this.length,o=arguments[1],a=0;a<u;a++){var t=this[a];if(l.call(o,t,a,this))return a}}),Array.prototype.includes||g(Array.prototype,"includes",function(l,u){return this.indexOf(l,u)!=-1}),Array.prototype.fill||g(Array.prototype,"fill",function(l){for(var u=this,o=u.length>>>0,a=arguments[1],t=a>>0,n=t<0?Math.max(o+t,0):Math.min(t,o),i=arguments[2],e=i===void 0?o:i>>0,r=e<0?Math.max(o+e,0):Math.min(e,o);n<r;)u[n]=l,n++;return u}),Array.of||g(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(d,h,b){d("./es6-shim")}),ace.define("ace/lib/lang",["require","exports","module"],function(d,h,b){h.last=function(u){return u[u.length-1]},h.stringReverse=function(u){return u.split("").reverse().join("")},h.stringRepeat=function(u,o){for(var a="";o>0;)o&1&&(a+=u),(o>>=1)&&(u+=u);return a};var g=/^\s\s*/,l=/\s\s*$/;h.stringTrimLeft=function(u){return u.replace(g,"")},h.stringTrimRight=function(u){return u.replace(l,"")},h.copyObject=function(u){var o={};for(var a in u)o[a]=u[a];return o},h.copyArray=function(u){for(var o=[],a=0,t=u.length;a<t;a++)u[a]&&typeof u[a]=="object"?o[a]=this.copyObject(u[a]):o[a]=u[a];return o},h.deepCopy=function u(o){if(typeof o!="object"||!o)return o;var a;if(Array.isArray(o)){a=[];for(var t=0;t<o.length;t++)a[t]=u(o[t]);return a}if(Object.prototype.toString.call(o)!=="[object Object]")return o;a={};for(var t in o)a[t]=u(o[t]);return a},h.arrayToMap=function(u){for(var o={},a=0;a<u.length;a++)o[u[a]]=1;return o},h.createMap=function(u){var o=Object.create(null);for(var a in u)o[a]=u[a];return o},h.arrayRemove=function(u,o){for(var a=0;a<=u.length;a++)o===u[a]&&u.splice(a,1)},h.escapeRegExp=function(u){return u.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},h.escapeHTML=function(u){return(""+u).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},h.getMatchOffsets=function(u,o){var a=[];return u.replace(o,function(t){a.push({offset:arguments[arguments.length-2],length:t.length})}),a},h.deferredCall=function(u){var o=null,a=function(){o=null,u()},t=function(n){return t.cancel(),o=setTimeout(a,n||0),t};return t.schedule=t,t.call=function(){return this.cancel(),u(),t},t.cancel=function(){return clearTimeout(o),o=null,t},t.isPending=function(){return o},t},h.delayedCall=function(u,o){var a=null,t=function(){a=null,u()},n=function(i){a==null&&(a=setTimeout(t,i||o))};return n.delay=function(i){a&&clearTimeout(a),a=setTimeout(t,i||o)},n.schedule=n,n.call=function(){this.cancel(),u()},n.cancel=function(){a&&clearTimeout(a),a=null},n.isPending=function(){return a},n}}),ace.define("ace/lib/useragent",["require","exports","module"],function(d,h,b){h.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},h.getOS=function(){return h.isMac?h.OS.MAC:h.isLinux?h.OS.LINUX:h.OS.WINDOWS};var g=typeof navigator=="object"?navigator:{},l=(/mac|win|linux/i.exec(g.platform)||["other"])[0].toLowerCase(),u=g.userAgent||"",o=g.appName||"";h.isWin=l=="win",h.isMac=l=="mac",h.isLinux=l=="linux",h.isIE=o=="Microsoft Internet Explorer"||o.indexOf("MSAppHost")>=0?parseFloat((u.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((u.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),h.isOldIE=h.isIE&&h.isIE<9,h.isGecko=h.isMozilla=u.match(/ Gecko\/\d+/),h.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",h.isWebKit=parseFloat(u.split("WebKit/")[1])||void 0,h.isChrome=parseFloat(u.split(" Chrome/")[1])||void 0,h.isEdge=parseFloat(u.split(" Edge/")[1])||void 0,h.isAIR=u.indexOf("AdobeAIR")>=0,h.isAndroid=u.indexOf("Android")>=0,h.isChromeOS=u.indexOf(" CrOS ")>=0,h.isIOS=/iPad|iPhone|iPod/.test(u)&&!window.MSStream,h.isIOS&&(h.isMac=!0),h.isMobile=h.isIOS||h.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(d,h,b){var g=d("./useragent"),l="http://www.w3.org/1999/xhtml";h.buildDom=function i(e,r,s){if(typeof e=="string"&&e){var c=document.createTextNode(e);return r&&r.appendChild(c),c}if(!Array.isArray(e))return e&&e.appendChild&&r&&r.appendChild(e),e;if(typeof e[0]!="string"||!e[0]){for(var f=[],p=0;p<e.length;p++){var $=i(e[p],r,s);$&&f.push($)}return f}var m=document.createElement(e[0]),y=e[1],v=1;y&&typeof y=="object"&&!Array.isArray(y)&&(v=2);for(var p=v;p<e.length;p++)i(e[p],m,s);return v==2&&Object.keys(y).forEach(function(T){var M=y[T];T==="class"?m.className=Array.isArray(M)?M.join(" "):M:typeof M=="function"||T=="value"||T[0]=="$"?m[T]=M:T==="ref"?s&&(s[M]=m):T==="style"?typeof M=="string"&&(m.style.cssText=M):M!=null&&m.setAttribute(T,M)}),r&&r.appendChild(m),m},h.getDocumentHead=function(i){return i||(i=document),i.head||i.getElementsByTagName("head")[0]||i.documentElement},h.createElement=function(i,e){return document.createElementNS?document.createElementNS(e||l,i):document.createElement(i)},h.removeChildren=function(i){i.innerHTML=""},h.createTextNode=function(i,e){var r=e?e.ownerDocument:document;return r.createTextNode(i)},h.createFragment=function(i){var e=i?i.ownerDocument:document;return e.createDocumentFragment()},h.hasCssClass=function(i,e){var r=(i.className+"").split(/\s+/g);return r.indexOf(e)!==-1},h.addCssClass=function(i,e){h.hasCssClass(i,e)||(i.className+=" "+e)},h.removeCssClass=function(i,e){for(var r=i.className.split(/\s+/g);;){var s=r.indexOf(e);if(s==-1)break;r.splice(s,1)}i.className=r.join(" ")},h.toggleCssClass=function(i,e){for(var r=i.className.split(/\s+/g),s=!0;;){var c=r.indexOf(e);if(c==-1)break;s=!1,r.splice(c,1)}return s&&r.push(e),i.className=r.join(" "),s},h.setCssClass=function(i,e,r){r?h.addCssClass(i,e):h.removeCssClass(i,e)},h.hasCssString=function(i,e){var r=0,s;if(e=e||document,s=e.querySelectorAll("style")){for(;r<s.length;)if(s[r++].id===i)return!0}},h.removeElementById=function(i,e){e=e||document,e.getElementById(i)&&e.getElementById(i).remove()};var u,o=[];h.useStrictCSP=function(i){u=i,i==!1?a():o||(o=[])};function a(){var i=o;o=null,i&&i.forEach(function(e){t(e[0],e[1])})}function t(i,e,r){if(typeof document!="undefined"){if(o){if(r)a();else if(r===!1)return o.push([i,e])}if(!u){var s=r;!r||!r.getRootNode?s=document:(s=r.getRootNode(),(!s||s==r)&&(s=document));var c=s.ownerDocument||s;if(e&&h.hasCssString(e,s))return null;e&&(i+=`
/*# sourceURL=ace/css/`+e+" */");var f=h.createElement("style");f.appendChild(c.createTextNode(i)),e&&(f.id=e),s==c&&(s=h.getDocumentHead(c)),s.insertBefore(f,s.firstChild)}}}if(h.importCssString=t,h.importCssStylsheet=function(i,e){h.buildDom(["link",{rel:"stylesheet",href:i}],h.getDocumentHead(e))},h.scrollbarWidth=function(i){var e=h.createElement("ace_inner");e.style.width="100%",e.style.minWidth="0px",e.style.height="200px",e.style.display="block";var r=h.createElement("ace_outer"),s=r.style;s.position="absolute",s.left="-10000px",s.overflow="hidden",s.width="200px",s.minWidth="0px",s.height="150px",s.display="block",r.appendChild(e);var c=i&&i.documentElement||document&&document.documentElement;if(!c)return 0;c.appendChild(r);var f=e.offsetWidth;s.overflow="scroll";var p=e.offsetWidth;return f===p&&(p=r.clientWidth),c.removeChild(r),f-p},h.computedStyle=function(i,e){return window.getComputedStyle(i,"")||{}},h.setStyle=function(i,e,r){i[e]!==r&&(i[e]=r)},h.HAS_CSS_ANIMATION=!1,h.HAS_CSS_TRANSFORMS=!1,h.HI_DPI=g.isWin?typeof window!="undefined"&&window.devicePixelRatio>=1.5:!0,g.isChromeOS&&(h.HI_DPI=!1),typeof document!="undefined"){var n=document.createElement("div");h.HI_DPI&&n.style.transform!==void 0&&(h.HAS_CSS_TRANSFORMS=!0),!g.isEdge&&typeof n.style.animationName!="undefined"&&(h.HAS_CSS_ANIMATION=!0),n=null}h.HAS_CSS_TRANSFORMS?h.translate=function(i,e,r){i.style.transform="translate("+Math.round(e)+"px, "+Math.round(r)+"px)"}:h.translate=function(i,e,r){i.style.top=Math.round(r)+"px",i.style.left=Math.round(e)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(d,h,b){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var g=d("./dom");h.get=function(l,u){var o=new XMLHttpRequest;o.open("GET",l,!0),o.onreadystatechange=function(){o.readyState===4&&u(o.responseText)},o.send(null)},h.loadScript=function(l,u){var o=g.getDocumentHead(),a=document.createElement("script");a.src=l,o.appendChild(a),a.onload=a.onreadystatechange=function(t,n){(n||!a.readyState||a.readyState=="loaded"||a.readyState=="complete")&&(a=a.onload=a.onreadystatechange=null,n||u())}},h.qualifyURL=function(l){var u=document.createElement("a");return u.href=l,u.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(d,h,b){h.inherits=function(g,l){g.super_=l,g.prototype=Object.create(l.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}})},h.mixin=function(g,l){for(var u in l)g[u]=l[u];return g},h.implement=function(g,l){h.mixin(g,l)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(d,h,b){var g={},l=function(){this.propagationStopped=!0},u=function(){this.defaultPrevented=!0};g._emit=g._dispatchEvent=function(o,a){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var t=this._eventRegistry[o]||[],n=this._defaultHandlers[o];if(!(!t.length&&!n)){(typeof a!="object"||!a)&&(a={}),a.type||(a.type=o),a.stopPropagation||(a.stopPropagation=l),a.preventDefault||(a.preventDefault=u),t=t.slice();for(var i=0;i<t.length&&(t[i](a,this),!a.propagationStopped);i++);if(n&&!a.defaultPrevented)return n(a,this)}},g._signal=function(o,a){var t=(this._eventRegistry||{})[o];if(!!t){t=t.slice();for(var n=0;n<t.length;n++)t[n](a,this)}},g.once=function(o,a){var t=this;if(this.on(o,function n(){t.off(o,n),a.apply(null,arguments)}),!a)return new Promise(function(n){a=n})},g.setDefaultHandler=function(o,a){var t=this._defaultHandlers;if(t||(t=this._defaultHandlers={_disabled_:{}}),t[o]){var n=t[o],i=t._disabled_[o];i||(t._disabled_[o]=i=[]),i.push(n);var e=i.indexOf(a);e!=-1&&i.splice(e,1)}t[o]=a},g.removeDefaultHandler=function(o,a){var t=this._defaultHandlers;if(!!t){var n=t._disabled_[o];if(t[o]==a)n&&this.setDefaultHandler(o,n.pop());else if(n){var i=n.indexOf(a);i!=-1&&n.splice(i,1)}}},g.on=g.addEventListener=function(o,a,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[o];return n||(n=this._eventRegistry[o]=[]),n.indexOf(a)==-1&&n[t?"unshift":"push"](a),a},g.off=g.removeListener=g.removeEventListener=function(o,a){this._eventRegistry=this._eventRegistry||{};var t=this._eventRegistry[o];if(!!t){var n=t.indexOf(a);n!==-1&&t.splice(n,1)}},g.removeAllListeners=function(o){o||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[o]=void 0),this._defaultHandlers&&(this._defaultHandlers[o]=void 0)},h.EventEmitter=g}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(d,h,b){var g=d("./oop"),l=d("./event_emitter").EventEmitter,u={setOptions:function(i){Object.keys(i).forEach(function(e){this.setOption(e,i[e])},this)},getOptions:function(i){var e={};if(i)Array.isArray(i)||(e=i,i=Object.keys(e));else{var r=this.$options;i=Object.keys(r).filter(function(s){return!r[s].hidden})}return i.forEach(function(s){e[s]=this.getOption(s)},this),e},setOption:function(i,e){if(this["$"+i]!==e){var r=this.$options[i];if(!r)return o('misspelled option "'+i+'"');if(r.forwardTo)return this[r.forwardTo]&&this[r.forwardTo].setOption(i,e);r.handlesSet||(this["$"+i]=e),r&&r.set&&r.set.call(this,e)}},getOption:function(i){var e=this.$options[i];return e?e.forwardTo?this[e.forwardTo]&&this[e.forwardTo].getOption(i):e&&e.get?e.get.call(this):this["$"+i]:o('misspelled option "'+i+'"')}};function o(i){typeof console!="undefined"&&console.warn&&console.warn.apply(console,arguments)}function a(i,e){var r=new Error(i);r.data=e,typeof console=="object"&&console.error&&console.error(r),setTimeout(function(){throw r})}var t,n=function(){function i(){this.$defaultOptions={}}return i.prototype.defineOptions=function(e,r,s){return e.$options||(this.$defaultOptions[r]=e.$options={}),Object.keys(s).forEach(function(c){var f=s[c];typeof f=="string"&&(f={forwardTo:f}),f.name||(f.name=c),e.$options[f.name]=f,"initialValue"in f&&(e["$"+f.name]=f.initialValue)}),g.implement(e,u),this},i.prototype.resetOptions=function(e){Object.keys(e.$options).forEach(function(r){var s=e.$options[r];"value"in s&&e.setOption(r,s.value)})},i.prototype.setDefaultValue=function(e,r,s){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][r])break;if(!this.$defaultOptions[e][r])return!1}var c=this.$defaultOptions[e]||(this.$defaultOptions[e]={});c[r]&&(c.forwardTo?this.setDefaultValue(c.forwardTo,r,s):c[r].value=s)},i.prototype.setDefaultValues=function(e,r){Object.keys(r).forEach(function(s){this.setDefaultValue(e,s,r[s])},this)},i.prototype.setMessages=function(e){t=e},i.prototype.nls=function(e,r){t&&!t[e]&&o("No message found for '"+e+"' in the provided messages, falling back to default English message.");var s=t&&t[e]||e;return r&&(s=s.replace(/\$(\$|[\d]+)/g,function(c,f){return f=="$"?"$":r[f]})),s},i}();n.prototype.warn=o,n.prototype.reportError=a,g.implement(n.prototype,l),h.AppConfig=n}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(d,h,b){b.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(d,h,b){h.isDark=!1,h.cssClass="ace-tm",h.cssText=d("./textmate-css"),h.$id="ace/theme/textmate";var g=d("../lib/dom");g.importCssString(h.cssText,h.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(d,h,b){var g=d("./lib/lang"),l=d("./lib/net"),u=d("./lib/dom"),o=d("./lib/app_config").AppConfig;b.exports=h=new o;var a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};h.get=function(e){if(!a.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return a[e]},h.set=function(e,r){if(a.hasOwnProperty(e))a[e]=r;else if(this.setDefaultValue("",e,r)==!1)throw new Error("Unknown config key: "+e);e=="useStrictCSP"&&u.useStrictCSP(r)},h.all=function(){return g.copyObject(a)},h.$modes={},h.moduleUrl=function(e,r){if(a.$moduleUrls[e])return a.$moduleUrls[e];var s=e.split("/");r=r||s[s.length-2]||"";var c=r=="snippets"?"/":"-",f=s[s.length-1];if(r=="worker"&&c=="-"){var p=new RegExp("^"+r+"[\\-_]|[\\-_]"+r+"$","g");f=f.replace(p,"")}(!f||f==r)&&s.length>1&&(f=s[s.length-2]);var $=a[r+"Path"];return $==null?$=a.basePath:c=="/"&&(r=c=""),$&&$.slice(-1)!="/"&&($+="/"),$+r+c+f+this.get("suffix")},h.setModuleUrl=function(e,r){return a.$moduleUrls[e]=r};var t=function(e,r){if(e==="ace/theme/textmate"||e==="./theme/textmate")return r(null,d("./theme/textmate"));if(n)return n(e,r);console.error("loader is not configured")},n;h.setLoader=function(e){n=e},h.dynamicModules=Object.create(null),h.$loading={},h.$loaded={},h.loadModule=function(e,r){var s,c;Array.isArray(e)&&(c=e[0],e=e[1]);var f=function(p){if(p&&!h.$loading[e])return r&&r(p);if(h.$loading[e]||(h.$loading[e]=[]),h.$loading[e].push(r),!(h.$loading[e].length>1)){var $=function(){t(e,function(m,y){y&&(h.$loaded[e]=y),h._emit("load.module",{name:e,module:y});var v=h.$loading[e];h.$loading[e]=null,v.forEach(function(T){T&&T(y)})})};if(!h.get("packaged"))return $();l.loadScript(h.moduleUrl(e,c),$),i()}};if(h.dynamicModules[e])h.dynamicModules[e]().then(function(p){p.default?f(p.default):f(p)});else{try{s=this.$require(e)}catch(p){}f(s||h.$loaded[e])}},h.$require=function(e){if(typeof b.require=="function"){var r="require";return b[r](e)}},h.setModuleLoader=function(e,r){h.dynamicModules[e]=r};var i=function(){!a.basePath&&!a.workerPath&&!a.modePath&&!a.themePath&&!Object.keys(a.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),i=function(){})};h.version="1.23.4"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(d,h,b){d("./lib/fixoldbrowsers");var g=d("./config");g.setLoader(function(a,t){d([a],function(n){t(null,n)})});var l=function(){return this||typeof window!="undefined"&&window}();b.exports=function(a){g.init=u,g.$require=d,a.require=d},u(!0);function u(a){if(!(!l||!l.document)){g.set("packaged",a||d.packaged||b.packaged||l.define&&(void 0).packaged);var t={},n="",i=document.currentScript||document._currentScript,e=i&&i.ownerDocument||document;i&&i.src&&(n=i.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var r=e.getElementsByTagName("script"),s=0;s<r.length;s++){var c=r[s],f=c.src||c.getAttribute("src");if(!!f){for(var p=c.attributes,$=0,m=p.length;$<m;$++){var y=p[$];y.name.indexOf("data-ace-")===0&&(t[o(y.name.replace(/^data-ace-/,""))]=y.value)}var v=f.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);v&&(n=v[1])}}n&&(t.base=t.base||n,t.packaged=!0),t.basePath=t.base,t.workerPath=t.workerPath||t.base,t.modePath=t.modePath||t.base,t.themePath=t.themePath||t.base,delete t.base;for(var T in t)typeof t[T]!="undefined"&&g.set(T,t[T])}}function o(a){return a.replace(/-(.)/g,function(t,n){return n.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(d,h,b){var g=function(u,o){return u.row-o.row||u.column-o.column},l=function(){function u(o,a,t,n){this.start={row:o,column:a},this.end={row:t,column:n}}return u.prototype.isEqual=function(o){return this.start.row===o.start.row&&this.end.row===o.end.row&&this.start.column===o.start.column&&this.end.column===o.end.column},u.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},u.prototype.contains=function(o,a){return this.compare(o,a)==0},u.prototype.compareRange=function(o){var a,t=o.end,n=o.start;return a=this.compare(t.row,t.column),a==1?(a=this.compare(n.row,n.column),a==1?2:a==0?1:0):a==-1?-2:(a=this.compare(n.row,n.column),a==-1?-1:a==1?42:0)},u.prototype.comparePoint=function(o){return this.compare(o.row,o.column)},u.prototype.containsRange=function(o){return this.comparePoint(o.start)==0&&this.comparePoint(o.end)==0},u.prototype.intersects=function(o){var a=this.compareRange(o);return a==-1||a==0||a==1},u.prototype.isEnd=function(o,a){return this.end.row==o&&this.end.column==a},u.prototype.isStart=function(o,a){return this.start.row==o&&this.start.column==a},u.prototype.setStart=function(o,a){typeof o=="object"?(this.start.column=o.column,this.start.row=o.row):(this.start.row=o,this.start.column=a)},u.prototype.setEnd=function(o,a){typeof o=="object"?(this.end.column=o.column,this.end.row=o.row):(this.end.row=o,this.end.column=a)},u.prototype.inside=function(o,a){return this.compare(o,a)==0?!(this.isEnd(o,a)||this.isStart(o,a)):!1},u.prototype.insideStart=function(o,a){return this.compare(o,a)==0?!this.isEnd(o,a):!1},u.prototype.insideEnd=function(o,a){return this.compare(o,a)==0?!this.isStart(o,a):!1},u.prototype.compare=function(o,a){return!this.isMultiLine()&&o===this.start.row?a<this.start.column?-1:a>this.end.column?1:0:o<this.start.row?-1:o>this.end.row?1:this.start.row===o?a>=this.start.column?0:-1:this.end.row===o?a<=this.end.column?0:1:0},u.prototype.compareStart=function(o,a){return this.start.row==o&&this.start.column==a?-1:this.compare(o,a)},u.prototype.compareEnd=function(o,a){return this.end.row==o&&this.end.column==a?1:this.compare(o,a)},u.prototype.compareInside=function(o,a){return this.end.row==o&&this.end.column==a?1:this.start.row==o&&this.start.column==a?-1:this.compare(o,a)},u.prototype.clipRows=function(o,a){if(this.end.row>a)var t={row:a+1,column:0};else if(this.end.row<o)var t={row:o,column:0};if(this.start.row>a)var n={row:a+1,column:0};else if(this.start.row<o)var n={row:o,column:0};return u.fromPoints(n||this.start,t||this.end)},u.prototype.extend=function(o,a){var t=this.compare(o,a);if(t==0)return this;if(t==-1)var n={row:o,column:a};else var i={row:o,column:a};return u.fromPoints(n||this.start,i||this.end)},u.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},u.prototype.isMultiLine=function(){return this.start.row!==this.end.row},u.prototype.clone=function(){return u.fromPoints(this.start,this.end)},u.prototype.collapseRows=function(){return this.end.column==0?new u(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new u(this.start.row,0,this.end.row,0)},u.prototype.toScreenRange=function(o){var a=o.documentToScreenPosition(this.start),t=o.documentToScreenPosition(this.end);return new u(a.row,a.column,t.row,t.column)},u.prototype.moveBy=function(o,a){this.start.row+=o,this.start.column+=a,this.end.row+=o,this.end.column+=a},u}();l.fromPoints=function(u,o){return new l(u.row,u.column,o.row,o.column)},l.comparePoints=g,l.comparePoints=function(u,o){return u.row-o.row||u.column-o.column},h.Range=l}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(d,h,b){/*! @license
	==========================================================================
	SproutCore -- JavaScript Application Framework
	copyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.

	Permission is hereby granted, free of charge, to any person obtaining a
	copy of this software and associated documentation files (the "Software"),
	to deal in the Software without restriction, including without limitation
	the rights to use, copy, modify, merge, publish, distribute, sublicense,
	and/or sell copies of the Software, and to permit persons to whom the
	Software is furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
	FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
	DEALINGS IN THE SOFTWARE.

	SproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.

	For more information about SproutCore, visit http://www.sproutcore.com


	==========================================================================
	@license */var g=d("./oop"),l=function(){var u={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};u.PRINTABLE_KEYS[173]="-";var o,a;for(a in u.FUNCTION_KEYS)o=u.FUNCTION_KEYS[a].toLowerCase(),u[o]=parseInt(a,10);for(a in u.PRINTABLE_KEYS)o=u.PRINTABLE_KEYS[a].toLowerCase(),u[o]=parseInt(a,10);return g.mixin(u,u.MODIFIER_KEYS),g.mixin(u,u.PRINTABLE_KEYS),g.mixin(u,u.FUNCTION_KEYS),u.enter=u.return,u.escape=u.esc,u.del=u.delete,function(){for(var t=["cmd","ctrl","alt","shift"],n=Math.pow(2,t.length);n--;)u.KEY_MODS[n]=t.filter(function(i){return n&u.KEY_MODS[i]}).join("-")+"-"}(),u.KEY_MODS[0]="",u.KEY_MODS[-1]="input-",u}();g.mixin(h,l),h.default=h,h.keyCodeToString=function(u){var o=l[u];return typeof o!="string"&&(o=String.fromCharCode(u)),o.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(d,h,b){var g=d("./keys"),l=d("./useragent"),u=null,o=0,a;function t(){a=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){a={passive:!1}}})}catch($){}}function n(){return a==null&&t(),a}function i($,m,y){this.elem=$,this.type=m,this.callback=y}i.prototype.destroy=function(){r(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var e=h.addListener=function($,m,y,v){$.addEventListener(m,y,n()),v&&v.$toDestroy.push(new i($,m,y))},r=h.removeListener=function($,m,y){$.removeEventListener(m,y,n())};h.stopEvent=function($){return h.stopPropagation($),h.preventDefault($),!1},h.stopPropagation=function($){$.stopPropagation&&$.stopPropagation()},h.preventDefault=function($){$.preventDefault&&$.preventDefault()},h.getButton=function($){return $.type=="dblclick"?0:$.type=="contextmenu"||l.isMac&&$.ctrlKey&&!$.altKey&&!$.shiftKey?2:$.button},h.capture=function($,m,y){var v=$&&$.ownerDocument||document;function T(M){m&&m(M),y&&y(M),r(v,"mousemove",m),r(v,"mouseup",T),r(v,"dragstart",T)}return e(v,"mousemove",m),e(v,"mouseup",T),e(v,"dragstart",T),T},h.addMouseWheelListener=function($,m,y){e($,"wheel",function(v){var T=.15,M=v.deltaX||0,E=v.deltaY||0;switch(v.deltaMode){case v.DOM_DELTA_PIXEL:v.wheelX=M*T,v.wheelY=E*T;break;case v.DOM_DELTA_LINE:var C=15;v.wheelX=M*C,v.wheelY=E*C;break;case v.DOM_DELTA_PAGE:var S=150;v.wheelX=M*S,v.wheelY=E*S;break}m(v)},y)},h.addMultiMouseDownListener=function($,m,y,v,T){var M=0,E,C,S,I={2:"dblclick",3:"tripleclick",4:"quadclick"};function k(w){if(h.getButton(w)!==0?M=0:w.detail>1?(M++,M>4&&(M=1)):M=1,l.isIE){var R=Math.abs(w.clientX-E)>5||Math.abs(w.clientY-C)>5;(!S||R)&&(M=1),S&&clearTimeout(S),S=setTimeout(function(){S=null},m[M-1]||600),M==1&&(E=w.clientX,C=w.clientY)}if(w._clicks=M,y[v]("mousedown",w),M>4)M=0;else if(M>1)return y[v](I[M],w)}Array.isArray($)||($=[$]),$.forEach(function(w){e(w,"mousedown",k,T)})};var s=function($){return 0|($.ctrlKey?1:0)|($.altKey?2:0)|($.shiftKey?4:0)|($.metaKey?8:0)};h.getModifierString=function($){return g.KEY_MODS[s($)]};function c($,m,y){var v=s(m);if(!l.isMac&&u){if(m.getModifierState&&(m.getModifierState("OS")||m.getModifierState("Win"))&&(v|=8),u.altGr)if((3&v)!=3)u.altGr=0;else return;if(y===18||y===17){var T="location"in m?m.location:m.keyLocation;if(y===17&&T===1)u[y]==1&&(o=m.timeStamp);else if(y===18&&v===3&&T===2){var M=m.timeStamp-o;M<50&&(u.altGr=!0)}}}if(y in g.MODIFIER_KEYS&&(y=-1),!v&&y===13){var T="location"in m?m.location:m.keyLocation;if(T===3&&($(m,v,-y),m.defaultPrevented))return}if(l.isChromeOS&&v&8){if($(m,v,y),m.defaultPrevented)return;v&=-9}return!v&&!(y in g.FUNCTION_KEYS)&&!(y in g.PRINTABLE_KEYS)?!1:$(m,v,y)}h.addCommandKeyListener=function($,m,y){if(l.isOldGecko||l.isOpera&&!("KeyboardEvent"in window)){var v=null;e($,"keydown",function(M){v=M.keyCode},y),e($,"keypress",function(M){return c(m,M,v)},y)}else{var T=null;e($,"keydown",function(M){u[M.keyCode]=(u[M.keyCode]||0)+1;var E=c(m,M,M.keyCode);return T=M.defaultPrevented,E},y),e($,"keypress",function(M){T&&(M.ctrlKey||M.altKey||M.shiftKey||M.metaKey)&&(h.stopEvent(M),T=null)},y),e($,"keyup",function(M){u[M.keyCode]=null},y),u||(f(),e(window,"focus",f))}};function f(){u=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!l.isOldIE){var p=1;h.nextTick=function($,m){m=m||window;var y="zero-timeout-message-"+p++,v=function(T){T.data==y&&(h.stopPropagation(T),r(m,"message",v),$())};e(m,"message",v),m.postMessage(y,"*")}}h.$idleBlocked=!1,h.onIdle=function($,m){return setTimeout(function y(){h.$idleBlocked?setTimeout(y,100):$()},m)},h.$idleBlockId=null,h.blockIdle=function($){h.$idleBlockId&&clearTimeout(h.$idleBlockId),h.$idleBlocked=!0,h.$idleBlockId=setTimeout(function(){h.$idleBlocked=!1},$||100)},h.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),h.nextFrame?h.nextFrame=h.nextFrame.bind(window):h.nextFrame=function($){setTimeout($,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(d,h,b){var g;b.exports={lineMode:!1,pasteCancelled:function(){return g&&g>Date.now()-50?!0:g=!1},cancel:function(){g=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(d,h,b){var g=d("../lib/event"),l=d("../config").nls,u=d("../lib/useragent"),o=d("../lib/dom"),a=d("../lib/lang"),t=d("../clipboard"),n=u.isChrome<18,i=u.isIE,e=u.isChrome>63,r=400,s=d("../lib/keys"),c=s.KEY_MODS,f=u.isIOS,p=f?/\s/:/\n/,$=u.isMobile,m=function(y,v){var T=o.createElement("textarea");T.className="ace_text-input",T.setAttribute("wrap","off"),T.setAttribute("autocorrect","off"),T.setAttribute("autocapitalize","off"),T.setAttribute("spellcheck",!1),T.style.opacity="0",y.insertBefore(T,y.firstChild);var M=!1,E=!1,C=!1,S=!1,I="";$||(T.style.fontSize="1px");var k=!1,w=!1,R="",L=0,O=0,P=0;try{var B=document.activeElement===T}catch(te){}this.setAriaOptions=function(te){te.activeDescendant?(T.setAttribute("aria-haspopup","true"),T.setAttribute("aria-autocomplete",te.inline?"both":"list"),T.setAttribute("aria-activedescendant",te.activeDescendant)):(T.setAttribute("aria-haspopup","false"),T.setAttribute("aria-autocomplete","both"),T.removeAttribute("aria-activedescendant")),te.role&&T.setAttribute("role",te.role)},this.setAriaLabel=function(){if(v.session&&v.renderer.enableKeyboardAccessibility){var te=v.session.selection.cursor.row;T.setAttribute("aria-roledescription",l("editor")),T.setAttribute("aria-label",l("Cursor at row $0",[te+1]))}else T.removeAttribute("aria-roledescription"),T.removeAttribute("aria-label")},this.setAriaOptions({role:"textbox"}),this.setAriaLabel(),g.addListener(T,"blur",function(te){w||(v.onBlur(te),B=!1)},v),g.addListener(T,"focus",function(te){if(!w){if(B=!0,u.isEdge)try{if(!document.hasFocus())return}catch(ye){}v.onFocus(te),u.isEdge?setTimeout(H):H()}},v),this.$focusScroll=!1,this.focus=function(){if(this.setAriaLabel(),I||e||this.$focusScroll=="browser")return T.focus({preventScroll:!0});var te=T.style.top;T.style.position="fixed",T.style.top="0px";try{var ye=T.getBoundingClientRect().top!=0}catch(We){return}var xe=[];if(ye)for(var Be=T.parentElement;Be&&Be.nodeType==1;)xe.push(Be),Be.setAttribute("ace_nocontext",!0),!Be.parentElement&&Be.getRootNode?Be=Be.getRootNode().host:Be=Be.parentElement;T.focus({preventScroll:!0}),ye&&xe.forEach(function(We){We.removeAttribute("ace_nocontext")}),setTimeout(function(){T.style.position="",T.style.top=="0px"&&(T.style.top=te)},0)},this.blur=function(){T.blur()},this.isFocused=function(){return B},v.on("beforeEndOperation",function(){var te=v.curOp,ye=te&&te.command&&te.command.name;if(ye!="insertstring"){var xe=ye&&(te.docChanged||te.selectionChanged);C&&xe&&(R=T.value="",Ee()),H()}});var H=f?function(te){if(!(!B||M&&!te||S)){te||(te="");var ye=`
 ab`+te+`cde fg
`;ye!=T.value&&(T.value=R=ye);var xe=4,Be=4+(te.length||(v.selection.isEmpty()?0:1));(L!=xe||O!=Be)&&T.setSelectionRange(xe,Be),L=xe,O=Be}}:function(){if(!(C||S)&&!(!B&&!z)){C=!0;var te=0,ye=0,xe="";if(v.session){var Be=v.selection,We=Be.getRange(),Ue=Be.cursor.row;if(te=We.start.column,ye=We.end.column,xe=v.session.getLine(Ue),We.start.row!=Ue){var je=v.session.getLine(Ue-1);te=We.start.row<Ue-1?0:te,ye+=je.length+1,xe=je+`
`+xe}else if(We.end.row!=Ue){var G=v.session.getLine(Ue+1);ye=We.end.row>Ue+1?G.length:ye,ye+=xe.length+1,xe=xe+`
`+G}else $&&Ue>0&&(xe=`
`+xe,ye+=1,te+=1);xe.length>r&&(te<r&&ye<r?xe=xe.slice(0,r):(xe=`
`,te==ye?te=ye=0:(te=0,ye=1)))}var j=xe+`

`;if(j!=R&&(T.value=R=j,L=O=j.length),z&&(L=T.selectionStart,O=T.selectionEnd),O!=ye||L!=te||T.selectionEnd!=O)try{T.setSelectionRange(te,ye),L=te,O=ye}catch(Y){}C=!1}};this.resetSelection=H,B&&v.onFocus();var V=function(te){return te.selectionStart===0&&te.selectionEnd>=R.length&&te.value===R&&R&&te.selectionEnd!==O},U=function(te){C||(M?M=!1:V(T)?(v.selectAll(),H()):$&&T.selectionStart!=L&&H())},_=null;this.setInputHandler=function(te){_=te},this.getInputHandler=function(){return _};var z=!1,K=function(te,ye){if(z&&(z=!1),E)return H(),te&&v.onPaste(te),E=!1,"";for(var xe=T.selectionStart,Be=T.selectionEnd,We=L,Ue=R.length-O,je=te,G=te.length-xe,j=te.length-Be,Y=0;We>0&&R[Y]==te[Y];)Y++,We--;for(je=je.slice(Y),Y=1;Ue>0&&R.length-Y>L-1&&R[R.length-Y]==te[te.length-Y];)Y++,Ue--;G-=Y-1,j-=Y-1;var D=je.length-Y+1;if(D<0&&(We=-D,D=0),je=je.slice(0,D),!ye&&!je&&!G&&!We&&!Ue&&!j)return"";S=!0;var N=!1;return u.isAndroid&&je==". "&&(je="  ",N=!0),je&&!We&&!Ue&&!G&&!j||k?v.onTextInput(je):v.onTextInput(je,{extendLeft:We,extendRight:Ue,restoreStart:G,restoreEnd:j}),S=!1,R=te,L=xe,O=Be,P=j,N?`
`:je},J=function(te){if(C)return Ie();if(te&&te.inputType){if(te.inputType=="historyUndo")return v.execCommand("undo");if(te.inputType=="historyRedo")return v.execCommand("redo")}var ye=T.value,xe=K(ye,!0);(ye.length>r+100||p.test(xe)||$&&L<1&&L==O)&&H()},ee=function(te,ye,xe){var Be=te.clipboardData||window.clipboardData;if(!(!Be||n)){var We=i||xe?"Text":"text/plain";try{return ye?Be.setData(We,ye)!==!1:Be.getData(We)}catch(Ue){if(!xe)return ee(Ue,ye,!0)}}},ie=function(te,ye){var xe=v.getCopyText();if(!xe)return g.preventDefault(te);ee(te,xe)?(f&&(H(xe),M=xe,setTimeout(function(){M=!1},10)),ye?v.onCut():v.onCopy(),g.preventDefault(te)):(M=!0,T.value=xe,T.select(),setTimeout(function(){M=!1,H(),ye?v.onCut():v.onCopy()}))},se=function(te){ie(te,!0)},he=function(te){ie(te,!1)},pe=function(te){var ye=ee(te);t.pasteCancelled()||(typeof ye=="string"?(ye&&v.onPaste(ye,te),u.isIE&&setTimeout(H),g.preventDefault(te)):(T.value="",E=!0))};g.addCommandKeyListener(T,v.onCommandKey.bind(v),v),g.addListener(T,"select",U,v),g.addListener(T,"input",J,v),g.addListener(T,"cut",se,v),g.addListener(T,"copy",he,v),g.addListener(T,"paste",pe,v),(!("oncut"in T)||!("oncopy"in T)||!("onpaste"in T))&&g.addListener(y,"keydown",function(te){if(!(u.isMac&&!te.metaKey||!te.ctrlKey))switch(te.keyCode){case 67:he(te);break;case 86:pe(te);break;case 88:se(te);break}},v);var Me=function(te){if(!(C||!v.onCompositionStart||v.$readOnly)&&(C={},!k)){te.data&&(C.useTextareaForIME=!1),setTimeout(Ie,0),v._signal("compositionStart"),v.on("mousedown",Oe);var ye=v.getSelectionRange();ye.end.row=ye.start.row,ye.end.column=ye.start.column,C.markerRange=ye,C.selectionStart=L,v.onCompositionStart(C),C.useTextareaForIME?(R=T.value="",L=0,O=0):(T.msGetInputContext&&(C.context=T.msGetInputContext()),T.getInputContext&&(C.context=T.getInputContext()))}},Ie=function(){if(!(!C||!v.onCompositionUpdate||v.$readOnly)){if(k)return Oe();if(C.useTextareaForIME)v.onCompositionUpdate(T.value);else{var te=T.value;K(te),C.markerRange&&(C.context&&(C.markerRange.start.column=C.selectionStart=C.context.compositionStartOffset),C.markerRange.end.column=C.markerRange.start.column+O-C.selectionStart+P)}}},Ee=function(te){!v.onCompositionEnd||v.$readOnly||(C=!1,v.onCompositionEnd(),v.off("mousedown",Oe),te&&J())};function Oe(){w=!0,T.blur(),T.focus(),w=!1}var Ye=a.delayedCall(Ie,50).schedule.bind(null,null);function lt(te){te.keyCode==27&&T.value.length<T.selectionStart&&(C||(R=T.value),L=O=-1,H()),Ye()}g.addListener(T,"compositionstart",Me,v),g.addListener(T,"compositionupdate",Ie,v),g.addListener(T,"keyup",lt,v),g.addListener(T,"keydown",Ye,v),g.addListener(T,"compositionend",Ee,v),this.getElement=function(){return T},this.setCommandMode=function(te){k=te,T.readOnly=!1},this.setReadOnly=function(te){k||(T.readOnly=te)},this.setCopyWithEmptySelection=function(te){},this.onContextMenu=function(te){z=!0,H(),v._emit("nativecontextmenu",{target:v,domEvent:te}),this.moveToMouse(te,!0)},this.moveToMouse=function(te,ye){I||(I=T.style.cssText),T.style.cssText=(ye?"z-index:100000;":"")+(u.isIE?"opacity:0.1;":"")+"text-indent: -"+(L+O)*v.renderer.characterWidth*.5+"px;";var xe=v.container.getBoundingClientRect(),Be=o.computedStyle(v.container),We=xe.top+(parseInt(Be.borderTopWidth)||0),Ue=xe.left+(parseInt(xe.borderLeftWidth)||0),je=xe.bottom-We-T.clientHeight-2,G=function(j){o.translate(T,j.clientX-Ue-2,Math.min(j.clientY-We-2,je))};G(te),te.type=="mousedown"&&(v.renderer.$isMousePressed=!0,clearTimeout(gt),u.isWin&&g.capture(v.container,G,Pt))},this.onContextMenuClose=Pt;var gt;function Pt(){clearTimeout(gt),gt=setTimeout(function(){I&&(T.style.cssText=I,I=""),v.renderer.$isMousePressed=!1,v.renderer.$keepTextAreaAtCursor&&v.renderer.$moveTextAreaToCursor()},0)}var ct=function(te){v.textInput.onContextMenu(te),Pt()};g.addListener(T,"mouseup",ct,v),g.addListener(T,"mousedown",function(te){te.preventDefault(),Pt()},v),g.addListener(v.renderer.scroller,"contextmenu",ct,v),g.addListener(T,"contextmenu",ct,v),f&&$t(y,v,T);function $t(te,ye,xe){var Be=null,We=!1;xe.addEventListener("keydown",function(je){Be&&clearTimeout(Be),We=!0},!0),xe.addEventListener("keyup",function(je){Be=setTimeout(function(){We=!1},100)},!0);var Ue=function(je){if(document.activeElement===xe&&!(We||C||ye.$mouseHandler.isMousePressed)&&!M){var G=xe.selectionStart,j=xe.selectionEnd,Y=null,D=0;if(G==0?Y=s.up:G==1?Y=s.home:j>O&&R[j]==`
`?Y=s.end:G<L&&R[G-1]==" "?(Y=s.left,D=c.option):G<L||G==L&&O!=L&&G==j?Y=s.left:j>O&&R.slice(0,j).split(`
`).length>2?Y=s.down:j>O&&R[j-1]==" "?(Y=s.right,D=c.option):(j>O||j==O&&O!=L&&G==j)&&(Y=s.right),G!==j&&(D|=c.shift),Y){var N=ye.onCommandKey({},D,Y);if(!N&&ye.commands){Y=s.keyCodeToString(Y);var Z=ye.commands.findKeyCommand(D,Y);Z&&ye.execCommand(Z)}L=G,O=j,H("")}}};document.addEventListener("selectionchange",Ue),ye.on("destroy",function(){document.removeEventListener("selectionchange",Ue)})}this.destroy=function(){T.parentElement&&T.parentElement.removeChild(T)}};h.TextInput=m,h.$setUserAgentForTests=function(y,v){$=y,f=v}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(d,h,b){var g=d("../lib/useragent"),l=0,u=550,o=function(){function n(i){i.$clickSelection=null;var e=i.editor;e.setDefaultHandler("mousedown",this.onMouseDown.bind(i)),e.setDefaultHandler("dblclick",this.onDoubleClick.bind(i)),e.setDefaultHandler("tripleclick",this.onTripleClick.bind(i)),e.setDefaultHandler("quadclick",this.onQuadClick.bind(i)),e.setDefaultHandler("mousewheel",this.onMouseWheel.bind(i));var r=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];r.forEach(function(s){i[s]=this[s]},this),i.selectByLines=this.extendSelectionBy.bind(i,"getLineRange"),i.selectByWords=this.extendSelectionBy.bind(i,"getWordRange")}return n.prototype.onMouseDown=function(i){var e=i.inSelection(),r=i.getDocumentPosition();this.mousedownEvent=i;var s=this.editor,c=i.getButton();if(c!==0){var f=s.getSelectionRange(),p=f.isEmpty();(p||c==1)&&s.selection.moveToPosition(r),c==2&&(s.textInput.onContextMenu(i.domEvent),g.isMozilla||i.preventDefault());return}if(this.mousedownEvent.time=Date.now(),e&&!s.isFocused()&&(s.focus(),this.$focusTimeout&&!this.$clickSelection&&!s.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(i);return}return this.captureMouse(i),this.startSelect(r,i.domEvent._clicks>1),i.preventDefault()},n.prototype.startSelect=function(i,e){i=i||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var r=this.editor;!this.mousedownEvent||(this.mousedownEvent.getShiftKey()?r.selection.selectToPosition(i):e||r.selection.moveToPosition(i),e||this.select(),r.setStyle("ace_selecting"),this.setState("select"))},n.prototype.select=function(){var i,e=this.editor,r=e.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(r);if(s==-1)i=this.$clickSelection.end;else if(s==1)i=this.$clickSelection.start;else{var c=t(this.$clickSelection,r);r=c.cursor,i=c.anchor}e.selection.setSelectionAnchor(i.row,i.column)}e.selection.selectToPosition(r),e.renderer.scrollCursorIntoView()},n.prototype.extendSelectionBy=function(i){var e,r=this.editor,s=r.renderer.screenToTextCoordinates(this.x,this.y),c=r.selection[i](s.row,s.column);if(this.$clickSelection){var f=this.$clickSelection.comparePoint(c.start),p=this.$clickSelection.comparePoint(c.end);if(f==-1&&p<=0)e=this.$clickSelection.end,(c.end.row!=s.row||c.end.column!=s.column)&&(s=c.start);else if(p==1&&f>=0)e=this.$clickSelection.start,(c.start.row!=s.row||c.start.column!=s.column)&&(s=c.end);else if(f==-1&&p==1)s=c.end,e=c.start;else{var $=t(this.$clickSelection,s);s=$.cursor,e=$.anchor}r.selection.setSelectionAnchor(e.row,e.column)}r.selection.selectToPosition(s),r.renderer.scrollCursorIntoView()},n.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},n.prototype.focusWait=function(){var i=a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),e=Date.now();(i>l||e-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},n.prototype.onDoubleClick=function(i){var e=i.getDocumentPosition(),r=this.editor,s=r.session,c=s.getBracketRange(e);c?(c.isEmpty()&&(c.start.column--,c.end.column++),this.setState("select")):(c=r.selection.getWordRange(e.row,e.column),this.setState("selectByWords")),this.$clickSelection=c,this.select()},n.prototype.onTripleClick=function(i){var e=i.getDocumentPosition(),r=this.editor;this.setState("selectByLines");var s=r.getSelectionRange();s.isMultiLine()&&s.contains(e.row,e.column)?(this.$clickSelection=r.selection.getLineRange(s.start.row),this.$clickSelection.end=r.selection.getLineRange(s.end.row).end):this.$clickSelection=r.selection.getLineRange(e.row),this.select()},n.prototype.onQuadClick=function(i){var e=this.editor;e.selectAll(),this.$clickSelection=e.getSelectionRange(),this.setState("selectAll")},n.prototype.onMouseWheel=function(i){if(!i.getAccelKey()){i.getShiftKey()&&i.wheelY&&!i.wheelX&&(i.wheelX=i.wheelY,i.wheelY=0);var e=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var r=this.$lastScroll,s=i.domEvent.timeStamp,c=s-r.t,f=c?i.wheelX/c:r.vx,p=c?i.wheelY/c:r.vy;c<u&&(f=(f+r.vx)/2,p=(p+r.vy)/2);var $=Math.abs(f/p),m=!1;if($>=1&&e.renderer.isScrollableBy(i.wheelX*i.speed,0)&&(m=!0),$<=1&&e.renderer.isScrollableBy(0,i.wheelY*i.speed)&&(m=!0),m)r.allowed=s;else if(s-r.allowed<u){var y=Math.abs(f)<=1.5*Math.abs(r.vx)&&Math.abs(p)<=1.5*Math.abs(r.vy);y?(m=!0,r.allowed=s):r.allowed=0}if(r.t=s,r.vx=f,r.vy=p,m)return e.renderer.scrollBy(i.wheelX*i.speed,i.wheelY*i.speed),i.stop()}},n}();o.prototype.selectEnd=o.prototype.selectByLinesEnd,o.prototype.selectAllEnd=o.prototype.selectByLinesEnd,o.prototype.selectByWordsEnd=o.prototype.selectByLinesEnd,h.DefaultHandlers=o;function a(n,i,e,r){return Math.sqrt(Math.pow(e-n,2)+Math.pow(r-i,2))}function t(n,i){if(n.start.row==n.end.row)var e=2*i.column-n.start.column-n.end.column;else if(n.start.row==n.end.row-1&&!n.start.column&&!n.end.column)var e=i.column-4;else var e=2*i.row-n.start.row-n.end.row;return e<0?{cursor:n.start,anchor:n.end}:{cursor:n.end,anchor:n.start}}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/range"],function(d,h,b){var g=this&&this.__extends||function(){var r=function(s,c){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var $ in p)Object.prototype.hasOwnProperty.call(p,$)&&(f[$]=p[$])},r(s,c)};return function(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");r(s,c);function f(){this.constructor=s}s.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),l=this&&this.__values||function(r){var s=typeof Symbol=="function"&&Symbol.iterator,c=s&&r[s],f=0;if(c)return c.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&f>=r.length&&(r=void 0),{value:r&&r[f++],done:!r}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},u=d("./lib/dom"),o=d("./range").Range,a="ace_tooltip",t=function(){function r(s){this.isOpen=!1,this.$element=null,this.$parentNode=s}return r.prototype.$init=function(){return this.$element=u.createElement("div"),this.$element.className=a,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},r.prototype.getElement=function(){return this.$element||this.$init()},r.prototype.setText=function(s){this.getElement().textContent=s},r.prototype.setHtml=function(s){this.getElement().innerHTML=s},r.prototype.setPosition=function(s,c){this.getElement().style.left=s+"px",this.getElement().style.top=c+"px"},r.prototype.setClassName=function(s){u.addCssClass(this.getElement(),s)},r.prototype.setTheme=function(s){this.$element.className=a+" "+(s.isDark?"ace_dark ":"")+(s.cssClass||"")},r.prototype.show=function(s,c,f){s!=null&&this.setText(s),c!=null&&f!=null&&this.setPosition(c,f),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},r.prototype.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=a,this.isOpen=!1)},r.prototype.getHeight=function(){return this.getElement().offsetHeight},r.prototype.getWidth=function(){return this.getElement().offsetWidth},r.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},r}(),n=function(){function r(){this.popups=[]}return r.prototype.addPopup=function(s){this.popups.push(s),this.updatePopups()},r.prototype.removePopup=function(s){var c=this.popups.indexOf(s);c!==-1&&(this.popups.splice(c,1),this.updatePopups())},r.prototype.updatePopups=function(){var s,c,f,p;this.popups.sort(function(S,I){return I.priority-S.priority});var $=[];try{for(var m=l(this.popups),y=m.next();!y.done;y=m.next()){var v=y.value,T=!0;try{for(var M=(f=void 0,l($)),E=M.next();!E.done;E=M.next()){var C=E.value;if(this.doPopupsOverlap(C,v)){T=!1;break}}}catch(S){f={error:S}}finally{try{E&&!E.done&&(p=M.return)&&p.call(M)}finally{if(f)throw f.error}}T?$.push(v):v.hide()}}catch(S){s={error:S}}finally{try{y&&!y.done&&(c=m.return)&&c.call(m)}finally{if(s)throw s.error}}},r.prototype.doPopupsOverlap=function(s,c){var f=s.getElement().getBoundingClientRect(),p=c.getElement().getBoundingClientRect();return f.left<p.right&&f.right>p.left&&f.top<p.bottom&&f.bottom>p.top},r}(),i=new n;h.popupManager=i,h.Tooltip=t;var e=function(r){g(s,r);function s(c){c===void 0&&(c=document.body);var f=r.call(this,c)||this;f.timeout=void 0,f.lastT=0,f.idleTime=350,f.lastEvent=void 0,f.onMouseOut=f.onMouseOut.bind(f),f.onMouseMove=f.onMouseMove.bind(f),f.waitForHover=f.waitForHover.bind(f),f.hide=f.hide.bind(f);var p=f.getElement();return p.style.whiteSpace="pre-wrap",p.style.pointerEvents="auto",p.addEventListener("mouseout",f.onMouseOut),p.tabIndex=-1,p.addEventListener("blur",function(){p.contains(document.activeElement)||this.hide()}.bind(f)),f}return s.prototype.addToEditor=function(c){c.on("mousemove",this.onMouseMove),c.on("mousedown",this.hide),c.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},s.prototype.removeFromEditor=function(c){c.off("mousemove",this.onMouseMove),c.off("mousedown",this.hide),c.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},s.prototype.onMouseMove=function(c,f){this.lastEvent=c,this.lastT=Date.now();var p=f.$mouseHandler.isMousePressed;if(this.isOpen){var $=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains($.row,$.column)||p||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||p||(this.lastEvent=c,this.timeout=setTimeout(this.waitForHover,this.idleTime))},s.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var c=Date.now()-this.lastT;if(this.idleTime-c>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-c);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},s.prototype.isOutsideOfText=function(c){var f=c.editor,p=c.getDocumentPosition(),$=f.session.getLine(p.row);if(p.column==$.length){var m=f.renderer.pixelToScreenCoordinates(c.clientX,c.clientY),y=f.session.documentToScreenPosition(p.row,p.column);if(y.column!=m.column||y.row!=m.row)return!0}return!1},s.prototype.setDataProvider=function(c){this.$gatherData=c},s.prototype.showForRange=function(c,f,p,$){if(!($&&$!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var m=c.renderer;this.isOpen||(i.addPopup(this),this.$registerCloseEvents(),this.setTheme(m.theme)),this.isOpen=!0,this.addMarker(f,c.session),this.range=o.fromPoints(f.start,f.end);var y=this.getElement();y.innerHTML="",y.appendChild(p),y.style.display="block";var v=m.textToScreenCoordinates(f.start.row,f.start.column),T=c.getCursorPosition(),M=y.clientHeight,E=m.scroller.getBoundingClientRect(),C=!0;this.row>T.row?C=!0:this.row<T.row&&(C=!1),v.pageY-M+m.lineHeight<E.top?C=!0:v.pageY+M>E.bottom&&(C=!1),C?v.pageY+=m.lineHeight:v.pageY-=M,y.style.maxWidth=E.width-(v.pageX-E.left)+"px",this.setPosition(v.pageX,v.pageY)}},s.prototype.addMarker=function(c,f){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=f,this.marker=f&&f.addMarker(c,"ace_highlight-marker","text")},s.prototype.hide=function(c){!c&&document.activeElement==this.getElement()||c&&c.target&&(c.type!="keydown"||c.ctrlKey||c.metaKey)&&this.$element.contains(c.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,i.removePopup(this)))},s.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("mousewheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},s.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("mousewheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},s.prototype.onMouseOut=function(c){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!c.relatedTarget||c.relatedTarget==this.getElement()||c&&c.currentTarget.contains(c.relatedTarget)||c.relatedTarget.classList.contains("ace_content")||this.hide())},s}(t);h.HoverTooltip=e}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],function(d,h,b){var g=this&&this.__extends||function(){var e=function(r,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(c[p]=f[p])},e(r,s)};return function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(r,s);function c(){this.constructor=r}r.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),l=this&&this.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,s=r&&e[r],c=0;if(s)return s.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&c>=e.length&&(e=void 0),{value:e&&e[c++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},u=d("../lib/dom"),o=d("../lib/event"),a=d("../tooltip").Tooltip,t=d("../config").nls;function n(e){var r=e.editor,s=r.renderer.$gutterLayer,c=new i(r);e.editor.setDefaultHandler("guttermousedown",function(v){if(!(!r.isFocused()||v.getButton()!=0)){var T=s.getRegion(v);if(T!="foldWidgets"){var M=v.getDocumentPosition().row,E=r.session.selection;if(v.getShiftKey())E.selectTo(M,0);else{if(v.domEvent.detail==2)return r.selectAll(),v.preventDefault();e.$clickSelection=r.selection.getLineRange(M)}return e.setState("selectByLines"),e.captureMouse(v),v.preventDefault()}}});var f,p;function $(){var v=p.getDocumentPosition().row,T=r.session.getLength();if(v==T){var M=r.renderer.pixelToScreenCoordinates(0,p.y).row,E=p.$pos;if(M>r.session.documentToScreenRow(E.row,E.column))return m()}if(c.showTooltip(v),!!c.isOpen)if(r.on("mousewheel",m),e.$tooltipFollowsMouse)y(p);else{var C=p.getGutterRow(),S=s.$lines.get(C);if(S){var I=S.element.querySelector(".ace_gutter_annotation"),k=I.getBoundingClientRect(),w=c.getElement().style;w.left=k.right+"px",w.top=k.bottom+"px"}else y(p)}}function m(){f&&(f=clearTimeout(f)),c.isOpen&&(c.hideTooltip(),r.off("mousewheel",m))}function y(v){c.setPosition(v.x,v.y)}e.editor.setDefaultHandler("guttermousemove",function(v){var T=v.domEvent.target||v.domEvent.srcElement;if(u.hasCssClass(T,"ace_fold-widget"))return m();c.isOpen&&e.$tooltipFollowsMouse&&y(v),p=v,!f&&(f=setTimeout(function(){f=null,p&&!e.isMousePressed?$():m()},50))}),o.addListener(r.renderer.$gutter,"mouseout",function(v){p=null,!(!c.isOpen||f)&&(f=setTimeout(function(){f=null,m()},50))},r),r.on("changeSession",m),r.on("input",m)}h.GutterHandler=n;var i=function(e){g(r,e);function r(s){var c=e.call(this,s.container)||this;return c.editor=s,c}return r.prototype.setPosition=function(s,c){var f=window.innerWidth||document.documentElement.clientWidth,p=window.innerHeight||document.documentElement.clientHeight,$=this.getWidth(),m=this.getHeight();s+=15,c+=15,s+$>f&&(s-=s+$-f),c+m>p&&(c-=20+m),a.prototype.setPosition.call(this,s,c)},Object.defineProperty(r,"annotationLabels",{get:function(){return{error:{singular:t("error"),plural:t("errors")},warning:{singular:t("warning"),plural:t("warnings")},info:{singular:t("information message"),plural:t("information messages")}}},enumerable:!1,configurable:!0}),r.prototype.showTooltip=function(s){var c=this.editor.renderer.$gutterLayer,f=c.$annotations[s],p;f?p={text:Array.from(f.text),type:Array.from(f.type)}:p={text:[],type:[]};var $=c.session.getFoldLine(s);if($&&c.$showFoldedAnnotations){for(var m={error:[],warning:[],info:[]},y,v=s+1;v<=$.end.row;v++)if(!!c.$annotations[v])for(var T=0;T<c.$annotations[v].text.length;T++){var M=c.$annotations[v].type[T];if(m[M].push(c.$annotations[v].text[T]),M==="error"){y="error_fold";continue}if(M==="warning"){y="warning_fold";continue}}if(y==="error_fold"||y==="warning_fold"){var E="".concat(r.annotationsToSummaryString(m)," in folded code.");p.text.push(E),p.type.push(y)}}if(p.text.length===0)return this.hide();for(var C={error:[],warning:[],info:[]},S=c.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",v=0;v<p.text.length;v++){var I="<span class='ace_".concat(p.type[v]," ").concat(S,"' aria-label='").concat(r.annotationLabels[p.type[v].replace("_fold","")].singular,"' role=img> </span> ").concat(p.text[v]);C[p.type[v].replace("_fold","")].push(I)}var k=[].concat(C.error,C.warning,C.info).join("<br>");this.setHtml(k),this.$element.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},r.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},r.annotationsToSummaryString=function(s){var c,f,p=[],$=["error","warning","info"];try{for(var m=l($),y=m.next();!y.done;y=m.next()){var v=y.value;if(!!s[v].length){var T=s[v].length===1?r.annotationLabels[v].singular:r.annotationLabels[v].plural;p.push("".concat(s[v].length," ").concat(T))}}}catch(M){c={error:M}}finally{try{y&&!y.done&&(f=m.return)&&f.call(m)}finally{if(c)throw c.error}}return p.join(", ")},r}(a);h.GutterTooltip=i}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(d,h,b){var g=d("../lib/event"),l=d("../lib/useragent"),u=function(){function o(a,t){this.domEvent=a,this.editor=t,this.x=this.clientX=a.clientX,this.y=this.clientY=a.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return o.prototype.stopPropagation=function(){g.stopPropagation(this.domEvent),this.propagationStopped=!0},o.prototype.preventDefault=function(){g.preventDefault(this.domEvent),this.defaultPrevented=!0},o.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},o.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},o.prototype.getGutterRow=function(){var a=this.getDocumentPosition().row,t=this.editor.session.documentToScreenRow(a,0),n=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return t-n},o.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var a=this.editor,t=a.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}return this.$inSelection},o.prototype.getButton=function(){return g.getButton(this.domEvent)},o.prototype.getShiftKey=function(){return this.domEvent.shiftKey},o.prototype.getAccelKey=function(){return l.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},o}();h.MouseEvent=u}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(d,h,b){var g=d("../lib/dom"),l=d("../lib/event"),u=d("../lib/useragent"),o=200,a=200,t=5;function n(e){var r=e.editor,s=g.createElement("div");s.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",s.textContent="\xA0";var c=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];c.forEach(function(_){e[_]=this[_]},this),r.on("mousedown",this.onMouseDown.bind(e));var f=r.container,p,$,m,y,v,T,M=0,E,C,S,I,k;this.onDragStart=function(_){if(this.cancelDrag||!f.draggable){var z=this;return setTimeout(function(){z.startSelect(),z.captureMouse(_)},0),_.preventDefault()}v=r.getSelectionRange();var K=_.dataTransfer;K.effectAllowed=r.getReadOnly()?"copy":"copyMove",r.container.appendChild(s),K.setDragImage&&K.setDragImage(s,0,0),setTimeout(function(){r.container.removeChild(s)}),K.clearData(),K.setData("Text",r.session.getTextRange()),C=!0,this.setState("drag")},this.onDragEnd=function(_){if(f.draggable=!1,C=!1,this.setState(null),!r.getReadOnly()){var z=_.dataTransfer.dropEffect;!E&&z=="move"&&r.session.remove(r.getSelectionRange()),r.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(_){if(!(r.getReadOnly()||!V(_.dataTransfer)))return $=_.clientX,m=_.clientY,p||O(),M++,_.dataTransfer.dropEffect=E=U(_),l.preventDefault(_)},this.onDragOver=function(_){if(!(r.getReadOnly()||!V(_.dataTransfer)))return $=_.clientX,m=_.clientY,p||(O(),M++),B!==null&&(B=null),_.dataTransfer.dropEffect=E=U(_),l.preventDefault(_)},this.onDragLeave=function(_){if(M--,M<=0&&p)return P(),E=null,l.preventDefault(_)},this.onDrop=function(_){if(!!T){var z=_.dataTransfer;if(C)switch(E){case"move":v.contains(T.row,T.column)?v={start:T,end:T}:v=r.moveText(v,T);break;case"copy":v=r.moveText(v,T,!0);break}else{var K=z.getData("Text");v={start:T,end:r.session.insert(T,K)},r.focus(),E=null}return P(),l.preventDefault(_)}},l.addListener(f,"dragstart",this.onDragStart.bind(e),r),l.addListener(f,"dragend",this.onDragEnd.bind(e),r),l.addListener(f,"dragenter",this.onDragEnter.bind(e),r),l.addListener(f,"dragover",this.onDragOver.bind(e),r),l.addListener(f,"dragleave",this.onDragLeave.bind(e),r),l.addListener(f,"drop",this.onDrop.bind(e),r);function w(_,z){var K=Date.now(),J=!z||_.row!=z.row,ee=!z||_.column!=z.column;if(!I||J||ee)r.moveCursorToPosition(_),I=K,k={x:$,y:m};else{var ie=i(k.x,k.y,$,m);ie>t?I=null:K-I>=a&&(r.renderer.scrollCursorIntoView(),I=null)}}function R(_,z){var K=Date.now(),J=r.renderer.layerConfig.lineHeight,ee=r.renderer.layerConfig.characterWidth,ie=r.renderer.scroller.getBoundingClientRect(),se={x:{left:$-ie.left,right:ie.right-$},y:{top:m-ie.top,bottom:ie.bottom-m}},he=Math.min(se.x.left,se.x.right),pe=Math.min(se.y.top,se.y.bottom),Me={row:_.row,column:_.column};he/ee<=2&&(Me.column+=se.x.left<se.x.right?-3:2),pe/J<=1&&(Me.row+=se.y.top<se.y.bottom?-1:1);var Ie=_.row!=Me.row,Ee=_.column!=Me.column,Oe=!z||_.row!=z.row;Ie||Ee&&!Oe?S?K-S>=o&&r.renderer.scrollCursorIntoView(Me):S=K:S=null}function L(){var _=T;T=r.renderer.screenToTextCoordinates($,m),w(T,_),R(T,_)}function O(){v=r.selection.toOrientedRange(),p=r.session.addMarker(v,"ace_selection",r.getSelectionStyle()),r.clearSelection(),r.isFocused()&&r.renderer.$cursorLayer.setBlinking(!1),clearInterval(y),L(),y=setInterval(L,20),M=0,l.addListener(document,"mousemove",H)}function P(){clearInterval(y),r.session.removeMarker(p),p=null,r.selection.fromOrientedRange(v),r.isFocused()&&!C&&r.$resetCursorStyle(),v=null,T=null,M=0,S=null,I=null,l.removeListener(document,"mousemove",H)}var B=null;function H(){B==null&&(B=setTimeout(function(){B!=null&&p&&P()},20))}function V(_){var z=_.types;return!z||Array.prototype.some.call(z,function(K){return K=="text/plain"||K=="Text"})}function U(_){var z=["copy","copymove","all","uninitialized"],K=["move","copymove","linkmove","all","uninitialized"],J=u.isMac?_.altKey:_.ctrlKey,ee="uninitialized";try{ee=_.dataTransfer.effectAllowed.toLowerCase()}catch(se){}var ie="none";return J&&z.indexOf(ee)>=0?ie="copy":K.indexOf(ee)>=0?ie="move":z.indexOf(ee)>=0&&(ie="copy"),ie}}(function(){this.dragWait=function(){var e=Date.now()-this.mousedownEvent.time;e>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var e=this.editor.container;e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor,r=e.container;r.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var s=u.isWin?"default":"move";e.renderer.setCursorStyle(s),this.setState("dragReady")},this.onMouseDrag=function(e){var r=this.editor.container;if(u.isIE&&this.state=="dragReady"){var s=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);s>3&&r.dragDrop()}if(this.state==="dragWait"){var s=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);s>0&&(r.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(!!this.$dragEnabled){this.mousedownEvent=e;var r=this.editor,s=e.inSelection(),c=e.getButton(),f=e.domEvent.detail||1;if(f===1&&c===0&&s){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var p=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in p&&(p.unselectable="on"),r.getDragDelay()){if(u.isWebKit){this.cancelDrag=!0;var $=r.container;$.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(n.prototype);function i(e,r,s,c){return Math.sqrt(Math.pow(s-e,2)+Math.pow(c-r,2))}h.DragdropHandler=n}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(d,h,b){var g=d("./mouse_event").MouseEvent,l=d("../lib/event"),u=d("../lib/dom");h.addTouchListeners=function(o,a){var t="scroll",n,i,e,r,s,c,f=0,p,$=0,m=0,y=0,v,T;function M(){var w=window.navigator&&window.navigator.clipboard,R=!1,L=function(){var P=a.getCopyText(),B=a.session.getUndoManager().hasUndo();T.replaceChild(u.buildDom(R?["span",!P&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],P&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],P&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],w&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],B&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),T.firstChild)},O=function(P){var B=P.target.getAttribute("action");if(B=="more"||!R)return R=!R,L();B=="paste"?w.readText().then(function(H){a.execCommand(B,H)}):B&&((B=="cut"||B=="copy")&&(w?w.writeText(a.getCopyText()):document.execCommand("copy")),a.execCommand(B)),T.firstChild.style.display="none",R=!1,B!="openCommandPallete"&&a.focus()};T=u.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(P){t="menu",P.stopPropagation(),P.preventDefault(),a.textInput.focus()},ontouchend:function(P){P.stopPropagation(),P.preventDefault(),O(P)},onclick:O},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],a.container)}function E(){T||M();var w=a.selection.cursor,R=a.renderer.textToScreenCoordinates(w.row,w.column),L=a.renderer.textToScreenCoordinates(0,0).pageX,O=a.renderer.scrollLeft,P=a.container.getBoundingClientRect();T.style.top=R.pageY-P.top-3+"px",R.pageX-P.left<P.width-70?(T.style.left="",T.style.right="10px"):(T.style.right="",T.style.left=L+O-P.left+"px"),T.style.display="",T.firstChild.style.display="none",a.on("input",C)}function C(w){T&&(T.style.display="none"),a.off("input",C)}function S(){s=null,clearTimeout(s);var w=a.selection.getRange(),R=w.contains(p.row,p.column);(w.isEmpty()||!R)&&(a.selection.moveToPosition(p),a.selection.selectWord()),t="wait",E()}function I(){s=null,clearTimeout(s),a.selection.moveToPosition(p);var w=$>=2?a.selection.getLineRange(p.row):a.session.getBracketRange(p);w&&!w.isEmpty()?a.selection.setRange(w):a.selection.selectWord(),t="wait"}l.addListener(o,"contextmenu",function(w){if(!!v){var R=a.textInput.getElement();R.focus()}},a),l.addListener(o,"touchstart",function(w){var R=w.touches;if(s||R.length>1){clearTimeout(s),s=null,e=-1,t="zoom";return}v=a.$mouseHandler.isMousePressed=!0;var L=a.renderer.layerConfig.lineHeight,O=a.renderer.layerConfig.lineHeight,P=w.timeStamp;r=P;var B=R[0],H=B.clientX,V=B.clientY;Math.abs(n-H)+Math.abs(i-V)>L&&(e=-1),n=w.clientX=H,i=w.clientY=V,m=y=0;var U=new g(w,a);if(p=U.getDocumentPosition(),P-e<500&&R.length==1&&!f)$++,w.preventDefault(),w.button=0,I();else{$=0;var _=a.selection.cursor,z=a.selection.isEmpty()?_:a.selection.anchor,K=a.renderer.$cursorLayer.getPixelPosition(_,!0),J=a.renderer.$cursorLayer.getPixelPosition(z,!0),ee=a.renderer.scroller.getBoundingClientRect(),ie=a.renderer.layerConfig.offset,se=a.renderer.scrollLeft,he=function(Ie,Ee){return Ie=Ie/O,Ee=Ee/L-.75,Ie*Ie+Ee*Ee};if(w.clientX<ee.left){t="zoom";return}var pe=he(w.clientX-ee.left-K.left+se,w.clientY-ee.top-K.top+ie),Me=he(w.clientX-ee.left-J.left+se,w.clientY-ee.top-J.top+ie);pe<3.5&&Me<3.5&&(t=pe>Me?"cursor":"anchor"),Me<3.5?t="anchor":pe<3.5?t="cursor":t="scroll",s=setTimeout(S,450)}e=P},a),l.addListener(o,"touchend",function(w){v=a.$mouseHandler.isMousePressed=!1,c&&clearInterval(c),t=="zoom"?(t="",f=0):s?(a.selection.moveToPosition(p),f=0,E()):t=="scroll"?(k(),C()):E(),clearTimeout(s),s=null},a),l.addListener(o,"touchmove",function(w){s&&(clearTimeout(s),s=null);var R=w.touches;if(!(R.length>1||t=="zoom")){var L=R[0],O=n-L.clientX,P=i-L.clientY;if(t=="wait")if(O*O+P*P>4)t="cursor";else return w.preventDefault();n=L.clientX,i=L.clientY,w.clientX=L.clientX,w.clientY=L.clientY;var B=w.timeStamp,H=B-r;if(r=B,t=="scroll"){var V=new g(w,a);V.speed=1,V.wheelX=O,V.wheelY=P,10*Math.abs(O)<Math.abs(P)&&(O=0),10*Math.abs(P)<Math.abs(O)&&(P=0),H!=0&&(m=O/H,y=P/H),a._emit("mousewheel",V),V.propagationStopped||(m=y=0)}else{var U=new g(w,a),_=U.getDocumentPosition();t=="cursor"?a.selection.moveCursorToPosition(_):t=="anchor"&&a.selection.setSelectionAnchor(_.row,_.column),a.renderer.scrollCursorIntoView(_),w.preventDefault()}}},a);function k(){f+=60,c=setInterval(function(){f--<=0&&(clearInterval(c),c=null),Math.abs(m)<.01&&(m=0),Math.abs(y)<.01&&(y=0),f<20&&(m=.9*m),f<20&&(y=.9*y);var w=a.session.getScrollTop();a.renderer.scrollBy(10*m,10*y),w==a.session.getScrollTop()&&(f=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(d,h,b){var g=d("../lib/event"),l=d("../lib/useragent"),u=d("./default_handlers").DefaultHandlers,o=d("./default_gutter_handler").GutterHandler,a=d("./mouse_event").MouseEvent,t=d("./dragdrop_handler").DragdropHandler,n=d("./touch_handler").addTouchListeners,i=d("../config"),e=function(){function r(s){var c=this;this.editor=s,new u(this),new o(this),new t(this);var f=function(m){var y=!document.hasFocus||!document.hasFocus()||!s.isFocused()&&document.activeElement==(s.textInput&&s.textInput.getElement());y&&window.focus(),s.focus(),setTimeout(function(){s.isFocused()||s.focus()})},p=s.renderer.getMouseEventTarget();g.addListener(p,"click",this.onMouseEvent.bind(this,"click"),s),g.addListener(p,"mousemove",this.onMouseMove.bind(this,"mousemove"),s),g.addMultiMouseDownListener([p,s.renderer.scrollBarV&&s.renderer.scrollBarV.inner,s.renderer.scrollBarH&&s.renderer.scrollBarH.inner,s.textInput&&s.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",s),g.addMouseWheelListener(s.container,this.onMouseWheel.bind(this,"mousewheel"),s),n(s.container,s);var $=s.renderer.$gutter;g.addListener($,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),s),g.addListener($,"click",this.onMouseEvent.bind(this,"gutterclick"),s),g.addListener($,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),s),g.addListener($,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),s),g.addListener(p,"mousedown",f,s),g.addListener($,"mousedown",f,s),l.isIE&&s.renderer.scrollBarV&&(g.addListener(s.renderer.scrollBarV.element,"mousedown",f,s),g.addListener(s.renderer.scrollBarH.element,"mousedown",f,s)),s.on("mousemove",function(m){if(!(c.state||c.$dragDelay||!c.$dragEnabled)){var y=s.renderer.screenToTextCoordinates(m.x,m.y),v=s.session.selection.getRange(),T=s.renderer;!v.isEmpty()&&v.insideStart(y.row,y.column)?T.setCursorStyle("default"):T.setCursorStyle("")}},s)}return r.prototype.onMouseEvent=function(s,c){!this.editor.session||this.editor._emit(s,new a(c,this.editor))},r.prototype.onMouseMove=function(s,c){var f=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!f||!f.length||this.editor._emit(s,new a(c,this.editor))},r.prototype.onMouseWheel=function(s,c){var f=new a(c,this.editor);f.speed=this.$scrollSpeed*2,f.wheelX=c.wheelX,f.wheelY=c.wheelY,this.editor._emit(s,f)},r.prototype.setState=function(s){this.state=s},r.prototype.captureMouse=function(s,c){this.x=s.x,this.y=s.y,this.isMousePressed=!0;var f=this.editor,p=this.editor.renderer;p.$isMousePressed=!0;var $=this,m=function(E){if(!!E){if(l.isWebKit&&!E.which&&$.releaseMouse)return $.releaseMouse();$.x=E.clientX,$.y=E.clientY,c&&c(E),$.mouseEvent=new a(E,$.editor),$.$mouseMoved=!0}},y=function(E){f.off("beforeEndOperation",T),clearInterval(M),f.session&&v(),$[$.state+"End"]&&$[$.state+"End"](E),$.state="",$.isMousePressed=p.$isMousePressed=!1,p.$keepTextAreaAtCursor&&p.$moveTextAreaToCursor(),$.$onCaptureMouseMove=$.releaseMouse=null,E&&$.onMouseEvent("mouseup",E),f.endOperation()},v=function(){$[$.state]&&$[$.state](),$.$mouseMoved=!1};if(l.isOldIE&&s.domEvent.type=="dblclick")return setTimeout(function(){y(s)});var T=function(E){!$.releaseMouse||f.curOp.command.name&&f.curOp.selectionChanged&&($[$.state+"End"]&&$[$.state+"End"](),$.state="",$.releaseMouse())};f.on("beforeEndOperation",T),f.startOperation({command:{name:"mouse"}}),$.$onCaptureMouseMove=m,$.releaseMouse=g.capture(this.editor.container,m,y);var M=setInterval(v,20)},r.prototype.cancelContextMenu=function(){var s=function(c){c&&c.domEvent&&c.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",s),c&&c.domEvent&&g.stopEvent(c.domEvent))}.bind(this);setTimeout(s,10),this.editor.on("nativecontextmenu",s)},r.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},r}();e.prototype.releaseMouse=null,i.defineOptions(e.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:l.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),h.MouseHandler=e}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(d,h,b){var g=d("../lib/dom"),l=function(){function u(o){o.on("click",function(a){var t=a.getDocumentPosition(),n=o.session,i=n.getFoldAt(t.row,t.column,1);i&&(a.getAccelKey()?n.removeFold(i):n.expandFold(i),a.stop());var e=a.domEvent&&a.domEvent.target;e&&g.hasCssClass(e,"ace_inline_button")&&g.hasCssClass(e,"ace_toggle_wrap")&&(n.setOption("wrap",!n.getUseWrapMode()),o.renderer.scrollCursorIntoView())}),o.on("gutterclick",function(a){var t=o.renderer.$gutterLayer.getRegion(a);if(t=="foldWidgets"){var n=a.getDocumentPosition().row,i=o.session;i.foldWidgets&&i.foldWidgets[n]&&o.session.onFoldWidgetClick(n,a),o.isFocused()||o.focus(),a.stop()}}),o.on("gutterdblclick",function(a){var t=o.renderer.$gutterLayer.getRegion(a);if(t=="foldWidgets"){var n=a.getDocumentPosition().row,i=o.session,e=i.getParentFoldRangeData(n,!0),r=e.range||e.firstRange;if(r){n=r.start.row;var s=i.getFoldAt(n,i.getLine(n).length,1);s?i.removeFold(s):(i.addFold("...",r),o.renderer.scrollCursorIntoView({row:r.start.row,column:0}))}a.stop()}})}return u}();h.FoldHandler=l}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(d,h,b){var g=d("../lib/keys"),l=d("../lib/event"),u=function(){function o(a){this.$editor=a,this.$data={editor:a},this.$handlers=[],this.setDefaultHandler(a.commands)}return o.prototype.setDefaultHandler=function(a){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=a,this.addKeyboardHandler(a,0)},o.prototype.setKeyboardHandler=function(a){var t=this.$handlers;if(t[t.length-1]!=a){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(a,1)}},o.prototype.addKeyboardHandler=function(a,t){if(!!a){typeof a=="function"&&!a.handleKeyboard&&(a.handleKeyboard=a);var n=this.$handlers.indexOf(a);n!=-1&&this.$handlers.splice(n,1),t==null?this.$handlers.push(a):this.$handlers.splice(t,0,a),n==-1&&a.attach&&a.attach(this.$editor)}},o.prototype.removeKeyboardHandler=function(a){var t=this.$handlers.indexOf(a);return t==-1?!1:(this.$handlers.splice(t,1),a.detach&&a.detach(this.$editor),!0)},o.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},o.prototype.getStatusText=function(){var a=this.$data,t=a.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(t,a)||""}).filter(Boolean).join(" ")},o.prototype.$callKeyboardHandlers=function(a,t,n,i){for(var e,r=!1,s=this.$editor.commands,c=this.$handlers.length;c--&&(e=this.$handlers[c].handleKeyboard(this.$data,a,t,n,i),!(!(!e||!e.command)&&(e.command=="null"?r=!0:r=s.exec(e.command,this.$editor,e.args,i),r&&i&&a!=-1&&e.passEvent!=!0&&e.command.passEvent!=!0&&l.stopEvent(i),r))););return!r&&a==-1&&(e={command:"insertstring"},r=s.exec("insertstring",this.$editor,t)),r&&this.$editor._signal&&this.$editor._signal("keyboardActivity",e),r},o.prototype.onCommandKey=function(a,t,n){var i=g.keyCodeToString(n);return this.$callKeyboardHandlers(t,i,n,a)},o.prototype.onTextInput=function(a){return this.$callKeyboardHandlers(-1,a)},o}();h.KeyBinding=u}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(d,h,b){var g=0,l=0,u=!1,o=!1,a=!1,t=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],n=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],i=0,e=1,r=0,s=1,c=2,f=3,p=4,$=5,m=6,y=7,v=8,T=9,M=10,E=11,C=12,S=13,I=14,k=15,w=16,R=17,L=18,O=[L,L,L,L,L,L,L,L,L,m,$,m,v,$,L,L,L,L,L,L,L,L,L,L,L,L,L,L,$,$,$,m,v,p,p,E,E,E,p,p,p,p,p,M,T,M,T,T,c,c,c,c,c,c,c,c,c,c,T,p,p,p,p,p,p,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,p,p,p,p,p,p,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,p,p,p,p,L,L,L,L,L,L,$,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,T,p,E,E,E,E,p,p,p,p,r,p,p,L,p,p,E,E,c,c,p,r,p,p,p,c,r,p,p,p,p,p],P=[v,v,v,v,v,v,v,v,v,v,v,L,L,L,r,s,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,v,$,S,I,k,w,R,T,E,E,E,E,E,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,T,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,v];function B(_,z,K,J){var ee=g?n:t,ie=null,se=null,he=null,pe=0,Me=null,Ie=null,Ee=-1,Oe=null,Ye=null,lt=[];if(!J)for(Oe=0,J=[];Oe<K;Oe++)J[Oe]=U(_[Oe]);for(l=g,u=!1,o=!1,a=!1,Ye=0;Ye<K;Ye++){if(ie=pe,lt[Ye]=se=V(_,J,lt,Ye),pe=ee[ie][se],Me=pe&240,pe&=15,z[Ye]=he=ee[pe][5],Me>0)if(Me==16){for(Oe=Ee;Oe<Ye;Oe++)z[Oe]=1;Ee=-1}else Ee=-1;if(Ie=ee[pe][6],Ie)Ee==-1&&(Ee=Ye);else if(Ee>-1){for(Oe=Ee;Oe<Ye;Oe++)z[Oe]=he;Ee=-1}J[Ye]==$&&(z[Ye]=0),l|=he}if(a){for(Oe=0;Oe<K;Oe++)if(J[Oe]==m){z[Oe]=g;for(var gt=Oe-1;gt>=0&&J[gt]==v;gt--)z[gt]=g}}}function H(_,z,K){if(!(l<_)){if(_==1&&g==e&&!o){K.reverse();return}for(var J=K.length,ee=0,ie,se,he,pe;ee<J;){if(z[ee]>=_){for(ie=ee+1;ie<J&&z[ie]>=_;)ie++;for(se=ee,he=ie-1;se<he;se++,he--)pe=K[se],K[se]=K[he],K[he]=pe;ee=ie}ee++}}}function V(_,z,K,J){var ee=z[J],ie,se,he,pe;switch(ee){case r:case s:u=!1;case p:case f:return ee;case c:return u?f:c;case y:return u=!0,s;case v:return p;case T:return J<1||J+1>=z.length||(ie=K[J-1])!=c&&ie!=f||(se=z[J+1])!=c&&se!=f?p:(u&&(se=f),se==ie?se:p);case M:return ie=J>0?K[J-1]:$,ie==c&&J+1<z.length&&z[J+1]==c?c:p;case E:if(J>0&&K[J-1]==c)return c;if(u)return p;for(pe=J+1,he=z.length;pe<he&&z[pe]==E;)pe++;return pe<he&&z[pe]==c?c:p;case C:for(he=z.length,pe=J+1;pe<he&&z[pe]==C;)pe++;if(pe<he){var Me=_[J],Ie=Me>=1425&&Me<=2303||Me==64286;if(ie=z[pe],Ie&&(ie==s||ie==y))return s}return J<1||(ie=z[J-1])==$?p:K[J-1];case $:return u=!1,o=!0,g;case m:return a=!0,p;case S:case I:case w:case R:case k:u=!1;case L:return p}}function U(_){var z=_.charCodeAt(0),K=z>>8;return K==0?z>191?r:O[z]:K==5?/[\u0591-\u05f4]/.test(_)?s:r:K==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(_)?C:/[\u0660-\u0669\u066b-\u066c]/.test(_)?f:z==1642?E:/[\u06f0-\u06f9]/.test(_)?c:y:K==32&&z<=8287?P[z&255]:K==254&&z>=65136?y:p}h.L=r,h.R=s,h.EN=c,h.ON_R=3,h.AN=4,h.R_H=5,h.B=6,h.RLE=7,h.DOT="\xB7",h.doBidiReorder=function(_,z,K){if(_.length<2)return{};var J=_.split(""),ee=new Array(J.length),ie=new Array(J.length),se=[];g=K?e:i,B(J,se,J.length,z);for(var he=0;he<ee.length;ee[he]=he,he++);H(2,se,ee),H(1,se,ee);for(var he=0;he<ee.length-1;he++)z[he]===f?se[he]=h.AN:se[he]===s&&(z[he]>y&&z[he]<S||z[he]===p||z[he]===L)?se[he]=h.ON_R:he>0&&J[he-1]==="\u0644"&&/\u0622|\u0623|\u0625|\u0627/.test(J[he])&&(se[he-1]=se[he]=h.R_H,he++);J[J.length-1]===h.DOT&&(se[J.length-1]=h.B),J[0]==="\u202B"&&(se[0]=h.RLE);for(var he=0;he<ee.length;he++)ie[he]=se[ee[he]];return{logicalFromVisual:ee,bidiLevels:ie}},h.hasBidiCharacters=function(_,z){for(var K=!1,J=0;J<_.length;J++)z[J]=U(_.charAt(J)),!K&&(z[J]==s||z[J]==y||z[J]==f)&&(K=!0);return K},h.getVisualFromLogicalIdx=function(_,z){for(var K=0;K<z.logicalFromVisual.length;K++)if(z.logicalFromVisual[K]==_)return K;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(d,h,b){var g=d("./lib/bidiutil"),l=d("./lib/lang"),u=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,o=function(){function a(t){this.session=t,this.bidiMap={},this.currentRow=null,this.bidiUtil=g,this.charWidths=[],this.EOL="\xAC",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xB6",this.RLE="\u202B",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=u.test(t.getValue())}return a.prototype.isBidiRow=function(t,n,i){return this.seenBidi?(t!==this.currentRow&&(this.currentRow=t,this.updateRowLine(n,i),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},a.prototype.onChange=function(t){this.seenBidi?this.currentRow=null:t.action=="insert"&&u.test(t.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},a.prototype.getDocumentRow=function(){var t=0,n=this.session.$screenRowCache;if(n.length){var i=this.session.$getRowCacheIndex(n,this.currentRow);i>=0&&(t=this.session.$docRowCache[i])}return t},a.prototype.getSplitIndex=function(){var t=0,n=this.session.$screenRowCache;if(n.length)for(var i,e=this.session.$getRowCacheIndex(n,this.currentRow);this.currentRow-t>0&&(i=this.session.$getRowCacheIndex(n,this.currentRow-t-1),i===e);)e=i,t++;else t=this.currentRow;return t},a.prototype.updateRowLine=function(t,n){t===void 0&&(t=this.getDocumentRow());var i=t===this.session.getLength()-1,e=i?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(t),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var r=this.session.$wrapData[t];r&&(n===void 0&&(n=this.getSplitIndex()),n>0&&r.length?(this.wrapIndent=r.indent,this.wrapOffset=this.wrapIndent*this.charWidths[g.L],this.line=n<r.length?this.line.substring(r[n-1],r[n]):this.line.substring(r[r.length-1])):this.line=this.line.substring(0,r[n]),n==r.length&&(this.line+=this.showInvisibles?e:g.DOT))}else this.line+=this.showInvisibles?e:g.DOT;var s=this.session,c=0,f;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(p,$){return p==="	"||s.isFullWidth(p.charCodeAt(0))?(f=p==="	"?s.getScreenTabSize($+c):2,c+=f-1,l.stringRepeat(g.DOT,f)):p}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==g.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},a.prototype.updateBidiMap=function(){var t=[];g.hasBidiCharacters(this.line,t)||this.isRtlDir?this.bidiMap=g.doBidiReorder(this.line,t,this.isRtlDir):this.bidiMap={}},a.prototype.markAsDirty=function(){this.currentRow=null},a.prototype.updateCharacterWidths=function(t){if(this.characterWidth!==t.$characterSize.width){this.fontMetrics=t;var n=this.characterWidth=t.$characterSize.width,i=t.$measureCharWidth("\u05D4");this.charWidths[g.L]=this.charWidths[g.EN]=this.charWidths[g.ON_R]=n,this.charWidths[g.R]=this.charWidths[g.AN]=i,this.charWidths[g.R_H]=i*.45,this.charWidths[g.B]=this.charWidths[g.RLE]=0,this.currentRow=null}},a.prototype.setShowInvisibles=function(t){this.showInvisibles=t,this.currentRow=null},a.prototype.setEolChar=function(t){this.EOL=t},a.prototype.setContentWidth=function(t){this.contentWidth=t},a.prototype.isRtlLine=function(t){return this.$isRtl?!0:t!=null?this.session.getLine(t).charAt(0)==this.RLE:this.isRtlDir},a.prototype.setRtlDirection=function(t,n){for(var i=t.getCursorPosition(),e=t.selection.getSelectionAnchor().row;e<=i.row;e++)!n&&t.session.getLine(e).charAt(0)===t.session.$bidiHandler.RLE?t.session.doc.removeInLine(e,0,1):n&&t.session.getLine(e).charAt(0)!==t.session.$bidiHandler.RLE&&t.session.doc.insert({column:0,row:e},t.session.$bidiHandler.RLE)},a.prototype.getPosLeft=function(t){t-=this.wrapIndent;var n=this.line.charAt(0)===this.RLE?1:0,i=t>n?this.session.getOverwrite()?t:t-1:n,e=g.getVisualFromLogicalIdx(i,this.bidiMap),r=this.bidiMap.bidiLevels,s=0;!this.session.getOverwrite()&&t<=n&&r[e]%2!==0&&e++;for(var c=0;c<e;c++)s+=this.charWidths[r[c]];return!this.session.getOverwrite()&&t>n&&r[e]%2===0&&(s+=this.charWidths[r[e]]),this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(s+=this.rtlLineOffset),s},a.prototype.getSelections=function(t,n){var i=this.bidiMap,e=i.bidiLevels,r,s=[],c=0,f=Math.min(t,n)-this.wrapIndent,p=Math.max(t,n)-this.wrapIndent,$=!1,m=!1,y=0;this.wrapIndent&&(c+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var v,T=0;T<e.length;T++)v=i.logicalFromVisual[T],r=e[T],$=v>=f&&v<p,$&&!m?y=c:!$&&m&&s.push({left:y,width:c-y}),c+=this.charWidths[r],m=$;if($&&T===e.length&&s.push({left:y,width:c-y}),this.isRtlDir)for(var M=0;M<s.length;M++)s[M].left+=this.rtlLineOffset;return s},a.prototype.offsetToCol=function(i){this.isRtlDir&&(i-=this.rtlLineOffset);var n=0,i=Math.max(i,0),e=0,r=0,s=this.bidiMap.bidiLevels,c=this.charWidths[s[r]];for(this.wrapIndent&&(i-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);i>e+c/2;){if(e+=c,r===s.length-1){c=0;break}c=this.charWidths[s[++r]]}return r>0&&s[r-1]%2!==0&&s[r]%2===0?(i<e&&r--,n=this.bidiMap.logicalFromVisual[r]):r>0&&s[r-1]%2===0&&s[r]%2!==0?n=1+(i>e?this.bidiMap.logicalFromVisual[r]:this.bidiMap.logicalFromVisual[r-1]):this.isRtlDir&&r===s.length-1&&c===0&&s[r-1]%2===0||!this.isRtlDir&&r===0&&s[r]%2!==0?n=1+this.bidiMap.logicalFromVisual[r]:(r>0&&s[r-1]%2!==0&&c!==0&&r--,n=this.bidiMap.logicalFromVisual[r]),n===0&&this.isRtlDir&&n++,n+this.wrapIndent},a}();h.BidiHandler=o}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(d,h,b){var g=d("./lib/oop"),l=d("./lib/lang"),u=d("./lib/event_emitter").EventEmitter,o=d("./range").Range,a=function(t){this.session=t,this.doc=t.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var n=this;this.cursor.on("change",function(i){n.$cursorChanged=!0,n.$silent||n._emit("changeCursor"),!n.$isEmpty&&!n.$silent&&n._emit("changeSelection"),!n.$keepDesiredColumnOnChange&&i.old.column!=i.value.column&&(n.$desiredColumn=null)}),this.anchor.on("change",function(){n.$anchorChanged=!0,!n.$isEmpty&&!n.$silent&&n._emit("changeSelection")})};(function(){g.implement(this,u),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setAnchor=function(t,n){this.$isEmpty=!1,this.anchor.setPosition(t,n)},this.setSelectionAnchor=this.setAnchor,this.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionAnchor=this.getAnchor,this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var t=this.anchor,n=this.lead;return t.row>n.row||t.row==n.row&&t.column>n.column},this.getRange=function(){var t=this.anchor,n=this.lead;return this.$isEmpty?o.fromPoints(n,n):this.isBackwards()?o.fromPoints(n,t):o.fromPoints(t,n)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(t,n){var i=n?t.end:t.start,e=n?t.start:t.end;this.$setSelection(i.row,i.column,e.row,e.column)},this.$setSelection=function(t,n,i,e){if(!this.$silent){var r=this.$isEmpty,s=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(t,n),this.cursor.setPosition(i,e),this.$isEmpty=!o.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||s)&&this._emit("changeSelection")}},this.$moveSelection=function(t){var n=this.lead;this.$isEmpty&&this.setSelectionAnchor(n.row,n.column),t.call(this)},this.selectTo=function(t,n){this.$moveSelection(function(){this.moveCursorTo(t,n)})},this.selectToPosition=function(t){this.$moveSelection(function(){this.moveCursorToPosition(t)})},this.moveTo=function(t,n){this.clearSelection(),this.moveCursorTo(t,n)},this.moveToPosition=function(t){this.clearSelection(),this.moveCursorToPosition(t)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(t,n){if(typeof n=="undefined"){var i=t||this.lead;t=i.row,n=i.column}return this.session.getWordRange(t,n)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var t=this.getCursor(),n=this.session.getAWordRange(t.row,t.column);this.setSelectionRange(n)},this.getLineRange=function(t,n){var i=typeof t=="number"?t:this.lead.row,e,r=this.session.getFoldLine(i);return r?(i=r.start.row,e=r.end.row):e=i,n===!0?new o(i,0,e,this.session.getLine(e).length):new o(i,0,e+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(t,n,i){var e=t.column,r=t.column+n;return i<0&&(e=t.column-n,r=t.column),this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(e,r).split(" ").length-1==n},this.moveCursorLeft=function(){var t=this.lead.getPosition(),n;if(n=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(n.start.row,n.start.column);else if(t.column===0)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var i=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,i,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-i):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var t=this.lead.getPosition(),n;if(n=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(n.end.row,n.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var i=this.session.getTabSize(),t=this.lead;this.wouldMoveIntoSoftTab(t,i,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,i):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var t=this.lead.row,n=this.lead.column,i=this.session.documentToScreenRow(t,n),e=this.session.screenToDocumentPosition(i,0),r=this.session.getDisplayLine(t,null,e.row,e.column),s=r.match(/^\s*/);s[0].length!=n&&!this.session.$useEmacsStyleLineStart&&(e.column+=s[0].length),this.moveCursorToPosition(e)},this.moveCursorLineEnd=function(){var t=this.lead,n=this.session.getDocumentLastRowColumnPosition(t.row,t.column);if(this.lead.column==n.column){var i=this.session.getLine(n.row);if(n.column==i.length){var e=i.search(/\s+$/);e>0&&(n.column=e)}}this.moveCursorTo(n.row,n.column)},this.moveCursorFileEnd=function(){var t=this.doc.getLength()-1,n=this.doc.getLine(t).length;this.moveCursorTo(t,n)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var t=this.lead.row,n=this.lead.column,i=this.doc.getLine(t),e=i.substring(n);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(t,n,1);if(r){this.moveCursorTo(r.end.row,r.end.column);return}if(this.session.nonTokenRe.exec(e)&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,e=i.substring(n)),n>=i.length){this.moveCursorTo(t,i.length),this.moveCursorRight(),t<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(e)&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)},this.moveCursorLongWordLeft=function(){var t=this.lead.row,n=this.lead.column,i;if(i=this.session.getFoldAt(t,n,-1)){this.moveCursorTo(i.start.row,i.start.column);return}var e=this.session.getFoldStringAt(t,n,-1);e==null&&(e=this.doc.getLine(t).substring(0,n));var r=l.stringReverse(e);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(r)&&(n-=this.session.nonTokenRe.lastIndex,r=r.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0){this.moveCursorTo(t,0),this.moveCursorLeft(),t>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(r)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)},this.$shortWordEndIndex=function(t){var n=0,i,e=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(t))n=this.session.tokenRe.lastIndex;else{for(;(i=t[n])&&e.test(i);)n++;if(n<1){for(r.lastIndex=0;(i=t[n])&&!r.test(i);)if(r.lastIndex=0,n++,e.test(i))if(n>2){n--;break}else{for(;(i=t[n])&&e.test(i);)n++;if(n>2)break}}}return r.lastIndex=0,n},this.moveCursorShortWordRight=function(){var t=this.lead.row,n=this.lead.column,i=this.doc.getLine(t),e=i.substring(n),r=this.session.getFoldAt(t,n,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(n==i.length){var s=this.doc.getLength();do t++,e=this.doc.getLine(t);while(t<s&&/^\s*$/.test(e));/^\s+/.test(e)||(e=""),n=0}var c=this.$shortWordEndIndex(e);this.moveCursorTo(t,n+c)},this.moveCursorShortWordLeft=function(){var t=this.lead.row,n=this.lead.column,i;if(i=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(i.start.row,i.start.column);var e=this.session.getLine(t).substring(0,n);if(n===0){do t--,e=this.doc.getLine(t);while(t>0&&/^\s*$/.test(e));n=e.length,/\s+$/.test(e)||(e="")}var r=l.stringReverse(e),s=this.$shortWordEndIndex(r);return this.moveCursorTo(t,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(t,n){var i=this.session.documentToScreenPosition(this.lead.row,this.lead.column),e;if(n===0&&(t!==0&&(this.session.$bidiHandler.isBidiRow(i.row,this.lead.row)?(e=this.session.$bidiHandler.getPosLeft(i.column),i.column=Math.round(e/this.session.$bidiHandler.charWidths[0])):e=i.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column),t!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var r=this.session.lineWidgets[this.lead.row];t<0?t-=r.rowsAbove||0:t>0&&(t+=r.rowCount-(r.rowsAbove||0))}var s=this.session.screenToDocumentPosition(i.row+t,i.column,e);t!==0&&n===0&&s.row===this.lead.row&&(s.column,this.lead.column),this.moveCursorTo(s.row,s.column+n,n===0)},this.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},this.moveCursorTo=function(t,n,i){var e=this.session.getFoldAt(t,n,1);e&&(t=e.start.row,n=e.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(t);/[\uDC00-\uDFFF]/.test(r.charAt(n))&&r.charAt(n-1)&&(this.lead.row==t&&this.lead.column==n+1?n=n-1:n=n+1),this.lead.setPosition(t,n),this.$keepDesiredColumnOnChange=!1,i||(this.$desiredColumn=null)},this.moveCursorToScreen=function(t,n,i){var e=this.session.screenToDocumentPosition(t,n);this.moveCursorTo(e.row,e.column,i)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(t){var n=this.getRange();return t?(t.start.column=n.start.column,t.start.row=n.start.row,t.end.column=n.end.column,t.end.row=n.end.row):t=n,t.cursor=this.isBackwards()?t.start:t.end,t.desiredColumn=this.$desiredColumn,t},this.getRangeOfMovements=function(t){var n=this.getCursor();try{t(this);var i=this.getCursor();return o.fromPoints(n,i)}catch(e){return o.fromPoints(n,n)}finally{this.moveCursorToPosition(n)}},this.toJSON=function(){if(this.rangeCount)var t=this.ranges.map(function(n){var i=n.clone();return i.isBackwards=n.cursor==n.start,i});else{var t=this.getRange();t.isBackwards=this.isBackwards()}return t},this.fromJSON=function(t){if(t.start==null)if(this.rangeList&&t.length>1){this.toSingleRange(t[0]);for(var n=t.length;n--;){var i=o.fromPoints(t[n].start,t[n].end);t[n].isBackwards&&(i.cursor=i.start),this.addRange(i,!0)}return}else t=t[0];this.rangeList&&this.toSingleRange(t),this.setSelectionRange(t,t.isBackwards)},this.isEqual=function(t){if((t.length||this.rangeCount)&&t.length!=this.rangeCount)return!1;if(!t.length||!this.ranges)return this.getRange().isEqual(t);for(var n=this.ranges.length;n--;)if(!this.ranges[n].isEqual(t[n]))return!1;return!0}}).call(a.prototype),h.Selection=a}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(d,h,b){var g=d("./config"),l=2e3,u=function(){function o(a){this.states=a,this.regExps={},this.matchMappings={};for(var t in this.states){for(var n=this.states[t],i=[],e=0,r=this.matchMappings[t]={defaultToken:"text"},s="g",c=[],f=0;f<n.length;f++){var p=n[f];if(p.defaultToken&&(r.defaultToken=p.defaultToken),p.caseInsensitive&&s.indexOf("i")===-1&&(s+="i"),p.unicode&&s.indexOf("u")===-1&&(s+="u"),p.regex!=null){p.regex instanceof RegExp&&(p.regex=p.regex.toString().slice(1,-1));var $=p.regex,m=new RegExp("(?:("+$+")|(.))").exec("a").length-2;Array.isArray(p.token)?p.token.length==1||m==1?p.token=p.token[0]:m-1!=p.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:p,groupCount:m-1}),p.token=p.token[0]):(p.tokenArray=p.token,p.token=null,p.onMatch=this.$arrayTokens):typeof p.token=="function"&&!p.onMatch&&(m>1?p.onMatch=this.$applyToken:p.onMatch=p.token),m>1&&(/\\\d/.test(p.regex)?$=p.regex.replace(/\\([0-9]+)/g,function(y,v){return"\\"+(parseInt(v,10)+e+1)}):(m=1,$=this.removeCapturingGroups(p.regex)),!p.splitRegex&&typeof p.token!="string"&&c.push(p)),r[e]=f,e+=m,i.push($),p.onMatch||(p.onMatch=null)}}i.length||(r[0]=0,i.push("$")),c.forEach(function(y){y.splitRegex=this.createSplitterRegexp(y.regex,s)},this),this.regExps[t]=new RegExp("("+i.join(")|(")+")|($)",s)}}return o.prototype.$setMaxTokenCount=function(a){l=a|0},o.prototype.$applyToken=function(a){var t=this.splitRegex.exec(a).slice(1),n=this.token.apply(this,t);if(typeof n=="string")return[{type:n,value:a}];for(var i=[],e=0,r=n.length;e<r;e++)t[e]&&(i[i.length]={type:n[e],value:t[e]});return i},o.prototype.$arrayTokens=function(a){if(!a)return[];var t=this.splitRegex.exec(a);if(!t)return"text";for(var n=[],i=this.tokenArray,e=0,r=i.length;e<r;e++)t[e+1]&&(n[n.length]={type:i[e],value:t[e+1]});return n},o.prototype.removeCapturingGroups=function(a){var t=a.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(n,i){return i?"(?:":n});return t},o.prototype.createSplitterRegexp=function(a,t){if(a.indexOf("(?=")!=-1){var n=0,i=!1,e={};a.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(r,s,c,f,p,$){return i?i=p!="]":p?i=!0:f?(n==e.stack&&(e.end=$+1,e.stack=-1),n--):c&&(n++,c.length!=1&&(e.stack=n,e.start=$)),r}),e.end!=null&&/^\)*$/.test(a.substr(e.end))&&(a=a.substring(0,e.start)+a.substr(e.end))}return a.charAt(0)!="^"&&(a="^"+a),a.charAt(a.length-1)!="$"&&(a+="$"),new RegExp(a,(t||"").replace("g",""))},o.prototype.getLineTokens=function(a,t){if(t&&typeof t!="string"){var n=t.slice(0);t=n[0],t==="#tmp"&&(n.shift(),t=n.shift())}else var n=[];var i=t||"start",e=this.states[i];e||(i="start",e=this.states[i]);var r=this.matchMappings[i],s=this.regExps[i];s.lastIndex=0;for(var c,f=[],p=0,$=0,m={type:null,value:""};c=s.exec(a);){var y=r.defaultToken,v=null,T=c[0],M=s.lastIndex;if(M-T.length>p){var E=a.substring(p,M-T.length);m.type==y?m.value+=E:(m.type&&f.push(m),m={type:y,value:E})}for(var C=0;C<c.length-2;C++)if(c[C+1]!==void 0){v=e[r[C]],v.onMatch?y=v.onMatch(T,i,n,a):y=v.token,v.next&&(typeof v.next=="string"?i=v.next:i=v.next(i,n),e=this.states[i],e||(this.reportError("state doesn't exist",i),i="start",e=this.states[i]),r=this.matchMappings[i],p=M,s=this.regExps[i],s.lastIndex=M),v.consumeLineEnd&&(p=M);break}if(T){if(typeof y=="string")(!v||v.merge!==!1)&&m.type===y?m.value+=T:(m.type&&f.push(m),m={type:y,value:T});else if(y){m.type&&f.push(m),m={type:null,value:""};for(var C=0;C<y.length;C++)f.push(y[C])}}if(p==a.length)break;if(p=M,$++>l){for($>2*a.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:a});p<a.length;)m.type&&f.push(m),m={value:a.substring(p,p+=500),type:"overflow"};i="start",n=[];break}}return m.type&&f.push(m),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:f,state:n.length?n:i}},o}();u.prototype.reportError=g.reportError,h.Tokenizer=u}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(d,h,b){var g=d("../lib/lang"),l=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(a,t){if(!t){for(var n in a)this.$rules[n]=a[n];return}for(var n in a){for(var i=a[n],e=0;e<i.length;e++){var r=i[e];(r.next||r.onMatch)&&(typeof r.next=="string"&&r.next.indexOf(t)!==0&&(r.next=t+r.next),r.nextState&&r.nextState.indexOf(t)!==0&&(r.nextState=t+r.nextState))}this.$rules[t+n]=i}},this.getRules=function(){return this.$rules},this.embedRules=function(a,t,n,i,e){var r=typeof a=="function"?new a().getRules():a;if(i)for(var s=0;s<i.length;s++)i[s]=t+i[s];else{i=[];for(var c in r)i.push(t+c)}if(this.addRules(r,t),n)for(var f=Array.prototype[e?"push":"unshift"],s=0;s<i.length;s++)f.apply(this.$rules[i[s]],g.deepCopy(n));this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var u=function(a,t){return(a!="start"||t.length)&&t.unshift(this.nextState,a),this.nextState},o=function(a,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var a=0,t=this.$rules;function n(i){var e=t[i];e.processed=!0;for(var r=0;r<e.length;r++){var s=e[r],c=null;Array.isArray(s)&&(c=s,s={}),!s.regex&&s.start&&(s.regex=s.start,s.next||(s.next=[]),s.next.push({defaultToken:s.token},{token:s.token+".end",regex:s.end||s.start,next:"pop"}),s.token=s.token+".start",s.push=!0);var f=s.next||s.push;if(f&&Array.isArray(f)){var p=s.stateName;p||(p=s.token,typeof p!="string"&&(p=p[0]||""),t[p]&&(p+=a++)),t[p]=f,s.next=p,n(p)}else f=="pop"&&(s.next=o);if(s.push&&(s.nextState=s.next||s.push,s.next=u,delete s.push),s.rules)for(var $ in s.rules)t[$]?t[$].push&&t[$].push.apply(t[$],s.rules[$]):t[$]=s.rules[$];var m=typeof s=="string"?s:s.include;if(m&&(m==="$self"&&(m="start"),Array.isArray(m)?c=m.map(function(v){return t[v]}):c=t[m]),c){var y=[r,1].concat(c);s.noEscape&&(y=y.filter(function(v){return!v.next})),e.splice.apply(e,y),r--}s.keywordMap&&(s.token=this.createKeywordMapper(s.keywordMap,s.defaultToken||"text",s.caseInsensitive),delete s.defaultToken)}}Object.keys(t).forEach(n,this)},this.createKeywordMapper=function(a,t,n,i){var e=Object.create(null);return this.$keywordList=[],Object.keys(a).forEach(function(r){for(var s=a[r],c=s.split(i||"|"),f=c.length;f--;){var p=c[f];this.$keywordList.push(p),n&&(p=p.toLowerCase()),e[p]=r}},this),a=null,n?function(r){return e[r.toLowerCase()]||t}:function(r){return e[r]||t}},this.getKeywords=function(){return this.$keywords}}).call(l.prototype),h.TextHighlightRules=l}),ace.define("ace/mode/behaviour",["require","exports","module"],function(d,h,b){var g=function(){this.$behaviours={}};(function(){this.add=function(l,u,o){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[l]:this.$behaviours[l]={}}this.$behaviours[l][u]=o},this.addBehaviours=function(l){for(var u in l)for(var o in l[u])this.add(u,o,l[u][o])},this.remove=function(l){this.$behaviours&&this.$behaviours[l]&&delete this.$behaviours[l]},this.inherit=function(l,u){if(typeof l=="function")var o=new l().getBehaviours(u);else var o=l.getBehaviours(u);this.addBehaviours(o)},this.getBehaviours=function(l){if(l){for(var u={},o=0;o<l.length;o++)this.$behaviours[l[o]]&&(u[l[o]]=this.$behaviours[l[o]]);return u}else return this.$behaviours}}).call(g.prototype),h.Behaviour=g}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(d,h,b){var g=d("./range").Range,l=function(){function u(o,a,t){this.$session=o,this.$row=a,this.$rowTokens=o.getTokens(a);var n=o.getTokenAt(a,t);this.$tokenIndex=n?n.index:-1}return u.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},u.prototype.stepForward=function(){this.$tokenIndex+=1;for(var o;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,o||(o=this.$session.getLength()),this.$row>=o)return this.$row=o-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},u.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},u.prototype.getCurrentTokenRow=function(){return this.$row},u.prototype.getCurrentTokenColumn=function(){var o=this.$rowTokens,a=this.$tokenIndex,t=o[a].start;if(t!==void 0)return t;for(t=0;a>0;)a-=1,t+=o[a].value.length;return t},u.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},u.prototype.getCurrentTokenRange=function(){var o=this.$rowTokens[this.$tokenIndex],a=this.getCurrentTokenColumn();return new g(this.$row,a,this.$row,a+o.value.length)},u}();h.TokenIterator=l}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(d,h,b){var g=d("../../lib/oop"),l=d("../behaviour").Behaviour,u=d("../../token_iterator").TokenIterator,o=d("../../lib/lang"),a=["text","paren.rparen","rparen","paren","punctuation.operator"],t=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],n,i={},e={'"':'"',"'":"'"},r=function(f){var p=-1;if(f.multiSelect&&(p=f.selection.index,i.rangeCount!=f.multiSelect.rangeCount&&(i={rangeCount:f.multiSelect.rangeCount})),i[p])return n=i[p];n=i[p]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},s=function(f,p,$,m){var y=f.end.row-f.start.row;return{text:$+p+m,selection:[0,f.start.column+1,y,f.end.column+(y?0:1)]}},c=function(f){f=f||{},this.add("braces","insertion",function(p,$,m,y,v){var T=m.getCursorPosition(),M=y.doc.getLine(T.row);if(v=="{"){r(m);var E=m.getSelectionRange(),C=y.doc.getTextRange(E);if(C!==""&&C!=="{"&&m.getWrapBehavioursEnabled())return s(E,C,"{","}");if(c.isSaneInsertion(m,y))return/[\]\}\)]/.test(M[T.column])||m.inMultiSelectMode||f.braces?(c.recordAutoInsert(m,y,"}"),{text:"{}",selection:[1,1]}):(c.recordMaybeInsert(m,y,"{"),{text:"{",selection:[1,1]})}else if(v=="}"){r(m);var S=M.substring(T.column,T.column+1);if(S=="}"){var I=y.$findOpeningBracket("}",{column:T.column+1,row:T.row});if(I!==null&&c.isAutoInsertedClosing(T,M,v))return c.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(v==`
`||v==`\r
`){r(m);var k="";c.isMaybeInsertedClosing(T,M)&&(k=o.stringRepeat("}",n.maybeInsertedBrackets),c.clearMaybeInsertedClosing());var S=M.substring(T.column,T.column+1);if(S==="}"){var w=y.findMatchingBracket({row:T.row,column:T.column+1},"}");if(!w)return null;var R=this.$getIndent(y.getLine(w.row))}else if(k)var R=this.$getIndent(M);else{c.clearMaybeInsertedClosing();return}var L=R+y.getTabString();return{text:`
`+L+`
`+R+k,selection:[1,L.length,1,L.length]}}else c.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(p,$,m,y,v){var T=y.doc.getTextRange(v);if(!v.isMultiLine()&&T=="{"){r(m);var M=y.doc.getLine(v.start.row),E=M.substring(v.end.column,v.end.column+1);if(E=="}")return v.end.column++,v;n.maybeInsertedBrackets--}}),this.add("parens","insertion",function(p,$,m,y,v){if(v=="("){r(m);var T=m.getSelectionRange(),M=y.doc.getTextRange(T);if(M!==""&&m.getWrapBehavioursEnabled())return s(T,M,"(",")");if(c.isSaneInsertion(m,y))return c.recordAutoInsert(m,y,")"),{text:"()",selection:[1,1]}}else if(v==")"){r(m);var E=m.getCursorPosition(),C=y.doc.getLine(E.row),S=C.substring(E.column,E.column+1);if(S==")"){var I=y.$findOpeningBracket(")",{column:E.column+1,row:E.row});if(I!==null&&c.isAutoInsertedClosing(E,C,v))return c.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(p,$,m,y,v){var T=y.doc.getTextRange(v);if(!v.isMultiLine()&&T=="("){r(m);var M=y.doc.getLine(v.start.row),E=M.substring(v.start.column+1,v.start.column+2);if(E==")")return v.end.column++,v}}),this.add("brackets","insertion",function(p,$,m,y,v){if(v=="["){r(m);var T=m.getSelectionRange(),M=y.doc.getTextRange(T);if(M!==""&&m.getWrapBehavioursEnabled())return s(T,M,"[","]");if(c.isSaneInsertion(m,y))return c.recordAutoInsert(m,y,"]"),{text:"[]",selection:[1,1]}}else if(v=="]"){r(m);var E=m.getCursorPosition(),C=y.doc.getLine(E.row),S=C.substring(E.column,E.column+1);if(S=="]"){var I=y.$findOpeningBracket("]",{column:E.column+1,row:E.row});if(I!==null&&c.isAutoInsertedClosing(E,C,v))return c.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(p,$,m,y,v){var T=y.doc.getTextRange(v);if(!v.isMultiLine()&&T=="["){r(m);var M=y.doc.getLine(v.start.row),E=M.substring(v.start.column+1,v.start.column+2);if(E=="]")return v.end.column++,v}}),this.add("string_dquotes","insertion",function(p,$,m,y,v){var T=y.$mode.$quotes||e;if(v.length==1&&T[v]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(v)!=-1)return;r(m);var M=v,E=m.getSelectionRange(),C=y.doc.getTextRange(E);if(C!==""&&(C.length!=1||!T[C])&&m.getWrapBehavioursEnabled())return s(E,C,M,M);if(!C){var S=m.getCursorPosition(),I=y.doc.getLine(S.row),k=I.substring(S.column-1,S.column),w=I.substring(S.column,S.column+1),R=y.getTokenAt(S.row,S.column),L=y.getTokenAt(S.row,S.column+1);if(k=="\\"&&R&&/escape/.test(R.type))return null;var O=R&&/string|escape/.test(R.type),P=!L||/string|escape/.test(L.type),B;if(w==M)B=O!==P,B&&/string\.end/.test(L.type)&&(B=!1);else{if(O&&!P||O&&P)return null;var H=y.$mode.tokenRe;H.lastIndex=0;var V=H.test(k);H.lastIndex=0;var U=H.test(w),_=y.$mode.$pairQuotesAfter,z=_&&_[M]&&_[M].test(k);if(!z&&V||U||w&&!/[\s;,.})\]\\]/.test(w))return null;var K=I[S.column-2];if(k==M&&(K==M||H.test(K)))return null;B=!0}return{text:B?M+M:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(p,$,m,y,v){var T=y.$mode.$quotes||e,M=y.doc.getTextRange(v);if(!v.isMultiLine()&&T.hasOwnProperty(M)){r(m);var E=y.doc.getLine(v.start.row),C=E.substring(v.start.column+1,v.start.column+2);if(C==M)return v.end.column++,v}}),f.closeDocComment!==!1&&this.add("doc comment end","insertion",function(p,$,m,y,v){if(p==="doc-start"&&(v===`
`||v===`\r
`)&&m.selection.isEmpty()){var T=m.getCursorPosition(),M=y.doc.getLine(T.row),E=y.doc.getLine(T.row+1),C=this.$getIndent(M);if(/\s*\*/.test(E))return/^\s*\*/.test(M)?{text:v+C+"* ",selection:[1,3+C.length,1,3+C.length]}:{text:v+C+" * ",selection:[1,3+C.length,1,3+C.length]};if(/\/\*\*/.test(M.substring(0,T.column)))return{text:v+C+" * "+v+" "+C+"*/",selection:[1,4+C.length,1,4+C.length]}}})};c.isSaneInsertion=function(f,p){var $=f.getCursorPosition(),m=new u(p,$.row,$.column);if(!this.$matchTokenType(m.getCurrentToken()||"text",a)){if(/[)}\]]/.test(f.session.getLine($.row)[$.column]))return!0;var y=new u(p,$.row,$.column+1);if(!this.$matchTokenType(y.getCurrentToken()||"text",a))return!1}return m.stepForward(),m.getCurrentTokenRow()!==$.row||this.$matchTokenType(m.getCurrentToken()||"text",t)},c.$matchTokenType=function(f,p){return p.indexOf(f.type||f)>-1},c.recordAutoInsert=function(f,p,$){var m=f.getCursorPosition(),y=p.doc.getLine(m.row);this.isAutoInsertedClosing(m,y,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=m.row,n.autoInsertedLineEnd=$+y.substr(m.column),n.autoInsertedBrackets++},c.recordMaybeInsert=function(f,p,$){var m=f.getCursorPosition(),y=p.doc.getLine(m.row);this.isMaybeInsertedClosing(m,y)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=m.row,n.maybeInsertedLineStart=y.substr(0,m.column)+$,n.maybeInsertedLineEnd=y.substr(m.column),n.maybeInsertedBrackets++},c.isAutoInsertedClosing=function(f,p,$){return n.autoInsertedBrackets>0&&f.row===n.autoInsertedRow&&$===n.autoInsertedLineEnd[0]&&p.substr(f.column)===n.autoInsertedLineEnd},c.isMaybeInsertedClosing=function(f,p){return n.maybeInsertedBrackets>0&&f.row===n.maybeInsertedRow&&p.substr(f.column)===n.maybeInsertedLineEnd&&p.substr(0,f.column)==n.maybeInsertedLineStart},c.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},c.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},g.inherits(c,l),h.CstyleBehaviour=c}),ace.define("ace/unicode",["require","exports","module"],function(d,h,b){for(var g=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],l=0,u=[],o=0;o<g.length;o+=2)u.push(l+=g[o]),g[o+1]&&u.push(45,l+=g[o+1]);h.wordChars=String.fromCharCode.apply(null,u)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(d,h,b){var g=d("../config"),l=d("../tokenizer").Tokenizer,u=d("./text_highlight_rules").TextHighlightRules,o=d("./behaviour/cstyle").CstyleBehaviour,a=d("../unicode"),t=d("../lib/lang"),n=d("../token_iterator").TokenIterator,i=d("../range").Range,e=function(){this.HighlightRules=u};(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new l(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(r,s,c,f){var p=s.doc,$=!0,m=!0,y=1/0,v=s.getTabSize(),T=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var C=this.lineCommentStart.map(t.escapeRegExp).join("|"),M=this.lineCommentStart[0];else var C=t.escapeRegExp(this.lineCommentStart),M=this.lineCommentStart;C=new RegExp("^(\\s*)(?:"+C+") ?"),T=s.getUseSoftTabs();var k=function(U,_){var z=U.match(C);if(!!z){var K=z[1].length,J=z[0].length;!L(U,K,J)&&z[0][J-1]==" "&&J--,p.removeInLine(_,K,J)}},R=M+" ",I=function(U,_){(!$||/\S/.test(U))&&(L(U,y,y)?p.insertInLine({row:_,column:y},R):p.insertInLine({row:_,column:y},M))},w=function(U,_){return C.test(U)},L=function(U,_,z){for(var K=0;_--&&U.charAt(_)==" ";)K++;if(K%v!=0)return!1;for(var K=0;U.charAt(z++)==" ";)K++;return v>2?K%v!=v-1:K%v==0}}else{if(!this.blockComment)return!1;var M=this.blockComment.start,E=this.blockComment.end,C=new RegExp("^(\\s*)(?:"+t.escapeRegExp(M)+")"),S=new RegExp("(?:"+t.escapeRegExp(E)+")\\s*$"),I=function(B,H){w(B,H)||(!$||/\S/.test(B))&&(p.insertInLine({row:H,column:B.length},E),p.insertInLine({row:H,column:y},M))},k=function(B,H){var V;(V=B.match(S))&&p.removeInLine(H,B.length-V[0].length,B.length),(V=B.match(C))&&p.removeInLine(H,V[1].length,V[0].length)},w=function(B,H){if(C.test(B))return!0;for(var V=s.getTokens(H),U=0;U<V.length;U++)if(V[U].type==="comment")return!0}}function O(B){for(var H=c;H<=f;H++)B(p.getLine(H),H)}var P=1/0;O(function(B,H){var V=B.search(/\S/);V!==-1?(V<y&&(y=V),m&&!w(B,H)&&(m=!1)):P>B.length&&(P=B.length)}),y==1/0&&(y=P,$=!1,m=!1),T&&y%v!=0&&(y=Math.floor(y/v)*v),O(m?k:I)},this.toggleBlockComment=function(r,s,c,f){var p=this.blockComment;if(!!p){!p.start&&p[0]&&(p=p[0]);var $=new n(s,f.row,f.column),m=$.getCurrentToken();s.selection;var y=s.selection.toOrientedRange(),v,T;if(m&&/comment/.test(m.type)){for(var M,E;m&&/comment/.test(m.type);){var C=m.value.indexOf(p.start);if(C!=-1){var S=$.getCurrentTokenRow(),I=$.getCurrentTokenColumn()+C;M=new i(S,I,S,I+p.start.length);break}m=$.stepBackward()}for(var $=new n(s,f.row,f.column),m=$.getCurrentToken();m&&/comment/.test(m.type);){var C=m.value.indexOf(p.end);if(C!=-1){var S=$.getCurrentTokenRow(),I=$.getCurrentTokenColumn()+C;E=new i(S,I,S,I+p.end.length);break}m=$.stepForward()}E&&s.remove(E),M&&(s.remove(M),v=M.start.row,T=-p.start.length)}else T=p.start.length,v=c.start.row,s.insert(c.end,p.end),s.insert(c.start,p.start);y.start.row==v&&(y.start.column+=T),y.end.row==v&&(y.end.column+=T),s.selection.fromOrientedRange(y)}},this.getNextLineIndent=function(r,s,c){return this.$getIndent(s)},this.checkOutdent=function(r,s,c){return!1},this.autoOutdent=function(r,s,c){},this.$getIndent=function(r){return r.match(/^\s*/)[0]},this.createWorker=function(r){return null},this.createModeDelegates=function(r){this.$embeds=[],this.$modes={};for(var s in r)if(r[s]){var c=r[s],f=c.prototype.$id,p=g.$modes[f];p||(g.$modes[f]=p=new c),g.$modes[s]||(g.$modes[s]=p),this.$embeds.push(s),this.$modes[s]=p}for(var $=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],s=0;s<$.length;s++)(function(y){var v=$[s],T=y[v];y[$[s]]=function(){return this.$delegator(v,arguments,T)}})(this)},this.$delegator=function(r,s,c){var f=s[0]||"start";if(typeof f!="string"){if(Array.isArray(f[2])){var p=f[2][f[2].length-1],$=this.$modes[p];if($)return $[r].apply($,[f[1]].concat([].slice.call(s,1)))}f=f[0]||"start"}for(var m=0;m<this.$embeds.length;m++)if(!!this.$modes[this.$embeds[m]]){var y=f.split(this.$embeds[m]);if(!y[0]&&y[1]){s[0]=y[1];var $=this.$modes[this.$embeds[m]];return $[r].apply($,s)}}var v=c.apply(this,s);return c?v:void 0},this.transformAction=function(r,s,c,f,p){if(this.$behaviour){var $=this.$behaviour.getBehaviours();for(var m in $)if($[m][s]){var y=$[m][s].apply(this,arguments);if(y)return y}}},this.getKeywords=function(r){if(!this.completionKeywords){var s=this.$tokenizer.rules,c=[];for(var f in s)for(var p=s[f],$=0,m=p.length;$<m;$++)if(typeof p[$].token=="string")/keyword|support|storage/.test(p[$].token)&&c.push(p[$].regex);else if(typeof p[$].token=="object"){for(var y=0,v=p[$].token.length;y<v;y++)if(/keyword|support|storage/.test(p[$].token[y])){var f=p[$].regex.match(/\(.+?\)/g)[y];c.push(f.substr(1,f.length-2))}}this.completionKeywords=c}return r?c.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(r,s,c,f){var p=this.$keywordList||this.$createKeywordList();return p.map(function($){return{name:$,value:$,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(e.prototype),h.Mode=e}),ace.define("ace/apply_delta",["require","exports","module"],function(d,h,b){h.applyDelta=function(g,l,u){var o=l.start.row,a=l.start.column,t=g[o]||"";switch(l.action){case"insert":var n=l.lines;if(n.length===1)g[o]=t.substring(0,a)+l.lines[0]+t.substring(a);else{var i=[o,1].concat(l.lines);g.splice.apply(g,i),g[o]=t.substring(0,a)+g[o],g[o+l.lines.length-1]+=t.substring(a)}break;case"remove":var e=l.end.column,r=l.end.row;o===r?g[o]=t.substring(0,a)+t.substring(e):g.splice(o,r-o+1,t.substring(0,a)+g[r].substring(e));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(d,h,b){var g=d("./lib/oop"),l=d("./lib/event_emitter").EventEmitter,u=function(){function t(n,i,e){this.$onChange=this.onChange.bind(this),this.attach(n),typeof e=="undefined"?this.setPosition(i.row,i.column):this.setPosition(i,e)}return t.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},t.prototype.getDocument=function(){return this.document},t.prototype.onChange=function(n){if(!(n.start.row==n.end.row&&n.start.row!=this.row)&&!(n.start.row>this.row)){var i=a(n,{row:this.row,column:this.column},this.$insertRight);this.setPosition(i.row,i.column,!0)}},t.prototype.setPosition=function(n,i,e){var r;if(e?r={row:n,column:i}:r=this.$clipPositionToDocument(n,i),!(this.row==r.row&&this.column==r.column)){var s={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:s,value:r})}},t.prototype.detach=function(){this.document.off("change",this.$onChange)},t.prototype.attach=function(n){this.document=n||this.document,this.document.on("change",this.$onChange)},t.prototype.$clipPositionToDocument=function(n,i){var e={};return n>=this.document.getLength()?(e.row=Math.max(0,this.document.getLength()-1),e.column=this.document.getLine(e.row).length):n<0?(e.row=0,e.column=0):(e.row=n,e.column=Math.min(this.document.getLine(e.row).length,Math.max(0,i))),i<0&&(e.column=0),e},t}();u.prototype.$insertRight=!1,g.implement(u.prototype,l);function o(t,n,i){var e=i?t.column<=n.column:t.column<n.column;return t.row<n.row||t.row==n.row&&e}function a(t,n,i){var e=t.action=="insert",r=(e?1:-1)*(t.end.row-t.start.row),s=(e?1:-1)*(t.end.column-t.start.column),c=t.start,f=e?c:t.end;return o(n,c,i)?{row:n.row,column:n.column}:o(f,n,!i)?{row:n.row+r,column:n.column+(n.row==f.row?s:0)}:{row:c.row,column:c.column}}h.Anchor=u}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(d,h,b){var g=d("./lib/oop"),l=d("./apply_delta").applyDelta,u=d("./lib/event_emitter").EventEmitter,o=d("./range").Range,a=d("./anchor").Anchor,t=function(){function n(i){this.$lines=[""],i.length===0?this.$lines=[""]:Array.isArray(i)?this.insertMergedLines({row:0,column:0},i):this.insert({row:0,column:0},i)}return n.prototype.setValue=function(i){var e=this.getLength()-1;this.remove(new o(0,0,e,this.getLine(e).length)),this.insert({row:0,column:0},i||"")},n.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},n.prototype.createAnchor=function(i,e){return new a(this,i,e)},n.prototype.$detectNewLine=function(i){var e=i.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=e?e[1]:`
`,this._signal("changeNewLineMode")},n.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},n.prototype.setNewLineMode=function(i){this.$newLineMode!==i&&(this.$newLineMode=i,this._signal("changeNewLineMode"))},n.prototype.getNewLineMode=function(){return this.$newLineMode},n.prototype.isNewLine=function(i){return i==`\r
`||i=="\r"||i==`
`},n.prototype.getLine=function(i){return this.$lines[i]||""},n.prototype.getLines=function(i,e){return this.$lines.slice(i,e+1)},n.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},n.prototype.getLength=function(){return this.$lines.length},n.prototype.getTextRange=function(i){return this.getLinesForRange(i).join(this.getNewLineCharacter())},n.prototype.getLinesForRange=function(i){var e;if(i.start.row===i.end.row)e=[this.getLine(i.start.row).substring(i.start.column,i.end.column)];else{e=this.getLines(i.start.row,i.end.row),e[0]=(e[0]||"").substring(i.start.column);var r=e.length-1;i.end.row-i.start.row==r&&(e[r]=e[r].substring(0,i.end.column))}return e},n.prototype.insertLines=function(i,e){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(i,e)},n.prototype.removeLines=function(i,e){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(i,e)},n.prototype.insertNewLine=function(i){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(i,["",""])},n.prototype.insert=function(i,e){return this.getLength()<=1&&this.$detectNewLine(e),this.insertMergedLines(i,this.$split(e))},n.prototype.insertInLine=function(i,e){var r=this.clippedPos(i.row,i.column),s=this.pos(i.row,i.column+e.length);return this.applyDelta({start:r,end:s,action:"insert",lines:[e]},!0),this.clonePos(s)},n.prototype.clippedPos=function(i,e){var r=this.getLength();i===void 0?i=r:i<0?i=0:i>=r&&(i=r-1,e=void 0);var s=this.getLine(i);return e==null&&(e=s.length),e=Math.min(Math.max(e,0),s.length),{row:i,column:e}},n.prototype.clonePos=function(i){return{row:i.row,column:i.column}},n.prototype.pos=function(i,e){return{row:i,column:e}},n.prototype.$clipPosition=function(i){var e=this.getLength();return i.row>=e?(i.row=Math.max(0,e-1),i.column=this.getLine(e-1).length):(i.row=Math.max(0,i.row),i.column=Math.min(Math.max(i.column,0),this.getLine(i.row).length)),i},n.prototype.insertFullLines=function(i,e){i=Math.min(Math.max(i,0),this.getLength());var r=0;i<this.getLength()?(e=e.concat([""]),r=0):(e=[""].concat(e),i--,r=this.$lines[i].length),this.insertMergedLines({row:i,column:r},e)},n.prototype.insertMergedLines=function(i,e){var r=this.clippedPos(i.row,i.column),s={row:r.row+e.length-1,column:(e.length==1?r.column:0)+e[e.length-1].length};return this.applyDelta({start:r,end:s,action:"insert",lines:e}),this.clonePos(s)},n.prototype.remove=function(i){var e=this.clippedPos(i.start.row,i.start.column),r=this.clippedPos(i.end.row,i.end.column);return this.applyDelta({start:e,end:r,action:"remove",lines:this.getLinesForRange({start:e,end:r})}),this.clonePos(e)},n.prototype.removeInLine=function(i,e,r){var s=this.clippedPos(i,e),c=this.clippedPos(i,r);return this.applyDelta({start:s,end:c,action:"remove",lines:this.getLinesForRange({start:s,end:c})},!0),this.clonePos(s)},n.prototype.removeFullLines=function(i,e){i=Math.min(Math.max(0,i),this.getLength()-1),e=Math.min(Math.max(0,e),this.getLength()-1);var r=e==this.getLength()-1&&i>0,s=e<this.getLength()-1,c=r?i-1:i,f=r?this.getLine(c).length:0,p=s?e+1:e,$=s?0:this.getLine(p).length,m=new o(c,f,p,$),y=this.$lines.slice(i,e+1);return this.applyDelta({start:m.start,end:m.end,action:"remove",lines:this.getLinesForRange(m)}),y},n.prototype.removeNewLine=function(i){i<this.getLength()-1&&i>=0&&this.applyDelta({start:this.pos(i,this.getLine(i).length),end:this.pos(i+1,0),action:"remove",lines:["",""]})},n.prototype.replace=function(i,e){if(i instanceof o||(i=o.fromPoints(i.start,i.end)),e.length===0&&i.isEmpty())return i.start;if(e==this.getTextRange(i))return i.end;this.remove(i);var r;return e?r=this.insert(i.start,e):r=i.start,r},n.prototype.applyDeltas=function(i){for(var e=0;e<i.length;e++)this.applyDelta(i[e])},n.prototype.revertDeltas=function(i){for(var e=i.length-1;e>=0;e--)this.revertDelta(i[e])},n.prototype.applyDelta=function(i,e){var r=i.action=="insert";(r?i.lines.length<=1&&!i.lines[0]:!o.comparePoints(i.start,i.end))||(r&&i.lines.length>2e4?this.$splitAndapplyLargeDelta(i,2e4):(l(this.$lines,i,e),this._signal("change",i)))},n.prototype.$safeApplyDelta=function(i){var e=this.$lines.length;(i.action=="remove"&&i.start.row<e&&i.end.row<e||i.action=="insert"&&i.start.row<=e)&&this.applyDelta(i)},n.prototype.$splitAndapplyLargeDelta=function(i,e){for(var r=i.lines,s=r.length-e+1,c=i.start.row,f=i.start.column,p=0,$=0;p<s;p=$){$+=e-1;var m=r.slice(p,$);m.push(""),this.applyDelta({start:this.pos(c+p,f),end:this.pos(c+$,f=0),action:i.action,lines:m},!0)}i.lines=r.slice(p),i.start.row=c+p,i.start.column=f,this.applyDelta(i,!0)},n.prototype.revertDelta=function(i){this.$safeApplyDelta({start:this.clonePos(i.start),end:this.clonePos(i.end),action:i.action=="insert"?"remove":"insert",lines:i.lines.slice()})},n.prototype.indexToPosition=function(i,e){for(var r=this.$lines||this.getAllLines(),s=this.getNewLineCharacter().length,c=e||0,f=r.length;c<f;c++)if(i-=r[c].length+s,i<0)return{row:c,column:i+r[c].length+s};return{row:f-1,column:i+r[f-1].length+s}},n.prototype.positionToIndex=function(i,e){for(var r=this.$lines||this.getAllLines(),s=this.getNewLineCharacter().length,c=0,f=Math.min(i.row,r.length),p=e||0;p<f;++p)c+=r[p].length+s;return c+i.column},n.prototype.$split=function(i){return i.split(/\r\n|\r|\n/)},n}();t.prototype.$autoNewLine="",t.prototype.$newLineMode="auto",g.implement(t.prototype,u),h.Document=t}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(d,h,b){var g=d("./lib/oop"),l=d("./lib/event_emitter").EventEmitter,u=function(){function o(a,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=a;var n=this;this.$worker=function(){if(!!n.running){for(var i=new Date,e=n.currentLine,r=-1,s=n.doc,c=e;n.lines[e];)e++;var f=s.getLength(),p=0;for(n.running=!1;e<f;){n.$tokenizeRow(e),r=e;do e++;while(n.lines[e]);if(p++,p%5===0&&new Date-i>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=e,r==-1&&(r=e),c<=r&&n.fireUpdateEvent(c,r)}}}return o.prototype.setTokenizer=function(a){this.tokenizer=a,this.lines=[],this.states=[],this.start(0)},o.prototype.setDocument=function(a){this.doc=a,this.lines=[],this.states=[],this.stop()},o.prototype.fireUpdateEvent=function(a,t){var n={first:a,last:t};this._signal("update",{data:n})},o.prototype.start=function(a){this.currentLine=Math.min(a||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},o.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},o.prototype.$updateOnChange=function(a){var t=a.start.row,n=a.end.row-t;if(n===0)this.lines[t]=null;else if(a.action=="remove")this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},o.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},o.prototype.getTokens=function(a){return this.lines[a]||this.$tokenizeRow(a)},o.prototype.getState=function(a){return this.currentLine==a&&this.$tokenizeRow(a),this.states[a]||"start"},o.prototype.$tokenizeRow=function(a){var t=this.doc.getLine(a),n=this.states[a-1],i=this.tokenizer.getLineTokens(t,n,a);return this.states[a]+""!=i.state+""?(this.states[a]=i.state,this.lines[a+1]=null,this.currentLine>a+1&&(this.currentLine=a+1)):this.currentLine==a&&(this.currentLine=a+1),this.lines[a]=i.tokens},o.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},o}();g.implement(u.prototype,l),h.BackgroundTokenizer=u}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(d,h,b){var g=d("./lib/lang"),l=d("./range").Range,u=function(){function o(a,t,n){n===void 0&&(n="text"),this.setRegexp(a),this.clazz=t,this.type=n}return o.prototype.setRegexp=function(a){this.regExp+""!=a+""&&(this.regExp=a,this.cache=[])},o.prototype.update=function(a,t,n,i){if(!!this.regExp)for(var e=i.firstRow,r=i.lastRow,s={},c=e;c<=r;c++){var f=this.cache[c];f==null&&(f=g.getMatchOffsets(n.getLine(c),this.regExp),f.length>this.MAX_RANGES&&(f=f.slice(0,this.MAX_RANGES)),f=f.map(function(y){return new l(c,y.offset,c,y.offset+y.length)}),this.cache[c]=f.length?f:"");for(var p=f.length;p--;){var $=f[p].toScreenRange(n),m=$.toString();s[m]||(s[m]=!0,t.drawSingleLineMarker(a,$,this.clazz,i))}}},o}();u.prototype.MAX_RANGES=500,h.SearchHighlight=u}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(d,h,b){var g=d("../range").Range,l=function(){function u(o,a){this.foldData=o,Array.isArray(a)?this.folds=a:a=this.folds=[a];var t=a[a.length-1];this.range=new g(a[0].start.row,a[0].start.column,t.end.row,t.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(n){n.setFoldLine(this)},this)}return u.prototype.shiftRow=function(o){this.start.row+=o,this.end.row+=o,this.folds.forEach(function(a){a.start.row+=o,a.end.row+=o})},u.prototype.addFold=function(o){if(o.sameRow){if(o.start.row<this.startRow||o.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(o),this.folds.sort(function(a,t){return-a.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(o.start.row,o.start.column)>0?(this.end.row=o.end.row,this.end.column=o.end.column):this.range.compareStart(o.end.row,o.end.column)<0&&(this.start.row=o.start.row,this.start.column=o.start.column)}else if(o.start.row==this.end.row)this.folds.push(o),this.end.row=o.end.row,this.end.column=o.end.column;else if(o.end.row==this.start.row)this.folds.unshift(o),this.start.row=o.start.row,this.start.column=o.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");o.foldLine=this},u.prototype.containsRow=function(o){return o>=this.start.row&&o<=this.end.row},u.prototype.walk=function(o,a,t){var n=0,i=this.folds,e,r,s,c=!0;a==null&&(a=this.end.row,t=this.end.column);for(var f=0;f<i.length;f++){if(e=i[f],r=e.range.compareStart(a,t),r==-1){o(null,a,t,n,c);return}if(s=o(null,e.start.row,e.start.column,n,c),s=!s&&o(e.placeholder,e.start.row,e.start.column,n),s||r===0)return;c=!e.sameRow,n=e.end.column}o(null,a,t,n,c)},u.prototype.getNextFoldTo=function(o,a){for(var t,n,i=0;i<this.folds.length;i++){if(t=this.folds[i],n=t.range.compareEnd(o,a),n==-1)return{fold:t,kind:"after"};if(n===0)return{fold:t,kind:"inside"}}return null},u.prototype.addRemoveChars=function(o,a,t){var n=this.getNextFoldTo(o,a),i,e;if(n){if(i=n.fold,n.kind=="inside"&&i.start.column!=a&&i.start.row!=o)window.console&&window.console.log(o,a,i);else if(i.start.row==o){e=this.folds;var r=e.indexOf(i);for(r===0&&(this.start.column+=t),r;r<e.length;r++){if(i=e[r],i.start.column+=t,!i.sameRow)return;i.end.column+=t}this.end.column+=t}}},u.prototype.split=function(o,a){var t=this.getNextFoldTo(o,a);if(!t||t.kind=="inside")return null;var n=t.fold,i=this.folds,e=this.foldData,r=i.indexOf(n),s=i[r-1];this.end.row=s.end.row,this.end.column=s.end.column,i=i.splice(r,i.length-r);var c=new u(e,i);return e.splice(e.indexOf(this)+1,0,c),c},u.prototype.merge=function(o){for(var a=o.folds,t=0;t<a.length;t++)this.addFold(a[t]);var n=this.foldData;n.splice(n.indexOf(o),1)},u.prototype.toString=function(){var o=[this.range.toString()+": ["];return this.folds.forEach(function(a){o.push("  "+a.toString())}),o.push("]"),o.join(`
`)},u.prototype.idxToPosition=function(o){for(var a=0,t=0;t<this.folds.length;t++){var n=this.folds[t];if(o-=n.start.column-a,o<0)return{row:n.start.row,column:n.start.column+o};if(o-=n.placeholder.length,o<0)return n.start;a=n.end.column}return{row:this.end.row,column:this.end.column+o}},u}();h.FoldLine=l}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(d,h,b){var g=d("./range").Range,l=g.comparePoints,u=function(){function o(){this.ranges=[],this.$bias=1}return o.prototype.pointIndex=function(a,t,n){for(var i=this.ranges,e=n||0;e<i.length;e++){var r=i[e],s=l(a,r.end);if(!(s>0)){var c=l(a,r.start);return s===0?t&&c!==0?-e-2:e:c>0||c===0&&!t?e:-e-1}}return-e-1},o.prototype.add=function(a){var t=!a.isEmpty(),n=this.pointIndex(a.start,t);n<0&&(n=-n-1);var i=this.pointIndex(a.end,t,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,a)},o.prototype.addList=function(a){for(var t=[],n=a.length;n--;)t.push.apply(t,this.add(a[n]));return t},o.prototype.substractPoint=function(a){var t=this.pointIndex(a);if(t>=0)return this.ranges.splice(t,1)},o.prototype.merge=function(){var a=[],t=this.ranges;t=t.sort(function(s,c){return l(s.start,c.start)});for(var n=t[0],i,e=1;e<t.length;e++){i=n,n=t[e];var r=l(i.end,n.start);r<0||r==0&&!i.isEmpty()&&!n.isEmpty()||(l(i.end,n.end)<0&&(i.end.row=n.end.row,i.end.column=n.end.column),t.splice(e,1),a.push(n),n=i,e--)}return this.ranges=t,a},o.prototype.contains=function(a,t){return this.pointIndex({row:a,column:t})>=0},o.prototype.containsPoint=function(a){return this.pointIndex(a)>=0},o.prototype.rangeAtPoint=function(a){var t=this.pointIndex(a);if(t>=0)return this.ranges[t]},o.prototype.clipRows=function(a,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<a)return[];var i=this.pointIndex({row:a,column:0});i<0&&(i=-i-1);var e=this.pointIndex({row:t,column:0},i);e<0&&(e=-e-1);for(var r=[],s=i;s<e;s++)r.push(n[s]);return r},o.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},o.prototype.attach=function(a){this.session&&this.detach(),this.session=a,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},o.prototype.detach=function(){!this.session||(this.session.removeListener("change",this.onChange),this.session=null)},o.prototype.$onChange=function(a){for(var t=a.start,n=a.end,i=t.row,e=n.row,r=this.ranges,s=0,c=r.length;s<c;s++){var f=r[s];if(f.end.row>=i)break}if(a.action=="insert")for(var p=e-i,$=-t.column+n.column;s<c;s++){var f=r[s];if(f.start.row>i)break;if(f.start.row==i&&f.start.column>=t.column&&(f.start.column==t.column&&this.$bias<=0||(f.start.column+=$,f.start.row+=p)),f.end.row==i&&f.end.column>=t.column){if(f.end.column==t.column&&this.$bias<0)continue;f.end.column==t.column&&$>0&&s<c-1&&f.end.column>f.start.column&&f.end.column==r[s+1].start.column&&(f.end.column-=$),f.end.column+=$,f.end.row+=p}}else for(var p=i-e,$=t.column-n.column;s<c;s++){var f=r[s];if(f.start.row>e)break;f.end.row<e&&(i<f.end.row||i==f.end.row&&t.column<f.end.column)?(f.end.row=i,f.end.column=t.column):f.end.row==e?f.end.column<=n.column?(p||f.end.column>t.column)&&(f.end.column=t.column,f.end.row=t.row):(f.end.column+=$,f.end.row+=p):f.end.row>e&&(f.end.row+=p),f.start.row<e&&(i<f.start.row||i==f.start.row&&t.column<f.start.column)?(f.start.row=i,f.start.column=t.column):f.start.row==e?f.start.column<=n.column?(p||f.start.column>t.column)&&(f.start.column=t.column,f.start.row=t.row):(f.start.column+=$,f.start.row+=p):f.start.row>e&&(f.start.row+=p)}if(p!=0&&s<c)for(;s<c;s++){var f=r[s];f.start.row+=p,f.end.row+=p}},o}();u.prototype.comparePoints=l,h.RangeList=u}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(d,h,b){var g=this&&this.__extends||function(){var i=function(e,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(s[f]=c[f])},i(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");i(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),l=d("../range_list").RangeList,u=function(i){g(e,i);function e(r,s){var c=i.call(this)||this;return c.foldLine=null,c.placeholder=s,c.range=r,c.start=r.start,c.end=r.end,c.sameRow=r.start.row==r.end.row,c.subFolds=c.ranges=[],c}return e.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},e.prototype.setFoldLine=function(r){this.foldLine=r,this.subFolds.forEach(function(s){s.setFoldLine(r)})},e.prototype.clone=function(){var r=this.range.clone(),s=new e(r,this.placeholder);return this.subFolds.forEach(function(c){s.subFolds.push(c.clone())}),s.collapseChildren=this.collapseChildren,s},e.prototype.addSubFold=function(r){if(!this.range.isEqual(r)){a(r,this.start);for(var $=r.start.row,m=r.start.column,s=0,c=-1;s<this.subFolds.length&&(c=this.subFolds[s].range.compare($,m),c==1);s++);var f=this.subFolds[s],p=0;if(c==0){if(f.range.containsRange(r))return f.addSubFold(r);p=1}for(var $=r.range.end.row,m=r.range.end.column,y=s,c=-1;y<this.subFolds.length&&(c=this.subFolds[y].range.compare($,m),c==1);y++);c==0&&y++;for(var v=this.subFolds.splice(s,y-s,r),T=c==0?v.length-1:v.length,M=p;M<T;M++)r.addSubFold(v[M]);return r.setFoldLine(this.foldLine),r}},e.prototype.restoreRange=function(r){return n(r,this.start)},e}(l);function o(i,e){i.row-=e.row,i.row==0&&(i.column-=e.column)}function a(i,e){o(i.start,e),o(i.end,e)}function t(i,e){i.row==0&&(i.column+=e.column),i.row+=e.row}function n(i,e){t(i.start,e),t(i.end,e)}h.Fold=u}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(d,h,b){var g=d("../range").Range,l=d("./fold_line").FoldLine,u=d("./fold").Fold,o=d("../token_iterator").TokenIterator,a=d("../mouse/mouse_event").MouseEvent;function t(){this.getFoldAt=function(n,i,e){var r=this.getFoldLine(n);if(!r)return null;for(var s=r.folds,c=0;c<s.length;c++){var f=s[c].range;if(f.contains(n,i)){if(e==1&&f.isEnd(n,i)&&!f.isEmpty())continue;if(e==-1&&f.isStart(n,i)&&!f.isEmpty())continue;return s[c]}}},this.getFoldsInRange=function(n){var i=n.start,e=n.end,r=this.$foldData,s=[];i.column+=1,e.column-=1;for(var c=0;c<r.length;c++){var f=r[c].range.compareRange(n);if(f!=2){if(f==-2)break;for(var p=r[c].folds,$=0;$<p.length;$++){var m=p[$];if(f=m.range.compareRange(n),f==-2)break;if(f==2)continue;if(f==42)break;s.push(m)}}}return i.column-=1,e.column+=1,s},this.getFoldsInRangeList=function(n){if(Array.isArray(n)){var i=[];n.forEach(function(e){i=i.concat(this.getFoldsInRange(e))},this)}else var i=this.getFoldsInRange(n);return i},this.getAllFolds=function(){for(var n=[],i=this.$foldData,e=0;e<i.length;e++)for(var r=0;r<i[e].folds.length;r++)n.push(i[e].folds[r]);return n},this.getFoldStringAt=function(n,i,e,r){if(r=r||this.getFoldLine(n),!r)return null;for(var s={end:{column:0}},c,f,p=0;p<r.folds.length;p++){f=r.folds[p];var $=f.range.compareEnd(n,i);if($==-1){c=this.getLine(f.start.row).substring(s.end.column,f.start.column);break}else if($===0)return null;s=f}return c||(c=this.getLine(f.start.row).substring(s.end.column)),e==-1?c.substring(0,i-s.end.column):e==1?c.substring(i-s.end.column):c},this.getFoldLine=function(n,i){var e=this.$foldData,r=0;for(i&&(r=e.indexOf(i)),r==-1&&(r=0),r;r<e.length;r++){var s=e[r];if(s.start.row<=n&&s.end.row>=n)return s;if(s.end.row>n)return null}return null},this.getNextFoldLine=function(n,i){var e=this.$foldData,r=0;for(i&&(r=e.indexOf(i)),r==-1&&(r=0),r;r<e.length;r++){var s=e[r];if(s.end.row>=n)return s}return null},this.getFoldedRowCount=function(n,i){for(var e=this.$foldData,r=i-n+1,s=0;s<e.length;s++){var c=e[s],f=c.end.row,p=c.start.row;if(f>=i){p<i&&(p>=n?r-=i-p:r=0);break}else f>=n&&(p>=n?r-=f-p:r-=f-n+1)}return r},this.$addFoldLine=function(n){return this.$foldData.push(n),this.$foldData.sort(function(i,e){return i.start.row-e.start.row}),n},this.addFold=function(n,i){var e=this.$foldData,r=!1,s;n instanceof u?s=n:(s=new u(i,n),s.collapseChildren=i.collapseChildren),this.$clipRangeToDocument(s.range);var c=s.start.row,f=s.start.column,p=s.end.row,$=s.end.column,m=this.getFoldAt(c,f,1),y=this.getFoldAt(p,$,-1);if(m&&y==m)return m.addSubFold(s);m&&!m.range.isStart(c,f)&&this.removeFold(m),y&&!y.range.isEnd(p,$)&&this.removeFold(y);var v=this.getFoldsInRange(s.range);v.length>0&&(this.removeFolds(v),s.collapseChildren||v.forEach(function(C){s.addSubFold(C)}));for(var T=0;T<e.length;T++){var M=e[T];if(p==M.start.row){M.addFold(s),r=!0;break}else if(c==M.end.row){if(M.addFold(s),r=!0,!s.sameRow){var E=e[T+1];if(E&&E.start.row==p){M.merge(E);break}}break}else if(p<=M.start.row)break}return r||(M=this.$addFoldLine(new l(this.$foldData,s))),this.$useWrapMode?this.$updateWrapData(M.start.row,M.start.row):this.$updateRowLengthCache(M.start.row,M.start.row),this.$modified=!0,this._signal("changeFold",{data:s,action:"add"}),s},this.addFolds=function(n){n.forEach(function(i){this.addFold(i)},this)},this.removeFold=function(n){var i=n.foldLine,e=i.start.row,r=i.end.row,s=this.$foldData,c=i.folds;if(c.length==1)s.splice(s.indexOf(i),1);else if(i.range.isEnd(n.end.row,n.end.column))c.pop(),i.end.row=c[c.length-1].end.row,i.end.column=c[c.length-1].end.column;else if(i.range.isStart(n.start.row,n.start.column))c.shift(),i.start.row=c[0].start.row,i.start.column=c[0].start.column;else if(n.sameRow)c.splice(c.indexOf(n),1);else{var f=i.split(n.start.row,n.start.column);c=f.folds,c.shift(),f.start.row=c[0].start.row,f.start.column=c[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(e,r):this.$updateRowLengthCache(e,r)),this.$modified=!0,this._signal("changeFold",{data:n,action:"remove"})},this.removeFolds=function(n){for(var i=[],e=0;e<n.length;e++)i.push(n[e]);i.forEach(function(r){this.removeFold(r)},this),this.$modified=!0},this.expandFold=function(n){this.removeFold(n),n.subFolds.forEach(function(i){n.restoreRange(i),this.addFold(i)},this),n.collapseChildren>0&&this.foldAll(n.start.row+1,n.end.row,n.collapseChildren-1),n.subFolds=[]},this.expandFolds=function(n){n.forEach(function(i){this.expandFold(i)},this)},this.unfold=function(n,i){var e,r;if(n==null)e=new g(0,0,this.getLength(),0),i==null&&(i=!0);else if(typeof n=="number")e=new g(n,0,n,this.getLine(n).length);else if("row"in n)e=g.fromPoints(n,n);else{if(Array.isArray(n))return r=[],n.forEach(function(c){r=r.concat(this.unfold(c))},this),r;e=n}r=this.getFoldsInRangeList(e);for(var s=r;r.length==1&&g.comparePoints(r[0].start,e.start)<0&&g.comparePoints(r[0].end,e.end)>0;)this.expandFolds(r),r=this.getFoldsInRangeList(e);if(i!=!1?this.removeFolds(r):this.expandFolds(r),s.length)return s},this.isRowFolded=function(n,i){return!!this.getFoldLine(n,i)},this.getRowFoldEnd=function(n,i){var e=this.getFoldLine(n,i);return e?e.end.row:n},this.getRowFoldStart=function(n,i){var e=this.getFoldLine(n,i);return e?e.start.row:n},this.getFoldDisplayLine=function(n,i,e,r,s){r==null&&(r=n.start.row),s==null&&(s=0),i==null&&(i=n.end.row),e==null&&(e=this.getLine(i).length);var c=this.doc,f="";return n.walk(function(p,$,m,y){if(!($<r)){if($==r){if(m<s)return;y=Math.max(s,y)}p!=null?f+=p:f+=c.getLine($).substring(y,m)}},i,e),f},this.getDisplayLine=function(n,i,e,r){var s=this.getFoldLine(n);if(s)return this.getFoldDisplayLine(s,n,i,e,r);var c;return c=this.doc.getLine(n),c.substring(r||0,i||c.length)},this.$cloneFoldData=function(){var n=[];return n=this.$foldData.map(function(i){var e=i.folds.map(function(r){return r.clone()});return new l(n,e)}),n},this.toggleFold=function(n){var i=this.selection,e=i.getRange(),r,s;if(e.isEmpty()){var c=e.start;if(r=this.getFoldAt(c.row,c.column),r){this.expandFold(r);return}else(s=this.findMatchingBracket(c))?e.comparePoint(s)==1?e.end=s:(e.start=s,e.start.column++,e.end.column--):(s=this.findMatchingBracket({row:c.row,column:c.column+1}))?(e.comparePoint(s)==1?e.end=s:e.start=s,e.start.column++):e=this.getCommentFoldRange(c.row,c.column)||e}else{var f=this.getFoldsInRange(e);if(n&&f.length){this.expandFolds(f);return}else f.length==1&&(r=f[0])}if(r||(r=this.getFoldAt(e.start.row,e.start.column)),r&&r.range.toString()==e.toString()){this.expandFold(r);return}var p="...";if(!e.isMultiLine()){if(p=this.getTextRange(e),p.length<4)return;p=p.trim().substring(0,2)+".."}this.addFold(p,e)},this.getCommentFoldRange=function(n,i,e){var r=new o(this,n,i),s=r.getCurrentToken(),c=s&&s.type;if(s&&/^comment|string/.test(c)){c=c.match(/comment|string/)[0],c=="comment"&&(c+="|doc-start|\\.doc");var f=new RegExp(c),p=new g;if(e!=1){do s=r.stepBackward();while(s&&f.test(s.type)&&!/^comment.end/.test(s.type));s=r.stepForward()}if(p.start.row=r.getCurrentTokenRow(),p.start.column=r.getCurrentTokenColumn()+(/^comment.start/.test(s.type)?s.value.length:2),r=new o(this,n,i),e!=-1){var $=-1;do if(s=r.stepForward(),$==-1){var m=this.getState(r.$row);f.test(m)||($=r.$row)}else if(r.$row>$)break;while(s&&f.test(s.type)&&!/^comment.start/.test(s.type));s=r.stepBackward()}else s=r.getCurrentToken();return p.end.row=r.getCurrentTokenRow(),p.end.column=r.getCurrentTokenColumn(),/^comment.end/.test(s.type)||(p.end.column+=s.value.length-2),p}},this.foldAll=function(n,i,e,r){e==null&&(e=1e5);var s=this.foldWidgets;if(!!s){i=i||this.getLength(),n=n||0;for(var c=n;c<i;c++)if(s[c]==null&&(s[c]=this.getFoldWidget(c)),s[c]=="start"&&!(r&&!r(c))){var f=this.getFoldWidgetRange(c);f&&f.isMultiLine()&&f.end.row<=i&&f.start.row>=n&&(c=f.end.row,f.collapseChildren=e,this.addFold("...",f))}}},this.foldToLevel=function(n){for(this.foldAll();n-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var n=this;this.foldAll(null,null,null,function(i){for(var e=n.getTokens(i),r=0;r<e.length;r++){var s=e[r];if(!(s.type=="text"&&/^\s+$/.test(s.value)))return!!/comment/.test(s.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(n){if(!this.$foldStyles[n])throw new Error("invalid fold style: "+n+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=n){this.$foldStyle=n,n=="manual"&&this.unfold();var i=this.$foldMode;this.$setFolding(null),this.$setFolding(i)}},this.$setFolding=function(n){if(this.$foldMode!=n){if(this.$foldMode=n,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!n||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=n.getFoldWidget.bind(n,this,this.$foldStyle),this.getFoldWidgetRange=n.getFoldWidgetRange.bind(n,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(n,i){var e=this.foldWidgets;if(!e||i&&e[n])return{};for(var r=n-1,s;r>=0;){var c=e[r];if(c==null&&(c=e[r]=this.getFoldWidget(r)),c=="start"){var f=this.getFoldWidgetRange(r);if(s||(s=f),f&&f.end.row>=n)break}r--}return{range:r!==-1&&f,firstRange:s}},this.onFoldWidgetClick=function(n,i){i instanceof a&&(i=i.domEvent);var e={children:i.shiftKey,all:i.ctrlKey||i.metaKey,siblings:i.altKey},r=this.$toggleFoldWidget(n,e);if(!r){var s=i.target||i.srcElement;s&&/ace_fold-widget/.test(s.className)&&(s.className+=" ace_invalid")}},this.$toggleFoldWidget=function(n,i){if(!!this.getFoldWidget){var e=this.getFoldWidget(n),r=this.getLine(n),s=e==="end"?-1:1,c=this.getFoldAt(n,s===-1?0:r.length,s);if(c)return i.children||i.all?this.removeFold(c):this.expandFold(c),c;var f=this.getFoldWidgetRange(n,!0);if(f&&!f.isMultiLine()&&(c=this.getFoldAt(f.start.row,f.start.column,1),c&&f.isEqual(c.range)))return this.removeFold(c),c;if(i.siblings){var p=this.getParentFoldRangeData(n);if(p.range)var $=p.range.start.row+1,m=p.range.end.row;this.foldAll($,m,i.all?1e4:0)}else i.children?(m=f?f.end.row:this.getLength(),this.foldAll(n+1,m,i.all?1e4:0)):f&&(i.all&&(f.collapseChildren=1e4),this.addFold("...",f));return f}},this.toggleFoldWidget=function(n){var i=this.selection.getCursor().row;i=this.getRowFoldStart(i);var e=this.$toggleFoldWidget(i,{});if(!e){var r=this.getParentFoldRangeData(i,!0);if(e=r.range||r.firstRange,e){i=e.start.row;var s=this.getFoldAt(i,this.getLine(i).length,1);s?this.removeFold(s):this.addFold("...",e)}}},this.updateFoldWidgets=function(n){var i=n.start.row,e=n.end.row-i;if(e===0)this.foldWidgets[i]=null;else if(n.action=="remove")this.foldWidgets.splice(i,e+1,null);else{var r=Array(e+1);r.unshift(i,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(n){var i=n.data;i.first!=i.last&&this.foldWidgets.length>i.first&&this.foldWidgets.splice(i.first,this.foldWidgets.length)}}h.Folding=t}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(d,h,b){var g=d("../token_iterator").TokenIterator,l=d("../range").Range;function u(){this.findMatchingBracket=function(o,a){if(o.column==0)return null;var t=a||this.getLine(o.row).charAt(o.column-1);if(t=="")return null;var n=t.match(/([\(\[\{])|([\)\]\}])/);return n?n[1]?this.$findClosingBracket(n[1],o):this.$findOpeningBracket(n[2],o):null},this.getBracketRange=function(o){var a=this.getLine(o.row),t=!0,n,i=a.charAt(o.column-1),e=i&&i.match(/([\(\[\{])|([\)\]\}])/);if(e||(i=a.charAt(o.column),o={row:o.row,column:o.column+1},e=i&&i.match(/([\(\[\{])|([\)\]\}])/),t=!1),!e)return null;if(e[1]){var r=this.$findClosingBracket(e[1],o);if(!r)return null;n=l.fromPoints(o,r),t||(n.end.column++,n.start.column--),n.cursor=n.end}else{var r=this.$findOpeningBracket(e[2],o);if(!r)return null;n=l.fromPoints(r,o),t||(n.start.column++,n.end.column--),n.cursor=n.start}return n},this.getMatchingBracketRanges=function(o,a){var t=this.getLine(o.row),n=/([\(\[\{])|([\)\]\}])/,i=!a&&t.charAt(o.column-1),e=i&&i.match(n);if(e||(i=(a===void 0||a)&&t.charAt(o.column),o={row:o.row,column:o.column+1},e=i&&i.match(n)),!e)return null;var r=new l(o.row,o.column-1,o.row,o.column),s=e[1]?this.$findClosingBracket(e[1],o):this.$findOpeningBracket(e[2],o);if(!s)return[r];var c=new l(s.row,s.column,s.row,s.column+1);return[r,c]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(o,a,t){var n=this.$brackets[o],i=1,e=new g(this,a.row,a.column),r=e.getCurrentToken();if(r||(r=e.stepForward()),!!r){t||(t=new RegExp("(\\.?"+r.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var s=a.column-e.getCurrentTokenColumn()-2,c=r.value;;){for(;s>=0;){var f=c.charAt(s);if(f==n){if(i-=1,i==0)return{row:e.getCurrentTokenRow(),column:s+e.getCurrentTokenColumn()}}else f==o&&(i+=1);s-=1}do r=e.stepBackward();while(r&&!t.test(r.type));if(r==null)break;c=r.value,s=c.length-1}return null}},this.$findClosingBracket=function(o,a,t){var n=this.$brackets[o],i=1,e=new g(this,a.row,a.column),r=e.getCurrentToken();if(r||(r=e.stepForward()),!!r){t||(t=new RegExp("(\\.?"+r.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var s=a.column-e.getCurrentTokenColumn();;){for(var c=r.value,f=c.length;s<f;){var p=c.charAt(s);if(p==n){if(i-=1,i==0)return{row:e.getCurrentTokenRow(),column:s+e.getCurrentTokenColumn()}}else p==o&&(i+=1);s+=1}do r=e.stepForward();while(r&&!t.test(r.type));if(r==null)break;s=0}return null}},this.getMatchingTags=function(o){var a=new g(this,o.row,o.column),t=this.$findTagName(a);if(!!t){var n=a.stepBackward();return n.value==="<"?this.$findClosingTag(a,t):this.$findOpeningTag(a,t)}},this.$findTagName=function(o){var a=o.getCurrentToken(),t=!1,n=!1;if(a&&a.type.indexOf("tag-name")===-1)do n?a=o.stepBackward():a=o.stepForward(),a&&(a.value==="/>"?n=!0:a.type.indexOf("tag-name")!==-1&&(t=!0));while(a&&!t);return a},this.$findClosingTag=function(o,a){var t,n=a.value,i=a.value,e=0,r=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);a=o.stepForward();var s=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+a.value.length),c=!1;do if(t=a,a=o.stepForward(),a){if(a.value===">"&&!c){var f=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);c=!0}if(a.type.indexOf("tag-name")!==-1){if(n=a.value,i===n){if(t.value==="<")e++;else if(t.value==="</"&&(e--,e<0)){o.stepBackward();var p=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+2);a=o.stepForward();var $=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+a.value.length);if(a=o.stepForward(),a&&a.value===">")var m=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);else return}}}else if(i===n&&a.value==="/>"&&(e--,e<0))var p=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+2),$=p,m=$,f=new l(s.end.row,s.end.column,s.end.row,s.end.column+1)}while(a&&e>=0);if(r&&f&&p&&m&&s&&$)return{openTag:new l(r.start.row,r.start.column,f.end.row,f.end.column),closeTag:new l(p.start.row,p.start.column,m.end.row,m.end.column),openTagName:s,closeTagName:$}},this.$findOpeningTag=function(o,a){var t=o.getCurrentToken(),n=a.value,i=0,e=o.getCurrentTokenRow(),r=o.getCurrentTokenColumn(),s=r+2,c=new l(e,r,e,s);o.stepForward();var f=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+a.value.length);if(a=o.stepForward(),!(!a||a.value!==">")){var p=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);o.stepBackward(),o.stepBackward();do if(a=t,e=o.getCurrentTokenRow(),r=o.getCurrentTokenColumn(),s=r+a.value.length,t=o.stepBackward(),a){if(a.type.indexOf("tag-name")!==-1){if(n===a.value)if(t.value==="<"){if(i++,i>0){var $=new l(e,r,e,s),m=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);do a=o.stepForward();while(a&&a.value!==">");var y=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1)}}else t.value==="</"&&i--}else if(a.value==="/>"){for(var v=0,T=t;T;){if(T.type.indexOf("tag-name")!==-1&&T.value===n){i--;break}else if(T.value==="<")break;T=o.stepBackward(),v++}for(var M=0;M<v;M++)o.stepForward()}}while(t&&i<=0);if(m&&y&&c&&p&&$&&f)return{openTag:new l(m.start.row,m.start.column,y.end.row,y.end.column),closeTag:new l(c.start.row,c.start.column,p.end.row,p.end.column),openTagName:$,closeTagName:f}}}}h.BracketMatch=u}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(d,h,b){var g=d("./lib/oop"),l=d("./lib/lang"),u=d("./bidihandler").BidiHandler,o=d("./config"),a=d("./lib/event_emitter").EventEmitter,t=d("./selection").Selection,n=d("./mode/text").Mode,i=d("./range").Range,e=d("./document").Document,r=d("./background_tokenizer").BackgroundTokenizer,s=d("./search_highlight").SearchHighlight,c=function(){function C(S,I){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++C.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new r(new n().getTokenizer(),this);var k=this;this.bgTokenizer.on("update",function(w){k._signal("tokenizerUpdate",w)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof S!="object"||!S.getLine)&&(S=new e(S)),this.setDocument(S),this.selection=new t(this),this.$bidiHandler=new u(this),o.resetOptions(this),this.setMode(I),o._signal("session",this),this.destroyed=!1}return C.prototype.setDocument=function(S){this.doc&&this.doc.off("change",this.$onChange),this.doc=S,S.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},C.prototype.getDocument=function(){return this.doc},C.prototype.$resetRowCache=function(S){if(!S){this.$docRowCache=[],this.$screenRowCache=[];return}var I=this.$docRowCache.length,k=this.$getRowCacheIndex(this.$docRowCache,S)+1;I>k&&(this.$docRowCache.splice(k,I),this.$screenRowCache.splice(k,I))},C.prototype.$getRowCacheIndex=function(S,I){for(var k=0,w=S.length-1;k<=w;){var R=k+w>>1,L=S[R];if(I>L)k=R+1;else if(I<L)w=R-1;else return R}return k-1},C.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},C.prototype.onChangeFold=function(S){var I=S.data;this.$resetRowCache(I.start.row)},C.prototype.onChange=function(S){this.$modified=!0,this.$bidiHandler.onChange(S),this.$resetRowCache(S.start.row);var I=this.$updateInternalDataOnChange(S);!this.$fromUndo&&this.$undoManager&&(I&&I.length&&(this.$undoManager.add({action:"removeFolds",folds:I},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(S,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(S),this._signal("change",S)},C.prototype.setValue=function(S){this.doc.setValue(S),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},C.prototype.toString=function(){return this.doc.getValue()},C.prototype.getSelection=function(){return this.selection},C.prototype.getState=function(S){return this.bgTokenizer.getState(S)},C.prototype.getTokens=function(S){return this.bgTokenizer.getTokens(S)},C.prototype.getTokenAt=function(S,I){var k=this.bgTokenizer.getTokens(S),w,R=0;if(I==null){var L=k.length-1;R=this.getLine(S).length}else for(var L=0;L<k.length&&(R+=k[L].value.length,!(R>=I));L++);return w=k[L],w?(w.index=L,w.start=R-w.value.length,w):null},C.prototype.setUndoManager=function(S){if(this.$undoManager=S,this.$informUndoManager&&this.$informUndoManager.cancel(),S){var I=this;S.addSession(this),this.$syncInformUndoManager=function(){I.$informUndoManager.cancel(),I.mergeUndoDeltas=!1},this.$informUndoManager=l.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},C.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},C.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},C.prototype.getTabString=function(){return this.getUseSoftTabs()?l.stringRepeat(" ",this.getTabSize()):"	"},C.prototype.setUseSoftTabs=function(S){this.setOption("useSoftTabs",S)},C.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},C.prototype.setTabSize=function(S){this.setOption("tabSize",S)},C.prototype.getTabSize=function(){return this.$tabSize},C.prototype.isTabStop=function(S){return this.$useSoftTabs&&S.column%this.$tabSize===0},C.prototype.setNavigateWithinSoftTabs=function(S){this.setOption("navigateWithinSoftTabs",S)},C.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},C.prototype.setOverwrite=function(S){this.setOption("overwrite",S)},C.prototype.getOverwrite=function(){return this.$overwrite},C.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},C.prototype.addGutterDecoration=function(S,I){this.$decorations[S]||(this.$decorations[S]=""),this.$decorations[S]+=" "+I,this._signal("changeBreakpoint",{})},C.prototype.removeGutterDecoration=function(S,I){this.$decorations[S]=(this.$decorations[S]||"").replace(" "+I,""),this._signal("changeBreakpoint",{})},C.prototype.getBreakpoints=function(){return this.$breakpoints},C.prototype.setBreakpoints=function(S){this.$breakpoints=[];for(var I=0;I<S.length;I++)this.$breakpoints[S[I]]="ace_breakpoint";this._signal("changeBreakpoint",{})},C.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},C.prototype.setBreakpoint=function(S,I){I===void 0&&(I="ace_breakpoint"),I?this.$breakpoints[S]=I:delete this.$breakpoints[S],this._signal("changeBreakpoint",{})},C.prototype.clearBreakpoint=function(S){delete this.$breakpoints[S],this._signal("changeBreakpoint",{})},C.prototype.addMarker=function(S,I,k,w){var R=this.$markerId++,L={range:S,type:k||"line",renderer:typeof k=="function"?k:null,clazz:I,inFront:!!w,id:R};return w?(this.$frontMarkers[R]=L,this._signal("changeFrontMarker")):(this.$backMarkers[R]=L,this._signal("changeBackMarker")),R},C.prototype.addDynamicMarker=function(S,I){if(!!S.update){var k=this.$markerId++;return S.id=k,S.inFront=!!I,I?(this.$frontMarkers[k]=S,this._signal("changeFrontMarker")):(this.$backMarkers[k]=S,this._signal("changeBackMarker")),S}},C.prototype.removeMarker=function(S){var I=this.$frontMarkers[S]||this.$backMarkers[S];if(!!I){var k=I.inFront?this.$frontMarkers:this.$backMarkers;delete k[S],this._signal(I.inFront?"changeFrontMarker":"changeBackMarker")}},C.prototype.getMarkers=function(S){return S?this.$frontMarkers:this.$backMarkers},C.prototype.highlight=function(S){if(!this.$searchHighlight){var I=new s(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(I)}this.$searchHighlight.setRegexp(S)},C.prototype.highlightLines=function(S,I,k,w){typeof I!="number"&&(k=I,I=S),k||(k="ace_step");var R=new i(S,0,I,1/0);return R.id=this.addMarker(R,k,"fullLine",w),R},C.prototype.setAnnotations=function(S){this.$annotations=S,this._signal("changeAnnotation",{})},C.prototype.getAnnotations=function(){return this.$annotations||[]},C.prototype.clearAnnotations=function(){this.setAnnotations([])},C.prototype.$detectNewLine=function(S){var I=S.match(/^.*?(\r?\n)/m);I?this.$autoNewLine=I[1]:this.$autoNewLine=`
`},C.prototype.getWordRange=function(S,I){var k=this.getLine(S),w=!1;if(I>0&&(w=!!k.charAt(I-1).match(this.tokenRe)),w||(w=!!k.charAt(I).match(this.tokenRe)),w)var R=this.tokenRe;else if(/^\s+$/.test(k.slice(I-1,I+1)))var R=/\s/;else var R=this.nonTokenRe;var L=I;if(L>0){do L--;while(L>=0&&k.charAt(L).match(R));L++}for(var O=I;O<k.length&&k.charAt(O).match(R);)O++;return new i(S,L,S,O)},C.prototype.getAWordRange=function(S,I){for(var k=this.getWordRange(S,I),w=this.getLine(k.end.row);w.charAt(k.end.column).match(/[ \t]/);)k.end.column+=1;return k},C.prototype.setNewLineMode=function(S){this.doc.setNewLineMode(S)},C.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},C.prototype.setUseWorker=function(S){this.setOption("useWorker",S)},C.prototype.getUseWorker=function(){return this.$useWorker},C.prototype.onReloadTokenizer=function(S){var I=S.data;this.bgTokenizer.start(I.first),this._signal("tokenizerUpdate",S)},C.prototype.setMode=function(S,I){if(S&&typeof S=="object"){if(S.getTokenizer)return this.$onChangeMode(S);var k=S,w=k.path}else w=S||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new n),this.$modes[w]&&!k){this.$onChangeMode(this.$modes[w]),I&&I();return}this.$modeId=w,o.loadModule(["mode",w],function(R){if(this.$modeId!==w)return I&&I();this.$modes[w]&&!k?this.$onChangeMode(this.$modes[w]):R&&R.Mode&&(R=new R.Mode(k),k||(this.$modes[w]=R,R.$id=w),this.$onChangeMode(R)),I&&I()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},C.prototype.$onChangeMode=function(S,I){if(I||(this.$modeId=S.$id),this.$mode!==S){var k=this.$mode;this.$mode=S,this.$stopWorker(),this.$useWorker&&this.$startWorker();var w=S.getTokenizer();if(w.on!==void 0){var R=this.onReloadTokenizer.bind(this);w.on("update",R)}this.bgTokenizer.setTokenizer(w),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=S.tokenRe,this.nonTokenRe=S.nonTokenRe,I||(S.attachToSession&&S.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(S.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:k,mode:S}))}},C.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},C.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(S){o.warn("Could not load worker",S),this.$worker=null}},C.prototype.getMode=function(){return this.$mode},C.prototype.setScrollTop=function(S){this.$scrollTop===S||isNaN(S)||(this.$scrollTop=S,this._signal("changeScrollTop",S))},C.prototype.getScrollTop=function(){return this.$scrollTop},C.prototype.setScrollLeft=function(S){this.$scrollLeft===S||isNaN(S)||(this.$scrollLeft=S,this._signal("changeScrollLeft",S))},C.prototype.getScrollLeft=function(){return this.$scrollLeft},C.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},C.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var S=0;return this.lineWidgets.forEach(function(I){I&&I.screenWidth>S&&(S=I.screenWidth)}),this.lineWidgetWidth=S},C.prototype.$computeWidth=function(S){if(this.$modified||S){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var I=this.doc.getAllLines(),k=this.$rowLengthCache,w=0,R=0,L=this.$foldData[R],O=L?L.start.row:1/0,P=I.length,B=0;B<P;B++){if(B>O){if(B=L.end.row+1,B>=P)break;L=this.$foldData[R++],O=L?L.start.row:1/0}k[B]==null&&(k[B]=this.$getStringScreenWidth(I[B])[0]),k[B]>w&&(w=k[B])}this.screenWidth=w}},C.prototype.getLine=function(S){return this.doc.getLine(S)},C.prototype.getLines=function(S,I){return this.doc.getLines(S,I)},C.prototype.getLength=function(){return this.doc.getLength()},C.prototype.getTextRange=function(S){return this.doc.getTextRange(S||this.selection.getRange())},C.prototype.insert=function(S,I){return this.doc.insert(S,I)},C.prototype.remove=function(S){return this.doc.remove(S)},C.prototype.removeFullLines=function(S,I){return this.doc.removeFullLines(S,I)},C.prototype.undoChanges=function(S,I){if(!!S.length){this.$fromUndo=!0;for(var k=S.length-1;k!=-1;k--){var w=S[k];w.action=="insert"||w.action=="remove"?this.doc.revertDelta(w):w.folds&&this.addFolds(w.folds)}!I&&this.$undoSelect&&(S.selectionBefore?this.selection.fromJSON(S.selectionBefore):this.selection.setRange(this.$getUndoSelection(S,!0))),this.$fromUndo=!1}},C.prototype.redoChanges=function(S,I){if(!!S.length){this.$fromUndo=!0;for(var k=0;k<S.length;k++){var w=S[k];(w.action=="insert"||w.action=="remove")&&this.doc.$safeApplyDelta(w)}!I&&this.$undoSelect&&(S.selectionAfter?this.selection.fromJSON(S.selectionAfter):this.selection.setRange(this.$getUndoSelection(S,!1))),this.$fromUndo=!1}},C.prototype.setUndoSelect=function(S){this.$undoSelect=S},C.prototype.$getUndoSelection=function(S,I){function k(P){return I?P.action!=="insert":P.action==="insert"}for(var w,R,L=0;L<S.length;L++){var O=S[L];if(!!O.start){if(!w){k(O)?w=i.fromPoints(O.start,O.end):w=i.fromPoints(O.start,O.start);continue}k(O)?(R=O.start,w.compare(R.row,R.column)==-1&&w.setStart(R),R=O.end,w.compare(R.row,R.column)==1&&w.setEnd(R)):(R=O.start,w.compare(R.row,R.column)==-1&&(w=i.fromPoints(O.start,O.start)))}}return w},C.prototype.replace=function(S,I){return this.doc.replace(S,I)},C.prototype.moveText=function(S,I,k){var w=this.getTextRange(S),R=this.getFoldsInRange(S),L=i.fromPoints(I,I);if(!k){this.remove(S);var O=S.start.row-S.end.row,P=O?-S.end.column:S.start.column-S.end.column;P&&(L.start.row==S.end.row&&L.start.column>S.end.column&&(L.start.column+=P),L.end.row==S.end.row&&L.end.column>S.end.column&&(L.end.column+=P)),O&&L.start.row>=S.end.row&&(L.start.row+=O,L.end.row+=O)}if(L.end=this.insert(L.start,w),R.length){var B=S.start,H=L.start,O=H.row-B.row,P=H.column-B.column;this.addFolds(R.map(function(_){return _=_.clone(),_.start.row==B.row&&(_.start.column+=P),_.end.row==B.row&&(_.end.column+=P),_.start.row+=O,_.end.row+=O,_}))}return L},C.prototype.indentRows=function(S,I,k){k=k.replace(/\t/g,this.getTabString());for(var w=S;w<=I;w++)this.doc.insertInLine({row:w,column:0},k)},C.prototype.outdentRows=function(S){for(var I=S.collapseRows(),k=new i(0,0,0,0),w=this.getTabSize(),R=I.start.row;R<=I.end.row;++R){var L=this.getLine(R);k.start.row=R,k.end.row=R;for(var O=0;O<w&&L.charAt(O)==" ";++O);O<w&&L.charAt(O)=="	"?(k.start.column=O,k.end.column=O+1):(k.start.column=0,k.end.column=O),this.remove(k)}},C.prototype.$moveLines=function(S,I,k){if(S=this.getRowFoldStart(S),I=this.getRowFoldEnd(I),k<0){var w=this.getRowFoldStart(S+k);if(w<0)return 0;var R=w-S}else if(k>0){var w=this.getRowFoldEnd(I+k);if(w>this.doc.getLength()-1)return 0;var R=w-I}else{S=this.$clipRowToDocument(S),I=this.$clipRowToDocument(I);var R=I-S+1}var L=new i(S,0,I,Number.MAX_VALUE),O=this.getFoldsInRange(L).map(function(B){return B=B.clone(),B.start.row+=R,B.end.row+=R,B}),P=k==0?this.doc.getLines(S,I):this.doc.removeFullLines(S,I);return this.doc.insertFullLines(S+R,P),O.length&&this.addFolds(O),R},C.prototype.moveLinesUp=function(S,I){return this.$moveLines(S,I,-1)},C.prototype.moveLinesDown=function(S,I){return this.$moveLines(S,I,1)},C.prototype.duplicateLines=function(S,I){return this.$moveLines(S,I,0)},C.prototype.$clipRowToDocument=function(S){return Math.max(0,Math.min(S,this.doc.getLength()-1))},C.prototype.$clipColumnToRow=function(S,I){return I<0?0:Math.min(this.doc.getLine(S).length,I)},C.prototype.$clipPositionToDocument=function(S,I){if(I=Math.max(0,I),S<0)S=0,I=0;else{var k=this.doc.getLength();S>=k?(S=k-1,I=this.doc.getLine(k-1).length):I=Math.min(this.doc.getLine(S).length,I)}return{row:S,column:I}},C.prototype.$clipRangeToDocument=function(S){S.start.row<0?(S.start.row=0,S.start.column=0):S.start.column=this.$clipColumnToRow(S.start.row,S.start.column);var I=this.doc.getLength()-1;return S.end.row>I?(S.end.row=I,S.end.column=this.doc.getLine(I).length):S.end.column=this.$clipColumnToRow(S.end.row,S.end.column),S},C.prototype.setUseWrapMode=function(S){if(S!=this.$useWrapMode){if(this.$useWrapMode=S,this.$modified=!0,this.$resetRowCache(0),S){var I=this.getLength();this.$wrapData=Array(I),this.$updateWrapData(0,I-1)}this._signal("changeWrapMode")}},C.prototype.getUseWrapMode=function(){return this.$useWrapMode},C.prototype.setWrapLimitRange=function(S,I){(this.$wrapLimitRange.min!==S||this.$wrapLimitRange.max!==I)&&(this.$wrapLimitRange={min:S,max:I},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},C.prototype.adjustWrapLimit=function(S,I){var k=this.$wrapLimitRange;k.max<0&&(k={min:I,max:I});var w=this.$constrainWrapLimit(S,k.min,k.max);return w!=this.$wrapLimit&&w>1?(this.$wrapLimit=w,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},C.prototype.$constrainWrapLimit=function(S,I,k){return I&&(S=Math.max(I,S)),k&&(S=Math.min(k,S)),S},C.prototype.getWrapLimit=function(){return this.$wrapLimit},C.prototype.setWrapLimit=function(S){this.setWrapLimitRange(S,S)},C.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},C.prototype.$updateInternalDataOnChange=function(S){var I=this.$useWrapMode,k=S.action,w=S.start,R=S.end,L=w.row,O=R.row,P=O-L,B=null;if(this.$updating=!0,P!=0)if(k==="remove"){this[I?"$wrapData":"$rowLengthCache"].splice(L,P);var H=this.$foldData;B=this.getFoldsInRange(S),this.removeFolds(B);var V=this.getFoldLine(R.row),U=0;if(V){V.addRemoveChars(R.row,R.column,w.column-R.column),V.shiftRow(-P);var _=this.getFoldLine(L);_&&_!==V&&(_.merge(V),V=_),U=H.indexOf(V)+1}for(U;U<H.length;U++){var V=H[U];V.start.row>=R.row&&V.shiftRow(-P)}O=L}else{var z=Array(P);z.unshift(L,0);var K=I?this.$wrapData:this.$rowLengthCache;K.splice.apply(K,z);var H=this.$foldData,V=this.getFoldLine(L),U=0;if(V){var J=V.range.compareInside(w.row,w.column);J==0?(V=V.split(w.row,w.column),V&&(V.shiftRow(P),V.addRemoveChars(O,0,R.column-w.column))):J==-1&&(V.addRemoveChars(L,0,R.column-w.column),V.shiftRow(P)),U=H.indexOf(V)+1}for(U;U<H.length;U++){var V=H[U];V.start.row>=L&&V.shiftRow(P)}}else{P=Math.abs(S.start.column-S.end.column),k==="remove"&&(B=this.getFoldsInRange(S),this.removeFolds(B),P=-P);var V=this.getFoldLine(L);V&&V.addRemoveChars(L,w.column,P)}return I&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,I?this.$updateWrapData(L,O):this.$updateRowLengthCache(L,O),B},C.prototype.$updateRowLengthCache=function(S,I,k){this.$rowLengthCache[S]=null,this.$rowLengthCache[I]=null},C.prototype.$updateWrapData=function(S,I){var k=this.doc.getAllLines(),w=this.getTabSize(),R=this.$wrapData,L=this.$wrapLimit,O,P,B=S;for(I=Math.min(I,k.length-1);B<=I;)P=this.getFoldLine(B,P),P?(O=[],P.walk(function(H,V,U,_){var z;if(H!=null){z=this.$getDisplayTokens(H,O.length),z[0]=$;for(var K=1;K<z.length;K++)z[K]=m}else z=this.$getDisplayTokens(k[V].substring(_,U),O.length);O=O.concat(z)}.bind(this),P.end.row,k[P.end.row].length+1),R[P.start.row]=this.$computeWrapSplits(O,L,w),B=P.end.row+1):(O=this.$getDisplayTokens(k[B]),R[B]=this.$computeWrapSplits(O,L,w),B++)},C.prototype.$computeWrapSplits=function(S,I,k){if(S.length==0)return[];var w=[],R=S.length,L=0,O=0,P=this.$wrapAsCode,B=this.$indentedSoftWrap,H=I<=Math.max(2*k,8)||B===!1?0:Math.floor(I/2);function V(){var J=0;if(H===0)return J;if(B)for(var ee=0;ee<S.length;ee++){var ie=S[ee];if(ie==v)J+=1;else if(ie==T)J+=k;else{if(ie==M)continue;break}}return P&&B!==!1&&(J+=k),Math.min(J,H)}function U(J){for(var ee=J-L,ie=L;ie<J;ie++){var se=S[ie];(se===12||se===2)&&(ee-=1)}w.length||(_=V(),w.indent=_),O+=ee,w.push(O),L=J}for(var _=0;R-L>I-_;){var z=L+I-_;if(S[z-1]>=v&&S[z]>=v){U(z);continue}if(S[z]==$||S[z]==m){for(z;z!=L-1&&S[z]!=$;z--);if(z>L){U(z);continue}for(z=L+I,z;z<S.length&&S[z]==m;z++);if(z==S.length)break;U(z);continue}for(var K=Math.max(z-(I-(I>>2)),L-1);z>K&&S[z]<$;)z--;if(P){for(;z>K&&S[z]<$;)z--;for(;z>K&&S[z]==y;)z--}else for(;z>K&&S[z]<v;)z--;if(z>K){U(++z);continue}z=L+I,S[z]==p&&z--,U(z-_)}return w},C.prototype.$getDisplayTokens=function(S,I){var k=[],w;I=I||0;for(var R=0;R<S.length;R++){var L=S.charCodeAt(R);if(L==9){w=this.getScreenTabSize(k.length+I),k.push(T);for(var O=1;O<w;O++)k.push(M)}else L==32?k.push(v):L>39&&L<48||L>57&&L<64?k.push(y):L>=4352&&E(L)?k.push(f,p):k.push(f)}return k},C.prototype.$getStringScreenWidth=function(S,I,k){if(I==0)return[0,0];I==null&&(I=1/0),k=k||0;var w,R;for(R=0;R<S.length&&(w=S.charCodeAt(R),w==9?k+=this.getScreenTabSize(k):w>=4352&&E(w)?k+=2:k+=1,!(k>I));R++);return[k,R]},C.prototype.getRowLength=function(S){var I=1;return this.lineWidgets&&(I+=this.lineWidgets[S]&&this.lineWidgets[S].rowCount||0),!this.$useWrapMode||!this.$wrapData[S]?I:this.$wrapData[S].length+I},C.prototype.getRowLineCount=function(S){return!this.$useWrapMode||!this.$wrapData[S]?1:this.$wrapData[S].length+1},C.prototype.getRowWrapIndent=function(S){if(this.$useWrapMode){var I=this.screenToDocumentPosition(S,Number.MAX_VALUE),k=this.$wrapData[I.row];return k.length&&k[0]<I.column?k.indent:0}else return 0},C.prototype.getScreenLastRowColumn=function(S){var I=this.screenToDocumentPosition(S,Number.MAX_VALUE);return this.documentToScreenColumn(I.row,I.column)},C.prototype.getDocumentLastRowColumn=function(S,I){var k=this.documentToScreenRow(S,I);return this.getScreenLastRowColumn(k)},C.prototype.getDocumentLastRowColumnPosition=function(S,I){var k=this.documentToScreenRow(S,I);return this.screenToDocumentPosition(k,Number.MAX_VALUE/10)},C.prototype.getRowSplitData=function(S){if(this.$useWrapMode)return this.$wrapData[S]},C.prototype.getScreenTabSize=function(S){return this.$tabSize-(S%this.$tabSize|0)},C.prototype.screenToDocumentRow=function(S,I){return this.screenToDocumentPosition(S,I).row},C.prototype.screenToDocumentColumn=function(S,I){return this.screenToDocumentPosition(S,I).column},C.prototype.screenToDocumentPosition=function(S,I,k){if(S<0)return{row:0,column:0};var w,R=0,L=0,O,P=0,B=0,H=this.$screenRowCache,V=this.$getRowCacheIndex(H,S),U=H.length;if(U&&V>=0)var P=H[V],R=this.$docRowCache[V],_=S>H[U-1];else var _=!U;for(var z=this.getLength()-1,K=this.getNextFoldLine(R),J=K?K.start.row:1/0;P<=S&&(B=this.getRowLength(R),!(P+B>S||R>=z));)P+=B,R++,R>J&&(R=K.end.row+1,K=this.getNextFoldLine(R,K),J=K?K.start.row:1/0),_&&(this.$docRowCache.push(R),this.$screenRowCache.push(P));if(K&&K.start.row<=R)w=this.getFoldDisplayLine(K),R=K.start.row;else{if(P+B<=S||R>z)return{row:z,column:this.getLine(z).length};w=this.getLine(R),K=null}var ee=0,ie=Math.floor(S-P);if(this.$useWrapMode){var se=this.$wrapData[R];se&&(O=se[ie],ie>0&&se.length&&(ee=se.indent,L=se[ie-1]||se[se.length-1],w=w.substring(L)))}return k!==void 0&&this.$bidiHandler.isBidiRow(P+ie,R,ie)&&(I=this.$bidiHandler.offsetToCol(k)),L+=this.$getStringScreenWidth(w,I-ee)[1],this.$useWrapMode&&L>=O&&(L=O-1),K?K.idxToPosition(L):{row:R,column:L}},C.prototype.documentToScreenPosition=function(S,I){if(typeof I=="undefined")var k=this.$clipPositionToDocument(S.row,S.column);else k=this.$clipPositionToDocument(S,I);S=k.row,I=k.column;var w=0,R=null,L=null;L=this.getFoldAt(S,I,1),L&&(S=L.start.row,I=L.start.column);var O,P=0,B=this.$docRowCache,H=this.$getRowCacheIndex(B,S),V=B.length;if(V&&H>=0)var P=B[H],w=this.$screenRowCache[H],U=S>B[V-1];else var U=!V;for(var _=this.getNextFoldLine(P),z=_?_.start.row:1/0;P<S;){if(P>=z){if(O=_.end.row+1,O>S)break;_=this.getNextFoldLine(O,_),z=_?_.start.row:1/0}else O=P+1;w+=this.getRowLength(P),P=O,U&&(this.$docRowCache.push(P),this.$screenRowCache.push(w))}var K="";_&&P>=z?(K=this.getFoldDisplayLine(_,S,I),R=_.start.row):(K=this.getLine(S).substring(0,I),R=S);var J=0;if(this.$useWrapMode){var ee=this.$wrapData[R];if(ee){for(var ie=0;K.length>=ee[ie];)w++,ie++;K=K.substring(ee[ie-1]||0,K.length),J=ie>0?ee.indent:0}}return this.lineWidgets&&this.lineWidgets[P]&&this.lineWidgets[P].rowsAbove&&(w+=this.lineWidgets[P].rowsAbove),{row:w,column:J+this.$getStringScreenWidth(K)[0]}},C.prototype.documentToScreenColumn=function(S,I){return this.documentToScreenPosition(S,I).column},C.prototype.documentToScreenRow=function(S,I){return this.documentToScreenPosition(S,I).row},C.prototype.getScreenLength=function(){var S=0,I=null;if(this.$useWrapMode)for(var R=this.$wrapData.length,L=0,w=0,I=this.$foldData[w++],O=I?I.start.row:1/0;L<R;){var P=this.$wrapData[L];S+=P?P.length+1:1,L++,L>O&&(L=I.end.row+1,I=this.$foldData[w++],O=I?I.start.row:1/0)}else{S=this.getLength();for(var k=this.$foldData,w=0;w<k.length;w++)I=k[w],S-=I.end.row-I.start.row}return this.lineWidgets&&(S+=this.$getWidgetScreenLength()),S},C.prototype.$setFontMetrics=function(S){!this.$enableVarChar||(this.$getStringScreenWidth=function(I,k,w){if(k===0)return[0,0];k||(k=1/0),w=w||0;var R,L;for(L=0;L<I.length&&(R=I.charAt(L),R==="	"?w+=this.getScreenTabSize(w):w+=S.getCharacterWidth(R),!(w>k));L++);return[w,L]})},C.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},C}();c.$uid=0,c.prototype.$modes=o.$modes,c.prototype.getValue=c.prototype.toString,c.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},c.prototype.$overwrite=!1,c.prototype.$mode=null,c.prototype.$modeId=null,c.prototype.$scrollTop=0,c.prototype.$scrollLeft=0,c.prototype.$wrapLimit=80,c.prototype.$useWrapMode=!1,c.prototype.$wrapLimitRange={min:null,max:null},c.prototype.lineWidgets=null,c.prototype.isFullWidth=E,g.implement(c.prototype,a);var f=1,p=2,$=3,m=4,y=9,v=10,T=11,M=12;function E(C){return C<4352?!1:C>=4352&&C<=4447||C>=4515&&C<=4519||C>=4602&&C<=4607||C>=9001&&C<=9002||C>=11904&&C<=11929||C>=11931&&C<=12019||C>=12032&&C<=12245||C>=12272&&C<=12283||C>=12288&&C<=12350||C>=12353&&C<=12438||C>=12441&&C<=12543||C>=12549&&C<=12589||C>=12593&&C<=12686||C>=12688&&C<=12730||C>=12736&&C<=12771||C>=12784&&C<=12830||C>=12832&&C<=12871||C>=12880&&C<=13054||C>=13056&&C<=19903||C>=19968&&C<=42124||C>=42128&&C<=42182||C>=43360&&C<=43388||C>=44032&&C<=55203||C>=55216&&C<=55238||C>=55243&&C<=55291||C>=63744&&C<=64255||C>=65040&&C<=65049||C>=65072&&C<=65106||C>=65108&&C<=65126||C>=65128&&C<=65131||C>=65281&&C<=65376||C>=65504&&C<=65510}d("./edit_session/folding").Folding.call(c.prototype),d("./edit_session/bracket_match").BracketMatch.call(c.prototype),o.defineOptions(c.prototype,"session",{wrap:{set:function(C){if(!C||C=="off"?C=!1:C=="free"?C=!0:C=="printMargin"?C=-1:typeof C=="string"&&(C=parseInt(C,10)||!1),this.$wrap!=C)if(this.$wrap=C,!C)this.setUseWrapMode(!1);else{var S=typeof C=="number"?C:null;this.setWrapLimitRange(S,S),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(C){C=C=="auto"?this.$mode.type!="text":C!="text",C!=this.$wrapAsCode&&(this.$wrapAsCode=C,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(C){this.$useWorker=C,this.$stopWorker(),C&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(C){C=parseInt(C),C>0&&this.$tabSize!==C&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=C,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(C){this.setFoldStyle(C)},handlesSet:!0},overwrite:{set:function(C){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(C){this.doc.setNewLineMode(C)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(C){this.setMode(C)},get:function(){return this.$modeId},handlesSet:!0}}),h.EditSession=c}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(d,h,b){var g=d("./lib/lang"),l=d("./lib/oop"),u=d("./range").Range,o=function(){function t(){this.$options={}}return t.prototype.set=function(n){return l.mixin(this.$options,n),this},t.prototype.getOptions=function(){return g.copyObject(this.$options)},t.prototype.setOptions=function(n){this.$options=n},t.prototype.find=function(n){var i=this.$options,e=this.$matchIterator(n,i);if(!e)return!1;var r=null;return e.forEach(function(s,c,f,p){return r=new u(s,c,f,p),c==p&&i.start&&i.start.start&&i.skipCurrent!=!1&&r.isEqual(i.start)?(r=null,!1):!0}),r},t.prototype.findAll=function(n){var i=this.$options;if(!i.needle)return[];this.$assembleRegExp(i);var e=i.range,r=e?n.getLines(e.start.row,e.end.row):n.doc.getAllLines(),s=[],c=i.re;if(i.$isMultiLine){var f=c.length,p=r.length-f,$;e:for(var m=c.offset||0;m<=p;m++){for(var y=0;y<f;y++)if(r[m+y].search(c[y])==-1)continue e;var v=r[m],T=r[m+f-1],M=v.length-v.match(c[0])[0].length,E=T.match(c[f-1])[0].length;$&&$.end.row===m&&$.end.column>M||(s.push($=new u(m,M,m+f-1,E)),f>2&&(m=m+f-2))}}else for(var C=0;C<r.length;C++)for(var S=g.getMatchOffsets(r[C],c),y=0;y<S.length;y++){var I=S[y];s.push(new u(C,I.offset,C,I.offset+I.length))}if(e){for(var k=e.start.column,w=e.end.column,C=0,y=s.length-1;C<y&&s[C].start.column<k&&s[C].start.row==0;)C++;for(var R=e.end.row-e.start.row;C<y&&s[y].end.column>w&&s[y].end.row==R;)y--;for(s=s.slice(C,y+1),C=0,y=s.length;C<y;C++)s[C].start.row+=e.start.row,s[C].end.row+=e.start.row}return s},t.prototype.replace=function(n,i){var e=this.$options,r=this.$assembleRegExp(e);if(e.$isMultiLine)return i;if(!!r){var s=r.exec(n);if(!s||s[0].length!=n.length)return null;if(i=n.replace(r,i),e.preserveCase){i=i.split("");for(var c=Math.min(n.length,n.length);c--;){var f=n[c];f&&f.toLowerCase()!=f?i[c]=i[c].toUpperCase():i[c]=i[c].toLowerCase()}i=i.join("")}return i}},t.prototype.$assembleRegExp=function(n,i){if(n.needle instanceof RegExp)return n.re=n.needle;var e=n.needle;if(!n.needle)return n.re=!1;n.regExp||(e=g.escapeRegExp(e)),n.wholeWord&&(e=a(e,n));var r=n.caseSensitive?"gm":"gmi";if(n.$isMultiLine=!i&&/[\n\r]/.test(e),n.$isMultiLine)return n.re=this.$assembleMultilineRegExp(e,r);try{var s=new RegExp(e,r)}catch(c){s=!1}return n.re=s},t.prototype.$assembleMultilineRegExp=function(n,i){for(var e=n.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),r=[],s=0;s<e.length;s++)try{r.push(new RegExp(e[s],i))}catch(c){return!1}return r},t.prototype.$matchIterator=function(n,i){var e=this.$assembleRegExp(i);if(!e)return!1;var r=i.backwards==!0,s=i.skipCurrent!=!1,c=i.range,f=i.start;f||(f=c?c[r?"end":"start"]:n.selection.getRange()),f.start&&(f=f[s!=r?"end":"start"]);var p=c?c.start.row:0,$=c?c.end.row:n.getLength()-1;if(r)var m=function(T){var M=f.row;if(!v(M,f.column,T)){for(M--;M>=p;M--)if(v(M,Number.MAX_VALUE,T))return;if(i.wrap!=!1){for(M=$,p=f.row;M>=p;M--)if(v(M,Number.MAX_VALUE,T))return}}};else var m=function(M){var E=f.row;if(!v(E,f.column,M)){for(E=E+1;E<=$;E++)if(v(E,0,M))return;if(i.wrap!=!1){for(E=p,$=f.row;E<=$;E++)if(v(E,0,M))return}}};if(i.$isMultiLine)var y=e.length,v=function(T,M,E){var C=r?T-y+1:T;if(!(C<0||C+y>n.getLength())){var S=n.getLine(C),I=S.search(e[0]);if(!(!r&&I<M||I===-1)){for(var k=1;k<y;k++)if(S=n.getLine(C+k),S.search(e[k])==-1)return;var w=S.match(e[y-1])[0].length;if(!(r&&w>M)&&E(C,I,C+y-1,w))return!0}}};else if(r)var v=function(M,E,C){var S=n.getLine(M),I=[],k,w=0;for(e.lastIndex=0;k=e.exec(S);){var R=k[0].length;if(w=k.index,!R){if(w>=S.length)break;e.lastIndex=w+=1}if(k.index+R>E)break;I.push(k.index,R)}for(var L=I.length-1;L>=0;L-=2){var O=I[L-1],R=I[L];if(C(M,O,M,O+R))return!0}};else var v=function(M,E,C){var S=n.getLine(M),I,k;for(e.lastIndex=E;k=e.exec(S);){var w=k[0].length;if(I=k.index,C(M,I,M,I+w))return!0;if(!w&&(e.lastIndex=I+=1,I>=S.length))return!1}};return{forEach:m}},t}();function a(t,n){function i(e){return/\w/.test(e)||n.regExp?"\\b":""}return i(t[0])+t+i(t[t.length-1])}h.Search=o}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(d,h,b){var g=this&&this.__extends||function(){var i=function(e,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(s[f]=c[f])},i(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");i(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),l=d("../lib/keys"),u=d("../lib/useragent"),o=l.KEY_MODS,a=function(){function i(e,r){this.$init(e,r,!1)}return i.prototype.$init=function(e,r,s){this.platform=r||(u.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=s},i.prototype.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},i.prototype.removeCommand=function(e,r){var s=e&&(typeof e=="string"?e:e.name);e=this.commands[s],r||delete this.commands[s];var c=this.commandKeyBinding;for(var f in c){var p=c[f];if(p==e)delete c[f];else if(Array.isArray(p)){var $=p.indexOf(e);$!=-1&&(p.splice($,1),p.length==1&&(c[f]=p[0]))}}},i.prototype.bindKey=function(e,r,s){if(typeof e=="object"&&e&&(s==null&&(s=e.position),e=e[this.platform]),!!e){if(typeof r=="function")return this.addCommand({exec:r,bindKey:e,name:r.name||e});e.split("|").forEach(function(c){var f="";if(c.indexOf(" ")!=-1){var p=c.split(/\s+/);c=p.pop(),p.forEach(function(y){var v=this.parseKeys(y),T=o[v.hashId]+v.key;f+=(f?" ":"")+T,this._addCommandToBinding(f,"chainKeys")},this),f+=" "}var $=this.parseKeys(c),m=o[$.hashId]+$.key;this._addCommandToBinding(f+m,r,s)},this)}},i.prototype._addCommandToBinding=function(e,r,s){var c=this.commandKeyBinding,f;if(!r)delete c[e];else if(!c[e]||this.$singleCommand)c[e]=r;else{Array.isArray(c[e])?(f=c[e].indexOf(r))!=-1&&c[e].splice(f,1):c[e]=[c[e]],typeof s!="number"&&(s=t(r));var p=c[e];for(f=0;f<p.length;f++){var $=p[f],m=t($);if(m>s)break}p.splice(f,0,r)}},i.prototype.addCommands=function(e){e&&Object.keys(e).forEach(function(r){var s=e[r];if(!!s){if(typeof s=="string")return this.bindKey(s,r);typeof s=="function"&&(s={exec:s}),typeof s=="object"&&(s.name||(s.name=r),this.addCommand(s))}},this)},i.prototype.removeCommands=function(e){Object.keys(e).forEach(function(r){this.removeCommand(e[r])},this)},i.prototype.bindKeys=function(e){Object.keys(e).forEach(function(r){this.bindKey(r,e[r])},this)},i.prototype._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},i.prototype.parseKeys=function(e){var r=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(m){return m}),s=r.pop(),c=l[s];if(l.FUNCTION_KEYS[c])s=l.FUNCTION_KEYS[c].toLowerCase();else if(r.length){if(r.length==1&&r[0]=="shift")return{key:s.toUpperCase(),hashId:-1}}else return{key:s,hashId:-1};for(var f=0,p=r.length;p--;){var $=l.KEY_MODS[r[p]];if($==null)return typeof console!="undefined"&&console.error("invalid modifier "+r[p]+" in "+e),!1;f|=$}return{key:s,hashId:f}},i.prototype.findKeyCommand=function(e,r){var s=o[e]+r;return this.commandKeyBinding[s]},i.prototype.handleKeyboard=function(e,r,s,c){if(!(c<0)){var f=o[r]+s,p=this.commandKeyBinding[f];return e.$keyChain&&(e.$keyChain+=" "+f,p=this.commandKeyBinding[e.$keyChain]||p),p&&(p=="chainKeys"||p[p.length-1]=="chainKeys")?(e.$keyChain=e.$keyChain||f,{command:"null"}):(e.$keyChain&&((!r||r==4)&&s.length==1?e.$keyChain=e.$keyChain.slice(0,-f.length-1):(r==-1||c>0)&&(e.$keyChain="")),{command:p})}},i.prototype.getStatusText=function(e,r){return r.$keyChain||""},i}();function t(i){return typeof i=="object"&&i.bindKey&&i.bindKey.position||(i.isDefault?-100:0)}var n=function(i){g(e,i);function e(r,s){var c=i.call(this,r,s)||this;return c.$singleCommand=!0,c}return e}(a);n.call=function(i,e,r){a.prototype.$init.call(i,e,r,!0)},a.call=function(i,e,r){a.prototype.$init.call(i,e,r,!1)},h.HashHandler=n,h.MultiHashHandler=a}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(d,h,b){var g=this&&this.__extends||function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])},t(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function e(){this.constructor=n}n.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}(),l=d("../lib/oop"),u=d("../keyboard/hash_handler").MultiHashHandler,o=d("../lib/event_emitter").EventEmitter,a=function(t){g(n,t);function n(i,e){var r=t.call(this,e,i)||this;return r.byName=r.commands,r.setDefaultHandler("exec",function(s){return s.args?s.command.exec(s.editor,s.args,s.event,!1):s.command.exec(s.editor,{},s.event,!0)}),r}return n.prototype.exec=function(i,e,r){if(Array.isArray(i)){for(var s=i.length;s--;)if(this.exec(i[s],e,r))return!0;return!1}if(typeof i=="string"&&(i=this.commands[i]),!i||e&&e.$readOnly&&!i.readOnly||this.$checkCommandState!=!1&&i.isAvailable&&!i.isAvailable(e))return!1;var c={editor:e,command:i,args:r};return c.returnValue=this._emit("exec",c),this._signal("afterExec",c),c.returnValue!==!1},n.prototype.toggleRecording=function(i){if(!this.$inReplay)return i&&i._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},n.prototype.replay=function(i){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(i);try{this.$inReplay=!0,this.macro.forEach(function(e){typeof e=="string"?this.exec(e,i):this.exec(e[0],i,e[1])},this)}finally{this.$inReplay=!1}}},n.prototype.trimMacro=function(i){return i.map(function(e){return typeof e[0]!="string"&&(e[0]=e[0].name),e[1]||(e=e[0]),e})},n}(u);l.implement(a.prototype,o),h.CommandManager=a}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(d,h,b){var g=d("../lib/lang"),l=d("../config"),u=d("../range").Range;function o(t,n){return{win:t,mac:n}}h.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:o("Ctrl-,","Command-,"),exec:function(t){l.loadModule("ace/ext/settings_menu",function(n){n.init(t),t.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:o("Alt-E","F4"),exec:function(t){l.loadModule("ace/ext/error_marker",function(n){n.showErrorMarker(t,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:o("Alt-Shift-E","Shift-F4"),exec:function(t){l.loadModule("ace/ext/error_marker",function(n){n.showErrorMarker(t,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:o("Ctrl-A","Command-A"),exec:function(t){t.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:o(null,"Ctrl-L"),exec:function(t){t.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:o("Ctrl-L","Command-L"),exec:function(t,n){typeof n=="number"&&!isNaN(n)&&t.gotoLine(n),t.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:o("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(t){t.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:o("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(t){t.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:o("F2","F2"),exec:function(t){t.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:o("Alt-F2","Alt-F2"),exec:function(t){t.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:o("Alt-0","Command-Option-0"),exec:function(t){t.session.foldAll(),t.session.unfold(t.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:o("Alt-Shift-0","Command-Option-Shift-0"),exec:function(t){t.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:o("Ctrl-K","Command-G"),exec:function(t){t.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:o("Ctrl-Shift-K","Command-Shift-G"),exec:function(t){t.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:o("Alt-K","Ctrl-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:o("Alt-Shift-K","Ctrl-Shift-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:o("Ctrl-F","Command-F"),exec:function(t){l.loadModule("ace/ext/searchbox",function(n){n.Search(t)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(t){t.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:o("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(t){t.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:o("Ctrl-Home","Command-Home|Command-Up"),exec:function(t){t.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:o("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(t){t.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:o("Up","Up|Ctrl-P"),exec:function(t,n){t.navigateUp(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:o("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(t){t.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:o("Ctrl-End","Command-End|Command-Down"),exec:function(t){t.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:o("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(t){t.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:o("Down","Down|Ctrl-N"),exec:function(t,n){t.navigateDown(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:o("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(t){t.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:o("Ctrl-Left","Option-Left"),exec:function(t){t.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:o("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:o("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(t){t.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:o("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(t){t.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:o("Left","Left|Ctrl-B"),exec:function(t,n){t.navigateLeft(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:o("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(t){t.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:o("Ctrl-Right","Option-Right"),exec:function(t){t.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:o("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:o("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(t){t.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:o("Shift-Right","Shift-Right"),exec:function(t){t.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:o("Right","Right|Ctrl-F"),exec:function(t,n){t.navigateRight(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(t){t.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:o(null,"Option-PageDown"),exec:function(t){t.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:o("PageDown","PageDown|Ctrl-V"),exec:function(t){t.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(t){t.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:o(null,"Option-PageUp"),exec:function(t){t.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(t){t.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:o("Ctrl-Up",null),exec:function(t){t.renderer.scrollBy(0,-2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:o("Ctrl-Down",null),exec:function(t){t.renderer.scrollBy(0,2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:o("Ctrl-Alt-E","Command-Option-E"),exec:function(t){t.commands.toggleRecording(t)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:o("Ctrl-Shift-E","Command-Shift-E"),exec:function(t){t.commands.replay(t)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:o("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(t){t.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:o("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(t){t.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:o("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(t){t.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:o(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(t){},readOnly:!0},{name:"cut",description:"Cut",exec:function(t){var n=t.$copyWithEmptySelection&&t.selection.isEmpty(),i=n?t.selection.getLineRange():t.selection.getRange();t._emit("cut",i),i.isEmpty()||t.session.remove(i),t.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(t,n){t.$handlePaste(n)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:o("Ctrl-D","Command-D"),exec:function(t){t.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:o("Ctrl-Shift-D","Command-Shift-D"),exec:function(t){t.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:o("Ctrl-Alt-S","Command-Alt-S"),exec:function(t){t.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:o("Ctrl-/","Command-/"),exec:function(t){t.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:o("Ctrl-Shift-/","Command-Shift-/"),exec:function(t){t.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:o("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(t){t.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:o("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(t){t.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:o("Ctrl-H","Command-Option-F"),exec:function(t){l.loadModule("ace/ext/searchbox",function(n){n.Search(t,!0)})}},{name:"undo",description:"Undo",bindKey:o("Ctrl-Z","Command-Z"),exec:function(t){t.undo()}},{name:"redo",description:"Redo",bindKey:o("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(t){t.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:o("Alt-Shift-Up","Command-Option-Up"),exec:function(t){t.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:o("Alt-Up","Option-Up"),exec:function(t){t.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:o("Alt-Shift-Down","Command-Option-Down"),exec:function(t){t.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:o("Alt-Down","Option-Down"),exec:function(t){t.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:o("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(t){t.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:o("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(t){t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:o("Shift-Delete",null),exec:function(t){if(t.selection.isEmpty())t.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:o("Alt-Backspace","Command-Backspace"),exec:function(t){t.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:o("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(t){t.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:o("Ctrl-Shift-Backspace",null),exec:function(t){var n=t.selection.getRange();n.start.column=0,t.session.remove(n)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:o("Ctrl-Shift-Delete",null),exec:function(t){var n=t.selection.getRange();n.end.column=Number.MAX_VALUE,t.session.remove(n)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:o("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(t){t.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:o("Ctrl-Delete","Alt-Delete"),exec:function(t){t.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:o("Shift-Tab","Shift-Tab"),exec:function(t){t.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:o("Tab","Tab"),exec:function(t){t.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:o("Ctrl-[","Ctrl-["),exec:function(t){t.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:o("Ctrl-]","Ctrl-]"),exec:function(t){t.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(t,n){t.insert(n)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(t,n){t.insert(g.stringRepeat(n.text||"",n.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:o(null,"Ctrl-O"),exec:function(t){t.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:o("Alt-Shift-X","Ctrl-T"),exec:function(t){t.transposeLetters()},multiSelectAction:function(t){t.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:o("Ctrl-U","Ctrl-U"),exec:function(t){t.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:o("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(t){t.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:o(null,null),exec:function(t){t.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:o("Ctrl-Shift-L","Command-Shift-L"),exec:function(t){var n=t.selection.getRange();n.start.column=n.end.column=0,n.end.row++,t.selection.setRange(n,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:o("Ctrl+F3","F3"),exec:function(t){t.openLink()}},{name:"joinlines",description:"Join lines",bindKey:o(null,null),exec:function(t){for(var n=t.selection.isBackwards(),i=n?t.selection.getSelectionLead():t.selection.getSelectionAnchor(),e=n?t.selection.getSelectionAnchor():t.selection.getSelectionLead(),r=t.session.doc.getLine(i.row).length,s=t.session.doc.getTextRange(t.selection.getRange()),c=s.replace(/\n\s*/," ").length,f=t.session.doc.getLine(i.row),p=i.row+1;p<=e.row+1;p++){var $=g.stringTrimLeft(g.stringTrimRight(t.session.doc.getLine(p)));$.length!==0&&($=" "+$),f+=$}e.row+1<t.session.doc.getLength()-1&&(f+=t.session.doc.getNewLineCharacter()),t.clearSelection(),t.session.doc.replace(new u(i.row,0,e.row+2,0),f),c>0?(t.selection.moveCursorTo(i.row,i.column),t.selection.selectTo(i.row,i.column+c)):(r=t.session.doc.getLine(i.row).length>r?r+1:r,t.selection.moveCursorTo(i.row,r))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:o(null,null),exec:function(t){var n=t.session.doc.getLength()-1,i=t.session.doc.getLine(n).length,e=t.selection.rangeList.ranges,r=[];e.length<1&&(e=[t.selection.getRange()]);for(var s=0;s<e.length;s++)s==e.length-1&&(e[s].end.row===n&&e[s].end.column===i||r.push(new u(e[s].end.row,e[s].end.column,n,i))),s===0?e[s].start.row===0&&e[s].start.column===0||r.push(new u(0,0,e[s].start.row,e[s].start.column)):r.push(new u(e[s-1].end.row,e[s-1].end.column,e[s].start.row,e[s].start.column));t.exitMultiSelectMode(),t.clearSelection();for(var s=0;s<r.length;s++)t.selection.addRange(r[s],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(t){t.selection.clearSelection(),t.navigateLineEnd(),t.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(t){t.selection.clearSelection();var n=t.getCursorPosition();t.selection.moveTo(n.row-1,Number.MAX_VALUE),t.insert(`
`),n.row===0&&t.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:o("F1","F1"),exec:function(t){t.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:o(null,null),exec:function(t){t.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)h.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(t){t.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(d,h,b){var g=d("./lib/dom"),l=function(){function u(o){this.session=o,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return u.prototype.getRowLength=function(o){var a;return this.lineWidgets?a=this.lineWidgets[o]&&this.lineWidgets[o].rowCount||0:a=0,!this.$useWrapMode||!this.$wrapData[o]?1+a:this.$wrapData[o].length+1+a},u.prototype.$getWidgetScreenLength=function(){var o=0;return this.lineWidgets.forEach(function(a){a&&a.rowCount&&!a.hidden&&(o+=a.rowCount)}),o},u.prototype.$onChangeEditor=function(o){this.attach(o.editor)},u.prototype.attach=function(o){o&&o.widgetManager&&o.widgetManager!=this&&o.widgetManager.detach(),this.editor!=o&&(this.detach(),this.editor=o,o&&(o.widgetManager=this,o.renderer.on("beforeRender",this.measureWidgets),o.renderer.on("afterRender",this.renderWidgets)))},u.prototype.detach=function(o){var a=this.editor;if(!!a){this.editor=null,a.widgetManager=null,a.renderer.off("beforeRender",this.measureWidgets),a.renderer.off("afterRender",this.renderWidgets);var t=this.session.lineWidgets;t&&t.forEach(function(n){n&&n.el&&n.el.parentNode&&(n._inDocument=!1,n.el.parentNode.removeChild(n.el))})}},u.prototype.updateOnFold=function(o,a){var t=a.lineWidgets;if(!(!t||!o.action)){for(var n=o.data,i=n.start.row,e=n.end.row,r=o.action=="add",s=i+1;s<e;s++)t[s]&&(t[s].hidden=r);t[e]&&(r?t[i]?t[e].hidden=r:t[i]=t[e]:(t[i]==t[e]&&(t[i]=void 0),t[e].hidden=r))}},u.prototype.updateOnChange=function(o){var a=this.session.lineWidgets;if(!!a){var t=o.start.row,n=o.end.row-t;if(n!==0)if(o.action=="remove"){var i=a.splice(t+1,n);!a[t]&&i[i.length-1]&&(a[t]=i.pop()),i.forEach(function(r){r&&this.removeLineWidget(r)},this),this.$updateRows()}else{var e=new Array(n);a[t]&&a[t].column!=null&&o.start.column>a[t].column&&t++,e.unshift(t,0),a.splice.apply(a,e),this.$updateRows()}}},u.prototype.$updateRows=function(){var o=this.session.lineWidgets;if(!!o){var a=!0;o.forEach(function(t,n){if(t)for(a=!1,t.row=n;t.$oldWidget;)t.$oldWidget.row=n,t=t.$oldWidget}),a&&(this.session.lineWidgets=null)}},u.prototype.$registerLineWidget=function(o){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var a=this.session.lineWidgets[o.row];return a&&(o.$oldWidget=a,a.el&&a.el.parentNode&&(a.el.parentNode.removeChild(a.el),a._inDocument=!1)),this.session.lineWidgets[o.row]=o,o},u.prototype.addLineWidget=function(o){if(this.$registerLineWidget(o),o.session=this.session,!this.editor)return o;var a=this.editor.renderer;o.html&&!o.el&&(o.el=g.createElement("div"),o.el.innerHTML=o.html),o.text&&!o.el&&(o.el=g.createElement("div"),o.el.textContent=o.text),o.el&&(g.addCssClass(o.el,"ace_lineWidgetContainer"),o.className&&g.addCssClass(o.el,o.className),o.el.style.position="absolute",o.el.style.zIndex=5,a.container.appendChild(o.el),o._inDocument=!0,o.coverGutter||(o.el.style.zIndex=3),o.pixelHeight==null&&(o.pixelHeight=o.el.offsetHeight)),o.rowCount==null&&(o.rowCount=o.pixelHeight/a.layerConfig.lineHeight);var t=this.session.getFoldAt(o.row,0);if(o.$fold=t,t){var n=this.session.lineWidgets;o.row==t.end.row&&!n[t.start.row]?n[t.start.row]=o:o.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:o.row}}}),this.$updateRows(),this.renderWidgets(null,a),this.onWidgetChanged(o),o},u.prototype.removeLineWidget=function(o){if(o._inDocument=!1,o.session=null,o.el&&o.el.parentNode&&o.el.parentNode.removeChild(o.el),o.editor&&o.editor.destroy)try{o.editor.destroy()}catch(t){}if(this.session.lineWidgets){var a=this.session.lineWidgets[o.row];if(a==o)this.session.lineWidgets[o.row]=o.$oldWidget,o.$oldWidget&&this.onWidgetChanged(o.$oldWidget);else for(;a;){if(a.$oldWidget==o){a.$oldWidget=o.$oldWidget;break}a=a.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:o.row}}}),this.$updateRows()},u.prototype.getWidgetsAtRow=function(o){for(var a=this.session.lineWidgets,t=a&&a[o],n=[];t;)n.push(t),t=t.$oldWidget;return n},u.prototype.onWidgetChanged=function(o){this.session._changedWidgets.push(o),this.editor&&this.editor.renderer.updateFull()},u.prototype.measureWidgets=function(o,a){var t=this.session._changedWidgets,n=a.layerConfig;if(!(!t||!t.length)){for(var i=1/0,e=0;e<t.length;e++){var r=t[e];if(!(!r||!r.el)&&r.session==this.session){if(!r._inDocument){if(this.session.lineWidgets[r.row]!=r)continue;r._inDocument=!0,a.container.appendChild(r.el)}r.h=r.el.offsetHeight,r.fixedWidth||(r.w=r.el.offsetWidth,r.screenWidth=Math.ceil(r.w/n.characterWidth));var s=r.h/n.lineHeight;r.coverLine&&(s-=this.session.getRowLineCount(r.row),s<0&&(s=0)),r.rowCount!=s&&(r.rowCount=s,r.row<i&&(i=r.row))}}i!=1/0&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},u.prototype.renderWidgets=function(o,a){var t=a.layerConfig,n=this.session.lineWidgets;if(!!n){for(var i=Math.min(this.firstRow,t.firstRow),e=Math.max(this.lastRow,t.lastRow,n.length);i>0&&!n[i];)i--;this.firstRow=t.firstRow,this.lastRow=t.lastRow,a.$cursorLayer.config=t;for(var r=i;r<=e;r++){var s=n[r];if(!(!s||!s.el)){if(s.hidden){s.el.style.top=-100-(s.pixelHeight||0)+"px";continue}s._inDocument||(s._inDocument=!0,a.container.appendChild(s.el));var c=a.$cursorLayer.getPixelPosition({row:r,column:0},!0).top;s.coverLine||(c+=t.lineHeight*this.session.getRowLineCount(s.row)),s.el.style.top=c-t.offset+"px";var f=s.coverGutter?0:a.gutterWidth;s.fixedWidth||(f-=a.scrollLeft),s.el.style.left=f+"px",s.fullWidth&&s.screenWidth&&(s.el.style.minWidth=t.width+2*t.padding+"px"),s.fixedWidth?s.el.style.right=a.scrollBar.getWidth()+"px":s.el.style.right=""}}}},u}();h.LineWidgets=l}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(d,h,b){var g=d("../lib/keys"),l=d("../mouse/default_gutter_handler").GutterTooltip,u=function(){function a(t){this.editor=t,this.gutterLayer=t.renderer.$gutterLayer,this.element=t.renderer.$gutter,this.lines=t.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new l(this.editor)}return a.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},a.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},a.prototype.$onGutterKeyDown=function(t){if(this.annotationTooltip.isOpen){t.preventDefault(),t.keyCode===g.escape&&this.annotationTooltip.hideTooltip();return}if(t.target===this.element){if(t.keyCode!=g.enter)return;t.preventDefault();var n=this.editor.getCursorPosition().row;this.editor.isRowVisible(n)||this.editor.scrollToLine(n,!0,!0),setTimeout(function(){var i=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),e=this.$findNearestFoldWidget(i),r=this.$findNearestAnnotation(i);if(!(e===null&&r===null)){if(e===null&&r!==null){this.activeRowIndex=r,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(e!==null&&r===null){this.activeRowIndex=e,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(r-i)<Math.abs(e-i)){this.activeRowIndex=r,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=e,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}.bind(this),10);return}this.$handleGutterKeyboardInteraction(t),setTimeout(function(){this.editor._signal("gutterkeydown",new o(t,this))}.bind(this),10)},a.prototype.$handleGutterKeyboardInteraction=function(t){if(t.keyCode===g.tab){t.preventDefault();return}if(t.keyCode===g.escape){t.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(t.keyCode===g.up){switch(t.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(t.keyCode===g.down){switch(t.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(t.keyCode===g.left){t.preventDefault(),this.$switchLane("annotation");return}if(t.keyCode===g.right){t.preventDefault(),this.$switchLane("fold");return}if(t.keyCode===g.enter||t.keyCode===g.space){switch(t.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var n=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),t),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==n&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(n),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var i=this.lines.cells[this.activeRowIndex].element.childNodes[2],e=i.getBoundingClientRect(),r=this.annotationTooltip.getElement().style;r.left=e.right+"px",r.top=e.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},a.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},a.prototype.$isFoldWidgetVisible=function(t){var n=this.editor.isRowFullyVisible(this.$rowIndexToRow(t)),i=this.$getFoldWidget(t).style.display!=="none";return n&&i},a.prototype.$isAnnotationVisible=function(t){var n=this.editor.isRowFullyVisible(this.$rowIndexToRow(t)),i=this.$getAnnotation(t).style.display!=="none";return n&&i},a.prototype.$getFoldWidget=function(t){var n=this.lines.get(t),i=n.element;return i.childNodes[1]},a.prototype.$getAnnotation=function(t){var n=this.lines.get(t),i=n.element;return i.childNodes[2]},a.prototype.$findNearestFoldWidget=function(t){if(this.$isFoldWidgetVisible(t))return t;for(var n=0;t-n>0||t+n<this.lines.getLength()-1;){if(n++,t-n>=0&&this.$isFoldWidgetVisible(t-n))return t-n;if(t+n<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(t+n))return t+n}return null},a.prototype.$findNearestAnnotation=function(t){if(this.$isAnnotationVisible(t))return t;for(var n=0;t-n>0||t+n<this.lines.getLength()-1;){if(n++,t-n>=0&&this.$isAnnotationVisible(t-n))return t-n;if(t+n<=this.lines.getLength()-1&&this.$isAnnotationVisible(t+n))return t+n}return null},a.prototype.$focusFoldWidget=function(t){if(t!=null){var n=this.$getFoldWidget(t);n.classList.add(this.editor.renderer.keyboardFocusClassName),n.focus()}},a.prototype.$focusAnnotation=function(t){if(t!=null){var n=this.$getAnnotation(t);n.classList.add(this.editor.renderer.keyboardFocusClassName),n.focus()}},a.prototype.$blurFoldWidget=function(t){var n=this.$getFoldWidget(t);n.classList.remove(this.editor.renderer.keyboardFocusClassName),n.blur()},a.prototype.$blurAnnotation=function(t){var n=this.$getAnnotation(t);n.classList.remove(this.editor.renderer.keyboardFocusClassName),n.blur()},a.prototype.$moveFoldWidgetUp=function(){for(var t=this.activeRowIndex;t>0;)if(t--,this.$isFoldWidgetVisible(t)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=t,this.$focusFoldWidget(this.activeRowIndex);return}},a.prototype.$moveFoldWidgetDown=function(){for(var t=this.activeRowIndex;t<this.lines.getLength()-1;)if(t++,this.$isFoldWidgetVisible(t)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=t,this.$focusFoldWidget(this.activeRowIndex);return}},a.prototype.$moveAnnotationUp=function(){for(var t=this.activeRowIndex;t>0;)if(t--,this.$isAnnotationVisible(t)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=t,this.$focusAnnotation(this.activeRowIndex);return}},a.prototype.$moveAnnotationDown=function(){for(var t=this.activeRowIndex;t<this.lines.getLength()-1;)if(t++,this.$isAnnotationVisible(t)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=t,this.$focusAnnotation(this.activeRowIndex);return}},a.prototype.$switchLane=function(t){switch(t){case"annotation":if(this.activeLane==="annotation")break;var n=this.$findNearestAnnotation(this.activeRowIndex);if(n==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=n,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var i=this.$findNearestFoldWidget(this.activeRowIndex);if(i==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=i,this.$focusFoldWidget(this.activeRowIndex);break}},a.prototype.$rowIndexToRow=function(t){var n=this.lines.get(t);return n?n.row:null},a.prototype.$rowToRowIndex=function(t){for(var n=0;n<this.lines.getLength();n++){var i=this.lines.get(n);if(i.row==t)return n}return null},a}();h.GutterKeyboardHandler=u;var o=function(){function a(t,n){this.gutterKeyboardHandler=n,this.domEvent=t}return a.prototype.getKey=function(){return g.keyCodeToString(this.domEvent.keyCode)},a.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},a.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},a.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},a}();h.GutterKeyboardEvent=o}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(d,h,b){var g=this&&this.__values||function(k){var w=typeof Symbol=="function"&&Symbol.iterator,R=w&&k[w],L=0;if(R)return R.call(k);if(k&&typeof k.length=="number")return{next:function(){return k&&L>=k.length&&(k=void 0),{value:k&&k[L++],done:!k}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")},l=d("./lib/oop"),u=d("./lib/dom"),o=d("./lib/lang"),a=d("./lib/useragent"),t=d("./keyboard/textinput").TextInput,n=d("./mouse/mouse_handler").MouseHandler,i=d("./mouse/fold_handler").FoldHandler,e=d("./keyboard/keybinding").KeyBinding,r=d("./edit_session").EditSession,s=d("./search").Search,c=d("./range").Range,f=d("./lib/event_emitter").EventEmitter,p=d("./commands/command_manager").CommandManager,$=d("./commands/default_commands").commands,m=d("./config"),y=d("./token_iterator").TokenIterator,v=d("./line_widgets").LineWidgets,T=d("./keyboard/gutter_handler").GutterKeyboardHandler,M=d("./config").nls,E=d("./clipboard"),C=d("./lib/keys"),S=function(){function k(w,R,L){this.$toDestroy=[];var O=w.getContainerElement();this.container=O,this.renderer=w,this.id="editor"+ ++k.$uid,this.commands=new p(a.isMac?"mac":"win",$),typeof document=="object"&&(this.textInput=new t(w.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new n(this),new i(this)),this.keyBinding=new e(this),this.$search=new s().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(P,B){B._$emitInputEvent.schedule(31)}),this.setSession(R||L&&L.session||new r("")),m.resetOptions(this),L&&this.setOptions(L),m._signal("editor",this)}return k.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},k.prototype.startOperation=function(w){if(this.curOp){if(!w||this.curOp.command)return;this.prevOp=this.curOp}w||(this.previousCommand=null,w={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:w.command||{},args:w.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},k.prototype.endOperation=function(w){if(this.curOp&&this.session){if(w&&w.returnValue===!1||!this.session)return this.curOp=null;if(w==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var R=this.curOp.command,L=R&&R.scrollIntoView;if(L){switch(L){case"center-animate":L="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var O=this.selection.getRange(),P=this.renderer.layerConfig;(O.start.row>=P.lastRow||O.end.row<=P.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}L=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var B=this.selection.toJSON();this.curOp.selectionAfter=B,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(B),this.prevOp=this.curOp,this.curOp=null}},k.prototype.$historyTracker=function(w){if(!!this.$mergeUndoDeltas){var R=this.prevOp,L=this.$mergeableCommands,O=R.command&&w.command.name==R.command.name;if(w.command.name=="insertstring"){var P=w.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),O=O&&this.mergeNextCommand&&(!/\s/.test(P)||/\s/.test(R.args)),this.mergeNextCommand=!0}else O=O&&L.indexOf(w.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(O=!1),O?this.session.mergeUndoDeltas=!0:L.indexOf(w.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},k.prototype.setKeyboardHandler=function(w,R){if(w&&typeof w=="string"&&w!="ace"){this.$keybindingId=w;var L=this;m.loadModule(["keybinding",w],function(O){L.$keybindingId==w&&L.keyBinding.setKeyboardHandler(O&&O.handler),R&&R()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(w),R&&R()},k.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},k.prototype.setSession=function(w){if(this.session!=w){this.curOp&&this.endOperation(),this.curOp={};var R=this.session;if(R){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var L=this.session.getSelection();L.off("changeCursor",this.$onCursorChange),L.off("changeSelection",this.$onSelectionChange)}this.session=w,w?(this.$onDocumentChange=this.onDocumentChange.bind(this),w.on("change",this.$onDocumentChange),this.renderer.setSession(w),this.$onChangeMode=this.onChangeMode.bind(this),w.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),w.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),w.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),w.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),w.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),w.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=w.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(w)),this._signal("changeSession",{session:w,oldSession:R}),this.curOp=null,R&&R._signal("changeEditor",{oldEditor:this}),w&&w._signal("changeEditor",{editor:this}),w&&!w.destroyed&&w.bgTokenizer.scheduleStart()}},k.prototype.getSession=function(){return this.session},k.prototype.setValue=function(w,R){return this.session.doc.setValue(w),R?R==1?this.navigateFileEnd():R==-1&&this.navigateFileStart():this.selectAll(),w},k.prototype.getValue=function(){return this.session.getValue()},k.prototype.getSelection=function(){return this.selection},k.prototype.resize=function(w){this.renderer.onResize(w)},k.prototype.setTheme=function(w,R){this.renderer.setTheme(w,R)},k.prototype.getTheme=function(){return this.renderer.getTheme()},k.prototype.setStyle=function(w){this.renderer.setStyle(w)},k.prototype.unsetStyle=function(w){this.renderer.unsetStyle(w)},k.prototype.getFontSize=function(){return this.getOption("fontSize")||u.computedStyle(this.container).fontSize},k.prototype.setFontSize=function(w){this.setOption("fontSize",w)},k.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var w=this;this.$highlightPending=!0,setTimeout(function(){w.$highlightPending=!1;var R=w.session;if(!(!R||R.destroyed)){R.$bracketHighlight&&(R.$bracketHighlight.markerIds.forEach(function(z){R.removeMarker(z)}),R.$bracketHighlight=null);var L=w.getCursorPosition(),O=w.getKeyboardHandler(),P=O&&O.$getDirectionForHighlight&&O.$getDirectionForHighlight(w),B=R.getMatchingBracketRanges(L,P);if(!B){var H=new y(R,L.row,L.column),V=H.getCurrentToken();if(V&&/\b(?:tag-open|tag-name)/.test(V.type)){var U=R.getMatchingTags(L);U&&(B=[U.openTagName,U.closeTagName])}}if(!B&&R.$mode.getMatching&&(B=R.$mode.getMatching(w.session)),!B){w.getHighlightIndentGuides()&&w.renderer.$textLayer.$highlightIndentGuide();return}var _="ace_bracket";Array.isArray(B)?B.length==1&&(_="ace_error_bracket"):B=[B],B.length==2&&(c.comparePoints(B[0].end,B[1].start)==0?B=[c.fromPoints(B[0].start,B[1].end)]:c.comparePoints(B[0].start,B[1].end)==0&&(B=[c.fromPoints(B[1].start,B[0].end)])),R.$bracketHighlight={ranges:B,markerIds:B.map(function(z){return R.addMarker(z,_,"text")})},w.getHighlightIndentGuides()&&w.renderer.$textLayer.$highlightIndentGuide()}},50)}},k.prototype.focus=function(){this.textInput.focus()},k.prototype.isFocused=function(){return this.textInput.isFocused()},k.prototype.blur=function(){this.textInput.blur()},k.prototype.onFocus=function(w){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",w))},k.prototype.onBlur=function(w){!this.$isFocused||(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",w))},k.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},k.prototype.onDocumentChange=function(w){var R=this.session.$useWrapMode,L=w.start.row==w.end.row?w.end.row:1/0;this.renderer.updateLines(w.start.row,L,R),this._signal("change",w),this.$cursorChange()},k.prototype.onTokenizerUpdate=function(w){var R=w.data;this.renderer.updateLines(R.first,R.last)},k.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},k.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},k.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},k.prototype.$updateHighlightActiveLine=function(){var w=this.getSession(),R;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(R=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(R=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(R=!1)),w.$highlightLineMarker&&!R)w.removeMarker(w.$highlightLineMarker.id),w.$highlightLineMarker=null;else if(!w.$highlightLineMarker&&R){var L=new c(R.row,R.column,R.row,1/0);L.id=w.addMarker(L,"ace_active-line","screenLine"),w.$highlightLineMarker=L}else R&&(w.$highlightLineMarker.start.row=R.row,w.$highlightLineMarker.end.row=R.row,w.$highlightLineMarker.start.column=R.column,w._signal("changeBackMarker"))},k.prototype.onSelectionChange=function(w){var R=this.session;if(R.$selectionMarker&&R.removeMarker(R.$selectionMarker),R.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var L=this.selection.getRange(),O=this.getSelectionStyle();R.$selectionMarker=R.addMarker(L,"ace_selection",O)}var P=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(P),this._signal("changeSelection")},k.prototype.$getSelectionHighLightRegexp=function(){var w=this.session,R=this.getSelectionRange();if(!(R.isEmpty()||R.isMultiLine())){var L=R.start.column,O=R.end.column,P=w.getLine(R.start.row),B=P.substring(L,O);if(!(B.length>5e3||!/[\w\d]/.test(B))){var H=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:B}),V=P.substring(L-1,O+1);if(!!H.test(V))return H}}},k.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},k.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},k.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},k.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},k.prototype.onChangeMode=function(w){this.renderer.updateText(),this._emit("changeMode",w)},k.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},k.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},k.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},k.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},k.prototype.getCopyText=function(){var w=this.getSelectedText(),R=this.session.doc.getNewLineCharacter(),L=!1;if(!w&&this.$copyWithEmptySelection){L=!0;for(var O=this.selection.getAllRanges(),P=0;P<O.length;P++){var B=O[P];P&&O[P-1].start.row==B.start.row||(w+=this.session.getLine(B.start.row)+R)}}var H={text:w};return this._signal("copy",H),E.lineMode=L?H.text:!1,H.text},k.prototype.onCopy=function(){this.commands.exec("copy",this)},k.prototype.onCut=function(){this.commands.exec("cut",this)},k.prototype.onPaste=function(w,R){var L={text:w,event:R};this.commands.exec("paste",this,L)},k.prototype.$handlePaste=function(w){typeof w=="string"&&(w={text:w}),this._signal("paste",w);var R=w.text,L=R===E.lineMode,O=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)L?O.insert({row:this.selection.lead.row,column:0},R):this.insert(R);else if(L)this.selection.rangeList.ranges.forEach(function(_){O.insert({row:_.start.row,column:0},R)});else{var P=R.split(/\r\n|\r|\n/),B=this.selection.rangeList.ranges,H=P.length==2&&(!P[0]||!P[1]);if(P.length!=B.length||H)return this.commands.exec("insertstring",this,R);for(var V=B.length;V--;){var U=B[V];U.isEmpty()||O.remove(U),O.insert(U.start,P[V])}}},k.prototype.execCommand=function(w,R){return this.commands.exec(w,this,R)},k.prototype.insert=function(w,R){var L=this.session,O=L.getMode(),P=this.getCursorPosition();if(this.getBehavioursEnabled()&&!R){var B=O.transformAction(L.getState(P.row),"insertion",this,L,w);B&&(w!==B.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),w=B.text)}if(w=="	"&&(w=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&w.indexOf(`
`)==-1){var H=new c.fromPoints(P,P);H.end.column+=w.length,this.session.remove(H)}}else{var H=this.getSelectionRange();P=this.session.remove(H),this.clearSelection()}if(w==`
`||w==`\r
`){var z=L.getLine(P.row);if(P.column>z.search(/\S|$/)){var V=z.substr(P.column).search(/\S|$/);L.doc.removeInLine(P.row,P.column,P.column+V)}}this.clearSelection();var U=P.column,_=L.getState(P.row),z=L.getLine(P.row),K=O.checkOutdent(_,z,w);if(L.insert(P,w),B&&B.selection&&(B.selection.length==2?this.selection.setSelectionRange(new c(P.row,U+B.selection[0],P.row,U+B.selection[1])):this.selection.setSelectionRange(new c(P.row+B.selection[0],B.selection[1],P.row+B.selection[2],B.selection[3]))),this.$enableAutoIndent){if(L.getDocument().isNewLine(w)){var J=O.getNextLineIndent(_,z.slice(0,P.column),L.getTabString());L.insert({row:P.row+1,column:0},J)}K&&O.autoOutdent(_,L,P.row)}},k.prototype.autoIndent=function(){var w=this.session,R=w.getMode(),L,O;if(this.selection.isEmpty())L=0,O=w.doc.getLength()-1;else{var P=this.getSelectionRange();L=P.start.row,O=P.end.row}for(var B="",H="",V="",U,_,z,K=w.getTabString(),J=L;J<=O;J++)J>0&&(B=w.getState(J-1),H=w.getLine(J-1),V=R.getNextLineIndent(B,H,K)),U=w.getLine(J),_=R.$getIndent(U),V!==_&&(_.length>0&&(z=new c(J,0,J,_.length),w.remove(z)),V.length>0&&w.insert({row:J,column:0},V)),R.autoOutdent(B,w,J)},k.prototype.onTextInput=function(w,R){if(!R)return this.keyBinding.onTextInput(w);this.startOperation({command:{name:"insertstring"}});var L=this.applyComposition.bind(this,w,R);this.selection.rangeCount?this.forEachSelection(L):L(),this.endOperation()},k.prototype.applyComposition=function(w,R){if(R.extendLeft||R.extendRight){var L=this.selection.getRange();L.start.column-=R.extendLeft,L.end.column+=R.extendRight,L.start.column<0&&(L.start.row--,L.start.column+=this.session.getLine(L.start.row).length+1),this.selection.setRange(L),!w&&!L.isEmpty()&&this.remove()}if((w||!this.selection.isEmpty())&&this.insert(w,!0),R.restoreStart||R.restoreEnd){var L=this.selection.getRange();L.start.column-=R.restoreStart,L.end.column-=R.restoreEnd,this.selection.setRange(L)}},k.prototype.onCommandKey=function(w,R,L){return this.keyBinding.onCommandKey(w,R,L)},k.prototype.setOverwrite=function(w){this.session.setOverwrite(w)},k.prototype.getOverwrite=function(){return this.session.getOverwrite()},k.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},k.prototype.setScrollSpeed=function(w){this.setOption("scrollSpeed",w)},k.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},k.prototype.setDragDelay=function(w){this.setOption("dragDelay",w)},k.prototype.getDragDelay=function(){return this.getOption("dragDelay")},k.prototype.setSelectionStyle=function(w){this.setOption("selectionStyle",w)},k.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},k.prototype.setHighlightActiveLine=function(w){this.setOption("highlightActiveLine",w)},k.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},k.prototype.setHighlightGutterLine=function(w){this.setOption("highlightGutterLine",w)},k.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},k.prototype.setHighlightSelectedWord=function(w){this.setOption("highlightSelectedWord",w)},k.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},k.prototype.setAnimatedScroll=function(w){this.renderer.setAnimatedScroll(w)},k.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},k.prototype.setShowInvisibles=function(w){this.renderer.setShowInvisibles(w)},k.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},k.prototype.setDisplayIndentGuides=function(w){this.renderer.setDisplayIndentGuides(w)},k.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},k.prototype.setHighlightIndentGuides=function(w){this.renderer.setHighlightIndentGuides(w)},k.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},k.prototype.setShowPrintMargin=function(w){this.renderer.setShowPrintMargin(w)},k.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},k.prototype.setPrintMarginColumn=function(w){this.renderer.setPrintMarginColumn(w)},k.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},k.prototype.setReadOnly=function(w){this.setOption("readOnly",w)},k.prototype.getReadOnly=function(){return this.getOption("readOnly")},k.prototype.setBehavioursEnabled=function(w){this.setOption("behavioursEnabled",w)},k.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},k.prototype.setWrapBehavioursEnabled=function(w){this.setOption("wrapBehavioursEnabled",w)},k.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},k.prototype.setShowFoldWidgets=function(w){this.setOption("showFoldWidgets",w)},k.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},k.prototype.setFadeFoldWidgets=function(w){this.setOption("fadeFoldWidgets",w)},k.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},k.prototype.remove=function(w){this.selection.isEmpty()&&(w=="left"?this.selection.selectLeft():this.selection.selectRight());var R=this.getSelectionRange();if(this.getBehavioursEnabled()){var L=this.session,O=L.getState(R.start.row),P=L.getMode().transformAction(O,"deletion",this,L,R);if(R.end.column===0){var B=L.getTextRange(R);if(B[B.length-1]==`
`){var H=L.getLine(R.end.row);/^\s+$/.test(H)&&(R.end.column=H.length)}}P&&(R=P)}this.session.remove(R),this.clearSelection()},k.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},k.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},k.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},k.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var w=this.getSelectionRange();w.start.column==w.end.column&&w.start.row==w.end.row&&(w.end.column=0,w.end.row++),this.session.remove(w),this.clearSelection()},k.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var w=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(w)},k.prototype.setGhostText=function(w,R){this.session.widgetManager||(this.session.widgetManager=new v(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(w,R)},k.prototype.removeGhostText=function(){!this.session.widgetManager||this.renderer.removeGhostText()},k.prototype.transposeLetters=function(){if(!!this.selection.isEmpty()){var w=this.getCursorPosition(),R=w.column;if(R!==0){var L=this.session.getLine(w.row),O,P;R<L.length?(O=L.charAt(R)+L.charAt(R-1),P=new c(w.row,R-1,w.row,R+1)):(O=L.charAt(R-1)+L.charAt(R-2),P=new c(w.row,R-2,w.row,R)),this.session.replace(P,O),this.session.selection.moveToPosition(P.end)}}},k.prototype.toLowerCase=function(){var w=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var R=this.getSelectionRange(),L=this.session.getTextRange(R);this.session.replace(R,L.toLowerCase()),this.selection.setSelectionRange(w)},k.prototype.toUpperCase=function(){var w=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var R=this.getSelectionRange(),L=this.session.getTextRange(R);this.session.replace(R,L.toUpperCase()),this.selection.setSelectionRange(w)},k.prototype.indent=function(){var w=this.session,R=this.getSelectionRange();if(R.start.row<R.end.row){var L=this.$getSelectedRows();w.indentRows(L.first,L.last,"	");return}else if(R.start.column<R.end.column){var O=w.getTextRange(R);if(!/^\s+$/.test(O)){var L=this.$getSelectedRows();w.indentRows(L.first,L.last,"	");return}}var P=w.getLine(R.start.row),B=R.start,H=w.getTabSize(),V=w.documentToScreenColumn(B.row,B.column);if(this.session.getUseSoftTabs())var U=H-V%H,_=o.stringRepeat(" ",U);else{for(var U=V%H;P[R.start.column-1]==" "&&U;)R.start.column--,U--;this.selection.setSelectionRange(R),_="	"}return this.insert(_)},k.prototype.blockIndent=function(){var w=this.$getSelectedRows();this.session.indentRows(w.first,w.last,"	")},k.prototype.blockOutdent=function(){var w=this.session.getSelection();this.session.outdentRows(w.getRange())},k.prototype.sortLines=function(){for(var w=this.$getSelectedRows(),R=this.session,L=[],O=w.first;O<=w.last;O++)L.push(R.getLine(O));L.sort(function(H,V){return H.toLowerCase()<V.toLowerCase()?-1:H.toLowerCase()>V.toLowerCase()?1:0});for(var P=new c(0,0,0,0),O=w.first;O<=w.last;O++){var B=R.getLine(O);P.start.row=O,P.end.row=O,P.end.column=B.length,R.replace(P,L[O-w.first])}},k.prototype.toggleCommentLines=function(){var w=this.session.getState(this.getCursorPosition().row),R=this.$getSelectedRows();this.session.getMode().toggleCommentLines(w,this.session,R.first,R.last)},k.prototype.toggleBlockComment=function(){var w=this.getCursorPosition(),R=this.session.getState(w.row),L=this.getSelectionRange();this.session.getMode().toggleBlockComment(R,this.session,L,w)},k.prototype.getNumberAt=function(w,R){var L=/[\-]?[0-9]+(?:\.[0-9]+)?/g;L.lastIndex=0;for(var O=this.session.getLine(w);L.lastIndex<R;){var P=L.exec(O);if(P.index<=R&&P.index+P[0].length>=R){var B={value:P[0],start:P.index,end:P.index+P[0].length};return B}}return null},k.prototype.modifyNumber=function(w){var R=this.selection.getCursor().row,L=this.selection.getCursor().column,O=new c(R,L-1,R,L),P=this.session.getTextRange(O);if(!isNaN(parseFloat(P))&&isFinite(P)){var B=this.getNumberAt(R,L);if(B){var H=B.value.indexOf(".")>=0?B.start+B.value.indexOf(".")+1:B.end,V=B.start+B.value.length-H,U=parseFloat(B.value);U*=Math.pow(10,V),H!==B.end&&L<H?w*=Math.pow(10,B.end-L-1):w*=Math.pow(10,B.end-L),U+=w,U/=Math.pow(10,V);var _=U.toFixed(V),z=new c(R,B.start,R,B.end);this.session.replace(z,_),this.moveCursorTo(R,Math.max(B.start+1,L+_.length-B.value.length))}}else this.toggleWord()},k.prototype.toggleWord=function(){var w=this.selection.getCursor().row,R=this.selection.getCursor().column;this.selection.selectWord();var L=this.getSelectedText(),O=this.selection.getWordRange().start.column,P=L.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),B=R-O-1;B<0&&(B=0);var H=0,V=0,U=this;L.match(/[A-Za-z0-9_]+/)&&P.forEach(function(pe,Me){V=H+pe.length,B>=H&&B<=V&&(L=pe,U.selection.clearSelection(),U.moveCursorTo(w,H+O),U.selection.selectTo(w,V+O)),H=V});for(var _=this.$toggleWordPairs,z,K=0;K<_.length;K++)for(var J=_[K],ee=0;ee<=1;ee++){var ie=+!ee,se=L.match(new RegExp("^\\s?_?("+o.escapeRegExp(J[ee])+")\\s?$","i"));if(se){var he=L.match(new RegExp("([_]|^|\\s)("+o.escapeRegExp(se[1])+")($|\\s)","g"));he&&(z=L.replace(new RegExp(o.escapeRegExp(J[ee]),"i"),function(pe){var Me=J[ie];return pe.toUpperCase()==pe?Me=Me.toUpperCase():pe.charAt(0).toUpperCase()==pe.charAt(0)&&(Me=Me.substr(0,0)+J[ie].charAt(0).toUpperCase()+Me.substr(1)),Me}),this.insert(z),z="")}}},k.prototype.findLinkAt=function(w,R){var L,O,P=this.session.getLine(w),B=P.split(/((?:https?|ftp):\/\/[\S]+)/),H=R;H<0&&(H=0);var V=0,U=0,_;try{for(var z=g(B),K=z.next();!K.done;K=z.next()){var J=K.value;if(U=V+J.length,H>=V&&H<=U&&J.match(/((?:https?|ftp):\/\/[\S]+)/)){_=J.replace(/[\s:.,'";}\]]+$/,"");break}V=U}}catch(ee){L={error:ee}}finally{try{K&&!K.done&&(O=z.return)&&O.call(z)}finally{if(L)throw L.error}}return _},k.prototype.openLink=function(){var w=this.selection.getCursor(),R=this.findLinkAt(w.row,w.column);return R&&window.open(R,"_blank"),R!=null},k.prototype.removeLines=function(){var w=this.$getSelectedRows();this.session.removeFullLines(w.first,w.last),this.clearSelection()},k.prototype.duplicateSelection=function(){var w=this.selection,R=this.session,L=w.getRange(),O=w.isBackwards();if(L.isEmpty()){var P=L.start.row;R.duplicateLines(P,P)}else{var B=O?L.start:L.end,H=R.insert(B,R.getTextRange(L),!1);L.start=B,L.end=H,w.setSelectionRange(L,O)}},k.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},k.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},k.prototype.moveText=function(w,R,L){return this.session.moveText(w,R,L)},k.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},k.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},k.prototype.$moveLines=function(w,R){var L,O,P=this.selection;if(!P.inMultiSelectMode||this.inVirtualSelectionMode){var B=P.toOrientedRange();L=this.$getSelectedRows(B),O=this.session.$moveLines(L.first,L.last,R?0:w),R&&w==-1&&(O=0),B.moveBy(O,0),P.fromOrientedRange(B)}else{var H=P.rangeList.ranges;P.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var V=0,U=0,_=H.length,z=0;z<_;z++){var K=z;H[z].moveBy(V,0),L=this.$getSelectedRows(H[z]);for(var J=L.first,ee=L.last;++z<_;){U&&H[z].moveBy(U,0);var ie=this.$getSelectedRows(H[z]);if(R&&ie.first!=ee)break;if(!R&&ie.first>ee+1)break;ee=ie.last}for(z--,V=this.session.$moveLines(J,ee,R?0:w),R&&w==-1&&(K=z+1);K<=z;)H[K].moveBy(V,0),K++;R||(V=0),U+=V}P.fromOrientedRange(P.ranges[0]),P.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},k.prototype.$getSelectedRows=function(w){return w=(w||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(w.start.row),last:this.session.getRowFoldEnd(w.end.row)}},k.prototype.onCompositionStart=function(w){this.renderer.showComposition(w)},k.prototype.onCompositionUpdate=function(w){this.renderer.setCompositionText(w)},k.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},k.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},k.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},k.prototype.isRowVisible=function(w){return w>=this.getFirstVisibleRow()&&w<=this.getLastVisibleRow()},k.prototype.isRowFullyVisible=function(w){return w>=this.renderer.getFirstFullyVisibleRow()&&w<=this.renderer.getLastFullyVisibleRow()},k.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},k.prototype.$moveByPage=function(w,R){var L=this.renderer,O=this.renderer.layerConfig,P=w*Math.floor(O.height/O.lineHeight);R===!0?this.selection.$moveSelection(function(){this.moveCursorBy(P,0)}):R===!1&&(this.selection.moveCursorBy(P,0),this.selection.clearSelection());var B=L.scrollTop;L.scrollBy(0,P*O.lineHeight),R!=null&&L.scrollCursorIntoView(null,.5),L.animateScrolling(B)},k.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},k.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},k.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},k.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},k.prototype.scrollPageDown=function(){this.$moveByPage(1)},k.prototype.scrollPageUp=function(){this.$moveByPage(-1)},k.prototype.scrollToRow=function(w){this.renderer.scrollToRow(w)},k.prototype.scrollToLine=function(w,R,L,O){this.renderer.scrollToLine(w,R,L,O)},k.prototype.centerSelection=function(){var w=this.getSelectionRange(),R={row:Math.floor(w.start.row+(w.end.row-w.start.row)/2),column:Math.floor(w.start.column+(w.end.column-w.start.column)/2)};this.renderer.alignCursor(R,.5)},k.prototype.getCursorPosition=function(){return this.selection.getCursor()},k.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},k.prototype.getSelectionRange=function(){return this.selection.getRange()},k.prototype.selectAll=function(){this.selection.selectAll()},k.prototype.clearSelection=function(){this.selection.clearSelection()},k.prototype.moveCursorTo=function(w,R){this.selection.moveCursorTo(w,R)},k.prototype.moveCursorToPosition=function(w){this.selection.moveCursorToPosition(w)},k.prototype.jumpToMatching=function(w,R){var L=this.getCursorPosition(),O=new y(this.session,L.row,L.column),P=O.getCurrentToken(),B=0;P&&P.type.indexOf("tag-name")!==-1&&(P=O.stepBackward());var H=P||O.stepForward();if(!!H){var V,U=!1,_={},z=L.column-H.start,K,J={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(H.value.match(/[{}()\[\]]/g)){for(;z<H.value.length&&!U;z++)if(!!J[H.value[z]])switch(K=J[H.value[z]]+"."+H.type.replace("rparen","lparen"),isNaN(_[K])&&(_[K]=0),H.value[z]){case"(":case"[":case"{":_[K]++;break;case")":case"]":case"}":_[K]--,_[K]===-1&&(V="bracket",U=!0);break}}else H.type.indexOf("tag-name")!==-1&&(isNaN(_[H.value])&&(_[H.value]=0),P.value==="<"&&B>1?_[H.value]++:P.value==="</"&&_[H.value]--,_[H.value]===-1&&(V="tag",U=!0));U||(P=H,B++,H=O.stepForward(),z=0)}while(H&&!U);if(!!V){var ee,ie;if(V==="bracket")ee=this.session.getBracketRange(L),ee||(ee=new c(O.getCurrentTokenRow(),O.getCurrentTokenColumn()+z-1,O.getCurrentTokenRow(),O.getCurrentTokenColumn()+z-1),ie=ee.start,(R||ie.row===L.row&&Math.abs(ie.column-L.column)<2)&&(ee=this.session.getBracketRange(ie)));else if(V==="tag"){if(!H||H.type.indexOf("tag-name")===-1)return;if(ee=new c(O.getCurrentTokenRow(),O.getCurrentTokenColumn()-2,O.getCurrentTokenRow(),O.getCurrentTokenColumn()-2),ee.compare(L.row,L.column)===0){var se=this.session.getMatchingTags(L);se&&(se.openTag.contains(L.row,L.column)?(ee=se.closeTag,ie=ee.start):(ee=se.openTag,se.closeTag.start.row===L.row&&se.closeTag.start.column===L.column?ie=ee.end:ie=ee.start))}ie=ie||ee.start}ie=ee&&ee.cursor||ie,ie&&(w?ee&&R?this.selection.setRange(ee):ee&&ee.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(ie.row,ie.column):this.selection.moveTo(ie.row,ie.column))}}},k.prototype.gotoLine=function(w,R,L){this.selection.clearSelection(),this.session.unfold({row:w-1,column:R||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(w-1,R||0),this.isRowFullyVisible(w-1)||this.scrollToLine(w-1,!0,L)},k.prototype.navigateTo=function(w,R){this.selection.moveTo(w,R)},k.prototype.navigateUp=function(w){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var R=this.selection.anchor.getPosition();return this.moveCursorToPosition(R)}this.selection.clearSelection(),this.selection.moveCursorBy(-w||-1,0)},k.prototype.navigateDown=function(w){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var R=this.selection.anchor.getPosition();return this.moveCursorToPosition(R)}this.selection.clearSelection(),this.selection.moveCursorBy(w||1,0)},k.prototype.navigateLeft=function(w){if(this.selection.isEmpty())for(w=w||1;w--;)this.selection.moveCursorLeft();else{var R=this.getSelectionRange().start;this.moveCursorToPosition(R)}this.clearSelection()},k.prototype.navigateRight=function(w){if(this.selection.isEmpty())for(w=w||1;w--;)this.selection.moveCursorRight();else{var R=this.getSelectionRange().end;this.moveCursorToPosition(R)}this.clearSelection()},k.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},k.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},k.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},k.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},k.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},k.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},k.prototype.replace=function(w,R){R&&this.$search.set(R);var L=this.$search.find(this.session),O=0;return L&&(this.$tryReplace(L,w)&&(O=1),this.selection.setSelectionRange(L),this.renderer.scrollSelectionIntoView(L.start,L.end)),O},k.prototype.replaceAll=function(w,R){R&&this.$search.set(R);var L=this.$search.findAll(this.session),O=0;if(!L.length)return O;var P=this.getSelectionRange();this.selection.moveTo(0,0);for(var B=L.length-1;B>=0;--B)this.$tryReplace(L[B],w)&&O++;return this.selection.setSelectionRange(P),O},k.prototype.$tryReplace=function(w,R){var L=this.session.getTextRange(w);return R=this.$search.replace(L,R),R!==null?(w.end=this.session.replace(w,R),w):null},k.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},k.prototype.find=function(w,R,L){R||(R={}),typeof w=="string"||w instanceof RegExp?R.needle=w:typeof w=="object"&&l.mixin(R,w);var O=this.selection.getRange();R.needle==null&&(w=this.session.getTextRange(O)||this.$search.$options.needle,w||(O=this.session.getWordRange(O.start.row,O.start.column),w=this.session.getTextRange(O)),this.$search.set({needle:w})),this.$search.set(R),R.start||this.$search.set({start:O});var P=this.$search.find(this.session);if(R.preventScroll)return P;if(P)return this.revealRange(P,L),P;R.backwards?O.start=O.end:O.end=O.start,this.selection.setRange(O)},k.prototype.findNext=function(w,R){this.find({skipCurrent:!0,backwards:!1},w,R)},k.prototype.findPrevious=function(w,R){this.find(w,{skipCurrent:!0,backwards:!0},R)},k.prototype.revealRange=function(w,R){this.session.unfold(w),this.selection.setSelectionRange(w);var L=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(w.start,w.end,.5),R!==!1&&this.renderer.animateScrolling(L)},k.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},k.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},k.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(w){w.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},k.prototype.setAutoScrollEditorIntoView=function(w){if(!!w){var R,L=this,O=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var P=this.$scrollAnchor;P.style.cssText="position:absolute",this.container.insertBefore(P,this.container.firstChild);var B=this.on("changeSelection",function(){O=!0}),H=this.renderer.on("beforeRender",function(){O&&(R=L.renderer.container.getBoundingClientRect())}),V=this.renderer.on("afterRender",function(){if(O&&R&&(L.isFocused()||L.searchBox&&L.searchBox.isFocused())){var U=L.renderer,_=U.$cursorLayer.$pixelPos,z=U.layerConfig,K=_.top-z.offset;_.top>=0&&K+R.top<0?O=!0:_.top<z.height&&_.top+R.top+z.lineHeight>window.innerHeight?O=!1:O=null,O!=null&&(P.style.top=K+"px",P.style.left=_.left+"px",P.style.height=z.lineHeight+"px",P.scrollIntoView(O)),O=R=null}});this.setAutoScrollEditorIntoView=function(U){U||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",B),this.renderer.off("afterRender",V),this.renderer.off("beforeRender",H))}}},k.prototype.$resetCursorStyle=function(){var w=this.$cursorStyle||"ace",R=this.renderer.$cursorLayer;!R||(R.setSmoothBlinking(/smooth/.test(w)),R.isBlinking=!this.$readOnly&&w!="wide",u.setCssClass(R.element,"ace_slim-cursors",/slim/.test(w)))},k.prototype.prompt=function(w,R,L){var O=this;m.loadModule("ace/ext/prompt",function(P){P.prompt(O,w,R,L)})},k}();S.$uid=0,S.prototype.curOp=null,S.prototype.prevOp={},S.prototype.$mergeableCommands=["backspace","del","insertstring"],S.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],l.implement(S.prototype,f),m.defineOptions(S.prototype,"editor",{selectionStyle:{set:function(k){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:k})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(k){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(k){this.textInput.setReadOnly(k),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(k){this.textInput.setCopyWithEmptySelection(k)},initialValue:!1},cursorStyle:{set:function(k){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(k){this.setAutoScrollEditorIntoView(k)}},keyboardHandler:{set:function(k){this.setKeyboardHandler(k)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(k){this.session.setValue(k)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(k){this.setSession(k)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(k){this.renderer.$gutterLayer.setShowLineNumbers(k),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),k&&this.$relativeLineNumbers?I.attach(this):I.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(k){this.$showLineNumbers&&k?I.attach(this):I.detach(this)}},placeholder:{set:function(k){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var w=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(w&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),u.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!w&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),u.addCssClass(this.container,"ace_hasPlaceholder");var R=u.createElement("div");R.className="ace_placeholder",R.textContent=this.$placeholder||"",this.renderer.placeholderNode=R,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!w&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(k){var w={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(O){O.blur(),O.renderer.scroller.focus()},readOnly:!0},R=function(O){if(O.target==this.renderer.scroller&&O.keyCode===C.enter){O.preventDefault();var P=this.getCursorPosition().row;this.isRowVisible(P)||this.scrollToLine(P,!0,!0),this.focus()}},L;k?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",M("editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",M("Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",R.bind(this)),this.commands.addCommand(w),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",M("editor")),this.renderer.$gutter.setAttribute("aria-label",M("Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),L||(L=new T(this)),L.addListener()):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",R.bind(this)),this.commands.removeCommand(w),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),L&&L.removeListener())},initialValue:!1},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var I={getText:function(k,w){return(Math.abs(k.selection.lead.row-w)||w+1+(w<9?"\xB7":""))+""},getWidth:function(k,w,R){return Math.max(w.toString().length,(R.lastRow+1).toString().length,2)*R.characterWidth},update:function(k,w){w.renderer.$loop.schedule(w.renderer.CHANGE_GUTTER)},attach:function(k){k.renderer.$gutterLayer.$renderer=this,k.on("changeSelection",this.update),this.update(null,k)},detach:function(k){k.renderer.$gutterLayer.$renderer==this&&(k.renderer.$gutterLayer.$renderer=null),k.off("changeSelection",this.update),this.update(null,k)}};h.Editor=S}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(d,h,b){var g=function(){function y(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return y.prototype.addSession=function(v){this.$session=v},y.prototype.add=function(v,T,M){if(!this.$fromUndo&&v!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),T===!1||!this.lastDeltas){this.lastDeltas=[];var E=this.$undoStack.length;E>this.$undoDepth-1&&this.$undoStack.splice(0,E-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),v.id=this.$rev=++this.$maxRev}(v.action=="remove"||v.action=="insert")&&(this.$lastDelta=v),this.lastDeltas.push(v)}},y.prototype.addSelection=function(v,T){this.selections.push({value:v,rev:T||this.$rev})},y.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},y.prototype.markIgnored=function(v,T){T==null&&(T=this.$rev+1);for(var M=this.$undoStack,E=M.length;E--;){var C=M[E][0];if(C.id<=v)break;C.id<T&&(C.ignore=!0)}this.lastDeltas=null},y.prototype.getSelection=function(v,T){for(var M=this.selections,E=M.length;E--;){var C=M[E];if(C.rev<v)return T&&(C=M[E+1]),C}},y.prototype.getRevision=function(){return this.$rev},y.prototype.getDeltas=function(v,T){T==null&&(T=this.$rev+1);for(var M=this.$undoStack,E=null,C=0,S=M.length;S--;){var I=M[S][0];if(I.id<T&&!E&&(E=S+1),I.id<=v){C=S+1;break}}return M.slice(C,E)},y.prototype.getChangedRanges=function(v,T){T==null&&(T=this.$rev+1)},y.prototype.getChangedLines=function(v,T){T==null&&(T=this.$rev+1)},y.prototype.undo=function(v,T){this.lastDeltas=null;var M=this.$undoStack;if(!!l(M,M.length)){v||(v=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var E=M.pop(),C=null;return E&&(C=v.undoChanges(E,T),this.$redoStack.push(E),this.$syncRev()),this.$fromUndo=!1,C}},y.prototype.redo=function(v,T){if(this.lastDeltas=null,v||(v=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var M=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);m(this.$redoStack,M),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(S){S[0].id=++this.$maxRev},this)}var E=this.$redoStack.pop(),C=null;return E&&(C=v.redoChanges(E,T),this.$undoStack.push(E),this.$syncRev()),this.$fromUndo=!1,C},y.prototype.$syncRev=function(){var v=this.$undoStack,T=v[v.length-1],M=T&&T[0].id||0;this.$redoStackBaseRev=M,this.$rev=M},y.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},y.prototype.canUndo=function(){return this.$undoStack.length>0},y.prototype.canRedo=function(){return this.$redoStack.length>0},y.prototype.bookmark=function(v){v==null&&(v=this.$rev),this.mark=v},y.prototype.isAtBookmark=function(){return this.$rev===this.mark},y.prototype.toJSON=function(){},y.prototype.fromJSON=function(){},y.prototype.$prettyPrint=function(v){return v?n(v):n(this.$undoStack)+`
---
`+n(this.$redoStack)},y}();g.prototype.hasUndo=g.prototype.canUndo,g.prototype.hasRedo=g.prototype.canRedo,g.prototype.isClean=g.prototype.isAtBookmark,g.prototype.markClean=g.prototype.bookmark;function l(y,v){for(var T=v;T--;){var M=y[T];if(M&&!M[0].ignore){for(;T<v-1;){var E=r(y[T],y[T+1]);y[T]=E[0],y[T+1]=E[1],T++}return!0}}}var u=d("./range").Range,o=u.comparePoints;u.comparePoints;function a(y){return{row:y.row,column:y.column}}function t(y){return{start:a(y.start),end:a(y.end),action:y.action,lines:y.lines.slice()}}function n(y){if(y=y||this,Array.isArray(y))return y.map(n).join(`
`);var v="";return y.action?(v=y.action=="insert"?"+":"-",v+="["+y.lines+"]"):y.value&&(Array.isArray(y.value)?v=y.value.map(i).join(`
`):v=i(y.value)),y.start&&(v+=i(y)),(y.id||y.rev)&&(v+="	("+(y.id||y.rev)+")"),v}function i(y){return y.start.row+":"+y.start.column+"=>"+y.end.row+":"+y.end.column}function e(y,v){var T=y.action=="insert",M=v.action=="insert";if(T&&M)if(o(v.start,y.end)>=0)c(v,y,-1);else if(o(v.start,y.start)<=0)c(y,v,1);else return null;else if(T&&!M)if(o(v.start,y.end)>=0)c(v,y,-1);else if(o(v.end,y.start)<=0)c(y,v,-1);else return null;else if(!T&&M)if(o(v.start,y.start)>=0)c(v,y,1);else if(o(v.start,y.start)<=0)c(y,v,1);else return null;else if(!T&&!M)if(o(v.start,y.start)>=0)c(v,y,1);else if(o(v.end,y.start)<=0)c(y,v,-1);else return null;return[v,y]}function r(y,v){for(var T=y.length;T--;)for(var M=0;M<v.length;M++)if(!e(y[T],v[M])){for(;T<y.length;){for(;M--;)e(v[M],y[T]);M=v.length,T++}return[y,v]}return y.selectionBefore=v.selectionBefore=y.selectionAfter=v.selectionAfter=null,[v,y]}function s(y,v){var T=y.action=="insert",M=v.action=="insert";if(T&&M)o(y.start,v.start)<0?c(v,y,1):c(y,v,1);else if(T&&!M)o(y.start,v.end)>=0?c(y,v,-1):(o(y.start,v.start)<=0||c(y,u.fromPoints(v.start,y.start),-1),c(v,y,1));else if(!T&&M)o(v.start,y.end)>=0?c(v,y,-1):(o(v.start,y.start)<=0||c(v,u.fromPoints(y.start,v.start),-1),c(y,v,1));else if(!T&&!M)if(o(v.start,y.end)>=0)c(v,y,-1);else if(o(v.end,y.start)<=0)c(y,v,-1);else{var E,C;return o(y.start,v.start)<0&&(E=y,y=p(y,v.start)),o(y.end,v.end)>0&&(C=p(y,v.end)),f(v.end,y.start,y.end,-1),C&&!E&&(y.lines=C.lines,y.start=C.start,y.end=C.end,C=y),[v,E,C].filter(Boolean)}return[v,y]}function c(y,v,T){f(y.start,v.start,v.end,T),f(y.end,v.start,v.end,T)}function f(y,v,T,M){y.row==(M==1?v:T).row&&(y.column+=M*(T.column-v.column)),y.row+=M*(T.row-v.row)}function p(y,v){var T=y.lines,M=y.end;y.end=a(v);var E=y.end.row-y.start.row,C=T.splice(E,T.length),S=E?v.column:v.column-y.start.column;T.push(C[0].substring(0,S)),C[0]=C[0].substr(S);var I={start:a(v),end:M,lines:C,action:y.action};return I}function $(y,v){v=t(v);for(var T=y.length;T--;){for(var M=y[T],E=0;E<M.length;E++){var C=M[E],S=s(C,v);v=S[0],S.length!=2&&(S[2]?(M.splice(E+1,1,S[1],S[2]),E++):S[1]||(M.splice(E,1),E--))}M.length||y.splice(T,1)}return y}function m(y,v){for(var T=0;T<v.length;T++)for(var M=v[T],E=0;E<M.length;E++)$(y,M[E])}h.UndoManager=g}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(d,h,b){var g=d("../lib/dom"),l=function(){function u(o,a){this.element=o,this.canvasHeight=a||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return u.prototype.moveContainer=function(o){g.translate(this.element,0,-(o.firstRowScreen*o.lineHeight%this.canvasHeight)-o.offset*this.$offsetCoefficient)},u.prototype.pageChanged=function(o,a){return Math.floor(o.firstRowScreen*o.lineHeight/this.canvasHeight)!==Math.floor(a.firstRowScreen*a.lineHeight/this.canvasHeight)},u.prototype.computeLineTop=function(o,a,t){var n=a.firstRowScreen*a.lineHeight,i=Math.floor(n/this.canvasHeight),e=t.documentToScreenRow(o,0)*a.lineHeight;return e-i*this.canvasHeight},u.prototype.computeLineHeight=function(o,a,t){return a.lineHeight*t.getRowLineCount(o)},u.prototype.getLength=function(){return this.cells.length},u.prototype.get=function(o){return this.cells[o]},u.prototype.shift=function(){this.$cacheCell(this.cells.shift())},u.prototype.pop=function(){this.$cacheCell(this.cells.pop())},u.prototype.push=function(o){if(Array.isArray(o)){this.cells.push.apply(this.cells,o);for(var a=g.createFragment(this.element),t=0;t<o.length;t++)a.appendChild(o[t].element);this.element.appendChild(a)}else this.cells.push(o),this.element.appendChild(o.element)},u.prototype.unshift=function(o){if(Array.isArray(o)){this.cells.unshift.apply(this.cells,o);for(var a=g.createFragment(this.element),t=0;t<o.length;t++)a.appendChild(o[t].element);this.element.firstChild?this.element.insertBefore(a,this.element.firstChild):this.element.appendChild(a)}else this.cells.unshift(o),this.element.insertAdjacentElement("afterbegin",o.element)},u.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},u.prototype.$cacheCell=function(o){!o||(o.element.remove(),this.cellCache.push(o))},u.prototype.createCell=function(o,a,t,n){var i=this.cellCache.pop();if(!i){var e=g.createElement("div");n&&n(e),this.element.appendChild(e),i={element:e,text:"",row:o}}return i.row=o,i},u}();h.Lines=l}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(d,h,b){var g=d("../lib/dom"),l=d("../lib/oop"),u=d("../lib/lang"),o=d("../lib/event_emitter").EventEmitter,a=d("./lines").Lines,t=d("../config").nls,n=function(){function e(r){this.element=g.createElement("div"),this.element.className="ace_layer ace_gutter-layer",r.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1}return e.prototype.setSession=function(r){this.session&&this.session.off("change",this.$updateAnnotations),this.session=r,r&&r.on("change",this.$updateAnnotations)},e.prototype.addGutterDecoration=function(r,s){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(r,s)},e.prototype.removeGutterDecoration=function(r,s){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(r,s)},e.prototype.setAnnotations=function(r){this.$annotations=[];for(var s=0;s<r.length;s++){var c=r[s],f=c.row,p=this.$annotations[f];p||(p=this.$annotations[f]={text:[],type:[]});var $=c.text,m=c.type;$=$?u.escapeHTML($):c.html||"",p.text.indexOf($)===-1&&(p.text.push($),p.type.push(m));var y=c.className;y?p.className=y:m=="error"?p.className=" ace_error":m=="warning"&&p.className!=" ace_error"?p.className=" ace_warning":m=="info"&&!p.className&&(p.className=" ace_info")}},e.prototype.$updateAnnotations=function(r){if(!!this.$annotations.length){var s=r.start.row,c=r.end.row-s;if(c!==0)if(r.action=="remove")this.$annotations.splice(s,c+1,null);else{var f=new Array(c+1);f.unshift(s,1),this.$annotations.splice.apply(this.$annotations,f)}}},e.prototype.update=function(r){this.config=r;var s=this.session,c=r.firstRow,f=Math.min(r.lastRow+r.gutterOffset,s.getLength()-1);this.oldLastRow=f,this.config=r,this.$lines.moveContainer(r),this.$updateCursorRow();for(var p=s.getNextFoldLine(c),$=p?p.start.row:1/0,m=null,y=-1,v=c;;){if(v>$&&(v=p.end.row+1,p=s.getNextFoldLine(v,p),$=p?p.start.row:1/0),v>f){for(;this.$lines.getLength()>y+1;)this.$lines.pop();break}m=this.$lines.get(++y),m?m.row=v:(m=this.$lines.createCell(v,r,this.session,i),this.$lines.push(m)),this.$renderCell(m,r,p,v),v++}this._signal("afterRender"),this.$updateGutterWidth(r)},e.prototype.$updateGutterWidth=function(r){var s=this.session,c=s.gutterRenderer||this.$renderer,f=s.$firstLineNumber,p=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||s.$useWrapMode)&&(p=s.getLength()+f-1);var $=c?c.getWidth(s,p,r):p.toString().length*r.characterWidth,m=this.$padding||this.$computePadding();$+=m.left+m.right,$!==this.gutterWidth&&!isNaN($)&&(this.gutterWidth=$,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",$))},e.prototype.$updateCursorRow=function(){if(!!this.$highlightGutterLine){var r=this.session.selection.getCursor();this.$cursorRow!==r.row&&(this.$cursorRow=r.row)}},e.prototype.updateLineHighlight=function(){if(!!this.$highlightGutterLine){var r=this.session.selection.cursor.row;if(this.$cursorRow=r,!(this.$cursorCell&&this.$cursorCell.row==r)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var s=this.$lines.cells;this.$cursorCell=null;for(var c=0;c<s.length;c++){var f=s[c];if(f.row>=this.$cursorRow){if(f.row>this.$cursorRow){var p=this.session.getFoldLine(this.$cursorRow);if(c>0&&p&&p.start.row==s[c-1].row)f=s[c-1];else break}f.element.className="ace_gutter-active-line "+f.element.className,this.$cursorCell=f;break}}}}},e.prototype.scrollLines=function(r){var s=this.config;if(this.config=r,this.$updateCursorRow(),this.$lines.pageChanged(s,r))return this.update(r);this.$lines.moveContainer(r);var c=Math.min(r.lastRow+r.gutterOffset,this.session.getLength()-1),f=this.oldLastRow;if(this.oldLastRow=c,!s||f<r.firstRow)return this.update(r);if(c<s.firstRow)return this.update(r);if(s.firstRow<r.firstRow)for(var p=this.session.getFoldedRowCount(s.firstRow,r.firstRow-1);p>0;p--)this.$lines.shift();if(f>c)for(var p=this.session.getFoldedRowCount(c+1,f);p>0;p--)this.$lines.pop();r.firstRow<s.firstRow&&this.$lines.unshift(this.$renderLines(r,r.firstRow,s.firstRow-1)),c>f&&this.$lines.push(this.$renderLines(r,f+1,c)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(r)},e.prototype.$renderLines=function(r,s,c){for(var f=[],p=s,$=this.session.getNextFoldLine(p),m=$?$.start.row:1/0;p>m&&(p=$.end.row+1,$=this.session.getNextFoldLine(p,$),m=$?$.start.row:1/0),!(p>c);){var y=this.$lines.createCell(p,r,this.session,i);this.$renderCell(y,r,$,p),f.push(y),p++}return f},e.prototype.$renderCell=function(r,s,c,f){var p=r.element,$=this.session,m=p.childNodes[0],y=p.childNodes[1],v=p.childNodes[2],T=v.firstChild,M=$.$firstLineNumber,E=$.$breakpoints,C=$.$decorations,S=$.gutterRenderer||this.$renderer,I=this.$showFoldWidgets&&$.foldWidgets,k=c?c.start.row:Number.MAX_VALUE,w=s.lineHeight+"px",R=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",L=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",O=(S?S.getText($,f):f+M).toString();if(this.$highlightGutterLine&&(f==this.$cursorRow||c&&f<this.$cursorRow&&f>=k&&this.$cursorRow<=c.end.row)&&(R+="ace_gutter-active-line ",this.$cursorCell!=r&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=r)),E[f]&&(R+=E[f]),C[f]&&(R+=C[f]),this.$annotations[f]&&f!==k&&(R+=this.$annotations[f].className),I){var P=I[f];P==null&&(P=I[f]=$.getFoldWidget(f))}if(P){var B="ace_fold-widget ace_"+P,H=P=="start"&&f==k&&f<c.end.row;if(H){B+=" ace_closed";for(var V="",U=!1,_=f+1;_<=c.end.row;_++)if(!!this.$annotations[_]){if(this.$annotations[_].className===" ace_error"){U=!0,V=" ace_error_fold";break}if(this.$annotations[_].className===" ace_warning"){U=!0,V=" ace_warning_fold";continue}}R+=V}else B+=" ace_open";y.className!=B&&(y.className=B),g.setStyle(y.style,"height",w),g.setStyle(y.style,"display","inline-block"),y.setAttribute("role","button"),y.setAttribute("tabindex","-1");var z=$.getFoldWidgetRange(f);z?y.setAttribute("aria-label",t("Toggle code folding, rows $0 through $1",[z.start.row+1,z.end.row+1])):c?y.setAttribute("aria-label",t("Toggle code folding, rows $0 through $1",[c.start.row+1,c.end.row+1])):y.setAttribute("aria-label",t("Toggle code folding, row $0",[f+1])),H?(y.setAttribute("aria-expanded","false"),y.setAttribute("title",t("Unfold code"))):(y.setAttribute("aria-expanded","true"),y.setAttribute("title",t("Fold code")))}else y&&(g.setStyle(y.style,"display","none"),y.setAttribute("tabindex","0"),y.removeAttribute("role"),y.removeAttribute("aria-label"));return U&&this.$showFoldedAnnotations?(v.className="ace_gutter_annotation",T.className=L,T.className+=V,g.setStyle(T.style,"height",w),g.setStyle(v.style,"display","block"),g.setStyle(v.style,"height",w),v.setAttribute("aria-label",t("Read annotations row $0",[O])),v.setAttribute("tabindex","-1"),v.setAttribute("role","button")):this.$annotations[f]?(v.className="ace_gutter_annotation",T.className=L,this.$useSvgGutterIcons?T.className+=this.$annotations[f].className:p.classList.add(this.$annotations[f].className.replace(" ","")),g.setStyle(T.style,"height",w),g.setStyle(v.style,"display","block"),g.setStyle(v.style,"height",w),v.setAttribute("aria-label",t("Read annotations row $0",[O])),v.setAttribute("tabindex","-1"),v.setAttribute("role","button")):(g.setStyle(v.style,"display","none"),v.removeAttribute("aria-label"),v.removeAttribute("role"),v.setAttribute("tabindex","0")),O!==m.data&&(m.data=O),p.className!=R&&(p.className=R),g.setStyle(r.element.style,"height",this.$lines.computeLineHeight(f,s,$)+"px"),g.setStyle(r.element.style,"top",this.$lines.computeLineTop(f,s,$)+"px"),r.text=O,v.style.display==="none"&&y.style.display==="none"?r.element.setAttribute("aria-hidden",!0):r.element.setAttribute("aria-hidden",!1),r},e.prototype.setHighlightGutterLine=function(r){this.$highlightGutterLine=r},e.prototype.setShowLineNumbers=function(r){this.$renderer=!r&&{getWidth:function(){return 0},getText:function(){return""}}},e.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},e.prototype.setShowFoldWidgets=function(r){r?g.addCssClass(this.element,"ace_folding-enabled"):g.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=r,this.$padding=null},e.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},e.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var r=g.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(r.borderLeftWidth)||0)+(parseInt(r.paddingLeft)||0)+1,this.$padding.right=(parseInt(r.borderRightWidth)||0)+(parseInt(r.paddingRight)||0),this.$padding},e.prototype.getRegion=function(r){var s=this.$padding||this.$computePadding(),c=this.element.getBoundingClientRect();if(r.x<s.left+c.left)return"markers";if(this.$showFoldWidgets&&r.x>c.right-s.right)return"foldWidgets"},e}();n.prototype.$fixedWidth=!1,n.prototype.$highlightGutterLine=!0,n.prototype.$renderer="",n.prototype.$showLineNumbers=!0,n.prototype.$showFoldWidgets=!0,l.implement(n.prototype,o);function i(e){var r=document.createTextNode("");e.appendChild(r);var s=g.createElement("span");e.appendChild(s);var c=g.createElement("span");e.appendChild(c);var f=g.createElement("span");return c.appendChild(f),e}h.Gutter=n}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(d,h,b){var g=d("../range").Range,l=d("../lib/dom"),u=function(){function a(t){this.element=l.createElement("div"),this.element.className="ace_layer ace_marker-layer",t.appendChild(this.element)}return a.prototype.setPadding=function(t){this.$padding=t},a.prototype.setSession=function(t){this.session=t},a.prototype.setMarkers=function(t){this.markers=t},a.prototype.elt=function(t,n){var i=this.i!=-1&&this.element.childNodes[this.i];i?this.i++:(i=document.createElement("div"),this.element.appendChild(i),this.i=-1),i.style.cssText=n,i.className=t},a.prototype.update=function(t){if(!!t){this.config=t,this.i=0;var n;for(var i in this.markers){var e=this.markers[i];if(!e.range){e.update(n,this,this.session,t);continue}var r=e.range.clipRows(t.firstRow,t.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),e.renderer){var s=this.$getTop(r.start.row,t),c=this.$padding+r.start.column*t.characterWidth;e.renderer(n,r,c,s,t)}else e.type=="fullLine"?this.drawFullLineMarker(n,r,e.clazz,t):e.type=="screenLine"?this.drawScreenLineMarker(n,r,e.clazz,t):r.isMultiLine()?e.type=="text"?this.drawTextMarker(n,r,e.clazz,t):this.drawMultiLineMarker(n,r,e.clazz,t):this.drawSingleLineMarker(n,r,e.clazz+" ace_start ace_br15",t)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},a.prototype.$getTop=function(t,n){return(t-n.firstRowScreen)*n.lineHeight},a.prototype.drawTextMarker=function(t,n,i,e,r){for(var s=this.session,c=n.start.row,f=n.end.row,p=c,$=0,m=0,y=s.getScreenLastRowColumn(p),v=new g(p,n.start.column,p,m);p<=f;p++)v.start.row=v.end.row=p,v.start.column=p==c?n.start.column:s.getRowWrapIndent(p),v.end.column=y,$=m,m=y,y=p+1<f?s.getScreenLastRowColumn(p+1):p==f?0:n.end.column,this.drawSingleLineMarker(t,v,i+(p==c?" ace_start":"")+" ace_br"+o(p==c||p==c+1&&n.start.column,$<m,m>y,p==f),e,p==f?0:1,r)},a.prototype.drawMultiLineMarker=function(t,n,i,e,r){var s=this.$padding,c=e.lineHeight,f=this.$getTop(n.start.row,e),p=s+n.start.column*e.characterWidth;if(r=r||"",this.session.$bidiHandler.isBidiRow(n.start.row)){var $=n.clone();$.end.row=$.start.row,$.end.column=this.session.getLine($.start.row).length,this.drawBidiSingleLineMarker(t,$,i+" ace_br1 ace_start",e,null,r)}else this.elt(i+" ace_br1 ace_start","height:"+c+"px;right:0;top:"+f+"px;left:"+p+"px;"+(r||""));if(this.session.$bidiHandler.isBidiRow(n.end.row)){var $=n.clone();$.start.row=$.end.row,$.start.column=0,this.drawBidiSingleLineMarker(t,$,i+" ace_br12",e,null,r)}else{f=this.$getTop(n.end.row,e);var m=n.end.column*e.characterWidth;this.elt(i+" ace_br12","height:"+c+"px;width:"+m+"px;top:"+f+"px;left:"+s+"px;"+(r||""))}if(c=(n.end.row-n.start.row-1)*e.lineHeight,!(c<=0)){f=this.$getTop(n.start.row+1,e);var y=(n.start.column?1:0)|(n.end.column?0:8);this.elt(i+(y?" ace_br"+y:""),"height:"+c+"px;right:0;top:"+f+"px;left:"+s+"px;"+(r||""))}},a.prototype.drawSingleLineMarker=function(t,n,i,e,r,s){if(this.session.$bidiHandler.isBidiRow(n.start.row))return this.drawBidiSingleLineMarker(t,n,i,e,r,s);var c=e.lineHeight,f=(n.end.column+(r||0)-n.start.column)*e.characterWidth,p=this.$getTop(n.start.row,e),$=this.$padding+n.start.column*e.characterWidth;this.elt(i,"height:"+c+"px;width:"+f+"px;top:"+p+"px;left:"+$+"px;"+(s||""))},a.prototype.drawBidiSingleLineMarker=function(t,n,i,e,r,s){var c=e.lineHeight,f=this.$getTop(n.start.row,e),p=this.$padding,$=this.session.$bidiHandler.getSelections(n.start.column,n.end.column);$.forEach(function(m){this.elt(i,"height:"+c+"px;width:"+(m.width+(r||0))+"px;top:"+f+"px;left:"+(p+m.left)+"px;"+(s||""))},this)},a.prototype.drawFullLineMarker=function(t,n,i,e,r){var s=this.$getTop(n.start.row,e),c=e.lineHeight;n.start.row!=n.end.row&&(c+=this.$getTop(n.end.row,e)-s),this.elt(i,"height:"+c+"px;top:"+s+"px;left:0;right:0;"+(r||""))},a.prototype.drawScreenLineMarker=function(t,n,i,e,r){var s=this.$getTop(n.start.row,e),c=e.lineHeight;this.elt(i,"height:"+c+"px;top:"+s+"px;left:0;right:0;"+(r||""))},a}();u.prototype.$padding=0;function o(a,t,n,i){return(a?1:0)|(t?2:0)|(n?4:0)|(i?8:0)}h.Marker=u}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config"],function(d,h,b){var g=d("../lib/oop"),l=d("../lib/dom"),u=d("../lib/lang"),o=d("./lines").Lines,a=d("../lib/event_emitter").EventEmitter,t=d("../config").nls,n=function(){function i(e){this.dom=l,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new o(this.element)}return i.prototype.$updateEolChar=function(){var e=this.session.doc,r=e.getNewLineCharacter()==`
`&&e.getNewLineMode()!="windows",s=r?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=s)return this.EOL_CHAR=s,!0},i.prototype.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},i.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},i.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},i.prototype.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(r){this._signal("changeCharacterSize",r)}.bind(this)),this.$pollSizeChanges()},i.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},i.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},i.prototype.setSession=function(e){this.session=e,e&&this.$computeTabString()},i.prototype.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,typeof e=="string"?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},i.prototype.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},i.prototype.setHighlightIndentGuides=function(e){return this.$highlightIndentGuides===e?!1:(this.$highlightIndentGuides=e,e)},i.prototype.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var r=this.$tabStrings=[0],s=1;s<e+1;s++)if(this.showTabs){var c=this.dom.createElement("span");c.className="ace_invisible ace_invisible_tab",c.textContent=u.stringRepeat(this.TAB_CHAR,s),r.push(c)}else r.push(this.dom.createTextNode(u.stringRepeat(" ",s),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var f="ace_indent-guide",p=this.showSpaces?" ace_invisible ace_invisible_space":"",$=this.showSpaces?u.stringRepeat(this.SPACE_CHAR,this.tabSize):u.stringRepeat(" ",this.tabSize),m=this.showTabs?" ace_invisible ace_invisible_tab":"",y=this.showTabs?u.stringRepeat(this.TAB_CHAR,this.tabSize):$,c=this.dom.createElement("span");c.className=f+p,c.textContent=$,this.$tabStrings[" "]=c;var c=this.dom.createElement("span");c.className=f+m,c.textContent=y,this.$tabStrings["	"]=c}},i.prototype.updateLines=function(e,r,s){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var c=Math.max(r,e.firstRow),f=Math.min(s,e.lastRow),p=this.element.childNodes,$=0,y=e.firstRow;y<c;y++){var v=this.session.getFoldLine(y);if(v)if(v.containsRow(c)){c=v.start.row;break}else y=v.end.row;$++}for(var m=!1,y=c,v=this.session.getNextFoldLine(y),T=v?v.start.row:1/0;y>T&&(y=v.end.row+1,v=this.session.getNextFoldLine(y,v),T=v?v.start.row:1/0),!(y>f);){var M=p[$++];if(M){this.dom.removeChildren(M),this.$renderLine(M,y,y==T?v:!1),m&&(M.style.top=this.$lines.computeLineTop(y,e,this.session)+"px");var E=e.lineHeight*this.session.getRowLength(y)+"px";M.style.height!=E&&(m=!0,M.style.height=E)}y++}if(m)for(;$<this.$lines.cells.length;){var C=this.$lines.cells[$++];C.element.style.top=this.$lines.computeLineTop(C.row,e,this.session)+"px"}},i.prototype.scrollLines=function(e){var r=this.config;if(this.config=e,this.$lines.pageChanged(r,e))return this.update(e);this.$lines.moveContainer(e);var s=e.lastRow,c=r?r.lastRow:-1;if(!r||c<e.firstRow)return this.update(e);if(s<r.firstRow)return this.update(e);if(!r||r.lastRow<e.firstRow)return this.update(e);if(e.lastRow<r.firstRow)return this.update(e);if(r.firstRow<e.firstRow)for(var f=this.session.getFoldedRowCount(r.firstRow,e.firstRow-1);f>0;f--)this.$lines.shift();if(r.lastRow>e.lastRow)for(var f=this.session.getFoldedRowCount(e.lastRow+1,r.lastRow);f>0;f--)this.$lines.pop();e.firstRow<r.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,r.firstRow-1)),e.lastRow>r.lastRow&&this.$lines.push(this.$renderLinesFragment(e,r.lastRow+1,e.lastRow)),this.$highlightIndentGuide()},i.prototype.$renderLinesFragment=function(e,r,s){for(var c=[],f=r,p=this.session.getNextFoldLine(f),$=p?p.start.row:1/0;f>$&&(f=p.end.row+1,p=this.session.getNextFoldLine(f,p),$=p?p.start.row:1/0),!(f>s);){var m=this.$lines.createCell(f,e,this.session),y=m.element;this.dom.removeChildren(y),l.setStyle(y.style,"height",this.$lines.computeLineHeight(f,e,this.session)+"px"),l.setStyle(y.style,"top",this.$lines.computeLineTop(f,e,this.session)+"px"),this.$renderLine(y,f,f==$?p:!1),this.$useLineGroups()?y.className="ace_line_group":y.className="ace_line",c.push(m),f++}return c},i.prototype.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var r=e.firstRow,s=e.lastRow,c=this.$lines;c.getLength();)c.pop();c.push(this.$renderLinesFragment(e,r,s))},i.prototype.$renderToken=function(e,r,s,c){for(var f=this,p=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,$=this.dom.createFragment(this.element),m,y=0;m=p.exec(c);){var v=m[1],T=m[2],M=m[3],E=m[4],C=m[5];if(!(!f.showSpaces&&T)){var S=y!=m.index?c.slice(y,m.index):"";if(y=m.index+m[0].length,S&&$.appendChild(this.dom.createTextNode(S,this.element)),v){var I=f.session.getScreenTabSize(r+m.index);$.appendChild(f.$tabStrings[I].cloneNode(!0)),r+=I-1}else if(T)if(f.showSpaces){var k=this.dom.createElement("span");k.className="ace_invisible ace_invisible_space",k.textContent=u.stringRepeat(f.SPACE_CHAR,T.length),$.appendChild(k)}else $.appendChild(this.com.createTextNode(T,this.element));else if(M){var k=this.dom.createElement("span");k.className="ace_invisible ace_invisible_space ace_invalid",k.textContent=u.stringRepeat(f.SPACE_CHAR,M.length),$.appendChild(k)}else if(E){r+=1;var k=this.dom.createElement("span");k.style.width=f.config.characterWidth*2+"px",k.className=f.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",k.textContent=f.showSpaces?f.SPACE_CHAR:E,$.appendChild(k)}else if(C){r+=1;var k=this.dom.createElement("span");k.style.width=f.config.characterWidth*2+"px",k.className="ace_cjk",k.textContent=C,$.appendChild(k)}}}if($.appendChild(this.dom.createTextNode(y?c.slice(y):c,this.element)),this.$textToken[s.type])e.appendChild($);else{var w="ace_"+s.type.replace(/\./g," ace_"),k=this.dom.createElement("span");s.type=="fold"&&(k.style.width=s.value.length*this.config.characterWidth+"px",k.setAttribute("title",t("Unfold code"))),k.className=w,k.appendChild($),e.appendChild(k)}return r+c.length},i.prototype.renderIndentGuide=function(e,r,s){var c=r.search(this.$indentGuideRe);if(c<=0||c>=s)return r;if(r[0]==" "){c-=c%this.tabSize;for(var f=c/this.tabSize,p=0;p<f;p++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),r.substr(c)}else if(r[0]=="	"){for(var p=0;p<c;p++)e.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),r.substr(c)}return this.$highlightIndentGuide(),r},i.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var e=this.session.doc.$lines;if(!!e){var r=this.session.selection.getCursor(),s=/^\s*/.exec(this.session.doc.getLine(r.row))[0].length,c=Math.floor(s/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:c,start:r.row};var f=this.session.$bracketHighlight;if(f){for(var p=this.session.$bracketHighlight.ranges,$=0;$<p.length;$++)if(r.row!==p[$].start.row){this.$highlightIndentGuideMarker.end=p[$].start.row,r.row>p[$].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&e[r.row]!==""&&r.column===e[r.row].length){this.$highlightIndentGuideMarker.dir=1;for(var $=r.row+1;$<e.length;$++){var m=e[$],y=/^\s*/.exec(m)[0].length;if(m!==""&&(this.$highlightIndentGuideMarker.end=$,y<=s))break}}this.$renderHighlightIndentGuide()}}},i.prototype.$clearActiveIndentGuide=function(){for(var e=this.$lines.cells,r=0;r<e.length;r++){var s=e[r],c=s.element.childNodes;if(c.length>0){for(var f=0;f<c.length;f++)if(c[f].classList&&c[f].classList.contains("ace_indent-guide-active")){c[f].classList.remove("ace_indent-guide-active");break}}}},i.prototype.$setIndentGuideActive=function(e,r){var s=this.session.doc.getLine(e.row);if(s!==""){var c=e.element.childNodes;if(c){var f=c[r-1];f&&f.classList&&f.classList.contains("ace_indent-guide")&&f.classList.add("ace_indent-guide-active")}}},i.prototype.$renderHighlightIndentGuide=function(){if(!!this.$lines){var e=this.$lines.cells;this.$clearActiveIndentGuide();var r=this.$highlightIndentGuideMarker.indentLevel;if(r!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var s=0;s<e.length;s++){var c=e[s];if(this.$highlightIndentGuideMarker.end&&c.row>=this.$highlightIndentGuideMarker.start+1){if(c.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(c,r)}}else for(var s=e.length-1;s>=0;s--){var c=e[s];if(this.$highlightIndentGuideMarker.end&&c.row<this.$highlightIndentGuideMarker.start){if(c.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(c,r)}}}},i.prototype.$createLineElement=function(e){var r=this.dom.createElement("div");return r.className="ace_line",r.style.height=this.config.lineHeight+"px",r},i.prototype.$renderWrappedLine=function(e,r,s){var c=0,f=0,p=s[0],$=0,m=this.$createLineElement();e.appendChild(m);for(var y=0;y<r.length;y++){var v=r[y],T=v.value;if(y==0&&this.displayIndentGuides){if(c=T.length,T=this.renderIndentGuide(m,T,p),!T)continue;c-=T.length}if(c+T.length<p)$=this.$renderToken(m,$,v,T),c+=T.length;else{for(;c+T.length>=p;)$=this.$renderToken(m,$,v,T.substring(0,p-c)),T=T.substring(p-c),c=p,m=this.$createLineElement(),e.appendChild(m),m.appendChild(this.dom.createTextNode(u.stringRepeat("\xA0",s.indent),this.element)),f++,$=0,p=s[f]||Number.MAX_VALUE;T.length!=0&&(c+=T.length,$=this.$renderToken(m,$,v,T))}}s[s.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(m,$,null,"",!0)},i.prototype.$renderSimpleLine=function(e,r){for(var s=0,c=0;c<r.length;c++){var f=r[c],p=f.value;if(!(c==0&&this.displayIndentGuides&&(p=this.renderIndentGuide(e,p),!p))){if(s+p.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,s,f,p);s=this.$renderToken(e,s,f,p)}}},i.prototype.$renderOverflowMessage=function(e,r,s,c,f){s&&this.$renderToken(e,r,s,c.slice(0,this.MAX_LINE_LENGTH-r));var p=this.dom.createElement("span");p.className="ace_inline_button ace_keyword ace_toggle_wrap",p.textContent=f?"<hide>":"<click to see more...>",e.appendChild(p)},i.prototype.$renderLine=function(e,r,s){if(!s&&s!=!1&&(s=this.session.getFoldLine(r)),s)var c=this.$getFoldLineTokens(r,s);else var c=this.session.getTokens(r);var f=e;if(c.length){var p=this.session.getRowSplitData(r);if(p&&p.length){this.$renderWrappedLine(e,c,p);var f=e.lastChild}else{var f=e;this.$useLineGroups()&&(f=this.$createLineElement(),e.appendChild(f)),this.$renderSimpleLine(f,c)}}else this.$useLineGroups()&&(f=this.$createLineElement(),e.appendChild(f));if(this.showEOL&&f){s&&(r=s.end.row);var $=this.dom.createElement("span");$.className="ace_invisible ace_invisible_eol",$.textContent=r==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,f.appendChild($)}},i.prototype.$getFoldLineTokens=function(e,r){var s=this.session,c=[];function f($,m,y){for(var v=0,T=0;T+$[v].value.length<m;)if(T+=$[v].value.length,v++,v==$.length)return;if(T!=m){var M=$[v].value.substring(m-T);M.length>y-m&&(M=M.substring(0,y-m)),c.push({type:$[v].type,value:M}),T=m+M.length,v+=1}for(;T<y&&v<$.length;){var M=$[v].value;M.length+T>y?c.push({type:$[v].type,value:M.substring(0,y-T)}):c.push($[v]),T+=M.length,v+=1}}var p=s.getTokens(e);return r.walk(function($,m,y,v,T){$!=null?c.push({type:"fold",value:$}):(T&&(p=s.getTokens(m)),p.length&&f(p,v,y))},r.end.row,this.session.getLine(r.end.row).length),c},i.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},i}();n.prototype.$textToken={text:!0,rparen:!0,lparen:!0},n.prototype.EOF_CHAR="\xB6",n.prototype.EOL_CHAR_LF="\xAC",n.prototype.EOL_CHAR_CRLF="\xA4",n.prototype.EOL_CHAR=n.prototype.EOL_CHAR_LF,n.prototype.TAB_CHAR="\u2014",n.prototype.SPACE_CHAR="\xB7",n.prototype.$padding=0,n.prototype.MAX_LINE_LENGTH=1e4,n.prototype.showInvisibles=!1,n.prototype.showSpaces=!1,n.prototype.showTabs=!1,n.prototype.showEOL=!1,n.prototype.displayIndentGuides=!0,n.prototype.$highlightIndentGuides=!0,n.prototype.$tabStrings=[],n.prototype.destroy={},n.prototype.onChangeTabSize=n.prototype.$computeTabString,g.implement(n.prototype,a),h.Text=n}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(d,h,b){var g=d("../lib/dom"),l=function(){function u(o){this.element=g.createElement("div"),this.element.className="ace_layer ace_cursor-layer",o.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),g.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return u.prototype.$updateOpacity=function(o){for(var a=this.cursors,t=a.length;t--;)g.setStyle(a[t].style,"opacity",o?"":"0")},u.prototype.$startCssAnimation=function(){for(var o=this.cursors,a=o.length;a--;)o[a].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&g.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},u.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,g.removeCssClass(this.element,"ace_animate-blinking")},u.prototype.setPadding=function(o){this.$padding=o},u.prototype.setSession=function(o){this.session=o},u.prototype.setBlinking=function(o){o!=this.isBlinking&&(this.isBlinking=o,this.restartTimer())},u.prototype.setBlinkInterval=function(o){o!=this.blinkInterval&&(this.blinkInterval=o,this.restartTimer())},u.prototype.setSmoothBlinking=function(o){o!=this.smoothBlinking&&(this.smoothBlinking=o,g.setCssClass(this.element,"ace_smooth-blinking",o),this.$updateCursors(!0),this.restartTimer())},u.prototype.addCursor=function(){var o=g.createElement("div");return o.className="ace_cursor",this.element.appendChild(o),this.cursors.push(o),o},u.prototype.removeCursor=function(){if(this.cursors.length>1){var o=this.cursors.pop();return o.parentNode.removeChild(o),o}},u.prototype.hideCursor=function(){this.isVisible=!1,g.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},u.prototype.showCursor=function(){this.isVisible=!0,g.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},u.prototype.restartTimer=function(){var o=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,g.removeCssClass(this.element,"ace_smooth-blinking")),o(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&g.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),g.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var a=function(){this.timeoutId=setTimeout(function(){o(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){o(!0),a()},this.blinkInterval),a()}},u.prototype.getPixelPosition=function(o,a){if(!this.config||!this.session)return{left:0,top:0};o||(o=this.session.selection.getCursor());var t=this.session.documentToScreenPosition(o),n=this.$padding+(this.session.$bidiHandler.isBidiRow(t.row,o.row)?this.session.$bidiHandler.getPosLeft(t.column):t.column*this.config.characterWidth),i=(t.row-(a?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:n,top:i}},u.prototype.isCursorInView=function(o,a){return o.top>=0&&o.top<a.maxHeight},u.prototype.update=function(o){this.config=o;var a=this.session.$selectionMarkers,t=0,n=0;(a===void 0||a.length===0)&&(a=[{cursor:null}]);for(var t=0,i=a.length;t<i;t++){var e=this.getPixelPosition(a[t].cursor,!0);if(!((e.top>o.height+o.offset||e.top<0)&&t>1)){var r=this.cursors[n++]||this.addCursor(),s=r.style;this.drawCursor?this.drawCursor(r,e,o,a[t],this.session):this.isCursorInView(e,o)?(g.setStyle(s,"display","block"),g.translate(r,e.left,e.top),g.setStyle(s,"width",Math.round(o.characterWidth)+"px"),g.setStyle(s,"height",o.lineHeight+"px")):g.setStyle(s,"display","none")}}for(;this.cursors.length>n;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=e,this.restartTimer()},u.prototype.$setOverwrite=function(o){o!=this.overwrite&&(this.overwrite=o,o?g.addCssClass(this.element,"ace_overwrite-cursors"):g.removeCssClass(this.element,"ace_overwrite-cursors"))},u.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},u}();l.prototype.$padding=0,l.prototype.drawCursor=null,h.Cursor=l}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(d,h,b){var g=this&&this.__extends||function(){var r=function(s,c){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var $ in p)Object.prototype.hasOwnProperty.call(p,$)&&(f[$]=p[$])},r(s,c)};return function(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");r(s,c);function f(){this.constructor=s}s.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),l=d("./lib/oop"),u=d("./lib/dom"),o=d("./lib/event"),a=d("./lib/event_emitter").EventEmitter,t=32768,n=function(){function r(s,c){this.element=u.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+c,this.inner=u.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xA0",this.element.appendChild(this.inner),s.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)}return r.prototype.setVisible=function(s){this.element.style.display=s?"":"none",this.isVisible=s,this.coeff=1},r}();l.implement(n.prototype,a);var i=function(r){g(s,r);function s(c,f){var p=r.call(this,c,"-v")||this;return p.scrollTop=0,p.scrollHeight=0,f.$scrollbarWidth=p.width=u.scrollbarWidth(c.ownerDocument),p.inner.style.width=p.element.style.width=(p.width||15)+5+"px",p.$minWidth=0,p}return s.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var c=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-c)/(this.coeff-c)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},s.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},s.prototype.setHeight=function(c){this.element.style.height=c+"px"},s.prototype.setScrollHeight=function(c){this.scrollHeight=c,c>t?(this.coeff=t/c,c=t):this.coeff!=1&&(this.coeff=1),this.inner.style.height=c+"px"},s.prototype.setScrollTop=function(c){this.scrollTop!=c&&(this.skipEvent=!0,this.scrollTop=c,this.element.scrollTop=c*this.coeff)},s}(n);i.prototype.setInnerHeight=i.prototype.setScrollHeight;var e=function(r){g(s,r);function s(c,f){var p=r.call(this,c,"-h")||this;return p.scrollLeft=0,p.height=f.$scrollbarWidth,p.inner.style.height=p.element.style.height=(p.height||15)+5+"px",p}return s.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},s.prototype.getHeight=function(){return this.isVisible?this.height:0},s.prototype.setWidth=function(c){this.element.style.width=c+"px"},s.prototype.setInnerWidth=function(c){this.inner.style.width=c+"px"},s.prototype.setScrollWidth=function(c){this.inner.style.width=c+"px"},s.prototype.setScrollLeft=function(c){this.scrollLeft!=c&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=c)},s}(n);h.ScrollBar=i,h.ScrollBarV=i,h.ScrollBarH=e,h.VScrollBar=i,h.HScrollBar=e}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(d,h,b){var g=this&&this.__extends||function(){var e=function(r,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(c[p]=f[p])},e(r,s)};return function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(r,s);function c(){this.constructor=r}r.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),l=d("./lib/oop"),u=d("./lib/dom"),o=d("./lib/event"),a=d("./lib/event_emitter").EventEmitter;u.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var t=function(){function e(r,s){this.element=u.createElement("div"),this.element.className="ace_sb"+s,this.inner=u.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,r.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return e.prototype.setVisible=function(r){this.element.style.display=r?"":"none",this.isVisible=r,this.coeff=1},e}();l.implement(t.prototype,a);var n=function(e){g(r,e);function r(s,c){var f=e.call(this,s,"-v")||this;return f.scrollTop=0,f.scrollHeight=0,f.parent=s,f.width=f.VScrollWidth,f.renderer=c,f.inner.style.width=f.element.style.width=(f.width||15)+"px",f.$minWidth=0,f}return r.prototype.onMouseDown=function(s,c){if(s==="mousedown"&&!(o.getButton(c)!==0||c.detail===2)){if(c.target===this.inner){var f=this,p=c.clientY,$=function(C){p=C.clientY},m=function(){clearInterval(M)},y=c.clientY,v=this.thumbTop,T=function(){if(p!==void 0){var C=f.scrollTopFromThumbTop(v+p-y);C!==f.scrollTop&&f._emit("scroll",{data:C})}};o.capture(this.inner,$,m);var M=setInterval(T,20);return o.preventDefault(c)}var E=c.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(E)}),o.preventDefault(c)}},r.prototype.getHeight=function(){return this.height},r.prototype.scrollTopFromThumbTop=function(s){var c=s*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return c=c>>0,c<0?c=0:c>this.pageHeight-this.viewHeight&&(c=this.pageHeight-this.viewHeight),c},r.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},r.prototype.setHeight=function(s){this.height=Math.max(0,s),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},r.prototype.setScrollHeight=function(s,c){this.pageHeight===s&&!c||(this.pageHeight=s,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},r.prototype.setScrollTop=function(s){this.scrollTop=s,s<0&&(s=0),this.thumbTop=s*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},r}(t);n.prototype.setInnerHeight=n.prototype.setScrollHeight;var i=function(e){g(r,e);function r(s,c){var f=e.call(this,s,"-h")||this;return f.scrollLeft=0,f.scrollWidth=0,f.height=f.HScrollHeight,f.inner.style.height=f.element.style.height=(f.height||12)+"px",f.renderer=c,f}return r.prototype.onMouseDown=function(s,c){if(s==="mousedown"&&!(o.getButton(c)!==0||c.detail===2)){if(c.target===this.inner){var f=this,p=c.clientX,$=function(C){p=C.clientX},m=function(){clearInterval(M)},y=c.clientX,v=this.thumbLeft,T=function(){if(p!==void 0){var C=f.scrollLeftFromThumbLeft(v+p-y);C!==f.scrollLeft&&f._emit("scroll",{data:C})}};o.capture(this.inner,$,m);var M=setInterval(T,20);return o.preventDefault(c)}var E=c.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(E)}),o.preventDefault(c)}},r.prototype.getHeight=function(){return this.isVisible?this.height:0},r.prototype.scrollLeftFromThumbLeft=function(s){var c=s*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return c=c>>0,c<0?c=0:c>this.pageWidth-this.viewWidth&&(c=this.pageWidth-this.viewWidth),c},r.prototype.setWidth=function(s){this.width=Math.max(0,s),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},r.prototype.setScrollWidth=function(s,c){this.pageWidth===s&&!c||(this.pageWidth=s,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},r.prototype.setScrollLeft=function(s){this.scrollLeft=s,s<0&&(s=0),this.thumbLeft=s*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},r}(t);i.prototype.setInnerWidth=i.prototype.setScrollWidth,h.ScrollBar=n,h.ScrollBarV=n,h.ScrollBarH=i,h.VScrollBar=n,h.HScrollBar=i}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(d,h,b){var g=d("./lib/event"),l=function(){function u(o,a){this.onRender=o,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=a||window;var t=this;this._flush=function(n){t.pending=!1;var i=t.changes;if(i&&(g.blockIdle(100),t.changes=0,t.onRender(i)),t.changes){if(t.$recursionLimit--<0)return;t.schedule()}else t.$recursionLimit=2}}return u.prototype.schedule=function(o){this.changes=this.changes|o,this.changes&&!this.pending&&(g.nextFrame(this._flush),this.pending=!0)},u.prototype.clear=function(o){var a=this.changes;return this.changes=0,a},u}();h.RenderLoop=l}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(d,h,b){var g=d("../lib/oop"),l=d("../lib/dom"),u=d("../lib/lang"),o=d("../lib/event"),a=d("../lib/useragent"),t=d("../lib/event_emitter").EventEmitter,n=512,i=typeof ResizeObserver=="function",e=200,r=function(){function s(c){this.el=l.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=l.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=l.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),c.appendChild(this.el),this.$measureNode.textContent=u.stringRepeat("X",n),this.$characterSize={width:0,height:0},i?this.$addObserver():this.checkForSizeChanges()}return s.prototype.$setMeasureNodeStyles=function(c,f){c.width=c.height="auto",c.left=c.top="0px",c.visibility="hidden",c.position="absolute",c.whiteSpace="pre",a.isIE<8?c["font-family"]="inherit":c.font="inherit",c.overflow=f?"hidden":"visible"},s.prototype.checkForSizeChanges=function(c){if(c===void 0&&(c=this.$measureSizes()),c&&(this.$characterSize.width!==c.width||this.$characterSize.height!==c.height)){this.$measureNode.style.fontWeight="bold";var f=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=c,this.charSizes=Object.create(null),this.allowBoldFonts=f&&f.width===c.width&&f.height===c.height,this._emit("changeCharacterSize",{data:c})}},s.prototype.$addObserver=function(){var c=this;this.$observer=new window.ResizeObserver(function(f){c.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},s.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var c=this;return this.$pollSizeChangesTimer=o.onIdle(function f(){c.checkForSizeChanges(),o.onIdle(f,500)},500)},s.prototype.setPolling=function(c){c?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},s.prototype.$measureSizes=function(c){var f={height:(c||this.$measureNode).clientHeight,width:(c||this.$measureNode).clientWidth/n};return f.width===0||f.height===0?null:f},s.prototype.$measureCharWidth=function(c){this.$main.textContent=u.stringRepeat(c,n);var f=this.$main.getBoundingClientRect();return f.width/n},s.prototype.getCharacterWidth=function(c){var f=this.charSizes[c];return f===void 0&&(f=this.charSizes[c]=this.$measureCharWidth(c)/this.$characterSize.width),f},s.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},s.prototype.$getZoom=function(c){return!c||!c.parentElement?1:(window.getComputedStyle(c).zoom||1)*this.$getZoom(c.parentElement)},s.prototype.$initTransformMeasureNodes=function(){var c=function(f,p){return["div",{style:"position: absolute;top:"+f+"px;left:"+p+"px;"}]};this.els=l.buildDom([c(0,0),c(e,0),c(0,e),c(e,e)],this.el)},s.prototype.transformCoordinates=function(c,f){if(c){var p=this.$getZoom(this.el);c=v(1/p,c)}function $(H,V,U){var _=H[1]*V[0]-H[0]*V[1];return[(-V[1]*U[0]+V[0]*U[1])/_,(+H[1]*U[0]-H[0]*U[1])/_]}function m(H,V){return[H[0]-V[0],H[1]-V[1]]}function y(H,V){return[H[0]+V[0],H[1]+V[1]]}function v(H,V){return[H*V[0],H*V[1]]}this.els||this.$initTransformMeasureNodes();function T(H){var V=H.getBoundingClientRect();return[V.left,V.top]}var M=T(this.els[0]),E=T(this.els[1]),C=T(this.els[2]),S=T(this.els[3]),I=$(m(S,E),m(S,C),m(y(E,C),y(S,M))),k=v(1+I[0],m(E,M)),w=v(1+I[1],m(C,M));if(f){var R=f,L=I[0]*R[0]/e+I[1]*R[1]/e+1,O=y(v(R[0],k),v(R[1],w));return y(v(1/L/e,O),M)}var P=m(c,M),B=$(m(k,v(I[0],P)),m(w,v(I[1],P)),P);return v(e,B)},s}();r.prototype.$characterSize={width:0,height:0},g.implement(r.prototype,t),h.FontMetrics=r}),ace.define("ace/css/editor-css",["require","exports","module"],function(d,h,b){b.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}
.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
    white-space: pre;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(d,h,b){var g=d("../lib/dom"),l=d("../lib/oop"),u=d("../lib/event_emitter").EventEmitter,o=function(){function a(t,n){this.canvas=g.createElement("canvas"),this.renderer=n,this.pixelRatio=1,this.maxHeight=n.layerConfig.maxHeight,this.lineHeight=n.layerConfig.lineHeight,this.canvasHeight=t.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=t.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top=0+"px",this.canvas.style.right=0+"px",this.canvas.style.zIndex=7+"px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},t.element.appendChild(this.canvas)}return a.prototype.$updateDecorators=function(t){var n=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(t){this.maxHeight=t.maxHeight,this.lineHeight=t.lineHeight,this.canvasHeight=t.height;var i=(t.lastRow+1)*this.lineHeight;i<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var e=this.canvas.getContext("2d");function r(S,I){return S.priority<I.priority?-1:S.priority>I.priority?1:0}var s=this.renderer.session.$annotations;if(e.clearRect(0,0,this.canvas.width,this.canvas.height),s){var c={info:1,warning:2,error:3};s.forEach(function(S){S.priority=c[S.type]||null}),s=s.sort(r);for(var f=this.renderer.session.$foldData,p=0;p<s.length;p++){var $=s[p].row,m=this.compensateFoldRows($,f),y=Math.round(($-m)*this.lineHeight*this.heightRatio),v=Math.round(($-m)*this.lineHeight*this.heightRatio),T=Math.round((($-m)*this.lineHeight+this.lineHeight)*this.heightRatio),M=T-v;if(M<this.minDecorationHeight){var E=(v+T)/2|0;E<this.halfMinDecorationHeight?E=this.halfMinDecorationHeight:E+this.halfMinDecorationHeight>this.canvasHeight&&(E=this.canvasHeight-this.halfMinDecorationHeight),v=Math.round(E-this.halfMinDecorationHeight),T=Math.round(E+this.halfMinDecorationHeight)}e.fillStyle=n[s[p].type]||null,e.fillRect(0,y,this.canvasWidth,T-v)}}var C=this.renderer.session.selection.getCursor();if(C){var m=this.compensateFoldRows(C.row,f),y=Math.round((C.row-m)*this.lineHeight*this.heightRatio);e.fillStyle="rgba(0, 0, 0, 0.5)",e.fillRect(0,y,this.canvasWidth,2)}},a.prototype.compensateFoldRows=function(t,n){var i=0;if(n&&n.length>0)for(var e=0;e<n.length;e++)t>n[e].start.row&&t<n[e].end.row?i+=t-n[e].start.row:t>=n[e].end.row&&(i+=n[e].end.row-n[e].start.row);return i},a}();l.implement(o.prototype,u),h.Decorator=o}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent"],function(d,h,b){var g=d("./lib/oop"),l=d("./lib/dom"),u=d("./lib/lang"),o=d("./config"),a=d("./layer/gutter").Gutter,t=d("./layer/marker").Marker,n=d("./layer/text").Text,i=d("./layer/cursor").Cursor,e=d("./scrollbar").HScrollBar,r=d("./scrollbar").VScrollBar,s=d("./scrollbar_custom").HScrollBar,c=d("./scrollbar_custom").VScrollBar,f=d("./renderloop").RenderLoop,p=d("./layer/font_metrics").FontMetrics,$=d("./lib/event_emitter").EventEmitter,m=d("./css/editor-css"),y=d("./layer/decorators").Decorator,v=d("./lib/useragent");l.importCssString(m,"ace_editor.css",!1);var T=function(){function M(E,C){var S=this;this.container=E||l.createElement("div"),l.addCssClass(this.container,"ace_editor"),l.HI_DPI&&l.addCssClass(this.container,"ace_hidpi"),this.setTheme(C),o.get("useStrictCSP")==null&&o.set("useStrictCSP",!1),this.$gutter=l.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=l.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=l.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new t(this.content);var I=this.$textLayer=new n(this.content);this.canvas=I.element,this.$markerFront=new t(this.content),this.$cursorLayer=new i(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new r(this.container,this),this.scrollBarH=new e(this.container,this),this.scrollBarV.on("scroll",function(k){S.$scrollAnimation||S.session.setScrollTop(k.data-S.scrollMargin.top)}),this.scrollBarH.on("scroll",function(k){S.$scrollAnimation||S.session.setScrollLeft(k.data-S.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(k){S.updateCharacterSize(),S.onResize(!0,S.gutterWidth,S.$size.width,S.$size.height),S._signal("changeCharacterSize",k)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!v.isIOS,this.$loop=new f(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),o.resetOptions(this),o._signal("renderer",this)}return M.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),l.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},M.prototype.setSession=function(E){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=E,E&&this.scrollMargin.top&&E.getScrollTop()<=0&&E.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(E),this.$markerBack.setSession(E),this.$markerFront.setSession(E),this.$gutterLayer.setSession(E),this.$textLayer.setSession(E),E&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},M.prototype.updateLines=function(E,C,S){if(C===void 0&&(C=1/0),this.$changedLines?(this.$changedLines.firstRow>E&&(this.$changedLines.firstRow=E),this.$changedLines.lastRow<C&&(this.$changedLines.lastRow=C)):this.$changedLines={firstRow:E,lastRow:C},this.$changedLines.lastRow<this.layerConfig.firstRow)if(S)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},M.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},M.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},M.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},M.prototype.updateFull=function(E){E?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},M.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},M.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},M.prototype.onResize=function(E,C,S,I){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=E?1:0;var k=this.container;I||(I=k.clientHeight||k.scrollHeight),S||(S=k.clientWidth||k.scrollWidth);var w=this.$updateCachedSize(E,C,S,I);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!S&&!I)return this.resizing=0;E&&(this.$gutterLayer.$padding=null),E?this.$renderChanges(w|this.$changes,!0):this.$loop.schedule(w|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},M.prototype.$updateCachedSize=function(E,C,S,I){I-=this.$extraHeight||0;var k=0,w=this.$size,R={width:w.width,height:w.height,scrollerHeight:w.scrollerHeight,scrollerWidth:w.scrollerWidth};if(I&&(E||w.height!=I)&&(w.height=I,k|=this.CHANGE_SIZE,w.scrollerHeight=w.height,this.$horizScroll&&(w.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(w.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",k=k|this.CHANGE_SCROLL),S&&(E||w.width!=S)){k|=this.CHANGE_SIZE,w.width=S,C==null&&(C=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=C,l.setStyle(this.scrollBarH.element.style,"left",C+"px"),l.setStyle(this.scroller.style,"left",C+this.margin.left+"px"),w.scrollerWidth=Math.max(0,S-C-this.scrollBarV.getWidth()-this.margin.h),l.setStyle(this.$gutter.style,"left",this.margin.left+"px");var L=this.scrollBarV.getWidth()+"px";l.setStyle(this.scrollBarH.element.style,"right",L),l.setStyle(this.scroller.style,"right",L),l.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(w.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||E)&&(k|=this.CHANGE_FULL)}return w.$dirty=!S||!I,k&&this._signal("resize",R),k},M.prototype.onGutterResize=function(E){var C=this.$showGutter?E:0;C!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,C,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},M.prototype.adjustWrapLimit=function(){var E=this.$size.scrollerWidth-this.$padding*2,C=Math.floor(E/this.characterWidth);return this.session.adjustWrapLimit(C,this.$showPrintMargin&&this.$printMarginColumn)},M.prototype.setAnimatedScroll=function(E){this.setOption("animatedScroll",E)},M.prototype.getAnimatedScroll=function(){return this.$animatedScroll},M.prototype.setShowInvisibles=function(E){this.setOption("showInvisibles",E),this.session.$bidiHandler.setShowInvisibles(E)},M.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},M.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},M.prototype.setDisplayIndentGuides=function(E){this.setOption("displayIndentGuides",E)},M.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},M.prototype.setHighlightIndentGuides=function(E){this.setOption("highlightIndentGuides",E)},M.prototype.setShowPrintMargin=function(E){this.setOption("showPrintMargin",E)},M.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},M.prototype.setPrintMarginColumn=function(E){this.setOption("printMarginColumn",E)},M.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},M.prototype.getShowGutter=function(){return this.getOption("showGutter")},M.prototype.setShowGutter=function(E){return this.setOption("showGutter",E)},M.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},M.prototype.setFadeFoldWidgets=function(E){this.setOption("fadeFoldWidgets",E)},M.prototype.setHighlightGutterLine=function(E){this.setOption("highlightGutterLine",E)},M.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},M.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var E=l.createElement("div");E.className="ace_layer ace_print-margin-layer",this.$printMarginEl=l.createElement("div"),this.$printMarginEl.className="ace_print-margin",E.appendChild(this.$printMarginEl),this.content.insertBefore(E,this.content.firstChild)}var C=this.$printMarginEl.style;C.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",C.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},M.prototype.getContainerElement=function(){return this.container},M.prototype.getMouseEventTarget=function(){return this.scroller},M.prototype.getTextAreaContainer=function(){return this.container},M.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var E=this.textarea.style,C=this.$composition;if(!this.$keepTextAreaAtCursor&&!C){l.translate(this.textarea,-100,0);return}var S=this.$cursorLayer.$pixelPos;if(!!S){C&&C.markerRange&&(S=this.$cursorLayer.getPixelPosition(C.markerRange.start,!0));var I=this.layerConfig,k=S.top,w=S.left;k-=I.offset;var R=C&&C.useTextareaForIME||v.isMobile?this.lineHeight:1;if(k<0||k>I.height-R){l.translate(this.textarea,0,0);return}var L=1,O=this.$size.height-R;if(!C)k+=this.lineHeight;else if(C.useTextareaForIME){var P=this.textarea.value;L=this.characterWidth*this.session.$getStringScreenWidth(P)[0]}else k+=this.lineHeight+2;w-=this.scrollLeft,w>this.$size.scrollerWidth-L&&(w=this.$size.scrollerWidth-L),w+=this.gutterWidth+this.margin.left,l.setStyle(E,"height",R+"px"),l.setStyle(E,"width",L+"px"),l.translate(this.textarea,Math.min(w,this.$size.scrollerWidth-L),Math.min(k,O))}}},M.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},M.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},M.prototype.getLastFullyVisibleRow=function(){var E=this.layerConfig,C=E.lastRow,S=this.session.documentToScreenRow(C,0)*E.lineHeight;return S-this.session.getScrollTop()>E.height-E.lineHeight?C-1:C},M.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},M.prototype.setPadding=function(E){this.$padding=E,this.$textLayer.setPadding(E),this.$cursorLayer.setPadding(E),this.$markerFront.setPadding(E),this.$markerBack.setPadding(E),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},M.prototype.setScrollMargin=function(E,C,S,I){var k=this.scrollMargin;k.top=E|0,k.bottom=C|0,k.right=I|0,k.left=S|0,k.v=k.top+k.bottom,k.h=k.left+k.right,k.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-k.top),this.updateFull()},M.prototype.setMargin=function(E,C,S,I){var k=this.margin;k.top=E|0,k.bottom=C|0,k.right=I|0,k.left=S|0,k.v=k.top+k.bottom,k.h=k.left+k.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},M.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},M.prototype.setHScrollBarAlwaysVisible=function(E){this.setOption("hScrollBarAlwaysVisible",E)},M.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},M.prototype.setVScrollBarAlwaysVisible=function(E){this.setOption("vScrollBarAlwaysVisible",E)},M.prototype.$updateScrollBarV=function(){var E=this.layerConfig.maxHeight,C=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(E-=(C-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>E-C&&(E=this.scrollTop+C,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(E+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},M.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},M.prototype.freeze=function(){this.$frozen=!0},M.prototype.unfreeze=function(){this.$frozen=!1},M.prototype.$renderChanges=function(E,C){if(this.$changes&&(E|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!E&&!C){this.$changes|=E;return}if(this.$size.$dirty)return this.$changes|=E,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",E),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var S=this.layerConfig;if(E&this.CHANGE_FULL||E&this.CHANGE_SIZE||E&this.CHANGE_TEXT||E&this.CHANGE_LINES||E&this.CHANGE_SCROLL||E&this.CHANGE_H_SCROLL){if(E|=this.$computeLayerConfig()|this.$loop.clear(),S.firstRow!=this.layerConfig.firstRow&&S.firstRowScreen==this.layerConfig.firstRowScreen){var I=this.scrollTop+(S.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;I>0&&(this.scrollTop=I,E=E|this.CHANGE_SCROLL,E|=this.$computeLayerConfig()|this.$loop.clear())}S=this.layerConfig,this.$updateScrollBarV(),E&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),l.translate(this.content,-this.scrollLeft,-S.offset);var k=S.width+2*this.$padding+"px",w=S.minHeight+"px";l.setStyle(this.content.style,"width",k),l.setStyle(this.content.style,"height",w)}if(E&this.CHANGE_H_SCROLL&&(l.translate(this.content,-this.scrollLeft,-S.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),E&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(S),this.$showGutter&&this.$gutterLayer.update(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S),this.$markerBack.update(S),this.$markerFront.update(S),this.$cursorLayer.update(S),this.$moveTextAreaToCursor(),this._signal("afterRender",E);return}if(E&this.CHANGE_SCROLL){this.$changedLines=null,E&this.CHANGE_TEXT||E&this.CHANGE_LINES?this.$textLayer.update(S):this.$textLayer.scrollLines(S),this.$showGutter&&(E&this.CHANGE_GUTTER||E&this.CHANGE_LINES?this.$gutterLayer.update(S):this.$gutterLayer.scrollLines(S)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S),this.$markerBack.update(S),this.$markerFront.update(S),this.$cursorLayer.update(S),this.$moveTextAreaToCursor(),this._signal("afterRender",E);return}E&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(S),this.$showGutter&&this.$gutterLayer.update(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S)):E&this.CHANGE_LINES?((this.$updateLines()||E&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S)):E&this.CHANGE_TEXT||E&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S)):E&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S)),E&this.CHANGE_CURSOR&&(this.$cursorLayer.update(S),this.$moveTextAreaToCursor()),E&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(S),E&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(S),this._signal("afterRender",E)},M.prototype.$autosize=function(){var E=this.session.getScreenLength()*this.lineHeight,C=this.$maxLines*this.lineHeight,S=Math.min(C,Math.max((this.$minLines||1)*this.lineHeight,E))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(S+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&S>this.$maxPixelHeight&&(S=this.$maxPixelHeight);var I=S<=2*this.lineHeight,k=!I&&E>C;if(S!=this.desiredHeight||this.$size.height!=this.desiredHeight||k!=this.$vScroll){k!=this.$vScroll&&(this.$vScroll=k,this.scrollBarV.setVisible(k));var w=this.container.clientWidth;this.container.style.height=S+"px",this.$updateCachedSize(!0,this.$gutterWidth,w,S),this.desiredHeight=S,this._signal("autosize")}},M.prototype.$computeLayerConfig=function(){var E=this.session,C=this.$size,S=C.height<=2*this.lineHeight,I=this.session.getScreenLength(),k=I*this.lineHeight,w=this.$getLongestLine(),R=!S&&(this.$hScrollBarAlwaysVisible||C.scrollerWidth-w-2*this.$padding<0),L=this.$horizScroll!==R;L&&(this.$horizScroll=R,this.scrollBarH.setVisible(R));var O=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var P=C.scrollerHeight+this.lineHeight,B=!this.$maxLines&&this.$scrollPastEnd?(C.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;k+=B;var H=this.scrollMargin;this.session.setScrollTop(Math.max(-H.top,Math.min(this.scrollTop,k-C.scrollerHeight+H.bottom))),this.session.setScrollLeft(Math.max(-H.left,Math.min(this.scrollLeft,w+2*this.$padding-C.scrollerWidth+H.right)));var V=!S&&(this.$vScrollBarAlwaysVisible||C.scrollerHeight-k+B<0||this.scrollTop>H.top),U=O!==V;U&&(this.$vScroll=V,this.scrollBarV.setVisible(V));var _=this.scrollTop%this.lineHeight,z=Math.ceil(P/this.lineHeight)-1,K=Math.max(0,Math.round((this.scrollTop-_)/this.lineHeight)),J=K+z,ee,ie,se=this.lineHeight;K=E.screenToDocumentRow(K,0);var he=E.getFoldLine(K);he&&(K=he.start.row),ee=E.documentToScreenRow(K,0),ie=E.getRowLength(K)*se,J=Math.min(E.screenToDocumentRow(J,0),E.getLength()-1),P=C.scrollerHeight+E.getRowLength(J)*se+ie,_=this.scrollTop-ee*se;var pe=0;return(this.layerConfig.width!=w||L)&&(pe=this.CHANGE_H_SCROLL),(L||U)&&(pe|=this.$updateCachedSize(!0,this.gutterWidth,C.width,C.height),this._signal("scrollbarVisibilityChanged"),U&&(w=this.$getLongestLine())),this.layerConfig={width:w,padding:this.$padding,firstRow:K,firstRowScreen:ee,lastRow:J,lineHeight:se,characterWidth:this.characterWidth,minHeight:P,maxHeight:k,offset:_,gutterOffset:se?Math.max(0,Math.ceil((_+C.height-C.scrollerHeight)/se)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(w-this.$padding),pe},M.prototype.$updateLines=function(){if(!!this.$changedLines){var E=this.$changedLines.firstRow,C=this.$changedLines.lastRow;this.$changedLines=null;var S=this.layerConfig;if(!(E>S.lastRow+1)&&!(C<S.firstRow)){if(C===1/0){this.$showGutter&&this.$gutterLayer.update(S),this.$textLayer.update(S);return}return this.$textLayer.updateLines(S,E,C),!0}}},M.prototype.$getLongestLine=function(){var E=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(E+=1),this.$textLayer&&E>this.$textLayer.MAX_LINE_LENGTH&&(E=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(E*this.characterWidth))},M.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},M.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},M.prototype.addGutterDecoration=function(E,C){this.$gutterLayer.addGutterDecoration(E,C)},M.prototype.removeGutterDecoration=function(E,C){this.$gutterLayer.removeGutterDecoration(E,C)},M.prototype.updateBreakpoints=function(E){this.$loop.schedule(this.CHANGE_GUTTER)},M.prototype.setAnnotations=function(E){this.$gutterLayer.setAnnotations(E),this.$loop.schedule(this.CHANGE_GUTTER)},M.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},M.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},M.prototype.showCursor=function(){this.$cursorLayer.showCursor()},M.prototype.scrollSelectionIntoView=function(E,C,S){this.scrollCursorIntoView(E,S),this.scrollCursorIntoView(C,S)},M.prototype.scrollCursorIntoView=function(E,C,S){if(this.$size.scrollerHeight!==0){var I=this.$cursorLayer.getPixelPosition(E),k=I.left,w=I.top,R=S&&S.top||0,L=S&&S.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var O=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;O+R>w?(C&&O+R>w+this.lineHeight&&(w-=C*this.$size.scrollerHeight),w===0&&(w=-this.scrollMargin.top),this.session.setScrollTop(w)):O+this.$size.scrollerHeight-L<w+this.lineHeight&&(C&&O+this.$size.scrollerHeight-L<w-this.lineHeight&&(w+=C*this.$size.scrollerHeight),this.session.setScrollTop(w+this.lineHeight+L-this.$size.scrollerHeight));var P=this.scrollLeft,B=2*this.layerConfig.characterWidth;k-B<P?(k-=B,k<this.$padding+B&&(k=-this.scrollMargin.left),this.session.setScrollLeft(k)):(k+=B,P+this.$size.scrollerWidth<k+this.characterWidth?this.session.setScrollLeft(Math.round(k+this.characterWidth-this.$size.scrollerWidth)):P<=this.$padding&&k-P<this.characterWidth&&this.session.setScrollLeft(0))}},M.prototype.getScrollTop=function(){return this.session.getScrollTop()},M.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},M.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},M.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},M.prototype.scrollToRow=function(E){this.session.setScrollTop(E*this.lineHeight)},M.prototype.alignCursor=function(E,C){typeof E=="number"&&(E={row:E,column:0});var S=this.$cursorLayer.getPixelPosition(E),I=this.$size.scrollerHeight-this.lineHeight,k=S.top-I*(C||0);return this.session.setScrollTop(k),k},M.prototype.$calcSteps=function(E,C){var S=0,I=this.STEPS,k=[],w=function(R,L,O){return O*(Math.pow(R-1,3)+1)+L};for(S=0;S<I;++S)k.push(w(S/this.STEPS,E,C-E));return k},M.prototype.scrollToLine=function(E,C,S,I){var k=this.$cursorLayer.getPixelPosition({row:E,column:0}),w=k.top;C&&(w-=this.$size.scrollerHeight/2);var R=this.scrollTop;this.session.setScrollTop(w),S!==!1&&this.animateScrolling(R,I)},M.prototype.animateScrolling=function(E,C){var S=this.scrollTop;if(!this.$animatedScroll)return;var I=this;if(E==S)return;if(this.$scrollAnimation){var k=this.$scrollAnimation.steps;if(k.length&&(E=k[0],E==S))return}var w=I.$calcSteps(E,S);this.$scrollAnimation={from:E,to:S,steps:w},clearInterval(this.$timer),I.session.setScrollTop(w.shift()),I.session.$scrollTop=S;function R(){I.$timer=clearInterval(I.$timer),I.$scrollAnimation=null,I.$stopAnimation=!1,C&&C()}this.$timer=setInterval(function(){if(I.$stopAnimation){R();return}if(!I.session)return clearInterval(I.$timer);w.length?(I.session.setScrollTop(w.shift()),I.session.$scrollTop=S):S!=null?(I.session.$scrollTop=-1,I.session.setScrollTop(S),S=null):R()},10)},M.prototype.scrollToY=function(E){this.scrollTop!==E&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=E)},M.prototype.scrollToX=function(E){this.scrollLeft!==E&&(this.scrollLeft=E),this.$loop.schedule(this.CHANGE_H_SCROLL)},M.prototype.scrollTo=function(E,C){this.session.setScrollTop(C),this.session.setScrollLeft(E)},M.prototype.scrollBy=function(E,C){C&&this.session.setScrollTop(this.session.getScrollTop()+C),E&&this.session.setScrollLeft(this.session.getScrollLeft()+E)},M.prototype.isScrollableBy=function(E,C){if(C<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||C>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||E<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||E>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},M.prototype.pixelToScreenCoordinates=function(E,C){var S;if(this.$hasCssTransforms){S={top:0,left:0};var I=this.$fontMetrics.transformCoordinates([E,C]);E=I[1]-this.gutterWidth-this.margin.left,C=I[0]}else S=this.scroller.getBoundingClientRect();var k=E+this.scrollLeft-S.left-this.$padding,w=k/this.characterWidth,R=Math.floor((C+this.scrollTop-S.top)/this.lineHeight),L=this.$blockCursor?Math.floor(w):Math.round(w);return{row:R,column:L,side:w-L>0?1:-1,offsetX:k}},M.prototype.screenToTextCoordinates=function(E,C){var S;if(this.$hasCssTransforms){S={top:0,left:0};var I=this.$fontMetrics.transformCoordinates([E,C]);E=I[1]-this.gutterWidth-this.margin.left,C=I[0]}else S=this.scroller.getBoundingClientRect();var k=E+this.scrollLeft-S.left-this.$padding,w=k/this.characterWidth,R=this.$blockCursor?Math.floor(w):Math.round(w),L=Math.floor((C+this.scrollTop-S.top)/this.lineHeight);return this.session.screenToDocumentPosition(L,Math.max(R,0),k)},M.prototype.textToScreenCoordinates=function(E,C){var S=this.scroller.getBoundingClientRect(),I=this.session.documentToScreenPosition(E,C),k=this.$padding+(this.session.$bidiHandler.isBidiRow(I.row,E)?this.session.$bidiHandler.getPosLeft(I.column):Math.round(I.column*this.characterWidth)),w=I.row*this.lineHeight;return{pageX:S.left+k-this.scrollLeft,pageY:S.top+w-this.scrollTop}},M.prototype.visualizeFocus=function(){l.addCssClass(this.container,"ace_focus")},M.prototype.visualizeBlur=function(){l.removeCssClass(this.container,"ace_focus")},M.prototype.showComposition=function(E){this.$composition=E,E.cssText||(E.cssText=this.textarea.style.cssText),E.useTextareaForIME==null&&(E.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(l.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):E.markerId=this.session.addMarker(E.markerRange,"ace_composition_marker","text")},M.prototype.setCompositionText=function(E){var C=this.session.selection.cursor;this.addToken(E,"composition_placeholder",C.row,C.column),this.$moveTextAreaToCursor()},M.prototype.hideComposition=function(){if(!!this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),l.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var E=this.session.selection.cursor;this.removeExtraToken(E.row,E.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},M.prototype.setGhostText=function(E,C){var S=this.session.selection.cursor,I=C||{row:S.row,column:S.column};this.removeGhostText();var k=E.split(`
`);this.addToken(k[0],"ghost_text",I.row,I.column),this.$ghostText={text:E,position:{row:I.row,column:I.column}},k.length>1&&(this.$ghostTextWidget={text:k.slice(1).join(`
`),row:I.row,column:I.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget))},M.prototype.removeGhostText=function(){if(!!this.$ghostText){var E=this.$ghostText.position;this.removeExtraToken(E.row,E.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},M.prototype.addToken=function(E,C,S,I){var k=this.session;k.bgTokenizer.lines[S]=null;var w={type:C,value:E},R=k.getTokens(S);if(I==null||!R.length)R.push(w);else for(var L=0,O=0;O<R.length;O++){var P=R[O];if(L+=P.value.length,I<=L){var B=P.value.length-(L-I),H=P.value.slice(0,B),V=P.value.slice(B);R.splice(O,1,{type:P.type,value:H},w,{type:P.type,value:V});break}}this.updateLines(S,S)},M.prototype.removeExtraToken=function(E,C){this.session.bgTokenizer.lines[E]=null,this.updateLines(E,E)},M.prototype.setTheme=function(E,C){var S=this;if(this.$themeId=E,S._dispatchEvent("themeChange",{theme:E}),!E||typeof E=="string"){var I=E||this.$options.theme.initialValue;o.loadModule(["theme",I],k)}else k(E);function k(w){if(S.$themeId!=E)return C&&C();if(!w||!w.cssClass)throw new Error("couldn't load module "+E+" or it didn't call define");w.$id&&(S.$themeId=w.$id),l.importCssString(w.cssText,w.cssClass,S.container),S.theme&&l.removeCssClass(S.container,S.theme.cssClass);var R="padding"in w?w.padding:"padding"in(S.theme||{})?4:S.$padding;S.$padding&&R!=S.$padding&&S.setPadding(R),S.$theme=w.cssClass,S.theme=w,l.addCssClass(S.container,w.cssClass),l.setCssClass(S.container,"ace_dark",w.isDark),S.$size&&(S.$size.width=0,S.$updateSizeAsync()),S._dispatchEvent("themeLoaded",{theme:w}),C&&C()}},M.prototype.getTheme=function(){return this.$themeId},M.prototype.setStyle=function(E,C){l.setCssClass(this.container,E,C!==!1)},M.prototype.unsetStyle=function(E){l.removeCssClass(this.container,E)},M.prototype.setCursorStyle=function(E){l.setStyle(this.scroller.style,"cursor",E)},M.prototype.setMouseCursor=function(E){l.setStyle(this.scroller.style,"cursor",E)},M.prototype.attachToShadowRoot=function(){l.importCssString(m,"ace_editor.css",this.container)},M.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},M.prototype.$updateCustomScrollbar=function(E){var C=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,E===!0?(this.scrollBarV=new c(this.container,this),this.scrollBarH=new s(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(S){C.$scrollAnimation||C.session.setScrollTop(S.data-C.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(S){C.$scrollAnimation||C.session.setScrollLeft(S.data-C.scrollMargin.left)}),this.$scrollDecorator=new y(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new r(this.container,this),this.scrollBarH=new e(this.container,this),this.scrollBarV.addEventListener("scroll",function(S){C.$scrollAnimation||C.session.setScrollTop(S.data-C.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(S){C.$scrollAnimation||C.session.setScrollLeft(S.data-C.scrollMargin.left)}))},M.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var E=this;this.$resizeTimer=u.delayedCall(function(){E.destroyed||E.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(C){var S=C[0].contentRect.width,I=C[0].contentRect.height;Math.abs(E.$size.width-S)>1||Math.abs(E.$size.height-I)>1?E.$resizeTimer.delay():E.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},M}();T.prototype.CHANGE_CURSOR=1,T.prototype.CHANGE_MARKER=2,T.prototype.CHANGE_GUTTER=4,T.prototype.CHANGE_SCROLL=8,T.prototype.CHANGE_LINES=16,T.prototype.CHANGE_TEXT=32,T.prototype.CHANGE_SIZE=64,T.prototype.CHANGE_MARKER_BACK=128,T.prototype.CHANGE_MARKER_FRONT=256,T.prototype.CHANGE_FULL=512,T.prototype.CHANGE_H_SCROLL=1024,T.prototype.$changes=0,T.prototype.$padding=null,T.prototype.$frozen=!1,T.prototype.STEPS=8,g.implement(T.prototype,$),o.defineOptions(T.prototype,"renderer",{useResizeObserver:{set:function(M){!M&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):M&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(M){this.$textLayer.setShowInvisibles(M)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(M){typeof M=="number"&&(this.$printMarginColumn=M),this.$showPrintMargin=!!M,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(M){this.$gutter.style.display=M?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(M){this.$gutterLayer.$useSvgGutterIcons=M},initialValue:!1},showFoldedAnnotations:{set:function(M){this.$gutterLayer.$showFoldedAnnotations=M},initialValue:!1},fadeFoldWidgets:{set:function(M){l.setCssClass(this.$gutter,"ace_fade-fold-widgets",M)},initialValue:!1},showFoldWidgets:{set:function(M){this.$gutterLayer.setShowFoldWidgets(M),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(M){this.$textLayer.setDisplayIndentGuides(M)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(M){this.$textLayer.setHighlightIndentGuides(M)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(M){this.$gutterLayer.setHighlightGutterLine(M),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(M){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(M){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(M){typeof M=="number"&&(M=M+"px"),this.container.style.fontSize=M,this.updateFontSize()},initialValue:12},fontFamily:{set:function(M){this.container.style.fontFamily=M,this.updateFontSize()}},maxLines:{set:function(M){this.updateFull()}},minLines:{set:function(M){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(M){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(M){M=+M||0,this.$scrollPastEnd!=M&&(this.$scrollPastEnd=M,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(M){this.$gutterLayer.$fixedWidth=!!M,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(M){this.$updateCustomScrollbar(M)},initialValue:!1},theme:{set:function(M){this.setTheme(M)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!v.isMobile&&!v.isIE}}),h.VirtualRenderer=T}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(d,h,b){var g=d("../lib/oop"),l=d("../lib/net"),u=d("../lib/event_emitter").EventEmitter,o=d("../config");function a(e){var r="importScripts('"+l.qualifyURL(e)+"');";try{return new Blob([r],{type:"application/javascript"})}catch(f){var s=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,c=new s;return c.append(r),c.getBlob("application/javascript")}}function t(e){if(typeof Worker=="undefined")return{postMessage:function(){},terminate:function(){}};if(o.get("loadWorkerFromBlob")){var r=a(e),s=window.URL||window.webkitURL,c=s.createObjectURL(r);return new Worker(c)}return new Worker(e)}var n=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){g.implement(this,u),this.$createWorkerFromOldConfig=function(e,r,s,c,f){if(d.nameToUrl&&!d.toUrl&&(d.toUrl=d.nameToUrl),o.get("packaged")||!d.toUrl)c=c||o.moduleUrl(r,"worker");else{var p=this.$normalizePath;c=c||p(d.toUrl("ace/worker/worker.js",null,"_"));var $={};e.forEach(function(m){$[m]=p(d.toUrl(m,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=t(c),f&&this.send("importScripts",f),this.$worker.postMessage({init:!0,tlns:$,module:r,classname:s}),this.$worker},this.onMessage=function(e){var r=e.data;switch(r.type){case"event":this._signal(r.name,{data:r.data});break;case"call":var s=this.callbacks[r.id];s&&(s(r.data),delete this.callbacks[r.id]);break;case"error":this.reportError(r.data);break;case"log":window.console&&console.log&&console.log.apply(console,r.data);break}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return l.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(e){e.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,r){this.$worker.postMessage({command:e,args:r})},this.call=function(e,r,s){if(s){var c=this.callbackId++;this.callbacks[c]=s,r.push(c)}this.send(e,r)},this.emit=function(e,r){try{r.data&&r.data.err&&(r.data.err={message:r.data.err.message,stack:r.data.err.stack,code:r.data.err.code}),this.$worker&&this.$worker.postMessage({event:e,data:{data:r.data}})}catch(s){console.error(s.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener,!0)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),e.action=="insert"?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;!e||(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(n.prototype);var i=function(e,r,s){var c=null,f=!1,p=Object.create(u),$=[],m=new n({messageBuffer:$,terminate:function(){},postMessage:function(v){$.push(v),c&&(f?setTimeout(y):y())}});m.setEmitSync=function(v){f=v};var y=function(){var v=$.shift();v.command?c[v.command].apply(c,v.args):v.event&&p._signal(v.event,v.data)};return p.postMessage=function(v){m.onMessage({data:v})},p.callback=function(v,T){this.postMessage({type:"call",id:T,data:v})},p.emit=function(v,T){this.postMessage({type:"event",name:v,data:T})},o.loadModule(["worker",r],function(v){for(c=new v[s](p);$.length;)y()}),m};h.UIWorkerClient=i,h.WorkerClient=n,h.createWorker=t}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(d,h,b){var g=d("./range").Range,l=d("./lib/event_emitter").EventEmitter,u=d("./lib/oop"),o=function(){function a(t,n,i,e,r,s){var c=this;this.length=n,this.session=t,this.doc=t.getDocument(),this.mainClass=r,this.othersClass=s,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=e,this.$onCursorChange=function(){setTimeout(function(){c.onCursorChange()})},this.$pos=i;var f=t.getUndoManager().$undoStack||t.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=f.length,this.setup(),t.selection.on("changeCursor",this.$onCursorChange)}return a.prototype.setup=function(){var t=this,n=this.doc,i=this.session;this.selectionBefore=i.selection.toJSON(),i.selection.inMultiSelectMode&&i.selection.toSingleRange(),this.pos=n.createAnchor(this.$pos.row,this.$pos.column);var e=this.pos;e.$insertRight=!0,e.detach(),e.markerId=i.addMarker(new g(e.row,e.column,e.row,e.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(r){var s=n.createAnchor(r.row,r.column);s.$insertRight=!0,s.detach(),t.others.push(s)}),i.setUndoSelect(!1)},a.prototype.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,n=this;this.othersActive=!0,this.others.forEach(function(i){i.markerId=t.addMarker(new g(i.row,i.column,i.row,i.column+n.length),n.othersClass,null,!1)})}},a.prototype.hideOtherMarkers=function(){if(!!this.othersActive){this.othersActive=!1;for(var t=0;t<this.others.length;t++)this.session.removeMarker(this.others[t].markerId)}},a.prototype.onUpdate=function(t){if(this.$updating)return this.updateAnchors(t);var n=t;if(n.start.row===n.end.row&&n.start.row===this.pos.row){this.$updating=!0;var i=t.action==="insert"?n.end.column-n.start.column:n.start.column-n.end.column,e=n.start.column>=this.pos.column&&n.start.column<=this.pos.column+this.length+1,r=n.start.column-this.pos.column;if(this.updateAnchors(t),e&&(this.length+=i),e&&!this.session.$fromUndo){if(t.action==="insert")for(var s=this.others.length-1;s>=0;s--){var c=this.others[s],f={row:c.row,column:c.column+r};this.doc.insertMergedLines(f,t.lines)}else if(t.action==="remove")for(var s=this.others.length-1;s>=0;s--){var c=this.others[s],f={row:c.row,column:c.column+r};this.doc.remove(new g(f.row,f.column,f.row,f.column-i))}}this.$updating=!1,this.updateMarkers()}},a.prototype.updateAnchors=function(t){this.pos.onChange(t);for(var n=this.others.length;n--;)this.others[n].onChange(t);this.updateMarkers()},a.prototype.updateMarkers=function(){if(!this.$updating){var t=this,n=this.session,i=function(r,s){n.removeMarker(r.markerId),r.markerId=n.addMarker(new g(r.row,r.column,r.row,r.column+t.length),s,null,!1)};i(this.pos,this.mainClass);for(var e=this.others.length;e--;)i(this.others[e],this.othersClass)}},a.prototype.onCursorChange=function(t){if(!(this.$updating||!this.session)){var n=this.session.selection.getCursor();n.row===this.pos.row&&n.column>=this.pos.column&&n.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",t)):(this.hideOtherMarkers(),this._emit("cursorLeave",t))}},a.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},a.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var t=this.session.getUndoManager(),n=(t.$undoStack||t.$undostack).length-this.$undoStackDepth,i=0;i<n;i++)t.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},a}();u.implement(o.prototype,l),h.PlaceHolder=o}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(d,h,b){var g=d("../lib/event"),l=d("../lib/useragent");function u(a,t){return a.row==t.row&&a.column==t.column}function o(a){var t=a.domEvent,n=t.altKey,i=t.shiftKey,e=t.ctrlKey,r=a.getAccelKey(),s=a.getButton();if(e&&l.isMac&&(s=t.button),a.editor.inMultiSelectMode&&s==2){a.editor.textInput.onContextMenu(a.domEvent);return}if(!e&&!n&&!r){s===0&&a.editor.inMultiSelectMode&&a.editor.exitMultiSelectMode();return}if(s===0){var c=a.editor,f=c.selection,p=c.inMultiSelectMode,$=a.getDocumentPosition(),m=f.getCursor(),y=a.inSelection()||f.isEmpty()&&u($,m),v=a.x,T=a.y,M=function(V){v=V.clientX,T=V.clientY},E=c.session,C=c.renderer.pixelToScreenCoordinates(v,T),S=C,I;if(c.$mouseHandler.$enableJumpToDef)e&&n||r&&n?I=i?"block":"add":n&&c.$blockSelectEnabled&&(I="block");else if(r&&!n){if(I="add",!p&&i)return}else n&&c.$blockSelectEnabled&&(I="block");if(I&&l.isMac&&t.ctrlKey&&c.$mouseHandler.cancelContextMenu(),I=="add"){if(!p&&y)return;if(!p){var k=f.toOrientedRange();c.addSelectionMarker(k)}var w=f.rangeList.rangeAtPoint($);c.inVirtualSelectionMode=!0,i&&(w=null,k=f.ranges[0]||k,c.removeSelectionMarker(k)),c.once("mouseup",function(){var V=f.toOrientedRange();w&&V.isEmpty()&&u(w.cursor,V.cursor)?f.substractPoint(V.cursor):(i?f.substractPoint(k.cursor):k&&(c.removeSelectionMarker(k),f.addRange(k)),f.addRange(V)),c.inVirtualSelectionMode=!1})}else if(I=="block"){a.stop(),c.inVirtualSelectionMode=!0;var R,L=[],O=function(){var V=c.renderer.pixelToScreenCoordinates(v,T),U=E.screenToDocumentPosition(V.row,V.column,V.offsetX);u(S,V)&&u(U,f.lead)||(S=V,c.selection.moveToPosition(U),c.renderer.scrollCursorIntoView(),c.removeSelectionMarkers(L),L=f.rectangularRangeBlock(S,C),c.$mouseHandler.$clickSelection&&L.length==1&&L[0].isEmpty()&&(L[0]=c.$mouseHandler.$clickSelection.clone()),L.forEach(c.addSelectionMarker,c),c.updateSelectionMarkers())};p&&!r?f.toSingleRange():!p&&r&&(R=f.toOrientedRange(),c.addSelectionMarker(R)),i?C=E.documentToScreenPosition(f.lead):f.moveToPosition($),S={row:-1,column:-1};var P=function(V){O(),clearInterval(H),c.removeSelectionMarkers(L),L.length||(L=[f.toOrientedRange()]),R&&(c.removeSelectionMarker(R),f.toSingleRange(R));for(var U=0;U<L.length;U++)f.addRange(L[U]);c.inVirtualSelectionMode=!1,c.$mouseHandler.$clickSelection=null},B=O;g.capture(c.container,M,P);var H=setInterval(function(){B()},20);return a.preventDefault()}}}h.onMouseDown=o}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(d,h,b){h.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(l){l.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(l){l.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(l){l.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(l){l.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(l){l.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(l){l.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(l){l.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(l){l.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(l){l.multiSelect.rangeCount>1?l.multiSelect.joinSelections():l.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(l){l.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(l){l.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(l){l.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],h.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(l){l.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(l){return l&&l.inMultiSelectMode}}];var g=d("../keyboard/hash_handler").HashHandler;h.keyboardHandler=new g(h.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(d,h,b){var g=d("./range_list").RangeList,l=d("./range").Range,u=d("./selection").Selection,o=d("./mouse/multi_select_handler").onMouseDown,a=d("./lib/event"),t=d("./lib/lang"),n=d("./commands/multi_select_commands");h.commands=n.defaultCommands.concat(n.multiSelectCommands);var i=d("./search").Search,e=new i;function r(m,y,v){return e.$options.wrap=!0,e.$options.needle=y,e.$options.backwards=v==-1,e.find(m)}var s=d("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(s.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(m,y){if(!!m){if(!this.inMultiSelectMode&&this.rangeCount===0){var v=this.toOrientedRange();if(this.rangeList.add(v),this.rangeList.add(m),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),y||this.fromOrientedRange(m);this.rangeList.removeAll(),this.rangeList.add(v),this.$onAddRange(v)}m.cursor||(m.cursor=m.end);var T=this.rangeList.add(m);return this.$onAddRange(m),T.length&&this.$onRemoveRange(T),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),y||this.fromOrientedRange(m)}},this.toSingleRange=function(m){m=m||this.ranges[0];var y=this.rangeList.removeAll();y.length&&this.$onRemoveRange(y),m&&this.fromOrientedRange(m)},this.substractPoint=function(m){var y=this.rangeList.substractPoint(m);if(y)return this.$onRemoveRange(y),y[0]},this.mergeOverlappingRanges=function(){var m=this.rangeList.merge();m.length&&this.$onRemoveRange(m)},this.$onAddRange=function(m){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(m),this._signal("addRange",{range:m})},this.$onRemoveRange=function(m){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var y=this.rangeList.ranges.pop();m.push(y),this.rangeCount=0}for(var v=m.length;v--;){var T=this.ranges.indexOf(m[v]);this.ranges.splice(T,1)}this._signal("removeRange",{ranges:m}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),y=y||this.ranges[0],y&&!y.isEqual(this.getRange())&&this.fromOrientedRange(y)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new g,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var m=this.ranges.length?this.ranges:[this.getRange()],y=[],v=0;v<m.length;v++){var T=m[v],M=T.start.row,E=T.end.row;if(M===E)y.push(T.clone());else{for(y.push(new l(M,T.start.column,M,this.session.getLine(M).length));++M<E;)y.push(this.getLineRange(M,!0));y.push(new l(E,0,E,T.end.column))}v==0&&!this.isBackwards()&&(y=y.reverse())}this.toSingleRange();for(var v=y.length;v--;)this.addRange(y[v])},this.joinSelections=function(){var m=this.rangeList.ranges,y=m[m.length-1],v=l.fromPoints(m[0].start,y.end);this.toSingleRange(),this.setSelectionRange(v,y.cursor==y.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var m=this.rangeList.ranges,y=m[m.length-1],v=l.fromPoints(m[0].start,y.end);this.toSingleRange(),this.setSelectionRange(v,y.cursor==y.start)}else{var T=this.session.documentToScreenPosition(this.cursor),M=this.session.documentToScreenPosition(this.anchor),E=this.rectangularRangeBlock(T,M);E.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(m,y,v){var T=[],M=m.column<y.column;if(M)var E=m.column,C=y.column,S=m.offsetX,I=y.offsetX;else var E=y.column,C=m.column,S=y.offsetX,I=m.offsetX;var k=m.row<y.row;if(k)var w=m.row,R=y.row;else var w=y.row,R=m.row;E<0&&(E=0),w<0&&(w=0),w==R&&(v=!0);for(var L,O=w;O<=R;O++){var P=l.fromPoints(this.session.screenToDocumentPosition(O,E,S),this.session.screenToDocumentPosition(O,C,I));if(P.isEmpty()){if(L&&f(P.end,L))break;L=P.end}P.cursor=M?P.start:P.end,T.push(P)}if(k&&T.reverse(),!v){for(var B=T.length-1;T[B].isEmpty()&&B>0;)B--;if(B>0)for(var H=0;T[H].isEmpty();)H++;for(var V=B;V>=H;V--)T[V].isEmpty()&&T.splice(V,1)}return T}}.call(u.prototype);var c=d("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(m){m.cursor||(m.cursor=m.end);var y=this.getSelectionStyle();return m.marker=this.session.addMarker(m,"ace_selection",y),this.session.$selectionMarkers.push(m),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,m},this.removeSelectionMarker=function(m){if(!!m.marker){this.session.removeMarker(m.marker);var y=this.session.$selectionMarkers.indexOf(m);y!=-1&&this.session.$selectionMarkers.splice(y,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(m){for(var y=this.session.$selectionMarkers,v=m.length;v--;){var T=m[v];if(!!T.marker){this.session.removeMarker(T.marker);var M=y.indexOf(T);M!=-1&&y.splice(M,1)}}this.session.selectionMarkerCount=y.length},this.$onAddRange=function(m){this.addSelectionMarker(m.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(m){this.removeSelectionMarkers(m.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(m){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(n.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(m){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(n.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(m){var y=m.command,v=m.editor;if(!!v.multiSelect){if(y.multiSelectAction)y.multiSelectAction=="forEach"?T=v.forEachSelection(y,m.args):y.multiSelectAction=="forEachLine"?T=v.forEachSelection(y,m.args,!0):y.multiSelectAction=="single"?(v.exitMultiSelectMode(),T=y.exec(v,m.args||{})):T=y.multiSelectAction(v,m.args||{});else{var T=y.exec(v,m.args||{});v.multiSelect.addRange(v.multiSelect.toOrientedRange()),v.multiSelect.mergeOverlappingRanges()}return T}},this.forEachSelection=function(m,y,v){if(!this.inVirtualSelectionMode){var T=v&&v.keepOrder,M=v==!0||v&&v.$byLines,E=this.session,C=this.selection,S=C.rangeList,I=(T?C:S).ranges,k;if(!I.length)return m.exec?m.exec(this,y||{}):m(this,y||{});var w=C._eventRegistry;C._eventRegistry={};var R=new u(E);this.inVirtualSelectionMode=!0;for(var L=I.length;L--;){if(M)for(;L>0&&I[L].start.row==I[L-1].end.row;)L--;R.fromOrientedRange(I[L]),R.index=L,this.selection=E.selection=R;var O=m.exec?m.exec(this,y||{}):m(this,y||{});!k&&O!==void 0&&(k=O),R.toOrientedRange(I[L])}R.detach(),this.selection=E.selection=C,this.inVirtualSelectionMode=!1,C._eventRegistry=w,C.mergeOverlappingRanges(),C.ranges[0]&&C.fromOrientedRange(C.ranges[0]);var P=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),P&&P.from==P.to&&this.renderer.animateScrolling(P.from),k}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var m="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var y=this.multiSelect.rangeList.ranges,v=[],T=0;T<y.length;T++)v.push(this.session.getTextRange(y[T]));var M=this.session.getDocument().getNewLineCharacter();m=v.join(M),m.length==(v.length-1)*M.length&&(m="")}else this.selection.isEmpty()||(m=this.session.getTextRange(this.getSelectionRange()));return m},this.$checkMultiselectChange=function(m,y){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var v=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&y==this.multiSelect.anchor)return;var T=y==this.multiSelect.anchor?v.cursor==v.start?v.end:v.start:v.cursor;T.row!=y.row||this.session.$clipPositionToDocument(T.row,T.column).column!=y.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(m,y,v){if(y=y||{},y.needle=m||y.needle,y.needle==null){var T=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();y.needle=this.session.getTextRange(T)}this.$search.set(y);var M=this.$search.findAll(this.session);if(!M.length)return 0;var E=this.multiSelect;v||E.toSingleRange(M[0]);for(var C=M.length;C--;)E.addRange(M[C],!0);return T&&E.rangeList.rangeAtPoint(T.start)&&E.addRange(T,!0),M.length},this.selectMoreLines=function(m,y){var v=this.selection.toOrientedRange(),T=v.cursor==v.end,M=this.session.documentToScreenPosition(v.cursor);this.selection.$desiredColumn&&(M.column=this.selection.$desiredColumn);var E=this.session.screenToDocumentPosition(M.row+m,M.column);if(v.isEmpty())var S=E;else var C=this.session.documentToScreenPosition(T?v.end:v.start),S=this.session.screenToDocumentPosition(C.row+m,C.column);if(T){var I=l.fromPoints(E,S);I.cursor=I.start}else{var I=l.fromPoints(S,E);I.cursor=I.end}if(I.desiredColumn=M.column,!this.selection.inMultiSelectMode)this.selection.addRange(v);else if(y)var k=v.cursor;this.selection.addRange(I),k&&this.selection.substractPoint(k)},this.transposeSelections=function(m){for(var y=this.session,v=y.multiSelect,T=v.ranges,M=T.length;M--;){var E=T[M];if(E.isEmpty()){var C=y.getWordRange(E.start.row,E.start.column);E.start.row=C.start.row,E.start.column=C.start.column,E.end.row=C.end.row,E.end.column=C.end.column}}v.mergeOverlappingRanges();for(var S=[],M=T.length;M--;){var E=T[M];S.unshift(y.getTextRange(E))}m<0?S.unshift(S.pop()):S.push(S.shift());for(var M=T.length;M--;){var E=T[M],C=E.clone();y.replace(E,S[M]),E.start.row=C.start.row,E.start.column=C.start.column}v.fromOrientedRange(v.ranges[0])},this.selectMore=function(m,y,v){var T=this.session,M=T.multiSelect,E=M.toOrientedRange();if(!(E.isEmpty()&&(E=T.getWordRange(E.start.row,E.start.column),E.cursor=m==-1?E.start:E.end,this.multiSelect.addRange(E),v))){var C=T.getTextRange(E),S=r(T,C,m);S&&(S.cursor=m==-1?S.start:S.end,this.session.unfold(S),this.multiSelect.addRange(S),this.renderer.scrollCursorIntoView(null,.5)),y&&this.multiSelect.substractPoint(E.cursor)}},this.alignCursors=function(){var m=this.session,y=m.multiSelect,v=y.ranges,T=-1,M=v.filter(function(B){if(B.cursor.row==T)return!0;T=B.cursor.row});if(!v.length||M.length==v.length-1){var E=this.selection.getRange(),C=E.start.row,S=E.end.row,I=C==S;if(I){var k=this.session.getLength(),w;do w=this.session.getLine(S);while(/[=:]/.test(w)&&++S<k);do w=this.session.getLine(C);while(/[=:]/.test(w)&&--C>0);C<0&&(C=0),S>=k&&(S=k-1)}var R=this.session.removeFullLines(C,S);R=this.$reAlignText(R,I),this.session.insert({row:C,column:0},R.join(`
`)+`
`),I||(E.start.column=0,E.end.column=R[R.length-1].length),this.selection.setRange(E)}else{M.forEach(function(B){y.substractPoint(B.cursor)});var L=0,O=1/0,P=v.map(function(B){var H=B.cursor,V=m.getLine(H.row),U=V.substr(H.column).search(/\S/g);return U==-1&&(U=0),H.column>L&&(L=H.column),U<O&&(O=U),U});v.forEach(function(B,H){var V=B.cursor,U=L-V.column,_=P[H]-O;U>_?m.insert(V,t.stringRepeat(" ",U-_)):m.remove(new l(V.row,V.column,V.row,V.column-U+_)),B.start.column=B.end.column=L,B.start.row=B.end.row=V.row,B.cursor=B.end}),y.fromOrientedRange(v[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(m,y){var v=!0,T=!0,M,E,C;return m.map(function(R){var L=R.match(/(\s*)(.*?)(\s*)([=:].*)/);return L?M==null?(M=L[1].length,E=L[2].length,C=L[3].length,L):(M+E+C!=L[1].length+L[2].length+L[3].length&&(T=!1),M!=L[1].length&&(v=!1),M>L[1].length&&(M=L[1].length),E<L[2].length&&(E=L[2].length),C>L[3].length&&(C=L[3].length),L):[R]}).map(y?I:v?T?k:I:w);function S(R){return t.stringRepeat(" ",R)}function I(R){return R[2]?S(M)+R[2]+S(E-R[2].length+C)+R[4].replace(/^([=:])\s+/,"$1 "):R[0]}function k(R){return R[2]?S(M+E-R[2].length)+R[2]+S(C)+R[4].replace(/^([=:])\s+/,"$1 "):R[0]}function w(R){return R[2]?S(M)+R[2]+S(C)+R[4].replace(/^([=:])\s+/,"$1 "):R[0]}}}).call(c.prototype);function f(m,y){return m.row==y.row&&m.column==y.column}h.onSessionChange=function(m){var y=m.session;y&&!y.multiSelect&&(y.$selectionMarkers=[],y.selection.$initRangeList(),y.multiSelect=y.selection),this.multiSelect=y&&y.multiSelect;var v=m.oldSession;v&&(v.multiSelect.off("addRange",this.$onAddRange),v.multiSelect.off("removeRange",this.$onRemoveRange),v.multiSelect.off("multiSelect",this.$onMultiSelect),v.multiSelect.off("singleSelect",this.$onSingleSelect),v.multiSelect.lead.off("change",this.$checkMultiselectChange),v.multiSelect.anchor.off("change",this.$checkMultiselectChange)),y&&(y.multiSelect.on("addRange",this.$onAddRange),y.multiSelect.on("removeRange",this.$onRemoveRange),y.multiSelect.on("multiSelect",this.$onMultiSelect),y.multiSelect.on("singleSelect",this.$onSingleSelect),y.multiSelect.lead.on("change",this.$checkMultiselectChange),y.multiSelect.anchor.on("change",this.$checkMultiselectChange)),y&&this.inMultiSelectMode!=y.selection.inMultiSelectMode&&(y.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function p(m){m.$multiselectOnSessionChange||(m.$onAddRange=m.$onAddRange.bind(m),m.$onRemoveRange=m.$onRemoveRange.bind(m),m.$onMultiSelect=m.$onMultiSelect.bind(m),m.$onSingleSelect=m.$onSingleSelect.bind(m),m.$multiselectOnSessionChange=h.onSessionChange.bind(m),m.$checkMultiselectChange=m.$checkMultiselectChange.bind(m),m.$multiselectOnSessionChange(m),m.on("changeSession",m.$multiselectOnSessionChange),m.on("mousedown",o),m.commands.addCommands(n.defaultCommands),$(m))}function $(m){if(!m.textInput)return;var y=m.textInput.getElement(),v=!1;a.addListener(y,"keydown",function(M){var E=M.keyCode==18&&!(M.ctrlKey||M.shiftKey||M.metaKey);m.$blockSelectEnabled&&E?v||(m.renderer.setMouseCursor("crosshair"),v=!0):v&&T()},m),a.addListener(y,"keyup",T,m),a.addListener(y,"blur",T,m);function T(M){v&&(m.renderer.setMouseCursor(""),v=!1)}}h.MultiSelect=p,d("./config").defineOptions(c.prototype,"editor",{enableMultiselect:{set:function(m){p(this),m?this.on("mousedown",o):this.off("mousedown",o)},value:!0},enableBlockSelect:{set:function(m){this.$blockSelectEnabled=m},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(d,h,b){var g=d("../../range").Range,l=h.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(u,o,a){var t=u.getLine(a);return this.foldingStartMarker.test(t)?"start":o=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(t)?"end":""},this.getFoldWidgetRange=function(u,o,a){return null},this.indentationBlock=function(u,o,a){var t=/\S/,n=u.getLine(o),i=n.search(t);if(i!=-1){for(var e=a||n.length,r=u.getLength(),s=o,c=o;++o<r;){var f=u.getLine(o).search(t);if(f!=-1){if(f<=i){var p=u.getTokenAt(o,0);if(!p||p.type!=="string")break}c=o}}if(c>s){var $=u.getLine(c).length;return new g(s,e,c,$)}}},this.openingBracketBlock=function(u,o,a,t,n){var i={row:a,column:t+1},e=u.$findClosingBracket(o,i,n);if(!!e){var r=u.foldWidgets[e.row];return r==null&&(r=u.getFoldWidget(e.row)),r=="start"&&e.row>i.row&&(e.row--,e.column=u.getLine(e.row).length),g.fromPoints(i,e)}},this.closingBracketBlock=function(u,o,a,t,n){var i={row:a,column:t},e=u.$findOpeningBracket(o,i);if(!!e)return e.column++,i.column--,g.fromPoints(e,i)}}).call(l.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],function(d,h,b){var g=d("../line_widgets").LineWidgets,l=d("../lib/dom"),u=d("../range").Range,o=d("../config").nls;function a(n,i,e){for(var r=0,s=n.length-1;r<=s;){var c=r+s>>1,f=e(i,n[c]);if(f>0)r=c+1;else if(f<0)s=c-1;else return c}return-(r+1)}function t(n,i,e){var r=n.getAnnotations().sort(u.comparePoints);if(!!r.length){var s=a(r,{row:i,column:-1},u.comparePoints);s<0&&(s=-s-1),s>=r.length?s=e>0?0:r.length-1:s===0&&e<0&&(s=r.length-1);var c=r[s];if(!(!c||!e)){if(c.row===i){do c=r[s+=e];while(c&&c.row===i);if(!c)return r.slice()}var f=[];i=c.row;do f[e<0?"unshift":"push"](c),c=r[s+=e];while(c&&c.row==i);return f.length&&f}}}h.showErrorMarker=function(n,i){var e=n.session;e.widgetManager||(e.widgetManager=new g(e),e.widgetManager.attach(n));var r=n.getCursorPosition(),s=r.row,c=e.widgetManager.getWidgetsAtRow(s).filter(function(E){return E.type=="errorMarker"})[0];c?c.destroy():s-=i;var f=t(e,s,i),p;if(f){var $=f[0];r.column=($.pos&&typeof $.column!="number"?$.pos.sc:$.column)||0,r.row=$.row,p=n.renderer.$gutterLayer.$annotations[r.row]}else{if(c)return;p={text:[o("Looks good!")],className:"ace_ok"}}n.session.unfold(r.row),n.selection.moveToPosition(r);var m={row:r.row,fixedWidth:!0,coverGutter:!0,el:l.createElement("div"),type:"errorMarker"},y=m.el.appendChild(l.createElement("div")),v=m.el.appendChild(l.createElement("div"));v.className="error_widget_arrow "+p.className;var T=n.renderer.$cursorLayer.getPixelPosition(r).left;v.style.left=T+n.renderer.gutterWidth-5+"px",m.el.className="error_widget_wrapper",y.className="error_widget "+p.className,y.innerHTML=p.text.join("<br>"),y.appendChild(l.createElement("div"));var M=function(E,C,S){if(C===0&&(S==="esc"||S==="return"))return m.destroy(),{command:"null"}};m.destroy=function(){n.$mouseHandler.isMousePressed||(n.keyBinding.removeKeyboardHandler(M),e.widgetManager.removeLineWidget(m),n.off("changeSelection",m.destroy),n.off("changeSession",m.destroy),n.off("mouseup",m.destroy),n.off("change",m.destroy))},n.keyBinding.addKeyboardHandler(M),n.on("changeSelection",m.destroy),n.on("changeSession",m.destroy),n.on("mouseup",m.destroy),n.on("change",m.destroy),n.session.widgetManager.addLineWidget(m),m.el.onmousedown=n.focus.bind(n),n.renderer.scrollCursorIntoView(null,.5,{bottom:m.el.offsetHeight})},l.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(d,h,b){d("./loader_build")(h);var g=d("./lib/dom"),l=d("./range").Range,u=d("./editor").Editor,o=d("./edit_session").EditSession,a=d("./undomanager").UndoManager,t=d("./virtual_renderer").VirtualRenderer;d("./worker/worker_client"),d("./keyboard/hash_handler"),d("./placeholder"),d("./multi_select"),d("./mode/folding/fold_mode"),d("./theme/textmate"),d("./ext/error_marker"),h.config=d("./config"),h.edit=function(n,i){if(typeof n=="string"){var e=n;if(n=document.getElementById(e),!n)throw new Error("ace.edit can't find div #"+e)}if(n&&n.env&&n.env.editor instanceof u)return n.env.editor;var r="";if(n&&/input|textarea/i.test(n.tagName)){var s=n;r=s.value,n=g.createElement("pre"),s.parentNode.replaceChild(n,s)}else n&&(r=n.textContent,n.innerHTML="");var c=h.createEditSession(r),f=new u(new t(n),c,i),p={document:c,editor:f,onResize:f.resize.bind(f,null)};return s&&(p.textarea=s),f.on("destroy",function(){p.editor.container.env=null}),f.container.env=f.env=p,f},h.createEditSession=function(n,i){var e=new o(n,i);return e.setUndoManager(new a),e},h.Range=l,h.Editor=u,h.EditSession=o,h.UndoManager=a,h.VirtualRenderer=t,h.version=h.config.version}),function(){ace.require(["ace/ace"],function(d){d&&(d.config.init(!0),d.define=ace.define),window.ace||(window.ace=d);for(var h in d)d.hasOwnProperty(h)&&(window.ace[h]=d[h]);window.ace.default=window.ace,A&&(A.exports=window.ace)})}()})(Ir);const Ju=Ir.exports;var qu={exports:{}};(function(A,x){ace.define("ace/theme/chrome-css",["require","exports","module"],function(d,h,b){b.exports=`.ace-chrome .ace_gutter {
  background: #ebebeb;
  color: #333;
  overflow : hidden;
}

.ace-chrome .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-chrome {
  background-color: #FFFFFF;
  color: black;
}

.ace-chrome .ace_cursor {
  color: black;
}

.ace-chrome .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-chrome .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-chrome .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-chrome .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-chrome .ace_invalid {
  background-color: rgb(153, 0, 0);
  color: white;
}

.ace-chrome .ace_fold {
}

.ace-chrome .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-chrome .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-chrome .ace_support.ace_type,
.ace-chrome .ace_support.ace_class
.ace-chrome .ace_support.ace_other {
  color: rgb(109, 121, 222);
}

.ace-chrome .ace_variable.ace_parameter {
  font-style:italic;
  color:#FD971F;
}
.ace-chrome .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-chrome .ace_comment {
  color: #236e24;
}

.ace-chrome .ace_comment.ace_doc {
  color: #236e24;
}

.ace-chrome .ace_comment.ace_doc.ace_tag {
  color: #236e24;
}

.ace-chrome .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-chrome .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-chrome .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-chrome .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-chrome .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-chrome .ace_list {
  color:rgb(185, 6, 144);
}

.ace-chrome .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}

.ace-chrome .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-chrome .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-chrome .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-chrome .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-chrome .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-chrome .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-chrome .ace_storage,
.ace-chrome .ace_keyword,
.ace-chrome .ace_meta.ace_tag {
  color: rgb(147, 15, 128);
}

.ace-chrome .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-chrome .ace_string {
  color: #1A1AA6;
}

.ace-chrome .ace_entity.ace_other.ace_attribute-name {
  color: #994409;
}

.ace-chrome .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}
  
.ace-chrome .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/chrome",["require","exports","module","ace/theme/chrome-css","ace/lib/dom"],function(d,h,b){h.isDark=!1,h.cssClass="ace-chrome",h.cssText=d("./chrome-css");var g=d("../lib/dom");g.importCssString(h.cssText,h.cssClass,!1)}),function(){ace.require(["ace/theme/chrome"],function(d){A&&(A.exports=d)})}()})(qu);var ed={exports:{}};(function(A,x){ace.define("ace/theme/twilight-css",["require","exports","module"],function(d,h,b){b.exports=`.ace-twilight .ace_gutter {
  background: #232323;
  color: #E2E2E2
}

.ace-twilight .ace_print-margin {
  width: 1px;
  background: #232323
}

.ace-twilight {
  background-color: #141414;
  color: #F8F8F8
}

.ace-twilight .ace_cursor {
  color: #A7A7A7
}

.ace-twilight .ace_marker-layer .ace_selection {
  background: rgba(221, 240, 255, 0.20)
}

.ace-twilight.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #141414;
}

.ace-twilight .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-twilight .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgba(255, 255, 255, 0.25)
}

.ace-twilight .ace_marker-layer .ace_active-line {
  background: rgba(255, 255, 255, 0.031)
}

.ace-twilight .ace_gutter-active-line {
  background-color: rgba(255, 255, 255, 0.031)
}

.ace-twilight .ace_marker-layer .ace_selected-word {
  border: 1px solid rgba(221, 240, 255, 0.20)
}

.ace-twilight .ace_invisible {
  color: rgba(255, 255, 255, 0.25)
}

.ace-twilight .ace_keyword,
.ace-twilight .ace_meta {
  color: #CDA869
}

.ace-twilight .ace_constant,
.ace-twilight .ace_constant.ace_character,
.ace-twilight .ace_constant.ace_character.ace_escape,
.ace-twilight .ace_constant.ace_other,
.ace-twilight .ace_heading,
.ace-twilight .ace_markup.ace_heading,
.ace-twilight .ace_support.ace_constant {
  color: #CF6A4C
}

.ace-twilight .ace_invalid.ace_illegal {
  color: #F8F8F8;
  background-color: rgba(86, 45, 86, 0.75)
}

.ace-twilight .ace_invalid.ace_deprecated {
  text-decoration: underline;
  font-style: italic;
  color: #D2A8A1
}

.ace-twilight .ace_support {
  color: #9B859D
}

.ace-twilight .ace_fold {
  background-color: #AC885B;
  border-color: #F8F8F8
}

.ace-twilight .ace_support.ace_function {
  color: #DAD085
}

.ace-twilight .ace_list,
.ace-twilight .ace_markup.ace_list,
.ace-twilight .ace_storage {
  color: #F9EE98
}

.ace-twilight .ace_entity.ace_name.ace_function,
.ace-twilight .ace_meta.ace_tag {
  color: #AC885B
}

.ace-twilight .ace_string {
  color: #8F9D6A
}

.ace-twilight .ace_string.ace_regexp {
  color: #E9C062
}

.ace-twilight .ace_comment {
  font-style: italic;
  color: #5F5A60
}

.ace-twilight .ace_variable {
  color: #7587A6
}

.ace-twilight .ace_xml-pe {
  color: #494949
}

.ace-twilight .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWMQERFpYLC1tf0PAAgOAnPnhxyiAAAAAElFTkSuQmCC) right repeat-y
}

.ace-twilight .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/twilight",["require","exports","module","ace/theme/twilight-css","ace/lib/dom"],function(d,h,b){h.isDark=!0,h.cssClass="ace-twilight",h.cssText=d("./twilight-css");var g=d("../lib/dom");g.importCssString(h.cssText,h.cssClass,!1)}),function(){ace.require(["ace/theme/twilight"],function(d){A&&(A.exports=d)})}()})(ed);const td={class:"mb-1 text-xs font-bold uppercase text-gray-600"},nd=Ve({__name:"CodeEditor",props:{modelValue:{type:[Object,String,Array]},type:{type:String,default:"JSON"},label:{type:String,default:""},readonly:{type:Boolean,default:!1},height:{type:String,default:"200px"},showLineNumbers:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(A,{emit:x}){const d=A,h=ba(),b=le(null);return Bt(()=>{let g=d.modelValue;const l=Ju.edit(b.value||"");if(l.setReadOnly(d.readonly),l.setOptions({fontSize:"12px",useWorker:!1,showGutter:d.showLineNumbers}),d.type==="CSS")fn(()=>import("./mode-css.7bc30ff6.js").then(u=>u.m),[]).then(()=>{l.session.setMode("ace/mode/css")});else if(d.type==="JavaScript")fn(()=>import("./mode-javascript.4d55ad72.js").then(u=>u.m),[]).then(()=>{l.session.setMode("ace/mode/javascript")});else if(d.type==="Python")fn(()=>import("./mode-python.23b7fa7c.js").then(u=>u.m),[]).then(()=>{l.session.setMode("ace/mode/python")});else if(d.type==="JSON"){fn(()=>import("./mode-json.837c971c.js").then(u=>u.m),[]).then(()=>{l.session.setMode("ace/mode/json")});try{g=JSON.stringify(g,null,2)}catch(u){}}else fn(()=>import("./mode-html.465d4c71.js").then(u=>u.m),[]).then(()=>{l.session.setMode("ace/mode/html")});l.setValue(g),l.on("blur",()=>{try{let u=l.getValue();if(d.type==="JSON"&&(u=JSON.parse(u)),u===d.modelValue)return;x("update:modelValue",u)}catch(u){}}),Ct(h,()=>{l.setTheme(h.value?"ace/theme/twilight":"ace/theme/chrome")},{immediate:!0}),Ct(()=>d.modelValue,()=>{let u=d.modelValue;d.type==="JSON"&&(u=JSON.stringify(u,null,2)),l.setValue(u)})}),(g,l)=>(q(),me("div",{class:"editor",style:Pe({height:A.height})},[X("h3",td,Ge(A.label),1),X("div",{ref_key:"editor",ref:b,class:"border border-gray-200 dark:border-zinc-800"},null,512)],4))}});const En=dr(nd,[["__scopeId","data-v-c09812a0"]]),ln=Ve({__name:"DimensionInput",props:{property:{type:String,required:!0},label:{type:String,required:!0}},setup(A){const x=A;return(d,h)=>(q(),ge(Ne,{type:"autocomplete",label:A.label,enableSlider:!0,options:[{label:"Auto",value:"auto"},{label:"Fit Content",value:"fit-content"},{label:"Stretch",value:"100%"}],modelValue:F(W).getStyle(x.property),unitOptions:["px","%","vw","vh"],"onUpdate:modelValue":h[0]||(h[0]=b=>F(W).setStyle(A.property,b))},null,8,["label","modelValue"]))}}),id={key:0,class:"mt-[-10px] flex select-none flex-col gap-3 pb-16"},rd=X("hr",{class:"dark:border-zinc-700"},null,-1),od={class:"flex items-center justify-between"},sd=X("span",{class:"inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400"}," Visibility ",-1),ad={class:"flex items-center justify-between"},ld=X("span",{class:"inline-block text-[10px] font-medium uppercase text-gray-600 dark:text-zinc-400"}," Overflow ",-1),cd={class:"flex w-[150px] gap-2"},ud={key:1},dd=X("p",{class:"text-center text-sm text-gray-600 dark:text-zinc-500"},"Select a block to edit properties.",-1),hd=[dd],fd=Ve({__name:"BlockProperties",setup(A){const x=b=>{ki(b).then(()=>{W.setFontFamily(b)})},d=()=>W.getClasses().join(", "),h=b=>{const g=b.split(",").map(l=>l.trim());W.setClasses(g)};return(b,g)=>{const l=it("Input");return F(W).isBLockSelected()?(q(),me("div",id,[F(W).multipleBlocksSelected()?fe("",!0):(q(),ge(Gt,{key:0,sectionName:"Layout"},{default:Re(()=>[re(Mu)]),_:1})),re(Gt,{sectionName:"Style"},{default:Re(()=>[re(ui,{label:"BG Color",value:F(W).getStyle("background"),onChange:g[0]||(g[0]=u=>F(W).setStyle("background",u))},null,8,["value"]),re(ui,{label:"Text Color",value:F(W).getTextColor(),onChange:g[1]||(g[1]=u=>F(W).setTextColor(u))},null,8,["value"]),re(ui,{label:"Border Color",value:F(W).getStyle("borderColor"),onChange:g[2]||(g[2]=u=>{F(W).setStyle("borderColor",u),u?F(W).getStyle("borderWidth")||(F(W).setStyle("borderWidth","1px"),F(W).setStyle("borderStyle","solid")):(F(W).setStyle("borderWidth",null),F(W).setStyle("borderStyle",null))})},null,8,["value"]),Ce(re(Ne,{label:"Border Width",modelValue:F(W).getStyle("borderWidth"),"onUpdate:modelValue":g[3]||(g[3]=u=>F(W).setStyle("borderWidth",u))},null,8,["modelValue"]),[[$e,F(W).getStyle("borderColor")]]),Ce(re(Ne,{label:"Border Style",modelValue:F(W).getStyle("borderStyle"),type:"select",options:["solid","dashed","dotted"],"onUpdate:modelValue":g[4]||(g[4]=u=>F(W).setStyle("borderStyle",u))},null,8,["modelValue"]),[[$e,F(W).getStyle("borderColor")]]),re(pu),re(Ne,{label:"Shadow",type:"select",options:[{value:null,label:"None"},{label:"Small",value:"rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 1px 2px 0px, rgba(0, 0, 0, 0.05) 0px 1px 3px 0px"},{label:"Medium",value:"rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.1) 0px 4px 6px -4px"},{label:"Large",value:"rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0.1) 0px 20px 25px -5px, rgba(0, 0, 0, 0.1) 0px 10px 10px -5px"}],modelValue:F(W).getStyle("boxShadow"),"onUpdate:modelValue":g[5]||(g[5]=u=>F(W).setStyle("boxShadow",u))},null,8,["options","modelValue"]),re(Ne,{label:"Border Radius",modelValue:F(W).getStyle("borderRadius"),enableSlider:!0,unitOptions:["px","%"],minValue:0,"onUpdate:modelValue":g[6]||(g[6]=u=>F(W).setStyle("borderRadius",u))},null,8,["modelValue"]),!F(W).multipleBlocksSelected()&&!F(W).isRoot()&&F(W).getStyle("position")!=="static"?(q(),ge(Ne,{key:0,label:"Z-Index",modelValue:F(W).getStyle("zIndex"),"onUpdate:modelValue":g[7]||(g[7]=u=>F(W).setStyle("zIndex",u))},null,8,["modelValue"])):fe("",!0)]),_:1}),F(W).isText()||F(W).isContainer()?(q(),ge(Gt,{key:1,sectionName:"Typography"},{default:Re(()=>[F(W).isText()||F(W).isContainer()?(q(),ge(Ne,{key:0,label:"Family",type:"autocomplete",options:F(_a),modelValue:F(W).getFontFamily(),"onUpdate:modelValue":g[8]||(g[8]=u=>x(u))},null,8,["options","modelValue"])):fe("",!0),F(W).isText()||F(W).isContainer()?(q(),ge(Ne,{key:1,label:"Weight",modelValue:F(W).getStyle("fontWeight"),type:"autocomplete",options:F(Ga)(F(W).getStyle("fontFamily")||"Inter"),"onUpdate:modelValue":g[9]||(g[9]=u=>F(W).setStyle("fontWeight",u))},null,8,["modelValue","options"])):fe("",!0),F(W).isText()||F(W).isInput()?(q(),ge(Ne,{key:2,label:"Size",modelValue:F(W).getStyle("fontSize"),enableSlider:!0,"onUpdate:modelValue":g[10]||(g[10]=u=>F(W).setStyle("fontSize",u))},null,8,["modelValue"])):fe("",!0),F(W).isText()?(q(),ge(Ne,{key:3,label:"Height",modelValue:F(W).getStyle("lineHeight"),"onUpdate:modelValue":g[11]||(g[11]=u=>F(W).setStyle("lineHeight",u))},null,8,["modelValue"])):fe("",!0),F(W).isText()?(q(),ge(Ne,{key:4,label:"Letter",modelValue:F(W).getStyle("letterSpacing"),"onUpdate:modelValue":g[12]||(g[12]=u=>F(W).setStyle("letterSpacing",u))},null,8,["modelValue"])):fe("",!0),F(W).isText()?(q(),ge(Ne,{key:5,label:"Transform",modelValue:F(W).getStyle("textTransform"),type:"select",options:[{value:null,label:"None"},{value:"uppercase",label:"Uppercase"},{value:"lowercase",label:"Lowercase"},{value:"capitalize",label:"Capitalize"}],"onUpdate:modelValue":g[13]||(g[13]=u=>F(W).setStyle("textTransform",u))},null,8,["modelValue"])):fe("",!0),F(W).isText()?(q(),ge(Ne,{key:6,label:"Align",modelValue:F(W).getStyle("textAlign")||"left",type:"select",options:["left","center","right","justify"],"onUpdate:modelValue":g[14]||(g[14]=u=>F(W).setStyle("textAlign",u))},null,8,["modelValue"])):fe("",!0)]),_:1})):fe("",!0),re(Gt,{sectionName:"Dimension"},{default:Re(()=>[re(ln,{label:"Width",property:"width"}),re(ln,{label:"Min Width",property:"minWidth"}),re(ln,{label:"Max Width",property:"maxWidth"}),rd,re(ln,{label:"Height",property:"height"}),re(ln,{label:"Min Height",property:"minHeight"}),re(ln,{label:"Max Height",property:"maxHeight"})]),_:1}),F(W).multipleBlocksSelected()?fe("",!0):(q(),ge(Gt,{key:2,sectionName:"Position"},{default:Re(()=>[re(Ou)]),_:1})),F(W).multipleBlocksSelected()?fe("",!0):(q(),ge(Gt,{key:3,sectionName:"Spacing"},{default:Re(()=>[!F(W).multipleBlocksSelected()&&!F(W).isRoot()?(q(),ge(Ne,{key:0,label:"Margin",modelValue:F(W).getMargin(),"onUpdate:modelValue":g[15]||(g[15]=u=>F(W).setMargin(u))},null,8,["modelValue"])):fe("",!0),F(W).multipleBlocksSelected()?fe("",!0):(q(),ge(Ne,{key:1,label:"Padding",modelValue:F(W).getPadding(),"onUpdate:modelValue":g[16]||(g[16]=u=>F(W).setPadding(u))},null,8,["modelValue"]))]),_:1})),re(Gt,{sectionName:"Options"},{default:Re(()=>[F(W).isLink()?(q(),ge(Ne,{key:0,label:"Link",modelValue:F(W).getAttribute("href"),"onUpdate:modelValue":g[17]||(g[17]=u=>F(W).setAttribute("href",u))},null,8,["modelValue"])):fe("",!0),F(W).isImage()?(q(),ge(Ne,{key:1,label:"Image URL",modelValue:F(W).getAttribute("src"),"onUpdate:modelValue":g[18]||(g[18]=u=>F(W).setAttribute("src",u))},null,8,["modelValue"])):fe("",!0),F(W).isImage()?(q(),ge(Ne,{key:2,label:"Image Fit",modelValue:F(W).getStyle("objectFit"),type:"select",options:["fill","contain","cover","none"],"onUpdate:modelValue":g[19]||(g[19]=u=>F(W).setStyle("objectFit",u))},null,8,["modelValue"])):fe("",!0),re(Ne,{label:"Tag",modelValue:F(W).getKeyValue("element"),type:"select",options:["span","div","section","button","p","h1","h2","h3","a","input","hr"],"onUpdate:modelValue":g[20]||(g[20]=u=>F(W).setKeyValue("element",u))},null,8,["modelValue"]),F(W).isInput()?(q(),ge(Ne,{key:3,label:"Input Type",modelValue:F(W).getAttribute("type")||"text",type:"select",options:["text","number","email","password","date","time","search","tel","url","color"],"onUpdate:modelValue":g[21]||(g[21]=u=>F(W).setAttribute("type",u))},null,8,["modelValue"])):fe("",!0),F(W).isInput()?(q(),ge(Ne,{key:4,label:"Placeholder",modelValue:F(W).getAttribute("placeholder"),"onUpdate:modelValue":g[22]||(g[22]=u=>F(W).setAttribute("placeholder",u))},null,8,["modelValue"])):fe("",!0),F(W).isText()||F(W).isButton()?(q(),ge(Ne,{key:5,label:"Content",modelValue:F(W).getTextContent(),"onUpdate:modelValue":g[23]||(g[23]=u=>F(W).setKeyValue("innerHTML",u))},null,8,["modelValue"])):fe("",!0),X("div",od,[sd,re(F(Yt),{class:"[&>div>button[aria-checked='false']]:dark:!bg-transparent [&>div>button[aria-checked='false']]:dark:!text-zinc-400 [&>div>button[aria-checked='true']]:dark:!bg-zinc-700 [&>div>button]:dark:!bg-zinc-700 [&>div>button]:dark:!text-zinc-100 [&>div]:dark:!bg-zinc-800",buttons:[{label:"Visible",value:"flex"},{label:"Hidden",value:"none"}],modelValue:F(W).getStyle("display")||"flex","onUpdate:modelValue":g[24]||(g[24]=u=>F(W).setStyle("display",u))},null,8,["modelValue"])]),X("div",ad,[ld,X("div",cd,[re(l,{type:"select",modelValue:F(W).getStyle("overflowX")||"auto",options:["auto","hidden","scroll"],onChange:g[25]||(g[25]=u=>F(W).setStyle("overflowX",u)),class:"flex-1 rounded-md text-sm text-gray-800 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-200 dark:focus:bg-zinc-700"},null,8,["modelValue"]),re(l,{type:"select",modelValue:F(W).getStyle("overflowY")||"auto",options:["auto","hidden","scroll"],onChange:g[26]||(g[26]=u=>F(W).setStyle("overflowY",u)),class:"flex-1 rounded-md text-sm text-gray-800 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-200 dark:focus:bg-zinc-700"},null,8,["modelValue"])])]),F(W).isImage()?(q(),ge(Ne,{key:6,label:"Alt Text",modelValue:F(W).getAttribute("alt"),"onUpdate:modelValue":g[27]||(g[27]=u=>F(W).setAttribute("alt",u))},null,8,["modelValue"])):fe("",!0),F(W).multipleBlocksSelected()?fe("",!0):(q(),ge(Ne,{key:7,label:"Class",modelValue:d(),"onUpdate:modelValue":g[28]||(g[28]=u=>h(u))},null,8,["modelValue"])),F(W).isHTML()?(q(),ge(En,{key:8,class:"mt-8",label:"HTML",type:"HTML",modelValue:F(W).getInnerHTML()||"","onUpdate:modelValue":g[29]||(g[29]=u=>{F(W).setInnerHTML(u)})},null,8,["modelValue"])):fe("",!0)]),_:1}),re(Gt,{sectionName:"Data Key"},{default:Re(()=>[re(Ne,{label:"Key",modelValue:F(W).getDataKey("key"),"onUpdate:modelValue":g[30]||(g[30]=u=>F(W).setDataKey("key",u))},null,8,["modelValue"]),re(Ne,{label:"Type",modelValue:F(W).getDataKey("type"),"onUpdate:modelValue":g[31]||(g[31]=u=>F(W).setDataKey("type",u))},null,8,["modelValue"]),re(Ne,{label:"Property",modelValue:F(W).getDataKey("property"),"onUpdate:modelValue":g[32]||(g[32]=u=>F(W).setDataKey("property",u))},null,8,["modelValue"])]),_:1})])):(q(),me("div",ud,hd))}}}),pd=X("span",{class:"text-xs text-gray-600"},[Nt(' data.events = frappe.get_list("Event") '),X("br"),X("b",null,"Note:"),Nt(" Each key value of data should be a list. ")],-1),gd=Ve({__name:"PageData",setup(A){const x=rt(),d=le(!1),h=le(x.getActivePage());Bt(()=>{h.value=x.getActivePage()});const b=({close:g})=>{Mt.setValue.submit({name:h.value.name,page_data_script:h.value.page_data_script}).then(()=>{g(),x.setPageData()})};return(g,l)=>{const u=it("Button");return q(),me("div",null,[re(u,{onClick:l[0]||(l[0]=o=>d.value=!d.value),class:"text-base dark:bg-zinc-800 dark:text-zinc-200 dark:hover:bg-zinc-700","icon-left":"code"},{default:Re(()=>[Nt(" Set Data Script ")]),_:1}),re(En,{modelValue:F(x).pageData,"onUpdate:modelValue":l[1]||(l[1]=o=>F(x).pageData=o),type:"JSON",label:"Page Data Preview",readonly:!0,class:"mt-5"},null,8,["modelValue"]),re(F(cr),{style:{"z-index":"40"},options:{title:"Page Data Script",size:"4xl",actions:[{label:"Save",variant:"solid",onClick:b}]},modelValue:d.value,"onUpdate:modelValue":l[3]||(l[3]=o=>d.value=o)},{"body-content":Re(()=>[re(En,{modelValue:h.value.page_data_script,"onUpdate:modelValue":l[2]||(l[2]=o=>h.value.page_data_script=o),type:"Python",height:"60vh","show-line-numbers":!0},null,8,["modelValue"]),pd]),_:1},8,["options","modelValue"])])}}}),vd={class:"flex flex-row flex-wrap gap-5"},md=X("h3",{class:"mb-1 w-full text-xs font-bold uppercase text-gray-600"},"Page Options",-1),yd={key:0,class:"w-full"},bd=X("h3",{class:"mt-5 text-xs font-bold uppercase text-gray-600"},"Route Values",-1),wd={class:"mt-5 flex flex-row flex-wrap gap-5"},Sd=Ve({__name:"PageSettings",setup(A){const x=rt(),d=ve(()=>x.getActivePage()),h=ve(()=>{var g;return(((g=d.value.route)==null?void 0:g.match(/<\w+>/g))||[]).map(l=>l.slice(1,-1))});return(b,g)=>{const l=it("Button");return q(),me("div",null,[X("div",vd,[md,re(Ne,{label:"Title",type:"text",class:"w-full text-sm",modelValue:d.value.page_title,"onUpdate:modelValue":g[0]||(g[0]=u=>F(Mt).setValue.submit({name:d.value.name,page_title:u}))},null,8,["modelValue"]),re(Ne,{type:"text",class:"w-full text-sm",label:"Route",modelValue:d.value.route,"onUpdate:modelValue":g[1]||(g[1]=u=>F(Mt).setValue.submit({name:d.value.name,route:u}))},null,8,["modelValue"]),re(Ne,{label:"Dynamic Route?",class:"w-full text-sm",type:"checkbox",modelValue:d.value.dynamic_route,"onUpdate:modelValue":g[2]||(g[2]=u=>F(Mt).setValue.submit({name:d.value.name,dynamic_route:u}))},null,8,["modelValue"]),d.value.dynamic_route?(q(),me("div",yd,[bd,X("div",wd,[(q(!0),me(st,null,pt(h.value,(u,o)=>(q(),ge(Ne,{key:o,type:"text",label:u,class:"w-full text-sm",modelValue:F(x).routeVariables[u],"onUpdate:modelValue":a=>F(x).setRouteVariable(u,a)},null,8,["label","modelValue","onUpdate:modelValue"]))),128))])])):fe("",!0),re(l,{onClick:g[3]||(g[3]=()=>F(x).openInDesk(d.value)),class:"block text-base dark:bg-zinc-800 dark:text-zinc-200 dark:hover:bg-zinc-700","icon-left":"code"},{default:Re(()=>[Nt(" View in Desk ")]),_:1})])])}}}),xd={class:"sticky top-0 z-[12] flex w-full border-gray-200 bg-white p-[2px] text-sm dark:border-zinc-800 dark:bg-zinc-900"},Cd=["onClick"],$d=Ve({__name:"BuilderRightPanel",setup(A){const x=rt();return(d,h)=>(q(),me("div",{style:Pe({width:`${F(x).builderLayout.rightPanelWidth}px`})},[re($i,{dimension:F(x).builderLayout.rightPanelWidth,side:"left",onResize:h[0]||(h[0]=b=>F(x).builderLayout.rightPanelWidth=b),"min-dimension":275,"max-dimension":400},null,8,["dimension"]),X("div",xd,[(q(),me(st,null,pt(["Properties","Data","Settings"],b=>X("button",{key:b,class:Te(["mx-3 flex-1 p-2",{"border-b-[1px] border-gray-900 dark:border-zinc-500 dark:text-zinc-300":F(x).rightPanelActiveTab===b,"text-gray-700 dark:text-zinc-500":F(x).rightPanelActiveTab!==b}]),onClick:g=>F(x).rightPanelActiveTab=b},Ge(b),11,Cd)),64))]),Ce(re(fd,{class:"p-4"},null,512),[[$e,F(x).rightPanelActiveTab==="Properties"]]),F(x).selectedPage&&F(x).getActivePage()?Ce((q(),ge(gd,{class:"p-4",key:F(x).selectedPage})),[[$e,F(x).rightPanelActiveTab==="Data"]]):fe("",!0),F(x).selectedPage&&F(x).getActivePage()?Ce((q(),ge(Sd,{class:"p-4",key:F(x).selectedPage})),[[$e,F(x).rightPanelActiveTab==="Settings"]]):fe("",!0)],4))}}),kd={class:"absolute left-3 flex items-center"},Ad=X("img",{src:Ia,alt:"logo",class:"h-7"},null,-1),Ed=X("h1",{class:"text-md mt-[2px] font-semibold leading-5 text-gray-800 dark:text-gray-200"},"Builder",-1),Ld={class:"ml-10 flex gap-3"},Td={class:"absolute right-3 flex items-center"},Md=["onClick"],Rd=Ve({__name:"BuilderToolbar",setup(A){const x=le(!1),d=rt(),h=le(null);return(b,g)=>{const l=it("router-link"),u=it("Button"),o=it("FeatherIcon");return q(),me("div",{class:"toolbar flex h-14 items-center justify-center bg-white p-2 shadow-sm dark:border-b-[1px] dark:border-gray-800 dark:bg-zinc-900",ref_key:"toolbar",ref:h},[X("div",kd,[re(l,{class:"flex items-center gap-2",to:{name:"home"}},{default:Re(()=>[Ad,Ed]),_:1})]),X("div",Ld,[(q(),me(st,null,pt([{mode:"select",icon:"mouse-pointer"},{mode:"text",icon:"type"},{mode:"container",icon:"square"},{mode:"image",icon:"image"},{mode:"html",icon:"code"}],a=>re(u,{variant:"ghost",icon:a.icon,class:"!text-gray-700 dark:!text-gray-200 hover:dark:bg-zinc-800 focus:dark:bg-zinc-700 [&[active='true']]:bg-gray-100 [&[active='true']]:!text-gray-900 [&[active='true']]:dark:bg-zinc-700 [&[active='true']]:dark:!text-zinc-50",onClick:t=>F(d).mode=a.mode,active:F(d).mode===a.mode},null,8,["icon","onClick","active"])),64))]),X("div",Td,[re(u,{variant:"solid",class:"border-0 text-xs dark:bg-zinc-800 mr-4",onClick:g[0]||(g[0]=a=>F(d).showRightPanel=!F(d).showRightPanel)},{default:Re(()=>[Nt(" Advanced ")]),_:1}),re(F(wa),null,{default:Re(({isDark:a,toggleDark:t})=>[X("button",{onClick:n=>t()},[re(o,{title:"Toggle Theme",name:a?"moon":"sun",class:"mr-4 h-4 w-4 cursor-pointer text-gray-600 dark:text-gray-400"},null,8,["name"])],8,Md)]),_:1}),re(l,{to:{name:"preview",params:{pageId:F(d).selectedPage}},title:"Preview"},{default:Re(()=>[re(o,{name:"play",class:"mr-4 h-4 w-4 cursor-pointer text-gray-600 dark:text-gray-400"})]),_:1},8,["to"]),re(u,{variant:"solid",onClick:g[1]||(g[1]=()=>{x.value=!0,F(d).publishPage().finally(()=>x.value=!1)}),class:"border-0 text-xs dark:bg-zinc-800",loading:x.value},{default:Re(()=>[Nt(Ge(x.value?"Publishing":"Publish"),1)]),_:1},8,["loading"])])],512)}}}),Id={class:"absolute bottom-0 z-50 h-fit w-full border-t border-gray-200 bg-white p-2 dark:border-zinc-700 dark:bg-gray-900"},Od={class:"flex flex-col gap-1"},Dd=Ve({__name:"PageScript",props:{page:{type:Object,required:!0}},setup(A){const x=A,d=le("script"),h=rt(),b=(g,l)=>{!x.page||Mt.setValue.submit({name:x.page.name,[g]:l}).then(()=>{h.setPageData()})};return(g,l)=>(q(),me("div",Id,[re($i,{side:"top",dimension:F(h).builderLayout.scriptEditorHeight,minDimension:100,maxDimension:600,onResize:l[0]||(l[0]=u=>F(h).builderLayout.scriptEditorHeight=u)},null,8,["dimension"]),X("div",Od,[re(F(Yt),{class:"w-fit [&>div>button[aria-checked='false']]:dark:!bg-transparent [&>div>button[aria-checked='false']]:dark:!text-zinc-400 [&>div>button[aria-checked='true']]:dark:!bg-zinc-700 [&>div>button]:dark:!bg-zinc-700 [&>div>button]:dark:!text-zinc-100 [&>div]:dark:!bg-zinc-800",buttons:[{label:"Script",value:"script"},{label:"Style",value:"style"}],modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=u=>d.value=u)},null,8,["modelValue"]),Ce(re(En,{modelValue:A.page.client_script,"onUpdate:modelValue":l[2]||(l[2]=u=>b("client_script",u)),type:"JavaScript",height:F(h).builderLayout.scriptEditorHeight+"px","show-line-numbers":!0},null,8,["modelValue","height"]),[[$e,d.value==="script"]]),Ce(re(En,{modelValue:A.page.style,"onUpdate:modelValue":l[3]||(l[3]=u=>b("style",u)),type:"CSS",height:F(h).builderLayout.scriptEditorHeight+"px","show-line-numbers":!0},null,8,["modelValue","height"]),[[$e,d.value==="style"]])])]))}}),Pd={class:"page-builder h-screen flex-col overflow-hidden bg-gray-100"},_d=Ve({__name:"PageBuilder",setup(A){const x=Sa(),d=xa(),h=rt();window.store=h,window.blockController=W;const b=le(null),g=le(null),l=le(!1),o=Ca()["Ctrl+`"];$a(o,()=>{l.value=!l.value}),bt(document,"wheel",i=>{const{ctrlKey:e}=i;if(e){i.preventDefault();return}},{passive:!1}),bt(document,"copy",i=>{if(!Mn(i)&&(i.preventDefault(),h.selectedBlocks.length)){const e=[];h.selectedBlocks.forEach(s=>{s.getUsedComponentNames().forEach(f=>{const p=h.getComponent(f);p&&e.push(p)})});const r={blocks:h.selectedBlocks,components:e};La(r,i,"builder-copied-blocks")}}),bt(document,"paste",i=>kt(this,null,function*(){var c,f,p,$;if(Mn(i))return;i.stopPropagation();const e=Array.from(((c=i.clipboardData)==null?void 0:c.items)||[]);if(e.some(m=>m.type.includes("image"))){i.preventDefault();const m=(f=e.find(y=>y.type.includes("image")))==null?void 0:f.getAsFile();m&&h.uploadFile(m).then(y=>{const v=W.getSelectedBlocks(),T=v.length?v[0]:h.getFirstBlock();let M=null;T.isImage()?M=T:M=T.addChild(h.getBlockCopy(Qn("image"))),M.setAttribute("src",y.fileURL),M.setAttribute("alt",y.fileName)});return}const r=(p=i.clipboardData)==null?void 0:p.getData("builder-copied-blocks");if(r&&Ta(r)){const m=JSON.parse(r);for(const y of m.components)delete y.for_web_page,yield h.createComponent(y,!0);h.selectedBlocks.length&&m.blocks[0].blockId!=="root"?m.blocks.forEach(y=>{h.selectedBlocks[0].addChild(h.getBlockCopy(y))}):h.pushBlocks(m.blocks);return}const s=($=i.clipboardData)==null?void 0:$.getData("text/plain");if(!!s)if(Ma(s)){if(i.preventDefault(),W.isHTML())W.setInnerHTML(s);else{const m=br(s,!0),y=W.getSelectedBlocks()[0];if(!m)return;y?y.addChild(m):h.pushBlocks([m])}return}else{if(W.isText()&&s.includes(":")&&!h.builderState.editableBlock){i.preventDefault();const y=s.replace(/\/\*.*?\*\//g,"").split(";").reduce((v,T)=>{const[M,E]=T.split(":").map(C=>C?C.trim():"");return["font-family","font-size","font-weight","line-height","letter-spacing","text-align","text-transform","color"].includes(M)&&(v[M]=E,M==="font-family"&&String(E).toLowerCase().includes("inter")&&(v["font-family"]="")),v},{});Object.entries(y).forEach(([v,T])=>{W.setBaseStyle(v,T)})}return}})),bt(document,"keydown",i=>{if(!Mn(i)){if(i.key==="z"&&i.metaKey&&!i.shiftKey&&h.history.canUndo){h.history.undo(),i.preventDefault();return}if(i.key==="z"&&i.shiftKey&&i.metaKey&&h.history.canRedo){h.history.redo();return}if(i.key==="0"&&i.metaKey){i.preventDefault(),b.value&&(i.shiftKey?b.value.setScaleAndTranslate():b.value.resetZoom());return}if(i.key==="ArrowRight"&&!W.isBLockSelected()){i.preventDefault(),b.value&&b.value.moveCanvas("right");return}if(i.key==="ArrowLeft"&&!W.isBLockSelected()){i.preventDefault(),b.value&&b.value.moveCanvas("left");return}if(i.key==="ArrowUp"&&!W.isBLockSelected()){i.preventDefault(),b.value&&b.value.moveCanvas("up");return}if(i.key==="ArrowDown"&&!W.isBLockSelected()){i.preventDefault(),b.value&&b.value.moveCanvas("down");return}if(i.key==="="&&i.metaKey){i.preventDefault(),b.value&&b.value.zoomIn();return}if(i.key==="-"&&i.metaKey){i.preventDefault(),b.value&&b.value.zoomOut();return}if(!(i.metaKey||i.ctrlKey||i.shiftKey)){if(i.key==="c"){h.mode="container";return}if(i.key==="i"){h.mode="image";return}if(i.key==="t"){h.mode="text";return}if(i.key==="v"){h.mode="select";return}if(i.key==="s"){h.mode="section";return}}}}),bt(document,"keydown",i=>{if(i.key==="\\"&&i.metaKey&&(i.preventDefault(),i.shiftKey?h.showLeftPanel=!h.showLeftPanel:(h.showRightPanel=!h.showRightPanel,h.showLeftPanel=h.showRightPanel)),i.key==="s"&&(i.ctrlKey||i.metaKey)){i.preventDefault(),h.editingMode==="component"&&(h.editPage(!0),a(),i.stopPropagation(),i.preventDefault());return}if(i.key==="p"&&(i.ctrlKey||i.metaKey)&&(i.preventDefault(),h.savePage(),d.push({name:"preview",params:{pageId:h.selectedPage}})),i.key==="c"&&i.metaKey&&i.shiftKey&&W.isBLockSelected()&&!W.multipleBlocksSelected()){i.preventDefault();const e=W.getSelectedBlocks()[0];h.copiedStyle={blockId:e.blockId,style:e.getStylesCopy()}}if(i.key==="d"&&i.metaKey&&W.isBLockSelected()&&!W.multipleBlocksSelected()&&(i.preventDefault(),W.getSelectedBlocks()[0].duplicateBlock()),!Mn(i)){if(i.key==="Backspace"&&W.isBLockSelected()){let e=function(r,s){if(s==="root")return Bi({title:"Warning",text:"Cannot Delete Root Block",icon:"alert-circle",iconClasses:"text-yellow-500",position:"top-left"}),!1;r.forEach((c,f)=>{if(c.blockId===s)return c.isChildOfComponentBlock()&&!i.shiftKey?(Bi({title:"Warning",text:"Cannot Delete Block Inside Component",icon:"alert-circle",iconClasses:"text-yellow-500",position:"top-left"}),!1):(h.history.batch(()=>{r.splice(f,1)}),dt(()=>{r.length&&r[f]&&r[f].selectBlock()}),!0);if(c.children)return e(c.children,s)})};for(const r of W.getSelectedBlocks())e([h.getFirstBlock()],r.blockId);a(),i.stopPropagation();return}if(i.key==="Escape"&&(h.editPage(!1),a()),i.key.startsWith("Arrow")&&W.isBLockSelected()){const e=i.key.replace("Arrow","").toLowerCase();for(const r of W.getSelectedBlocks())r.move(e)}}});const a=()=>{W.clearSelection(),h.builderState.editableBlock=null,document.activeElement instanceof HTMLElement&&document.activeElement.blur()};yi(()=>kt(this,null,function*(){x.params.pageId!==h.selectedPage&&(Mt.data||(yield Mt.fetchOne.submit(x.params.pageId)),x.params.pageId&&x.params.pageId!=="new"?t(x.params.pageId):Mt.insert.submit({page_title:"My Page",draft_blocks:[h.getRootBlock()]}).then(i=>{d.push({name:"builder",params:{pageId:i.name},force:!0}),t(i.name)}))}));const t=i=>{Mt.fetchOne.submit(i).then(e=>{h.setPage(e[0]),dt(()=>{b.value&&b.value.setScaleAndTranslate()})})},n=ka(h.savePage,500);return Ct(()=>h.builderState.blocks,()=>{h.selectedPage&&h.autoSave&&!h.settingPage&&n()},{deep:!0}),(i,e)=>(q(),me("div",Pd,[re(Rd,{class:"relative z-30"}),X("div",null,[Ce(re(eu,{class:"fixed bottom-0 left-0 top-[var(--toolbar-height)] z-20 overflow-auto border-r-[1px] bg-white no-scrollbar dark:border-gray-800 dark:bg-zinc-900"},null,512),[[$e,F(h).showLeftPanel]]),F(h).editingComponent?(q(),ge(Wi,{key:0,ref_key:"componentEditor",ref:g,block:F(h).getComponentBlock(F(h).editingComponent),"canvas-props":F(h).componentEditorCanvas,"canvas-styles":{width:(F(h).getComponentBlock(F(h).editingComponent).getStyle("width")+"").endsWith("px")?"!fit-content":null,padding:"40px"},style:Pe({left:`${F(h).showLeftPanel?F(h).builderLayout.leftPanelWidth:0}px`,right:`${F(h).showRightPanel?F(h).builderLayout.rightPanelWidth:0}px`}),class:"canvas-container absolute bottom-0 top-[var(--toolbar-height)] flex justify-center overflow-hidden bg-gray-400 p-10 dark:bg-zinc-700"},null,8,["block","canvas-props","canvas-styles","style"])):fe("",!0),Ce(re(Wi,{ref_key:"blockEditor",ref:b,block:F(h).builderState.blocks[0],"canvas-props":F(h).blockEditorCanvas,"canvas-styles":{minHeight:"1000px"},style:Pe({left:`${F(h).showLeftPanel?F(h).builderLayout.leftPanelWidth:0}px`,right:`${F(h).showRightPanel?F(h).builderLayout.rightPanelWidth:0}px`}),class:"canvas-container absolute bottom-0 top-[var(--toolbar-height)] flex justify-center overflow-hidden bg-gray-200 p-10 dark:bg-zinc-800"},null,8,["block","canvas-props","style"]),[[$e,!F(h).editingComponent]]),Ce(re($d,{class:"fixed bottom-0 right-0 top-[var(--toolbar-height)] z-20 overflow-auto border-l-[1px] bg-white no-scrollbar dark:border-gray-800 dark:bg-zinc-900"},null,512),[[$e,F(h).showRightPanel]])]),F(h).selectedPage&&F(h).getActivePage()?Ce((q(),ge(Dd,{key:0,page:F(h).getActivePage()},null,8,["page"])),[[$e,l.value]]):fe("",!0)]))}});export{_d as default};
//# sourceMappingURL=PageBuilder.ab636648.js.map
